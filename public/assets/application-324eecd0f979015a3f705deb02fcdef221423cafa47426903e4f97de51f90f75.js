/*!
 * jQuery JavaScript Library v1.12.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-05-20T17:17Z
 */


(function( global, factory ) {

	if ( typeof module === "object" && typeof module.exports === "object" ) {
		// For CommonJS and CommonJS-like environments where a proper `window`
		// is present, execute the factory and get jQuery.
		// For environments that do not have a `window` with a `document`
		// (such as Node.js), expose a factory as module.exports.
		// This accentuates the need for the creation of a real `window`.
		// e.g. var jQuery = require("jquery")(window);
		// See ticket #14549 for more info.
		module.exports = global.document ?
			factory( global, true ) :
			function( w ) {
				if ( !w.document ) {
					throw new Error( "jQuery requires a window with a document" );
				}
				return factory( w );
			};
	} else {
		factory( global );
	}

// Pass this if window is not defined yet
}(typeof window !== "undefined" ? window : this, function( window, noGlobal ) {

// Support: Firefox 18+
// Can't be in strict mode, several libs including ASP.NET trace
// the stack via arguments.caller.callee and Firefox dies if
// you try to trace through "use strict" call chains. (#13335)
//"use strict";
var deletedIds = [];

var document = window.document;

var slice = deletedIds.slice;

var concat = deletedIds.concat;

var push = deletedIds.push;

var indexOf = deletedIds.indexOf;

var class2type = {};

var toString = class2type.toString;

var hasOwn = class2type.hasOwnProperty;

var support = {};



var
	version = "1.12.4",

	// Define a local copy of jQuery
	jQuery = function( selector, context ) {

		// The jQuery object is actually just the init constructor 'enhanced'
		// Need init if jQuery is called (just allow error to be thrown if not included)
		return new jQuery.fn.init( selector, context );
	},

	// Support: Android<4.1, IE<9
	// Make sure we trim BOM and NBSP
	rtrim = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,

	// Matches dashed string for camelizing
	rmsPrefix = /^-ms-/,
	rdashAlpha = /-([\da-z])/gi,

	// Used by jQuery.camelCase as callback to replace()
	fcamelCase = function( all, letter ) {
		return letter.toUpperCase();
	};

jQuery.fn = jQuery.prototype = {

	// The current version of jQuery being used
	jquery: version,

	constructor: jQuery,

	// Start with an empty selector
	selector: "",

	// The default length of a jQuery object is 0
	length: 0,

	toArray: function() {
		return slice.call( this );
	},

	// Get the Nth element in the matched element set OR
	// Get the whole matched element set as a clean array
	get: function( num ) {
		return num != null ?

			// Return just the one element from the set
			( num < 0 ? this[ num + this.length ] : this[ num ] ) :

			// Return all the elements in a clean array
			slice.call( this );
	},

	// Take an array of elements and push it onto the stack
	// (returning the new matched element set)
	pushStack: function( elems ) {

		// Build a new jQuery matched element set
		var ret = jQuery.merge( this.constructor(), elems );

		// Add the old object onto the stack (as a reference)
		ret.prevObject = this;
		ret.context = this.context;

		// Return the newly-formed element set
		return ret;
	},

	// Execute a callback for every element in the matched set.
	each: function( callback ) {
		return jQuery.each( this, callback );
	},

	map: function( callback ) {
		return this.pushStack( jQuery.map( this, function( elem, i ) {
			return callback.call( elem, i, elem );
		} ) );
	},

	slice: function() {
		return this.pushStack( slice.apply( this, arguments ) );
	},

	first: function() {
		return this.eq( 0 );
	},

	last: function() {
		return this.eq( -1 );
	},

	eq: function( i ) {
		var len = this.length,
			j = +i + ( i < 0 ? len : 0 );
		return this.pushStack( j >= 0 && j < len ? [ this[ j ] ] : [] );
	},

	end: function() {
		return this.prevObject || this.constructor();
	},

	// For internal use only.
	// Behaves like an Array's method, not like a jQuery method.
	push: push,
	sort: deletedIds.sort,
	splice: deletedIds.splice
};

jQuery.extend = jQuery.fn.extend = function() {
	var src, copyIsArray, copy, name, options, clone,
		target = arguments[ 0 ] || {},
		i = 1,
		length = arguments.length,
		deep = false;

	// Handle a deep copy situation
	if ( typeof target === "boolean" ) {
		deep = target;

		// skip the boolean and the target
		target = arguments[ i ] || {};
		i++;
	}

	// Handle case when target is a string or something (possible in deep copy)
	if ( typeof target !== "object" && !jQuery.isFunction( target ) ) {
		target = {};
	}

	// extend jQuery itself if only one argument is passed
	if ( i === length ) {
		target = this;
		i--;
	}

	for ( ; i < length; i++ ) {

		// Only deal with non-null/undefined values
		if ( ( options = arguments[ i ] ) != null ) {

			// Extend the base object
			for ( name in options ) {
				src = target[ name ];
				copy = options[ name ];

				// Prevent never-ending loop
				if ( target === copy ) {
					continue;
				}

				// Recurse if we're merging plain objects or arrays
				if ( deep && copy && ( jQuery.isPlainObject( copy ) ||
					( copyIsArray = jQuery.isArray( copy ) ) ) ) {

					if ( copyIsArray ) {
						copyIsArray = false;
						clone = src && jQuery.isArray( src ) ? src : [];

					} else {
						clone = src && jQuery.isPlainObject( src ) ? src : {};
					}

					// Never move original objects, clone them
					target[ name ] = jQuery.extend( deep, clone, copy );

				// Don't bring in undefined values
				} else if ( copy !== undefined ) {
					target[ name ] = copy;
				}
			}
		}
	}

	// Return the modified object
	return target;
};

jQuery.extend( {

	// Unique for each copy of jQuery on the page
	expando: "jQuery" + ( version + Math.random() ).replace( /\D/g, "" ),

	// Assume jQuery is ready without the ready module
	isReady: true,

	error: function( msg ) {
		throw new Error( msg );
	},

	noop: function() {},

	// See test/unit/core.js for details concerning isFunction.
	// Since version 1.3, DOM methods and functions like alert
	// aren't supported. They return false on IE (#2968).
	isFunction: function( obj ) {
		return jQuery.type( obj ) === "function";
	},

	isArray: Array.isArray || function( obj ) {
		return jQuery.type( obj ) === "array";
	},

	isWindow: function( obj ) {
		/* jshint eqeqeq: false */
		return obj != null && obj == obj.window;
	},

	isNumeric: function( obj ) {

		// parseFloat NaNs numeric-cast false positives (null|true|false|"")
		// ...but misinterprets leading-number strings, particularly hex literals ("0x...")
		// subtraction forces infinities to NaN
		// adding 1 corrects loss of precision from parseFloat (#15100)
		var realStringObj = obj && obj.toString();
		return !jQuery.isArray( obj ) && ( realStringObj - parseFloat( realStringObj ) + 1 ) >= 0;
	},

	isEmptyObject: function( obj ) {
		var name;
		for ( name in obj ) {
			return false;
		}
		return true;
	},

	isPlainObject: function( obj ) {
		var key;

		// Must be an Object.
		// Because of IE, we also have to check the presence of the constructor property.
		// Make sure that DOM nodes and window objects don't pass through, as well
		if ( !obj || jQuery.type( obj ) !== "object" || obj.nodeType || jQuery.isWindow( obj ) ) {
			return false;
		}

		try {

			// Not own constructor property must be Object
			if ( obj.constructor &&
				!hasOwn.call( obj, "constructor" ) &&
				!hasOwn.call( obj.constructor.prototype, "isPrototypeOf" ) ) {
				return false;
			}
		} catch ( e ) {

			// IE8,9 Will throw exceptions on certain host objects #9897
			return false;
		}

		// Support: IE<9
		// Handle iteration over inherited properties before own properties.
		if ( !support.ownFirst ) {
			for ( key in obj ) {
				return hasOwn.call( obj, key );
			}
		}

		// Own properties are enumerated firstly, so to speed up,
		// if last one is own, then all properties are own.
		for ( key in obj ) {}

		return key === undefined || hasOwn.call( obj, key );
	},

	type: function( obj ) {
		if ( obj == null ) {
			return obj + "";
		}
		return typeof obj === "object" || typeof obj === "function" ?
			class2type[ toString.call( obj ) ] || "object" :
			typeof obj;
	},

	// Workarounds based on findings by Jim Driscoll
	// http://weblogs.java.net/blog/driscoll/archive/2009/09/08/eval-javascript-global-context
	globalEval: function( data ) {
		if ( data && jQuery.trim( data ) ) {

			// We use execScript on Internet Explorer
			// We use an anonymous function so that context is window
			// rather than jQuery in Firefox
			( window.execScript || function( data ) {
				window[ "eval" ].call( window, data ); // jscs:ignore requireDotNotation
			} )( data );
		}
	},

	// Convert dashed to camelCase; used by the css and data modules
	// Microsoft forgot to hump their vendor prefix (#9572)
	camelCase: function( string ) {
		return string.replace( rmsPrefix, "ms-" ).replace( rdashAlpha, fcamelCase );
	},

	nodeName: function( elem, name ) {
		return elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();
	},

	each: function( obj, callback ) {
		var length, i = 0;

		if ( isArrayLike( obj ) ) {
			length = obj.length;
			for ( ; i < length; i++ ) {
				if ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {
					break;
				}
			}
		} else {
			for ( i in obj ) {
				if ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {
					break;
				}
			}
		}

		return obj;
	},

	// Support: Android<4.1, IE<9
	trim: function( text ) {
		return text == null ?
			"" :
			( text + "" ).replace( rtrim, "" );
	},

	// results is for internal usage only
	makeArray: function( arr, results ) {
		var ret = results || [];

		if ( arr != null ) {
			if ( isArrayLike( Object( arr ) ) ) {
				jQuery.merge( ret,
					typeof arr === "string" ?
					[ arr ] : arr
				);
			} else {
				push.call( ret, arr );
			}
		}

		return ret;
	},

	inArray: function( elem, arr, i ) {
		var len;

		if ( arr ) {
			if ( indexOf ) {
				return indexOf.call( arr, elem, i );
			}

			len = arr.length;
			i = i ? i < 0 ? Math.max( 0, len + i ) : i : 0;

			for ( ; i < len; i++ ) {

				// Skip accessing in sparse arrays
				if ( i in arr && arr[ i ] === elem ) {
					return i;
				}
			}
		}

		return -1;
	},

	merge: function( first, second ) {
		var len = +second.length,
			j = 0,
			i = first.length;

		while ( j < len ) {
			first[ i++ ] = second[ j++ ];
		}

		// Support: IE<9
		// Workaround casting of .length to NaN on otherwise arraylike objects (e.g., NodeLists)
		if ( len !== len ) {
			while ( second[ j ] !== undefined ) {
				first[ i++ ] = second[ j++ ];
			}
		}

		first.length = i;

		return first;
	},

	grep: function( elems, callback, invert ) {
		var callbackInverse,
			matches = [],
			i = 0,
			length = elems.length,
			callbackExpect = !invert;

		// Go through the array, only saving the items
		// that pass the validator function
		for ( ; i < length; i++ ) {
			callbackInverse = !callback( elems[ i ], i );
			if ( callbackInverse !== callbackExpect ) {
				matches.push( elems[ i ] );
			}
		}

		return matches;
	},

	// arg is for internal usage only
	map: function( elems, callback, arg ) {
		var length, value,
			i = 0,
			ret = [];

		// Go through the array, translating each of the items to their new values
		if ( isArrayLike( elems ) ) {
			length = elems.length;
			for ( ; i < length; i++ ) {
				value = callback( elems[ i ], i, arg );

				if ( value != null ) {
					ret.push( value );
				}
			}

		// Go through every key on the object,
		} else {
			for ( i in elems ) {
				value = callback( elems[ i ], i, arg );

				if ( value != null ) {
					ret.push( value );
				}
			}
		}

		// Flatten any nested arrays
		return concat.apply( [], ret );
	},

	// A global GUID counter for objects
	guid: 1,

	// Bind a function to a context, optionally partially applying any
	// arguments.
	proxy: function( fn, context ) {
		var args, proxy, tmp;

		if ( typeof context === "string" ) {
			tmp = fn[ context ];
			context = fn;
			fn = tmp;
		}

		// Quick check to determine if target is callable, in the spec
		// this throws a TypeError, but we will just return undefined.
		if ( !jQuery.isFunction( fn ) ) {
			return undefined;
		}

		// Simulated bind
		args = slice.call( arguments, 2 );
		proxy = function() {
			return fn.apply( context || this, args.concat( slice.call( arguments ) ) );
		};

		// Set the guid of unique handler to the same of original handler, so it can be removed
		proxy.guid = fn.guid = fn.guid || jQuery.guid++;

		return proxy;
	},

	now: function() {
		return +( new Date() );
	},

	// jQuery.support is not used in Core but other projects attach their
	// properties to it so it needs to exist.
	support: support
} );

// JSHint would error on this code due to the Symbol not being defined in ES5.
// Defining this global in .jshintrc would create a danger of using the global
// unguarded in another place, it seems safer to just disable JSHint for these
// three lines.
/* jshint ignore: start */
if ( typeof Symbol === "function" ) {
	jQuery.fn[ Symbol.iterator ] = deletedIds[ Symbol.iterator ];
}
/* jshint ignore: end */

// Populate the class2type map
jQuery.each( "Boolean Number String Function Array Date RegExp Object Error Symbol".split( " " ),
function( i, name ) {
	class2type[ "[object " + name + "]" ] = name.toLowerCase();
} );

function isArrayLike( obj ) {

	// Support: iOS 8.2 (not reproducible in simulator)
	// `in` check used to prevent JIT error (gh-2145)
	// hasOwn isn't used here due to false negatives
	// regarding Nodelist length in IE
	var length = !!obj && "length" in obj && obj.length,
		type = jQuery.type( obj );

	if ( type === "function" || jQuery.isWindow( obj ) ) {
		return false;
	}

	return type === "array" || length === 0 ||
		typeof length === "number" && length > 0 && ( length - 1 ) in obj;
}
var Sizzle =
/*!
 * Sizzle CSS Selector Engine v2.2.1
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-10-17
 */
(function( window ) {

var i,
	support,
	Expr,
	getText,
	isXML,
	tokenize,
	compile,
	select,
	outermostContext,
	sortInput,
	hasDuplicate,

	// Local document vars
	setDocument,
	document,
	docElem,
	documentIsHTML,
	rbuggyQSA,
	rbuggyMatches,
	matches,
	contains,

	// Instance-specific data
	expando = "sizzle" + 1 * new Date(),
	preferredDoc = window.document,
	dirruns = 0,
	done = 0,
	classCache = createCache(),
	tokenCache = createCache(),
	compilerCache = createCache(),
	sortOrder = function( a, b ) {
		if ( a === b ) {
			hasDuplicate = true;
		}
		return 0;
	},

	// General-purpose constants
	MAX_NEGATIVE = 1 << 31,

	// Instance methods
	hasOwn = ({}).hasOwnProperty,
	arr = [],
	pop = arr.pop,
	push_native = arr.push,
	push = arr.push,
	slice = arr.slice,
	// Use a stripped-down indexOf as it's faster than native
	// http://jsperf.com/thor-indexof-vs-for/5
	indexOf = function( list, elem ) {
		var i = 0,
			len = list.length;
		for ( ; i < len; i++ ) {
			if ( list[i] === elem ) {
				return i;
			}
		}
		return -1;
	},

	booleans = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",

	// Regular expressions

	// http://www.w3.org/TR/css3-selectors/#whitespace
	whitespace = "[\\x20\\t\\r\\n\\f]",

	// http://www.w3.org/TR/CSS21/syndata.html#value-def-identifier
	identifier = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",

	// Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors
	attributes = "\\[" + whitespace + "*(" + identifier + ")(?:" + whitespace +
		// Operator (capture 2)
		"*([*^$|!~]?=)" + whitespace +
		// "Attribute values must be CSS identifiers [capture 5] or strings [capture 3 or capture 4]"
		"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + identifier + "))|)" + whitespace +
		"*\\]",

	pseudos = ":(" + identifier + ")(?:\\((" +
		// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:
		// 1. quoted (capture 3; capture 4 or capture 5)
		"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|" +
		// 2. simple (capture 6)
		"((?:\\\\.|[^\\\\()[\\]]|" + attributes + ")*)|" +
		// 3. anything else (capture 2)
		".*" +
		")\\)|)",

	// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter
	rwhitespace = new RegExp( whitespace + "+", "g" ),
	rtrim = new RegExp( "^" + whitespace + "+|((?:^|[^\\\\])(?:\\\\.)*)" + whitespace + "+$", "g" ),

	rcomma = new RegExp( "^" + whitespace + "*," + whitespace + "*" ),
	rcombinators = new RegExp( "^" + whitespace + "*([>+~]|" + whitespace + ")" + whitespace + "*" ),

	rattributeQuotes = new RegExp( "=" + whitespace + "*([^\\]'\"]*?)" + whitespace + "*\\]", "g" ),

	rpseudo = new RegExp( pseudos ),
	ridentifier = new RegExp( "^" + identifier + "$" ),

	matchExpr = {
		"ID": new RegExp( "^#(" + identifier + ")" ),
		"CLASS": new RegExp( "^\\.(" + identifier + ")" ),
		"TAG": new RegExp( "^(" + identifier + "|[*])" ),
		"ATTR": new RegExp( "^" + attributes ),
		"PSEUDO": new RegExp( "^" + pseudos ),
		"CHILD": new RegExp( "^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + whitespace +
			"*(even|odd|(([+-]|)(\\d*)n|)" + whitespace + "*(?:([+-]|)" + whitespace +
			"*(\\d+)|))" + whitespace + "*\\)|)", "i" ),
		"bool": new RegExp( "^(?:" + booleans + ")$", "i" ),
		// For use in libraries implementing .is()
		// We use this for POS matching in `select`
		"needsContext": new RegExp( "^" + whitespace + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" +
			whitespace + "*((?:-\\d)?\\d*)" + whitespace + "*\\)|)(?=[^-]|$)", "i" )
	},

	rinputs = /^(?:input|select|textarea|button)$/i,
	rheader = /^h\d$/i,

	rnative = /^[^{]+\{\s*\[native \w/,

	// Easily-parseable/retrievable ID or TAG or CLASS selectors
	rquickExpr = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,

	rsibling = /[+~]/,
	rescape = /'|\\/g,

	// CSS escapes http://www.w3.org/TR/CSS21/syndata.html#escaped-characters
	runescape = new RegExp( "\\\\([\\da-f]{1,6}" + whitespace + "?|(" + whitespace + ")|.)", "ig" ),
	funescape = function( _, escaped, escapedWhitespace ) {
		var high = "0x" + escaped - 0x10000;
		// NaN means non-codepoint
		// Support: Firefox<24
		// Workaround erroneous numeric interpretation of +"0x"
		return high !== high || escapedWhitespace ?
			escaped :
			high < 0 ?
				// BMP codepoint
				String.fromCharCode( high + 0x10000 ) :
				// Supplemental Plane codepoint (surrogate pair)
				String.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );
	},

	// Used for iframes
	// See setDocument()
	// Removing the function wrapper causes a "Permission Denied"
	// error in IE
	unloadHandler = function() {
		setDocument();
	};

// Optimize for push.apply( _, NodeList )
try {
	push.apply(
		(arr = slice.call( preferredDoc.childNodes )),
		preferredDoc.childNodes
	);
	// Support: Android<4.0
	// Detect silently failing push.apply
	arr[ preferredDoc.childNodes.length ].nodeType;
} catch ( e ) {
	push = { apply: arr.length ?

		// Leverage slice if possible
		function( target, els ) {
			push_native.apply( target, slice.call(els) );
		} :

		// Support: IE<9
		// Otherwise append directly
		function( target, els ) {
			var j = target.length,
				i = 0;
			// Can't trust NodeList.length
			while ( (target[j++] = els[i++]) ) {}
			target.length = j - 1;
		}
	};
}

function Sizzle( selector, context, results, seed ) {
	var m, i, elem, nid, nidselect, match, groups, newSelector,
		newContext = context && context.ownerDocument,

		// nodeType defaults to 9, since context defaults to document
		nodeType = context ? context.nodeType : 9;

	results = results || [];

	// Return early from calls with invalid selector or context
	if ( typeof selector !== "string" || !selector ||
		nodeType !== 1 && nodeType !== 9 && nodeType !== 11 ) {

		return results;
	}

	// Try to shortcut find operations (as opposed to filters) in HTML documents
	if ( !seed ) {

		if ( ( context ? context.ownerDocument || context : preferredDoc ) !== document ) {
			setDocument( context );
		}
		context = context || document;

		if ( documentIsHTML ) {

			// If the selector is sufficiently simple, try using a "get*By*" DOM method
			// (excepting DocumentFragment context, where the methods don't exist)
			if ( nodeType !== 11 && (match = rquickExpr.exec( selector )) ) {

				// ID selector
				if ( (m = match[1]) ) {

					// Document context
					if ( nodeType === 9 ) {
						if ( (elem = context.getElementById( m )) ) {

							// Support: IE, Opera, Webkit
							// TODO: identify versions
							// getElementById can match elements by name instead of ID
							if ( elem.id === m ) {
								results.push( elem );
								return results;
							}
						} else {
							return results;
						}

					// Element context
					} else {

						// Support: IE, Opera, Webkit
						// TODO: identify versions
						// getElementById can match elements by name instead of ID
						if ( newContext && (elem = newContext.getElementById( m )) &&
							contains( context, elem ) &&
							elem.id === m ) {

							results.push( elem );
							return results;
						}
					}

				// Type selector
				} else if ( match[2] ) {
					push.apply( results, context.getElementsByTagName( selector ) );
					return results;

				// Class selector
				} else if ( (m = match[3]) && support.getElementsByClassName &&
					context.getElementsByClassName ) {

					push.apply( results, context.getElementsByClassName( m ) );
					return results;
				}
			}

			// Take advantage of querySelectorAll
			if ( support.qsa &&
				!compilerCache[ selector + " " ] &&
				(!rbuggyQSA || !rbuggyQSA.test( selector )) ) {

				if ( nodeType !== 1 ) {
					newContext = context;
					newSelector = selector;

				// qSA looks outside Element context, which is not what we want
				// Thanks to Andrew Dupont for this workaround technique
				// Support: IE <=8
				// Exclude object elements
				} else if ( context.nodeName.toLowerCase() !== "object" ) {

					// Capture the context ID, setting it first if necessary
					if ( (nid = context.getAttribute( "id" )) ) {
						nid = nid.replace( rescape, "\\$&" );
					} else {
						context.setAttribute( "id", (nid = expando) );
					}

					// Prefix every selector in the list
					groups = tokenize( selector );
					i = groups.length;
					nidselect = ridentifier.test( nid ) ? "#" + nid : "[id='" + nid + "']";
					while ( i-- ) {
						groups[i] = nidselect + " " + toSelector( groups[i] );
					}
					newSelector = groups.join( "," );

					// Expand context for sibling selectors
					newContext = rsibling.test( selector ) && testContext( context.parentNode ) ||
						context;
				}

				if ( newSelector ) {
					try {
						push.apply( results,
							newContext.querySelectorAll( newSelector )
						);
						return results;
					} catch ( qsaError ) {
					} finally {
						if ( nid === expando ) {
							context.removeAttribute( "id" );
						}
					}
				}
			}
		}
	}

	// All others
	return select( selector.replace( rtrim, "$1" ), context, results, seed );
}

/**
 * Create key-value caches of limited size
 * @returns {function(string, object)} Returns the Object data after storing it on itself with
 *	property name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)
 *	deleting the oldest entry
 */
function createCache() {
	var keys = [];

	function cache( key, value ) {
		// Use (key + " ") to avoid collision with native prototype properties (see Issue #157)
		if ( keys.push( key + " " ) > Expr.cacheLength ) {
			// Only keep the most recent entries
			delete cache[ keys.shift() ];
		}
		return (cache[ key + " " ] = value);
	}
	return cache;
}

/**
 * Mark a function for special use by Sizzle
 * @param {Function} fn The function to mark
 */
function markFunction( fn ) {
	fn[ expando ] = true;
	return fn;
}

/**
 * Support testing using an element
 * @param {Function} fn Passed the created div and expects a boolean result
 */
function assert( fn ) {
	var div = document.createElement("div");

	try {
		return !!fn( div );
	} catch (e) {
		return false;
	} finally {
		// Remove from its parent by default
		if ( div.parentNode ) {
			div.parentNode.removeChild( div );
		}
		// release memory in IE
		div = null;
	}
}

/**
 * Adds the same handler for all of the specified attrs
 * @param {String} attrs Pipe-separated list of attributes
 * @param {Function} handler The method that will be applied
 */
function addHandle( attrs, handler ) {
	var arr = attrs.split("|"),
		i = arr.length;

	while ( i-- ) {
		Expr.attrHandle[ arr[i] ] = handler;
	}
}

/**
 * Checks document order of two siblings
 * @param {Element} a
 * @param {Element} b
 * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b
 */
function siblingCheck( a, b ) {
	var cur = b && a,
		diff = cur && a.nodeType === 1 && b.nodeType === 1 &&
			( ~b.sourceIndex || MAX_NEGATIVE ) -
			( ~a.sourceIndex || MAX_NEGATIVE );

	// Use IE sourceIndex if available on both nodes
	if ( diff ) {
		return diff;
	}

	// Check if b follows a
	if ( cur ) {
		while ( (cur = cur.nextSibling) ) {
			if ( cur === b ) {
				return -1;
			}
		}
	}

	return a ? 1 : -1;
}

/**
 * Returns a function to use in pseudos for input types
 * @param {String} type
 */
function createInputPseudo( type ) {
	return function( elem ) {
		var name = elem.nodeName.toLowerCase();
		return name === "input" && elem.type === type;
	};
}

/**
 * Returns a function to use in pseudos for buttons
 * @param {String} type
 */
function createButtonPseudo( type ) {
	return function( elem ) {
		var name = elem.nodeName.toLowerCase();
		return (name === "input" || name === "button") && elem.type === type;
	};
}

/**
 * Returns a function to use in pseudos for positionals
 * @param {Function} fn
 */
function createPositionalPseudo( fn ) {
	return markFunction(function( argument ) {
		argument = +argument;
		return markFunction(function( seed, matches ) {
			var j,
				matchIndexes = fn( [], seed.length, argument ),
				i = matchIndexes.length;

			// Match elements found at the specified indexes
			while ( i-- ) {
				if ( seed[ (j = matchIndexes[i]) ] ) {
					seed[j] = !(matches[j] = seed[j]);
				}
			}
		});
	});
}

/**
 * Checks a node for validity as a Sizzle context
 * @param {Element|Object=} context
 * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value
 */
function testContext( context ) {
	return context && typeof context.getElementsByTagName !== "undefined" && context;
}

// Expose support vars for convenience
support = Sizzle.support = {};

/**
 * Detects XML nodes
 * @param {Element|Object} elem An element or a document
 * @returns {Boolean} True iff elem is a non-HTML XML node
 */
isXML = Sizzle.isXML = function( elem ) {
	// documentElement is verified for cases where it doesn't yet exist
	// (such as loading iframes in IE - #4833)
	var documentElement = elem && (elem.ownerDocument || elem).documentElement;
	return documentElement ? documentElement.nodeName !== "HTML" : false;
};

/**
 * Sets document-related variables once based on the current document
 * @param {Element|Object} [doc] An element or document object to use to set the document
 * @returns {Object} Returns the current document
 */
setDocument = Sizzle.setDocument = function( node ) {
	var hasCompare, parent,
		doc = node ? node.ownerDocument || node : preferredDoc;

	// Return early if doc is invalid or already selected
	if ( doc === document || doc.nodeType !== 9 || !doc.documentElement ) {
		return document;
	}

	// Update global variables
	document = doc;
	docElem = document.documentElement;
	documentIsHTML = !isXML( document );

	// Support: IE 9-11, Edge
	// Accessing iframe documents after unload throws "permission denied" errors (jQuery #13936)
	if ( (parent = document.defaultView) && parent.top !== parent ) {
		// Support: IE 11
		if ( parent.addEventListener ) {
			parent.addEventListener( "unload", unloadHandler, false );

		// Support: IE 9 - 10 only
		} else if ( parent.attachEvent ) {
			parent.attachEvent( "onunload", unloadHandler );
		}
	}

	/* Attributes
	---------------------------------------------------------------------- */

	// Support: IE<8
	// Verify that getAttribute really returns attributes and not properties
	// (excepting IE8 booleans)
	support.attributes = assert(function( div ) {
		div.className = "i";
		return !div.getAttribute("className");
	});

	/* getElement(s)By*
	---------------------------------------------------------------------- */

	// Check if getElementsByTagName("*") returns only elements
	support.getElementsByTagName = assert(function( div ) {
		div.appendChild( document.createComment("") );
		return !div.getElementsByTagName("*").length;
	});

	// Support: IE<9
	support.getElementsByClassName = rnative.test( document.getElementsByClassName );

	// Support: IE<10
	// Check if getElementById returns elements by name
	// The broken getElementById methods don't pick up programatically-set names,
	// so use a roundabout getElementsByName test
	support.getById = assert(function( div ) {
		docElem.appendChild( div ).id = expando;
		return !document.getElementsByName || !document.getElementsByName( expando ).length;
	});

	// ID find and filter
	if ( support.getById ) {
		Expr.find["ID"] = function( id, context ) {
			if ( typeof context.getElementById !== "undefined" && documentIsHTML ) {
				var m = context.getElementById( id );
				return m ? [ m ] : [];
			}
		};
		Expr.filter["ID"] = function( id ) {
			var attrId = id.replace( runescape, funescape );
			return function( elem ) {
				return elem.getAttribute("id") === attrId;
			};
		};
	} else {
		// Support: IE6/7
		// getElementById is not reliable as a find shortcut
		delete Expr.find["ID"];

		Expr.filter["ID"] =  function( id ) {
			var attrId = id.replace( runescape, funescape );
			return function( elem ) {
				var node = typeof elem.getAttributeNode !== "undefined" &&
					elem.getAttributeNode("id");
				return node && node.value === attrId;
			};
		};
	}

	// Tag
	Expr.find["TAG"] = support.getElementsByTagName ?
		function( tag, context ) {
			if ( typeof context.getElementsByTagName !== "undefined" ) {
				return context.getElementsByTagName( tag );

			// DocumentFragment nodes don't have gEBTN
			} else if ( support.qsa ) {
				return context.querySelectorAll( tag );
			}
		} :

		function( tag, context ) {
			var elem,
				tmp = [],
				i = 0,
				// By happy coincidence, a (broken) gEBTN appears on DocumentFragment nodes too
				results = context.getElementsByTagName( tag );

			// Filter out possible comments
			if ( tag === "*" ) {
				while ( (elem = results[i++]) ) {
					if ( elem.nodeType === 1 ) {
						tmp.push( elem );
					}
				}

				return tmp;
			}
			return results;
		};

	// Class
	Expr.find["CLASS"] = support.getElementsByClassName && function( className, context ) {
		if ( typeof context.getElementsByClassName !== "undefined" && documentIsHTML ) {
			return context.getElementsByClassName( className );
		}
	};

	/* QSA/matchesSelector
	---------------------------------------------------------------------- */

	// QSA and matchesSelector support

	// matchesSelector(:active) reports false when true (IE9/Opera 11.5)
	rbuggyMatches = [];

	// qSa(:focus) reports false when true (Chrome 21)
	// We allow this because of a bug in IE8/9 that throws an error
	// whenever `document.activeElement` is accessed on an iframe
	// So, we allow :focus to pass through QSA all the time to avoid the IE error
	// See http://bugs.jquery.com/ticket/13378
	rbuggyQSA = [];

	if ( (support.qsa = rnative.test( document.querySelectorAll )) ) {
		// Build QSA regex
		// Regex strategy adopted from Diego Perini
		assert(function( div ) {
			// Select is set to empty string on purpose
			// This is to test IE's treatment of not explicitly
			// setting a boolean content attribute,
			// since its presence should be enough
			// http://bugs.jquery.com/ticket/12359
			docElem.appendChild( div ).innerHTML = "<a id='" + expando + "'></a>" +
				"<select id='" + expando + "-\r\\' msallowcapture=''>" +
				"<option selected=''></option></select>";

			// Support: IE8, Opera 11-12.16
			// Nothing should be selected when empty strings follow ^= or $= or *=
			// The test attribute must be unknown in Opera but "safe" for WinRT
			// http://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section
			if ( div.querySelectorAll("[msallowcapture^='']").length ) {
				rbuggyQSA.push( "[*^$]=" + whitespace + "*(?:''|\"\")" );
			}

			// Support: IE8
			// Boolean attributes and "value" are not treated correctly
			if ( !div.querySelectorAll("[selected]").length ) {
				rbuggyQSA.push( "\\[" + whitespace + "*(?:value|" + booleans + ")" );
			}

			// Support: Chrome<29, Android<4.4, Safari<7.0+, iOS<7.0+, PhantomJS<1.9.8+
			if ( !div.querySelectorAll( "[id~=" + expando + "-]" ).length ) {
				rbuggyQSA.push("~=");
			}

			// Webkit/Opera - :checked should return selected option elements
			// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked
			// IE8 throws error here and will not see later tests
			if ( !div.querySelectorAll(":checked").length ) {
				rbuggyQSA.push(":checked");
			}

			// Support: Safari 8+, iOS 8+
			// https://bugs.webkit.org/show_bug.cgi?id=136851
			// In-page `selector#id sibing-combinator selector` fails
			if ( !div.querySelectorAll( "a#" + expando + "+*" ).length ) {
				rbuggyQSA.push(".#.+[+~]");
			}
		});

		assert(function( div ) {
			// Support: Windows 8 Native Apps
			// The type and name attributes are restricted during .innerHTML assignment
			var input = document.createElement("input");
			input.setAttribute( "type", "hidden" );
			div.appendChild( input ).setAttribute( "name", "D" );

			// Support: IE8
			// Enforce case-sensitivity of name attribute
			if ( div.querySelectorAll("[name=d]").length ) {
				rbuggyQSA.push( "name" + whitespace + "*[*^$|!~]?=" );
			}

			// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)
			// IE8 throws error here and will not see later tests
			if ( !div.querySelectorAll(":enabled").length ) {
				rbuggyQSA.push( ":enabled", ":disabled" );
			}

			// Opera 10-11 does not throw on post-comma invalid pseudos
			div.querySelectorAll("*,:x");
			rbuggyQSA.push(",.*:");
		});
	}

	if ( (support.matchesSelector = rnative.test( (matches = docElem.matches ||
		docElem.webkitMatchesSelector ||
		docElem.mozMatchesSelector ||
		docElem.oMatchesSelector ||
		docElem.msMatchesSelector) )) ) {

		assert(function( div ) {
			// Check to see if it's possible to do matchesSelector
			// on a disconnected node (IE 9)
			support.disconnectedMatch = matches.call( div, "div" );

			// This should fail with an exception
			// Gecko does not error, returns false instead
			matches.call( div, "[s!='']:x" );
			rbuggyMatches.push( "!=", pseudos );
		});
	}

	rbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join("|") );
	rbuggyMatches = rbuggyMatches.length && new RegExp( rbuggyMatches.join("|") );

	/* Contains
	---------------------------------------------------------------------- */
	hasCompare = rnative.test( docElem.compareDocumentPosition );

	// Element contains another
	// Purposefully self-exclusive
	// As in, an element does not contain itself
	contains = hasCompare || rnative.test( docElem.contains ) ?
		function( a, b ) {
			var adown = a.nodeType === 9 ? a.documentElement : a,
				bup = b && b.parentNode;
			return a === bup || !!( bup && bup.nodeType === 1 && (
				adown.contains ?
					adown.contains( bup ) :
					a.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16
			));
		} :
		function( a, b ) {
			if ( b ) {
				while ( (b = b.parentNode) ) {
					if ( b === a ) {
						return true;
					}
				}
			}
			return false;
		};

	/* Sorting
	---------------------------------------------------------------------- */

	// Document order sorting
	sortOrder = hasCompare ?
	function( a, b ) {

		// Flag for duplicate removal
		if ( a === b ) {
			hasDuplicate = true;
			return 0;
		}

		// Sort on method existence if only one input has compareDocumentPosition
		var compare = !a.compareDocumentPosition - !b.compareDocumentPosition;
		if ( compare ) {
			return compare;
		}

		// Calculate position if both inputs belong to the same document
		compare = ( a.ownerDocument || a ) === ( b.ownerDocument || b ) ?
			a.compareDocumentPosition( b ) :

			// Otherwise we know they are disconnected
			1;

		// Disconnected nodes
		if ( compare & 1 ||
			(!support.sortDetached && b.compareDocumentPosition( a ) === compare) ) {

			// Choose the first element that is related to our preferred document
			if ( a === document || a.ownerDocument === preferredDoc && contains(preferredDoc, a) ) {
				return -1;
			}
			if ( b === document || b.ownerDocument === preferredDoc && contains(preferredDoc, b) ) {
				return 1;
			}

			// Maintain original order
			return sortInput ?
				( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :
				0;
		}

		return compare & 4 ? -1 : 1;
	} :
	function( a, b ) {
		// Exit early if the nodes are identical
		if ( a === b ) {
			hasDuplicate = true;
			return 0;
		}

		var cur,
			i = 0,
			aup = a.parentNode,
			bup = b.parentNode,
			ap = [ a ],
			bp = [ b ];

		// Parentless nodes are either documents or disconnected
		if ( !aup || !bup ) {
			return a === document ? -1 :
				b === document ? 1 :
				aup ? -1 :
				bup ? 1 :
				sortInput ?
				( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :
				0;

		// If the nodes are siblings, we can do a quick check
		} else if ( aup === bup ) {
			return siblingCheck( a, b );
		}

		// Otherwise we need full lists of their ancestors for comparison
		cur = a;
		while ( (cur = cur.parentNode) ) {
			ap.unshift( cur );
		}
		cur = b;
		while ( (cur = cur.parentNode) ) {
			bp.unshift( cur );
		}

		// Walk down the tree looking for a discrepancy
		while ( ap[i] === bp[i] ) {
			i++;
		}

		return i ?
			// Do a sibling check if the nodes have a common ancestor
			siblingCheck( ap[i], bp[i] ) :

			// Otherwise nodes in our document sort first
			ap[i] === preferredDoc ? -1 :
			bp[i] === preferredDoc ? 1 :
			0;
	};

	return document;
};

Sizzle.matches = function( expr, elements ) {
	return Sizzle( expr, null, null, elements );
};

Sizzle.matchesSelector = function( elem, expr ) {
	// Set document vars if needed
	if ( ( elem.ownerDocument || elem ) !== document ) {
		setDocument( elem );
	}

	// Make sure that attribute selectors are quoted
	expr = expr.replace( rattributeQuotes, "='$1']" );

	if ( support.matchesSelector && documentIsHTML &&
		!compilerCache[ expr + " " ] &&
		( !rbuggyMatches || !rbuggyMatches.test( expr ) ) &&
		( !rbuggyQSA     || !rbuggyQSA.test( expr ) ) ) {

		try {
			var ret = matches.call( elem, expr );

			// IE 9's matchesSelector returns false on disconnected nodes
			if ( ret || support.disconnectedMatch ||
					// As well, disconnected nodes are said to be in a document
					// fragment in IE 9
					elem.document && elem.document.nodeType !== 11 ) {
				return ret;
			}
		} catch (e) {}
	}

	return Sizzle( expr, document, null, [ elem ] ).length > 0;
};

Sizzle.contains = function( context, elem ) {
	// Set document vars if needed
	if ( ( context.ownerDocument || context ) !== document ) {
		setDocument( context );
	}
	return contains( context, elem );
};

Sizzle.attr = function( elem, name ) {
	// Set document vars if needed
	if ( ( elem.ownerDocument || elem ) !== document ) {
		setDocument( elem );
	}

	var fn = Expr.attrHandle[ name.toLowerCase() ],
		// Don't get fooled by Object.prototype properties (jQuery #13807)
		val = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?
			fn( elem, name, !documentIsHTML ) :
			undefined;

	return val !== undefined ?
		val :
		support.attributes || !documentIsHTML ?
			elem.getAttribute( name ) :
			(val = elem.getAttributeNode(name)) && val.specified ?
				val.value :
				null;
};

Sizzle.error = function( msg ) {
	throw new Error( "Syntax error, unrecognized expression: " + msg );
};

/**
 * Document sorting and removing duplicates
 * @param {ArrayLike} results
 */
Sizzle.uniqueSort = function( results ) {
	var elem,
		duplicates = [],
		j = 0,
		i = 0;

	// Unless we *know* we can detect duplicates, assume their presence
	hasDuplicate = !support.detectDuplicates;
	sortInput = !support.sortStable && results.slice( 0 );
	results.sort( sortOrder );

	if ( hasDuplicate ) {
		while ( (elem = results[i++]) ) {
			if ( elem === results[ i ] ) {
				j = duplicates.push( i );
			}
		}
		while ( j-- ) {
			results.splice( duplicates[ j ], 1 );
		}
	}

	// Clear input after sorting to release objects
	// See https://github.com/jquery/sizzle/pull/225
	sortInput = null;

	return results;
};

/**
 * Utility function for retrieving the text value of an array of DOM nodes
 * @param {Array|Element} elem
 */
getText = Sizzle.getText = function( elem ) {
	var node,
		ret = "",
		i = 0,
		nodeType = elem.nodeType;

	if ( !nodeType ) {
		// If no nodeType, this is expected to be an array
		while ( (node = elem[i++]) ) {
			// Do not traverse comment nodes
			ret += getText( node );
		}
	} else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {
		// Use textContent for elements
		// innerText usage removed for consistency of new lines (jQuery #11153)
		if ( typeof elem.textContent === "string" ) {
			return elem.textContent;
		} else {
			// Traverse its children
			for ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {
				ret += getText( elem );
			}
		}
	} else if ( nodeType === 3 || nodeType === 4 ) {
		return elem.nodeValue;
	}
	// Do not include comment or processing instruction nodes

	return ret;
};

Expr = Sizzle.selectors = {

	// Can be adjusted by the user
	cacheLength: 50,

	createPseudo: markFunction,

	match: matchExpr,

	attrHandle: {},

	find: {},

	relative: {
		">": { dir: "parentNode", first: true },
		" ": { dir: "parentNode" },
		"+": { dir: "previousSibling", first: true },
		"~": { dir: "previousSibling" }
	},

	preFilter: {
		"ATTR": function( match ) {
			match[1] = match[1].replace( runescape, funescape );

			// Move the given value to match[3] whether quoted or unquoted
			match[3] = ( match[3] || match[4] || match[5] || "" ).replace( runescape, funescape );

			if ( match[2] === "~=" ) {
				match[3] = " " + match[3] + " ";
			}

			return match.slice( 0, 4 );
		},

		"CHILD": function( match ) {
			/* matches from matchExpr["CHILD"]
				1 type (only|nth|...)
				2 what (child|of-type)
				3 argument (even|odd|\d*|\d*n([+-]\d+)?|...)
				4 xn-component of xn+y argument ([+-]?\d*n|)
				5 sign of xn-component
				6 x of xn-component
				7 sign of y-component
				8 y of y-component
			*/
			match[1] = match[1].toLowerCase();

			if ( match[1].slice( 0, 3 ) === "nth" ) {
				// nth-* requires argument
				if ( !match[3] ) {
					Sizzle.error( match[0] );
				}

				// numeric x and y parameters for Expr.filter.CHILD
				// remember that false/true cast respectively to 0/1
				match[4] = +( match[4] ? match[5] + (match[6] || 1) : 2 * ( match[3] === "even" || match[3] === "odd" ) );
				match[5] = +( ( match[7] + match[8] ) || match[3] === "odd" );

			// other types prohibit arguments
			} else if ( match[3] ) {
				Sizzle.error( match[0] );
			}

			return match;
		},

		"PSEUDO": function( match ) {
			var excess,
				unquoted = !match[6] && match[2];

			if ( matchExpr["CHILD"].test( match[0] ) ) {
				return null;
			}

			// Accept quoted arguments as-is
			if ( match[3] ) {
				match[2] = match[4] || match[5] || "";

			// Strip excess characters from unquoted arguments
			} else if ( unquoted && rpseudo.test( unquoted ) &&
				// Get excess from tokenize (recursively)
				(excess = tokenize( unquoted, true )) &&
				// advance to the next closing parenthesis
				(excess = unquoted.indexOf( ")", unquoted.length - excess ) - unquoted.length) ) {

				// excess is a negative index
				match[0] = match[0].slice( 0, excess );
				match[2] = unquoted.slice( 0, excess );
			}

			// Return only captures needed by the pseudo filter method (type and argument)
			return match.slice( 0, 3 );
		}
	},

	filter: {

		"TAG": function( nodeNameSelector ) {
			var nodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();
			return nodeNameSelector === "*" ?
				function() { return true; } :
				function( elem ) {
					return elem.nodeName && elem.nodeName.toLowerCase() === nodeName;
				};
		},

		"CLASS": function( className ) {
			var pattern = classCache[ className + " " ];

			return pattern ||
				(pattern = new RegExp( "(^|" + whitespace + ")" + className + "(" + whitespace + "|$)" )) &&
				classCache( className, function( elem ) {
					return pattern.test( typeof elem.className === "string" && elem.className || typeof elem.getAttribute !== "undefined" && elem.getAttribute("class") || "" );
				});
		},

		"ATTR": function( name, operator, check ) {
			return function( elem ) {
				var result = Sizzle.attr( elem, name );

				if ( result == null ) {
					return operator === "!=";
				}
				if ( !operator ) {
					return true;
				}

				result += "";

				return operator === "=" ? result === check :
					operator === "!=" ? result !== check :
					operator === "^=" ? check && result.indexOf( check ) === 0 :
					operator === "*=" ? check && result.indexOf( check ) > -1 :
					operator === "$=" ? check && result.slice( -check.length ) === check :
					operator === "~=" ? ( " " + result.replace( rwhitespace, " " ) + " " ).indexOf( check ) > -1 :
					operator === "|=" ? result === check || result.slice( 0, check.length + 1 ) === check + "-" :
					false;
			};
		},

		"CHILD": function( type, what, argument, first, last ) {
			var simple = type.slice( 0, 3 ) !== "nth",
				forward = type.slice( -4 ) !== "last",
				ofType = what === "of-type";

			return first === 1 && last === 0 ?

				// Shortcut for :nth-*(n)
				function( elem ) {
					return !!elem.parentNode;
				} :

				function( elem, context, xml ) {
					var cache, uniqueCache, outerCache, node, nodeIndex, start,
						dir = simple !== forward ? "nextSibling" : "previousSibling",
						parent = elem.parentNode,
						name = ofType && elem.nodeName.toLowerCase(),
						useCache = !xml && !ofType,
						diff = false;

					if ( parent ) {

						// :(first|last|only)-(child|of-type)
						if ( simple ) {
							while ( dir ) {
								node = elem;
								while ( (node = node[ dir ]) ) {
									if ( ofType ?
										node.nodeName.toLowerCase() === name :
										node.nodeType === 1 ) {

										return false;
									}
								}
								// Reverse direction for :only-* (if we haven't yet done so)
								start = dir = type === "only" && !start && "nextSibling";
							}
							return true;
						}

						start = [ forward ? parent.firstChild : parent.lastChild ];

						// non-xml :nth-child(...) stores cache data on `parent`
						if ( forward && useCache ) {

							// Seek `elem` from a previously-cached index

							// ...in a gzip-friendly way
							node = parent;
							outerCache = node[ expando ] || (node[ expando ] = {});

							// Support: IE <9 only
							// Defend against cloned attroperties (jQuery gh-1709)
							uniqueCache = outerCache[ node.uniqueID ] ||
								(outerCache[ node.uniqueID ] = {});

							cache = uniqueCache[ type ] || [];
							nodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];
							diff = nodeIndex && cache[ 2 ];
							node = nodeIndex && parent.childNodes[ nodeIndex ];

							while ( (node = ++nodeIndex && node && node[ dir ] ||

								// Fallback to seeking `elem` from the start
								(diff = nodeIndex = 0) || start.pop()) ) {

								// When found, cache indexes on `parent` and break
								if ( node.nodeType === 1 && ++diff && node === elem ) {
									uniqueCache[ type ] = [ dirruns, nodeIndex, diff ];
									break;
								}
							}

						} else {
							// Use previously-cached element index if available
							if ( useCache ) {
								// ...in a gzip-friendly way
								node = elem;
								outerCache = node[ expando ] || (node[ expando ] = {});

								// Support: IE <9 only
								// Defend against cloned attroperties (jQuery gh-1709)
								uniqueCache = outerCache[ node.uniqueID ] ||
									(outerCache[ node.uniqueID ] = {});

								cache = uniqueCache[ type ] || [];
								nodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];
								diff = nodeIndex;
							}

							// xml :nth-child(...)
							// or :nth-last-child(...) or :nth(-last)?-of-type(...)
							if ( diff === false ) {
								// Use the same loop as above to seek `elem` from the start
								while ( (node = ++nodeIndex && node && node[ dir ] ||
									(diff = nodeIndex = 0) || start.pop()) ) {

									if ( ( ofType ?
										node.nodeName.toLowerCase() === name :
										node.nodeType === 1 ) &&
										++diff ) {

										// Cache the index of each encountered element
										if ( useCache ) {
											outerCache = node[ expando ] || (node[ expando ] = {});

											// Support: IE <9 only
											// Defend against cloned attroperties (jQuery gh-1709)
											uniqueCache = outerCache[ node.uniqueID ] ||
												(outerCache[ node.uniqueID ] = {});

											uniqueCache[ type ] = [ dirruns, diff ];
										}

										if ( node === elem ) {
											break;
										}
									}
								}
							}
						}

						// Incorporate the offset, then check against cycle size
						diff -= last;
						return diff === first || ( diff % first === 0 && diff / first >= 0 );
					}
				};
		},

		"PSEUDO": function( pseudo, argument ) {
			// pseudo-class names are case-insensitive
			// http://www.w3.org/TR/selectors/#pseudo-classes
			// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters
			// Remember that setFilters inherits from pseudos
			var args,
				fn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||
					Sizzle.error( "unsupported pseudo: " + pseudo );

			// The user may use createPseudo to indicate that
			// arguments are needed to create the filter function
			// just as Sizzle does
			if ( fn[ expando ] ) {
				return fn( argument );
			}

			// But maintain support for old signatures
			if ( fn.length > 1 ) {
				args = [ pseudo, pseudo, "", argument ];
				return Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?
					markFunction(function( seed, matches ) {
						var idx,
							matched = fn( seed, argument ),
							i = matched.length;
						while ( i-- ) {
							idx = indexOf( seed, matched[i] );
							seed[ idx ] = !( matches[ idx ] = matched[i] );
						}
					}) :
					function( elem ) {
						return fn( elem, 0, args );
					};
			}

			return fn;
		}
	},

	pseudos: {
		// Potentially complex pseudos
		"not": markFunction(function( selector ) {
			// Trim the selector passed to compile
			// to avoid treating leading and trailing
			// spaces as combinators
			var input = [],
				results = [],
				matcher = compile( selector.replace( rtrim, "$1" ) );

			return matcher[ expando ] ?
				markFunction(function( seed, matches, context, xml ) {
					var elem,
						unmatched = matcher( seed, null, xml, [] ),
						i = seed.length;

					// Match elements unmatched by `matcher`
					while ( i-- ) {
						if ( (elem = unmatched[i]) ) {
							seed[i] = !(matches[i] = elem);
						}
					}
				}) :
				function( elem, context, xml ) {
					input[0] = elem;
					matcher( input, null, xml, results );
					// Don't keep the element (issue #299)
					input[0] = null;
					return !results.pop();
				};
		}),

		"has": markFunction(function( selector ) {
			return function( elem ) {
				return Sizzle( selector, elem ).length > 0;
			};
		}),

		"contains": markFunction(function( text ) {
			text = text.replace( runescape, funescape );
			return function( elem ) {
				return ( elem.textContent || elem.innerText || getText( elem ) ).indexOf( text ) > -1;
			};
		}),

		// "Whether an element is represented by a :lang() selector
		// is based solely on the element's language value
		// being equal to the identifier C,
		// or beginning with the identifier C immediately followed by "-".
		// The matching of C against the element's language value is performed case-insensitively.
		// The identifier C does not have to be a valid language name."
		// http://www.w3.org/TR/selectors/#lang-pseudo
		"lang": markFunction( function( lang ) {
			// lang value must be a valid identifier
			if ( !ridentifier.test(lang || "") ) {
				Sizzle.error( "unsupported lang: " + lang );
			}
			lang = lang.replace( runescape, funescape ).toLowerCase();
			return function( elem ) {
				var elemLang;
				do {
					if ( (elemLang = documentIsHTML ?
						elem.lang :
						elem.getAttribute("xml:lang") || elem.getAttribute("lang")) ) {

						elemLang = elemLang.toLowerCase();
						return elemLang === lang || elemLang.indexOf( lang + "-" ) === 0;
					}
				} while ( (elem = elem.parentNode) && elem.nodeType === 1 );
				return false;
			};
		}),

		// Miscellaneous
		"target": function( elem ) {
			var hash = window.location && window.location.hash;
			return hash && hash.slice( 1 ) === elem.id;
		},

		"root": function( elem ) {
			return elem === docElem;
		},

		"focus": function( elem ) {
			return elem === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);
		},

		// Boolean properties
		"enabled": function( elem ) {
			return elem.disabled === false;
		},

		"disabled": function( elem ) {
			return elem.disabled === true;
		},

		"checked": function( elem ) {
			// In CSS3, :checked should return both checked and selected elements
			// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked
			var nodeName = elem.nodeName.toLowerCase();
			return (nodeName === "input" && !!elem.checked) || (nodeName === "option" && !!elem.selected);
		},

		"selected": function( elem ) {
			// Accessing this property makes selected-by-default
			// options in Safari work properly
			if ( elem.parentNode ) {
				elem.parentNode.selectedIndex;
			}

			return elem.selected === true;
		},

		// Contents
		"empty": function( elem ) {
			// http://www.w3.org/TR/selectors/#empty-pseudo
			// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),
			//   but not by others (comment: 8; processing instruction: 7; etc.)
			// nodeType < 6 works because attributes (2) do not appear as children
			for ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {
				if ( elem.nodeType < 6 ) {
					return false;
				}
			}
			return true;
		},

		"parent": function( elem ) {
			return !Expr.pseudos["empty"]( elem );
		},

		// Element/input types
		"header": function( elem ) {
			return rheader.test( elem.nodeName );
		},

		"input": function( elem ) {
			return rinputs.test( elem.nodeName );
		},

		"button": function( elem ) {
			var name = elem.nodeName.toLowerCase();
			return name === "input" && elem.type === "button" || name === "button";
		},

		"text": function( elem ) {
			var attr;
			return elem.nodeName.toLowerCase() === "input" &&
				elem.type === "text" &&

				// Support: IE<8
				// New HTML5 attribute values (e.g., "search") appear with elem.type === "text"
				( (attr = elem.getAttribute("type")) == null || attr.toLowerCase() === "text" );
		},

		// Position-in-collection
		"first": createPositionalPseudo(function() {
			return [ 0 ];
		}),

		"last": createPositionalPseudo(function( matchIndexes, length ) {
			return [ length - 1 ];
		}),

		"eq": createPositionalPseudo(function( matchIndexes, length, argument ) {
			return [ argument < 0 ? argument + length : argument ];
		}),

		"even": createPositionalPseudo(function( matchIndexes, length ) {
			var i = 0;
			for ( ; i < length; i += 2 ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		}),

		"odd": createPositionalPseudo(function( matchIndexes, length ) {
			var i = 1;
			for ( ; i < length; i += 2 ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		}),

		"lt": createPositionalPseudo(function( matchIndexes, length, argument ) {
			var i = argument < 0 ? argument + length : argument;
			for ( ; --i >= 0; ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		}),

		"gt": createPositionalPseudo(function( matchIndexes, length, argument ) {
			var i = argument < 0 ? argument + length : argument;
			for ( ; ++i < length; ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		})
	}
};

Expr.pseudos["nth"] = Expr.pseudos["eq"];

// Add button/input type pseudos
for ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {
	Expr.pseudos[ i ] = createInputPseudo( i );
}
for ( i in { submit: true, reset: true } ) {
	Expr.pseudos[ i ] = createButtonPseudo( i );
}

// Easy API for creating new setFilters
function setFilters() {}
setFilters.prototype = Expr.filters = Expr.pseudos;
Expr.setFilters = new setFilters();

tokenize = Sizzle.tokenize = function( selector, parseOnly ) {
	var matched, match, tokens, type,
		soFar, groups, preFilters,
		cached = tokenCache[ selector + " " ];

	if ( cached ) {
		return parseOnly ? 0 : cached.slice( 0 );
	}

	soFar = selector;
	groups = [];
	preFilters = Expr.preFilter;

	while ( soFar ) {

		// Comma and first run
		if ( !matched || (match = rcomma.exec( soFar )) ) {
			if ( match ) {
				// Don't consume trailing commas as valid
				soFar = soFar.slice( match[0].length ) || soFar;
			}
			groups.push( (tokens = []) );
		}

		matched = false;

		// Combinators
		if ( (match = rcombinators.exec( soFar )) ) {
			matched = match.shift();
			tokens.push({
				value: matched,
				// Cast descendant combinators to space
				type: match[0].replace( rtrim, " " )
			});
			soFar = soFar.slice( matched.length );
		}

		// Filters
		for ( type in Expr.filter ) {
			if ( (match = matchExpr[ type ].exec( soFar )) && (!preFilters[ type ] ||
				(match = preFilters[ type ]( match ))) ) {
				matched = match.shift();
				tokens.push({
					value: matched,
					type: type,
					matches: match
				});
				soFar = soFar.slice( matched.length );
			}
		}

		if ( !matched ) {
			break;
		}
	}

	// Return the length of the invalid excess
	// if we're just parsing
	// Otherwise, throw an error or return tokens
	return parseOnly ?
		soFar.length :
		soFar ?
			Sizzle.error( selector ) :
			// Cache the tokens
			tokenCache( selector, groups ).slice( 0 );
};

function toSelector( tokens ) {
	var i = 0,
		len = tokens.length,
		selector = "";
	for ( ; i < len; i++ ) {
		selector += tokens[i].value;
	}
	return selector;
}

function addCombinator( matcher, combinator, base ) {
	var dir = combinator.dir,
		checkNonElements = base && dir === "parentNode",
		doneName = done++;

	return combinator.first ?
		// Check against closest ancestor/preceding element
		function( elem, context, xml ) {
			while ( (elem = elem[ dir ]) ) {
				if ( elem.nodeType === 1 || checkNonElements ) {
					return matcher( elem, context, xml );
				}
			}
		} :

		// Check against all ancestor/preceding elements
		function( elem, context, xml ) {
			var oldCache, uniqueCache, outerCache,
				newCache = [ dirruns, doneName ];

			// We can't set arbitrary data on XML nodes, so they don't benefit from combinator caching
			if ( xml ) {
				while ( (elem = elem[ dir ]) ) {
					if ( elem.nodeType === 1 || checkNonElements ) {
						if ( matcher( elem, context, xml ) ) {
							return true;
						}
					}
				}
			} else {
				while ( (elem = elem[ dir ]) ) {
					if ( elem.nodeType === 1 || checkNonElements ) {
						outerCache = elem[ expando ] || (elem[ expando ] = {});

						// Support: IE <9 only
						// Defend against cloned attroperties (jQuery gh-1709)
						uniqueCache = outerCache[ elem.uniqueID ] || (outerCache[ elem.uniqueID ] = {});

						if ( (oldCache = uniqueCache[ dir ]) &&
							oldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {

							// Assign to newCache so results back-propagate to previous elements
							return (newCache[ 2 ] = oldCache[ 2 ]);
						} else {
							// Reuse newcache so results back-propagate to previous elements
							uniqueCache[ dir ] = newCache;

							// A match means we're done; a fail means we have to keep checking
							if ( (newCache[ 2 ] = matcher( elem, context, xml )) ) {
								return true;
							}
						}
					}
				}
			}
		};
}

function elementMatcher( matchers ) {
	return matchers.length > 1 ?
		function( elem, context, xml ) {
			var i = matchers.length;
			while ( i-- ) {
				if ( !matchers[i]( elem, context, xml ) ) {
					return false;
				}
			}
			return true;
		} :
		matchers[0];
}

function multipleContexts( selector, contexts, results ) {
	var i = 0,
		len = contexts.length;
	for ( ; i < len; i++ ) {
		Sizzle( selector, contexts[i], results );
	}
	return results;
}

function condense( unmatched, map, filter, context, xml ) {
	var elem,
		newUnmatched = [],
		i = 0,
		len = unmatched.length,
		mapped = map != null;

	for ( ; i < len; i++ ) {
		if ( (elem = unmatched[i]) ) {
			if ( !filter || filter( elem, context, xml ) ) {
				newUnmatched.push( elem );
				if ( mapped ) {
					map.push( i );
				}
			}
		}
	}

	return newUnmatched;
}

function setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {
	if ( postFilter && !postFilter[ expando ] ) {
		postFilter = setMatcher( postFilter );
	}
	if ( postFinder && !postFinder[ expando ] ) {
		postFinder = setMatcher( postFinder, postSelector );
	}
	return markFunction(function( seed, results, context, xml ) {
		var temp, i, elem,
			preMap = [],
			postMap = [],
			preexisting = results.length,

			// Get initial elements from seed or context
			elems = seed || multipleContexts( selector || "*", context.nodeType ? [ context ] : context, [] ),

			// Prefilter to get matcher input, preserving a map for seed-results synchronization
			matcherIn = preFilter && ( seed || !selector ) ?
				condense( elems, preMap, preFilter, context, xml ) :
				elems,

			matcherOut = matcher ?
				// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,
				postFinder || ( seed ? preFilter : preexisting || postFilter ) ?

					// ...intermediate processing is necessary
					[] :

					// ...otherwise use results directly
					results :
				matcherIn;

		// Find primary matches
		if ( matcher ) {
			matcher( matcherIn, matcherOut, context, xml );
		}

		// Apply postFilter
		if ( postFilter ) {
			temp = condense( matcherOut, postMap );
			postFilter( temp, [], context, xml );

			// Un-match failing elements by moving them back to matcherIn
			i = temp.length;
			while ( i-- ) {
				if ( (elem = temp[i]) ) {
					matcherOut[ postMap[i] ] = !(matcherIn[ postMap[i] ] = elem);
				}
			}
		}

		if ( seed ) {
			if ( postFinder || preFilter ) {
				if ( postFinder ) {
					// Get the final matcherOut by condensing this intermediate into postFinder contexts
					temp = [];
					i = matcherOut.length;
					while ( i-- ) {
						if ( (elem = matcherOut[i]) ) {
							// Restore matcherIn since elem is not yet a final match
							temp.push( (matcherIn[i] = elem) );
						}
					}
					postFinder( null, (matcherOut = []), temp, xml );
				}

				// Move matched elements from seed to results to keep them synchronized
				i = matcherOut.length;
				while ( i-- ) {
					if ( (elem = matcherOut[i]) &&
						(temp = postFinder ? indexOf( seed, elem ) : preMap[i]) > -1 ) {

						seed[temp] = !(results[temp] = elem);
					}
				}
			}

		// Add elements to results, through postFinder if defined
		} else {
			matcherOut = condense(
				matcherOut === results ?
					matcherOut.splice( preexisting, matcherOut.length ) :
					matcherOut
			);
			if ( postFinder ) {
				postFinder( null, results, matcherOut, xml );
			} else {
				push.apply( results, matcherOut );
			}
		}
	});
}

function matcherFromTokens( tokens ) {
	var checkContext, matcher, j,
		len = tokens.length,
		leadingRelative = Expr.relative[ tokens[0].type ],
		implicitRelative = leadingRelative || Expr.relative[" "],
		i = leadingRelative ? 1 : 0,

		// The foundational matcher ensures that elements are reachable from top-level context(s)
		matchContext = addCombinator( function( elem ) {
			return elem === checkContext;
		}, implicitRelative, true ),
		matchAnyContext = addCombinator( function( elem ) {
			return indexOf( checkContext, elem ) > -1;
		}, implicitRelative, true ),
		matchers = [ function( elem, context, xml ) {
			var ret = ( !leadingRelative && ( xml || context !== outermostContext ) ) || (
				(checkContext = context).nodeType ?
					matchContext( elem, context, xml ) :
					matchAnyContext( elem, context, xml ) );
			// Avoid hanging onto element (issue #299)
			checkContext = null;
			return ret;
		} ];

	for ( ; i < len; i++ ) {
		if ( (matcher = Expr.relative[ tokens[i].type ]) ) {
			matchers = [ addCombinator(elementMatcher( matchers ), matcher) ];
		} else {
			matcher = Expr.filter[ tokens[i].type ].apply( null, tokens[i].matches );

			// Return special upon seeing a positional matcher
			if ( matcher[ expando ] ) {
				// Find the next relative operator (if any) for proper handling
				j = ++i;
				for ( ; j < len; j++ ) {
					if ( Expr.relative[ tokens[j].type ] ) {
						break;
					}
				}
				return setMatcher(
					i > 1 && elementMatcher( matchers ),
					i > 1 && toSelector(
						// If the preceding token was a descendant combinator, insert an implicit any-element `*`
						tokens.slice( 0, i - 1 ).concat({ value: tokens[ i - 2 ].type === " " ? "*" : "" })
					).replace( rtrim, "$1" ),
					matcher,
					i < j && matcherFromTokens( tokens.slice( i, j ) ),
					j < len && matcherFromTokens( (tokens = tokens.slice( j )) ),
					j < len && toSelector( tokens )
				);
			}
			matchers.push( matcher );
		}
	}

	return elementMatcher( matchers );
}

function matcherFromGroupMatchers( elementMatchers, setMatchers ) {
	var bySet = setMatchers.length > 0,
		byElement = elementMatchers.length > 0,
		superMatcher = function( seed, context, xml, results, outermost ) {
			var elem, j, matcher,
				matchedCount = 0,
				i = "0",
				unmatched = seed && [],
				setMatched = [],
				contextBackup = outermostContext,
				// We must always have either seed elements or outermost context
				elems = seed || byElement && Expr.find["TAG"]( "*", outermost ),
				// Use integer dirruns iff this is the outermost matcher
				dirrunsUnique = (dirruns += contextBackup == null ? 1 : Math.random() || 0.1),
				len = elems.length;

			if ( outermost ) {
				outermostContext = context === document || context || outermost;
			}

			// Add elements passing elementMatchers directly to results
			// Support: IE<9, Safari
			// Tolerate NodeList properties (IE: "length"; Safari: <number>) matching elements by id
			for ( ; i !== len && (elem = elems[i]) != null; i++ ) {
				if ( byElement && elem ) {
					j = 0;
					if ( !context && elem.ownerDocument !== document ) {
						setDocument( elem );
						xml = !documentIsHTML;
					}
					while ( (matcher = elementMatchers[j++]) ) {
						if ( matcher( elem, context || document, xml) ) {
							results.push( elem );
							break;
						}
					}
					if ( outermost ) {
						dirruns = dirrunsUnique;
					}
				}

				// Track unmatched elements for set filters
				if ( bySet ) {
					// They will have gone through all possible matchers
					if ( (elem = !matcher && elem) ) {
						matchedCount--;
					}

					// Lengthen the array for every element, matched or not
					if ( seed ) {
						unmatched.push( elem );
					}
				}
			}

			// `i` is now the count of elements visited above, and adding it to `matchedCount`
			// makes the latter nonnegative.
			matchedCount += i;

			// Apply set filters to unmatched elements
			// NOTE: This can be skipped if there are no unmatched elements (i.e., `matchedCount`
			// equals `i`), unless we didn't visit _any_ elements in the above loop because we have
			// no element matchers and no seed.
			// Incrementing an initially-string "0" `i` allows `i` to remain a string only in that
			// case, which will result in a "00" `matchedCount` that differs from `i` but is also
			// numerically zero.
			if ( bySet && i !== matchedCount ) {
				j = 0;
				while ( (matcher = setMatchers[j++]) ) {
					matcher( unmatched, setMatched, context, xml );
				}

				if ( seed ) {
					// Reintegrate element matches to eliminate the need for sorting
					if ( matchedCount > 0 ) {
						while ( i-- ) {
							if ( !(unmatched[i] || setMatched[i]) ) {
								setMatched[i] = pop.call( results );
							}
						}
					}

					// Discard index placeholder values to get only actual matches
					setMatched = condense( setMatched );
				}

				// Add matches to results
				push.apply( results, setMatched );

				// Seedless set matches succeeding multiple successful matchers stipulate sorting
				if ( outermost && !seed && setMatched.length > 0 &&
					( matchedCount + setMatchers.length ) > 1 ) {

					Sizzle.uniqueSort( results );
				}
			}

			// Override manipulation of globals by nested matchers
			if ( outermost ) {
				dirruns = dirrunsUnique;
				outermostContext = contextBackup;
			}

			return unmatched;
		};

	return bySet ?
		markFunction( superMatcher ) :
		superMatcher;
}

compile = Sizzle.compile = function( selector, match /* Internal Use Only */ ) {
	var i,
		setMatchers = [],
		elementMatchers = [],
		cached = compilerCache[ selector + " " ];

	if ( !cached ) {
		// Generate a function of recursive functions that can be used to check each element
		if ( !match ) {
			match = tokenize( selector );
		}
		i = match.length;
		while ( i-- ) {
			cached = matcherFromTokens( match[i] );
			if ( cached[ expando ] ) {
				setMatchers.push( cached );
			} else {
				elementMatchers.push( cached );
			}
		}

		// Cache the compiled function
		cached = compilerCache( selector, matcherFromGroupMatchers( elementMatchers, setMatchers ) );

		// Save selector and tokenization
		cached.selector = selector;
	}
	return cached;
};

/**
 * A low-level selection function that works with Sizzle's compiled
 *  selector functions
 * @param {String|Function} selector A selector or a pre-compiled
 *  selector function built with Sizzle.compile
 * @param {Element} context
 * @param {Array} [results]
 * @param {Array} [seed] A set of elements to match against
 */
select = Sizzle.select = function( selector, context, results, seed ) {
	var i, tokens, token, type, find,
		compiled = typeof selector === "function" && selector,
		match = !seed && tokenize( (selector = compiled.selector || selector) );

	results = results || [];

	// Try to minimize operations if there is only one selector in the list and no seed
	// (the latter of which guarantees us context)
	if ( match.length === 1 ) {

		// Reduce context if the leading compound selector is an ID
		tokens = match[0] = match[0].slice( 0 );
		if ( tokens.length > 2 && (token = tokens[0]).type === "ID" &&
				support.getById && context.nodeType === 9 && documentIsHTML &&
				Expr.relative[ tokens[1].type ] ) {

			context = ( Expr.find["ID"]( token.matches[0].replace(runescape, funescape), context ) || [] )[0];
			if ( !context ) {
				return results;

			// Precompiled matchers will still verify ancestry, so step up a level
			} else if ( compiled ) {
				context = context.parentNode;
			}

			selector = selector.slice( tokens.shift().value.length );
		}

		// Fetch a seed set for right-to-left matching
		i = matchExpr["needsContext"].test( selector ) ? 0 : tokens.length;
		while ( i-- ) {
			token = tokens[i];

			// Abort if we hit a combinator
			if ( Expr.relative[ (type = token.type) ] ) {
				break;
			}
			if ( (find = Expr.find[ type ]) ) {
				// Search, expanding context for leading sibling combinators
				if ( (seed = find(
					token.matches[0].replace( runescape, funescape ),
					rsibling.test( tokens[0].type ) && testContext( context.parentNode ) || context
				)) ) {

					// If seed is empty or no tokens remain, we can return early
					tokens.splice( i, 1 );
					selector = seed.length && toSelector( tokens );
					if ( !selector ) {
						push.apply( results, seed );
						return results;
					}

					break;
				}
			}
		}
	}

	// Compile and execute a filtering function if one is not provided
	// Provide `match` to avoid retokenization if we modified the selector above
	( compiled || compile( selector, match ) )(
		seed,
		context,
		!documentIsHTML,
		results,
		!context || rsibling.test( selector ) && testContext( context.parentNode ) || context
	);
	return results;
};

// One-time assignments

// Sort stability
support.sortStable = expando.split("").sort( sortOrder ).join("") === expando;

// Support: Chrome 14-35+
// Always assume duplicates if they aren't passed to the comparison function
support.detectDuplicates = !!hasDuplicate;

// Initialize against the default document
setDocument();

// Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)
// Detached nodes confoundingly follow *each other*
support.sortDetached = assert(function( div1 ) {
	// Should return 1, but returns 4 (following)
	return div1.compareDocumentPosition( document.createElement("div") ) & 1;
});

// Support: IE<8
// Prevent attribute/property "interpolation"
// http://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx
if ( !assert(function( div ) {
	div.innerHTML = "<a href='#'></a>";
	return div.firstChild.getAttribute("href") === "#" ;
}) ) {
	addHandle( "type|href|height|width", function( elem, name, isXML ) {
		if ( !isXML ) {
			return elem.getAttribute( name, name.toLowerCase() === "type" ? 1 : 2 );
		}
	});
}

// Support: IE<9
// Use defaultValue in place of getAttribute("value")
if ( !support.attributes || !assert(function( div ) {
	div.innerHTML = "<input/>";
	div.firstChild.setAttribute( "value", "" );
	return div.firstChild.getAttribute( "value" ) === "";
}) ) {
	addHandle( "value", function( elem, name, isXML ) {
		if ( !isXML && elem.nodeName.toLowerCase() === "input" ) {
			return elem.defaultValue;
		}
	});
}

// Support: IE<9
// Use getAttributeNode to fetch booleans when getAttribute lies
if ( !assert(function( div ) {
	return div.getAttribute("disabled") == null;
}) ) {
	addHandle( booleans, function( elem, name, isXML ) {
		var val;
		if ( !isXML ) {
			return elem[ name ] === true ? name.toLowerCase() :
					(val = elem.getAttributeNode( name )) && val.specified ?
					val.value :
				null;
		}
	});
}

return Sizzle;

})( window );



jQuery.find = Sizzle;
jQuery.expr = Sizzle.selectors;
jQuery.expr[ ":" ] = jQuery.expr.pseudos;
jQuery.uniqueSort = jQuery.unique = Sizzle.uniqueSort;
jQuery.text = Sizzle.getText;
jQuery.isXMLDoc = Sizzle.isXML;
jQuery.contains = Sizzle.contains;



var dir = function( elem, dir, until ) {
	var matched = [],
		truncate = until !== undefined;

	while ( ( elem = elem[ dir ] ) && elem.nodeType !== 9 ) {
		if ( elem.nodeType === 1 ) {
			if ( truncate && jQuery( elem ).is( until ) ) {
				break;
			}
			matched.push( elem );
		}
	}
	return matched;
};


var siblings = function( n, elem ) {
	var matched = [];

	for ( ; n; n = n.nextSibling ) {
		if ( n.nodeType === 1 && n !== elem ) {
			matched.push( n );
		}
	}

	return matched;
};


var rneedsContext = jQuery.expr.match.needsContext;

var rsingleTag = ( /^<([\w-]+)\s*\/?>(?:<\/\1>|)$/ );



var risSimple = /^.[^:#\[\.,]*$/;

// Implement the identical functionality for filter and not
function winnow( elements, qualifier, not ) {
	if ( jQuery.isFunction( qualifier ) ) {
		return jQuery.grep( elements, function( elem, i ) {
			/* jshint -W018 */
			return !!qualifier.call( elem, i, elem ) !== not;
		} );

	}

	if ( qualifier.nodeType ) {
		return jQuery.grep( elements, function( elem ) {
			return ( elem === qualifier ) !== not;
		} );

	}

	if ( typeof qualifier === "string" ) {
		if ( risSimple.test( qualifier ) ) {
			return jQuery.filter( qualifier, elements, not );
		}

		qualifier = jQuery.filter( qualifier, elements );
	}

	return jQuery.grep( elements, function( elem ) {
		return ( jQuery.inArray( elem, qualifier ) > -1 ) !== not;
	} );
}

jQuery.filter = function( expr, elems, not ) {
	var elem = elems[ 0 ];

	if ( not ) {
		expr = ":not(" + expr + ")";
	}

	return elems.length === 1 && elem.nodeType === 1 ?
		jQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [] :
		jQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {
			return elem.nodeType === 1;
		} ) );
};

jQuery.fn.extend( {
	find: function( selector ) {
		var i,
			ret = [],
			self = this,
			len = self.length;

		if ( typeof selector !== "string" ) {
			return this.pushStack( jQuery( selector ).filter( function() {
				for ( i = 0; i < len; i++ ) {
					if ( jQuery.contains( self[ i ], this ) ) {
						return true;
					}
				}
			} ) );
		}

		for ( i = 0; i < len; i++ ) {
			jQuery.find( selector, self[ i ], ret );
		}

		// Needed because $( selector, context ) becomes $( context ).find( selector )
		ret = this.pushStack( len > 1 ? jQuery.unique( ret ) : ret );
		ret.selector = this.selector ? this.selector + " " + selector : selector;
		return ret;
	},
	filter: function( selector ) {
		return this.pushStack( winnow( this, selector || [], false ) );
	},
	not: function( selector ) {
		return this.pushStack( winnow( this, selector || [], true ) );
	},
	is: function( selector ) {
		return !!winnow(
			this,

			// If this is a positional/relative selector, check membership in the returned set
			// so $("p:first").is("p:last") won't return true for a doc with two "p".
			typeof selector === "string" && rneedsContext.test( selector ) ?
				jQuery( selector ) :
				selector || [],
			false
		).length;
	}
} );


// Initialize a jQuery object


// A central reference to the root jQuery(document)
var rootjQuery,

	// A simple way to check for HTML strings
	// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)
	// Strict HTML recognition (#11290: must start with <)
	rquickExpr = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,

	init = jQuery.fn.init = function( selector, context, root ) {
		var match, elem;

		// HANDLE: $(""), $(null), $(undefined), $(false)
		if ( !selector ) {
			return this;
		}

		// init accepts an alternate rootjQuery
		// so migrate can support jQuery.sub (gh-2101)
		root = root || rootjQuery;

		// Handle HTML strings
		if ( typeof selector === "string" ) {
			if ( selector.charAt( 0 ) === "<" &&
				selector.charAt( selector.length - 1 ) === ">" &&
				selector.length >= 3 ) {

				// Assume that strings that start and end with <> are HTML and skip the regex check
				match = [ null, selector, null ];

			} else {
				match = rquickExpr.exec( selector );
			}

			// Match html or make sure no context is specified for #id
			if ( match && ( match[ 1 ] || !context ) ) {

				// HANDLE: $(html) -> $(array)
				if ( match[ 1 ] ) {
					context = context instanceof jQuery ? context[ 0 ] : context;

					// scripts is true for back-compat
					// Intentionally let the error be thrown if parseHTML is not present
					jQuery.merge( this, jQuery.parseHTML(
						match[ 1 ],
						context && context.nodeType ? context.ownerDocument || context : document,
						true
					) );

					// HANDLE: $(html, props)
					if ( rsingleTag.test( match[ 1 ] ) && jQuery.isPlainObject( context ) ) {
						for ( match in context ) {

							// Properties of context are called as methods if possible
							if ( jQuery.isFunction( this[ match ] ) ) {
								this[ match ]( context[ match ] );

							// ...and otherwise set as attributes
							} else {
								this.attr( match, context[ match ] );
							}
						}
					}

					return this;

				// HANDLE: $(#id)
				} else {
					elem = document.getElementById( match[ 2 ] );

					// Check parentNode to catch when Blackberry 4.6 returns
					// nodes that are no longer in the document #6963
					if ( elem && elem.parentNode ) {

						// Handle the case where IE and Opera return items
						// by name instead of ID
						if ( elem.id !== match[ 2 ] ) {
							return rootjQuery.find( selector );
						}

						// Otherwise, we inject the element directly into the jQuery object
						this.length = 1;
						this[ 0 ] = elem;
					}

					this.context = document;
					this.selector = selector;
					return this;
				}

			// HANDLE: $(expr, $(...))
			} else if ( !context || context.jquery ) {
				return ( context || root ).find( selector );

			// HANDLE: $(expr, context)
			// (which is just equivalent to: $(context).find(expr)
			} else {
				return this.constructor( context ).find( selector );
			}

		// HANDLE: $(DOMElement)
		} else if ( selector.nodeType ) {
			this.context = this[ 0 ] = selector;
			this.length = 1;
			return this;

		// HANDLE: $(function)
		// Shortcut for document ready
		} else if ( jQuery.isFunction( selector ) ) {
			return typeof root.ready !== "undefined" ?
				root.ready( selector ) :

				// Execute immediately if ready is not present
				selector( jQuery );
		}

		if ( selector.selector !== undefined ) {
			this.selector = selector.selector;
			this.context = selector.context;
		}

		return jQuery.makeArray( selector, this );
	};

// Give the init function the jQuery prototype for later instantiation
init.prototype = jQuery.fn;

// Initialize central reference
rootjQuery = jQuery( document );


var rparentsprev = /^(?:parents|prev(?:Until|All))/,

	// methods guaranteed to produce a unique set when starting from a unique set
	guaranteedUnique = {
		children: true,
		contents: true,
		next: true,
		prev: true
	};

jQuery.fn.extend( {
	has: function( target ) {
		var i,
			targets = jQuery( target, this ),
			len = targets.length;

		return this.filter( function() {
			for ( i = 0; i < len; i++ ) {
				if ( jQuery.contains( this, targets[ i ] ) ) {
					return true;
				}
			}
		} );
	},

	closest: function( selectors, context ) {
		var cur,
			i = 0,
			l = this.length,
			matched = [],
			pos = rneedsContext.test( selectors ) || typeof selectors !== "string" ?
				jQuery( selectors, context || this.context ) :
				0;

		for ( ; i < l; i++ ) {
			for ( cur = this[ i ]; cur && cur !== context; cur = cur.parentNode ) {

				// Always skip document fragments
				if ( cur.nodeType < 11 && ( pos ?
					pos.index( cur ) > -1 :

					// Don't pass non-elements to Sizzle
					cur.nodeType === 1 &&
						jQuery.find.matchesSelector( cur, selectors ) ) ) {

					matched.push( cur );
					break;
				}
			}
		}

		return this.pushStack( matched.length > 1 ? jQuery.uniqueSort( matched ) : matched );
	},

	// Determine the position of an element within
	// the matched set of elements
	index: function( elem ) {

		// No argument, return index in parent
		if ( !elem ) {
			return ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;
		}

		// index in selector
		if ( typeof elem === "string" ) {
			return jQuery.inArray( this[ 0 ], jQuery( elem ) );
		}

		// Locate the position of the desired element
		return jQuery.inArray(

			// If it receives a jQuery object, the first element is used
			elem.jquery ? elem[ 0 ] : elem, this );
	},

	add: function( selector, context ) {
		return this.pushStack(
			jQuery.uniqueSort(
				jQuery.merge( this.get(), jQuery( selector, context ) )
			)
		);
	},

	addBack: function( selector ) {
		return this.add( selector == null ?
			this.prevObject : this.prevObject.filter( selector )
		);
	}
} );

function sibling( cur, dir ) {
	do {
		cur = cur[ dir ];
	} while ( cur && cur.nodeType !== 1 );

	return cur;
}

jQuery.each( {
	parent: function( elem ) {
		var parent = elem.parentNode;
		return parent && parent.nodeType !== 11 ? parent : null;
	},
	parents: function( elem ) {
		return dir( elem, "parentNode" );
	},
	parentsUntil: function( elem, i, until ) {
		return dir( elem, "parentNode", until );
	},
	next: function( elem ) {
		return sibling( elem, "nextSibling" );
	},
	prev: function( elem ) {
		return sibling( elem, "previousSibling" );
	},
	nextAll: function( elem ) {
		return dir( elem, "nextSibling" );
	},
	prevAll: function( elem ) {
		return dir( elem, "previousSibling" );
	},
	nextUntil: function( elem, i, until ) {
		return dir( elem, "nextSibling", until );
	},
	prevUntil: function( elem, i, until ) {
		return dir( elem, "previousSibling", until );
	},
	siblings: function( elem ) {
		return siblings( ( elem.parentNode || {} ).firstChild, elem );
	},
	children: function( elem ) {
		return siblings( elem.firstChild );
	},
	contents: function( elem ) {
		return jQuery.nodeName( elem, "iframe" ) ?
			elem.contentDocument || elem.contentWindow.document :
			jQuery.merge( [], elem.childNodes );
	}
}, function( name, fn ) {
	jQuery.fn[ name ] = function( until, selector ) {
		var ret = jQuery.map( this, fn, until );

		if ( name.slice( -5 ) !== "Until" ) {
			selector = until;
		}

		if ( selector && typeof selector === "string" ) {
			ret = jQuery.filter( selector, ret );
		}

		if ( this.length > 1 ) {

			// Remove duplicates
			if ( !guaranteedUnique[ name ] ) {
				ret = jQuery.uniqueSort( ret );
			}

			// Reverse order for parents* and prev-derivatives
			if ( rparentsprev.test( name ) ) {
				ret = ret.reverse();
			}
		}

		return this.pushStack( ret );
	};
} );
var rnotwhite = ( /\S+/g );



// Convert String-formatted options into Object-formatted ones
function createOptions( options ) {
	var object = {};
	jQuery.each( options.match( rnotwhite ) || [], function( _, flag ) {
		object[ flag ] = true;
	} );
	return object;
}

/*
 * Create a callback list using the following parameters:
 *
 *	options: an optional list of space-separated options that will change how
 *			the callback list behaves or a more traditional option object
 *
 * By default a callback list will act like an event callback list and can be
 * "fired" multiple times.
 *
 * Possible options:
 *
 *	once:			will ensure the callback list can only be fired once (like a Deferred)
 *
 *	memory:			will keep track of previous values and will call any callback added
 *					after the list has been fired right away with the latest "memorized"
 *					values (like a Deferred)
 *
 *	unique:			will ensure a callback can only be added once (no duplicate in the list)
 *
 *	stopOnFalse:	interrupt callings when a callback returns false
 *
 */
jQuery.Callbacks = function( options ) {

	// Convert options from String-formatted to Object-formatted if needed
	// (we check in cache first)
	options = typeof options === "string" ?
		createOptions( options ) :
		jQuery.extend( {}, options );

	var // Flag to know if list is currently firing
		firing,

		// Last fire value for non-forgettable lists
		memory,

		// Flag to know if list was already fired
		fired,

		// Flag to prevent firing
		locked,

		// Actual callback list
		list = [],

		// Queue of execution data for repeatable lists
		queue = [],

		// Index of currently firing callback (modified by add/remove as needed)
		firingIndex = -1,

		// Fire callbacks
		fire = function() {

			// Enforce single-firing
			locked = options.once;

			// Execute callbacks for all pending executions,
			// respecting firingIndex overrides and runtime changes
			fired = firing = true;
			for ( ; queue.length; firingIndex = -1 ) {
				memory = queue.shift();
				while ( ++firingIndex < list.length ) {

					// Run callback and check for early termination
					if ( list[ firingIndex ].apply( memory[ 0 ], memory[ 1 ] ) === false &&
						options.stopOnFalse ) {

						// Jump to end and forget the data so .add doesn't re-fire
						firingIndex = list.length;
						memory = false;
					}
				}
			}

			// Forget the data if we're done with it
			if ( !options.memory ) {
				memory = false;
			}

			firing = false;

			// Clean up if we're done firing for good
			if ( locked ) {

				// Keep an empty list if we have data for future add calls
				if ( memory ) {
					list = [];

				// Otherwise, this object is spent
				} else {
					list = "";
				}
			}
		},

		// Actual Callbacks object
		self = {

			// Add a callback or a collection of callbacks to the list
			add: function() {
				if ( list ) {

					// If we have memory from a past run, we should fire after adding
					if ( memory && !firing ) {
						firingIndex = list.length - 1;
						queue.push( memory );
					}

					( function add( args ) {
						jQuery.each( args, function( _, arg ) {
							if ( jQuery.isFunction( arg ) ) {
								if ( !options.unique || !self.has( arg ) ) {
									list.push( arg );
								}
							} else if ( arg && arg.length && jQuery.type( arg ) !== "string" ) {

								// Inspect recursively
								add( arg );
							}
						} );
					} )( arguments );

					if ( memory && !firing ) {
						fire();
					}
				}
				return this;
			},

			// Remove a callback from the list
			remove: function() {
				jQuery.each( arguments, function( _, arg ) {
					var index;
					while ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {
						list.splice( index, 1 );

						// Handle firing indexes
						if ( index <= firingIndex ) {
							firingIndex--;
						}
					}
				} );
				return this;
			},

			// Check if a given callback is in the list.
			// If no argument is given, return whether or not list has callbacks attached.
			has: function( fn ) {
				return fn ?
					jQuery.inArray( fn, list ) > -1 :
					list.length > 0;
			},

			// Remove all callbacks from the list
			empty: function() {
				if ( list ) {
					list = [];
				}
				return this;
			},

			// Disable .fire and .add
			// Abort any current/pending executions
			// Clear all callbacks and values
			disable: function() {
				locked = queue = [];
				list = memory = "";
				return this;
			},
			disabled: function() {
				return !list;
			},

			// Disable .fire
			// Also disable .add unless we have memory (since it would have no effect)
			// Abort any pending executions
			lock: function() {
				locked = true;
				if ( !memory ) {
					self.disable();
				}
				return this;
			},
			locked: function() {
				return !!locked;
			},

			// Call all callbacks with the given context and arguments
			fireWith: function( context, args ) {
				if ( !locked ) {
					args = args || [];
					args = [ context, args.slice ? args.slice() : args ];
					queue.push( args );
					if ( !firing ) {
						fire();
					}
				}
				return this;
			},

			// Call all the callbacks with the given arguments
			fire: function() {
				self.fireWith( this, arguments );
				return this;
			},

			// To know if the callbacks have already been called at least once
			fired: function() {
				return !!fired;
			}
		};

	return self;
};


jQuery.extend( {

	Deferred: function( func ) {
		var tuples = [

				// action, add listener, listener list, final state
				[ "resolve", "done", jQuery.Callbacks( "once memory" ), "resolved" ],
				[ "reject", "fail", jQuery.Callbacks( "once memory" ), "rejected" ],
				[ "notify", "progress", jQuery.Callbacks( "memory" ) ]
			],
			state = "pending",
			promise = {
				state: function() {
					return state;
				},
				always: function() {
					deferred.done( arguments ).fail( arguments );
					return this;
				},
				then: function( /* fnDone, fnFail, fnProgress */ ) {
					var fns = arguments;
					return jQuery.Deferred( function( newDefer ) {
						jQuery.each( tuples, function( i, tuple ) {
							var fn = jQuery.isFunction( fns[ i ] ) && fns[ i ];

							// deferred[ done | fail | progress ] for forwarding actions to newDefer
							deferred[ tuple[ 1 ] ]( function() {
								var returned = fn && fn.apply( this, arguments );
								if ( returned && jQuery.isFunction( returned.promise ) ) {
									returned.promise()
										.progress( newDefer.notify )
										.done( newDefer.resolve )
										.fail( newDefer.reject );
								} else {
									newDefer[ tuple[ 0 ] + "With" ](
										this === promise ? newDefer.promise() : this,
										fn ? [ returned ] : arguments
									);
								}
							} );
						} );
						fns = null;
					} ).promise();
				},

				// Get a promise for this deferred
				// If obj is provided, the promise aspect is added to the object
				promise: function( obj ) {
					return obj != null ? jQuery.extend( obj, promise ) : promise;
				}
			},
			deferred = {};

		// Keep pipe for back-compat
		promise.pipe = promise.then;

		// Add list-specific methods
		jQuery.each( tuples, function( i, tuple ) {
			var list = tuple[ 2 ],
				stateString = tuple[ 3 ];

			// promise[ done | fail | progress ] = list.add
			promise[ tuple[ 1 ] ] = list.add;

			// Handle state
			if ( stateString ) {
				list.add( function() {

					// state = [ resolved | rejected ]
					state = stateString;

				// [ reject_list | resolve_list ].disable; progress_list.lock
				}, tuples[ i ^ 1 ][ 2 ].disable, tuples[ 2 ][ 2 ].lock );
			}

			// deferred[ resolve | reject | notify ]
			deferred[ tuple[ 0 ] ] = function() {
				deferred[ tuple[ 0 ] + "With" ]( this === deferred ? promise : this, arguments );
				return this;
			};
			deferred[ tuple[ 0 ] + "With" ] = list.fireWith;
		} );

		// Make the deferred a promise
		promise.promise( deferred );

		// Call given func if any
		if ( func ) {
			func.call( deferred, deferred );
		}

		// All done!
		return deferred;
	},

	// Deferred helper
	when: function( subordinate /* , ..., subordinateN */ ) {
		var i = 0,
			resolveValues = slice.call( arguments ),
			length = resolveValues.length,

			// the count of uncompleted subordinates
			remaining = length !== 1 ||
				( subordinate && jQuery.isFunction( subordinate.promise ) ) ? length : 0,

			// the master Deferred.
			// If resolveValues consist of only a single Deferred, just use that.
			deferred = remaining === 1 ? subordinate : jQuery.Deferred(),

			// Update function for both resolve and progress values
			updateFunc = function( i, contexts, values ) {
				return function( value ) {
					contexts[ i ] = this;
					values[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;
					if ( values === progressValues ) {
						deferred.notifyWith( contexts, values );

					} else if ( !( --remaining ) ) {
						deferred.resolveWith( contexts, values );
					}
				};
			},

			progressValues, progressContexts, resolveContexts;

		// add listeners to Deferred subordinates; treat others as resolved
		if ( length > 1 ) {
			progressValues = new Array( length );
			progressContexts = new Array( length );
			resolveContexts = new Array( length );
			for ( ; i < length; i++ ) {
				if ( resolveValues[ i ] && jQuery.isFunction( resolveValues[ i ].promise ) ) {
					resolveValues[ i ].promise()
						.progress( updateFunc( i, progressContexts, progressValues ) )
						.done( updateFunc( i, resolveContexts, resolveValues ) )
						.fail( deferred.reject );
				} else {
					--remaining;
				}
			}
		}

		// if we're not waiting on anything, resolve the master
		if ( !remaining ) {
			deferred.resolveWith( resolveContexts, resolveValues );
		}

		return deferred.promise();
	}
} );


// The deferred used on DOM ready
var readyList;

jQuery.fn.ready = function( fn ) {

	// Add the callback
	jQuery.ready.promise().done( fn );

	return this;
};

jQuery.extend( {

	// Is the DOM ready to be used? Set to true once it occurs.
	isReady: false,

	// A counter to track how many items to wait for before
	// the ready event fires. See #6781
	readyWait: 1,

	// Hold (or release) the ready event
	holdReady: function( hold ) {
		if ( hold ) {
			jQuery.readyWait++;
		} else {
			jQuery.ready( true );
		}
	},

	// Handle when the DOM is ready
	ready: function( wait ) {

		// Abort if there are pending holds or we're already ready
		if ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {
			return;
		}

		// Remember that the DOM is ready
		jQuery.isReady = true;

		// If a normal DOM Ready event fired, decrement, and wait if need be
		if ( wait !== true && --jQuery.readyWait > 0 ) {
			return;
		}

		// If there are functions bound, to execute
		readyList.resolveWith( document, [ jQuery ] );

		// Trigger any bound ready events
		if ( jQuery.fn.triggerHandler ) {
			jQuery( document ).triggerHandler( "ready" );
			jQuery( document ).off( "ready" );
		}
	}
} );

/**
 * Clean-up method for dom ready events
 */
function detach() {
	if ( document.addEventListener ) {
		document.removeEventListener( "DOMContentLoaded", completed );
		window.removeEventListener( "load", completed );

	} else {
		document.detachEvent( "onreadystatechange", completed );
		window.detachEvent( "onload", completed );
	}
}

/**
 * The ready event handler and self cleanup method
 */
function completed() {

	// readyState === "complete" is good enough for us to call the dom ready in oldIE
	if ( document.addEventListener ||
		window.event.type === "load" ||
		document.readyState === "complete" ) {

		detach();
		jQuery.ready();
	}
}

jQuery.ready.promise = function( obj ) {
	if ( !readyList ) {

		readyList = jQuery.Deferred();

		// Catch cases where $(document).ready() is called
		// after the browser event has already occurred.
		// Support: IE6-10
		// Older IE sometimes signals "interactive" too soon
		if ( document.readyState === "complete" ||
			( document.readyState !== "loading" && !document.documentElement.doScroll ) ) {

			// Handle it asynchronously to allow scripts the opportunity to delay ready
			window.setTimeout( jQuery.ready );

		// Standards-based browsers support DOMContentLoaded
		} else if ( document.addEventListener ) {

			// Use the handy event callback
			document.addEventListener( "DOMContentLoaded", completed );

			// A fallback to window.onload, that will always work
			window.addEventListener( "load", completed );

		// If IE event model is used
		} else {

			// Ensure firing before onload, maybe late but safe also for iframes
			document.attachEvent( "onreadystatechange", completed );

			// A fallback to window.onload, that will always work
			window.attachEvent( "onload", completed );

			// If IE and not a frame
			// continually check to see if the document is ready
			var top = false;

			try {
				top = window.frameElement == null && document.documentElement;
			} catch ( e ) {}

			if ( top && top.doScroll ) {
				( function doScrollCheck() {
					if ( !jQuery.isReady ) {

						try {

							// Use the trick by Diego Perini
							// http://javascript.nwbox.com/IEContentLoaded/
							top.doScroll( "left" );
						} catch ( e ) {
							return window.setTimeout( doScrollCheck, 50 );
						}

						// detach all dom ready events
						detach();

						// and execute any waiting functions
						jQuery.ready();
					}
				} )();
			}
		}
	}
	return readyList.promise( obj );
};

// Kick off the DOM ready check even if the user does not
jQuery.ready.promise();




// Support: IE<9
// Iteration over object's inherited properties before its own
var i;
for ( i in jQuery( support ) ) {
	break;
}
support.ownFirst = i === "0";

// Note: most support tests are defined in their respective modules.
// false until the test is run
support.inlineBlockNeedsLayout = false;

// Execute ASAP in case we need to set body.style.zoom
jQuery( function() {

	// Minified: var a,b,c,d
	var val, div, body, container;

	body = document.getElementsByTagName( "body" )[ 0 ];
	if ( !body || !body.style ) {

		// Return for frameset docs that don't have a body
		return;
	}

	// Setup
	div = document.createElement( "div" );
	container = document.createElement( "div" );
	container.style.cssText = "position:absolute;border:0;width:0;height:0;top:0;left:-9999px";
	body.appendChild( container ).appendChild( div );

	if ( typeof div.style.zoom !== "undefined" ) {

		// Support: IE<8
		// Check if natively block-level elements act like inline-block
		// elements when setting their display to 'inline' and giving
		// them layout
		div.style.cssText = "display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1";

		support.inlineBlockNeedsLayout = val = div.offsetWidth === 3;
		if ( val ) {

			// Prevent IE 6 from affecting layout for positioned elements #11048
			// Prevent IE from shrinking the body in IE 7 mode #12869
			// Support: IE<8
			body.style.zoom = 1;
		}
	}

	body.removeChild( container );
} );


( function() {
	var div = document.createElement( "div" );

	// Support: IE<9
	support.deleteExpando = true;
	try {
		delete div.test;
	} catch ( e ) {
		support.deleteExpando = false;
	}

	// Null elements to avoid leaks in IE.
	div = null;
} )();
var acceptData = function( elem ) {
	var noData = jQuery.noData[ ( elem.nodeName + " " ).toLowerCase() ],
		nodeType = +elem.nodeType || 1;

	// Do not set data on non-element DOM nodes because it will not be cleared (#8335).
	return nodeType !== 1 && nodeType !== 9 ?
		false :

		// Nodes accept data unless otherwise specified; rejection can be conditional
		!noData || noData !== true && elem.getAttribute( "classid" ) === noData;
};




var rbrace = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
	rmultiDash = /([A-Z])/g;

function dataAttr( elem, key, data ) {

	// If nothing was found internally, try to fetch any
	// data from the HTML5 data-* attribute
	if ( data === undefined && elem.nodeType === 1 ) {

		var name = "data-" + key.replace( rmultiDash, "-$1" ).toLowerCase();

		data = elem.getAttribute( name );

		if ( typeof data === "string" ) {
			try {
				data = data === "true" ? true :
					data === "false" ? false :
					data === "null" ? null :

					// Only convert to a number if it doesn't change the string
					+data + "" === data ? +data :
					rbrace.test( data ) ? jQuery.parseJSON( data ) :
					data;
			} catch ( e ) {}

			// Make sure we set the data so it isn't changed later
			jQuery.data( elem, key, data );

		} else {
			data = undefined;
		}
	}

	return data;
}

// checks a cache object for emptiness
function isEmptyDataObject( obj ) {
	var name;
	for ( name in obj ) {

		// if the public data object is empty, the private is still empty
		if ( name === "data" && jQuery.isEmptyObject( obj[ name ] ) ) {
			continue;
		}
		if ( name !== "toJSON" ) {
			return false;
		}
	}

	return true;
}

function internalData( elem, name, data, pvt /* Internal Use Only */ ) {
	if ( !acceptData( elem ) ) {
		return;
	}

	var ret, thisCache,
		internalKey = jQuery.expando,

		// We have to handle DOM nodes and JS objects differently because IE6-7
		// can't GC object references properly across the DOM-JS boundary
		isNode = elem.nodeType,

		// Only DOM nodes need the global jQuery cache; JS object data is
		// attached directly to the object so GC can occur automatically
		cache = isNode ? jQuery.cache : elem,

		// Only defining an ID for JS objects if its cache already exists allows
		// the code to shortcut on the same path as a DOM node with no cache
		id = isNode ? elem[ internalKey ] : elem[ internalKey ] && internalKey;

	// Avoid doing any more work than we need to when trying to get data on an
	// object that has no data at all
	if ( ( !id || !cache[ id ] || ( !pvt && !cache[ id ].data ) ) &&
		data === undefined && typeof name === "string" ) {
		return;
	}

	if ( !id ) {

		// Only DOM nodes need a new unique ID for each element since their data
		// ends up in the global cache
		if ( isNode ) {
			id = elem[ internalKey ] = deletedIds.pop() || jQuery.guid++;
		} else {
			id = internalKey;
		}
	}

	if ( !cache[ id ] ) {

		// Avoid exposing jQuery metadata on plain JS objects when the object
		// is serialized using JSON.stringify
		cache[ id ] = isNode ? {} : { toJSON: jQuery.noop };
	}

	// An object can be passed to jQuery.data instead of a key/value pair; this gets
	// shallow copied over onto the existing cache
	if ( typeof name === "object" || typeof name === "function" ) {
		if ( pvt ) {
			cache[ id ] = jQuery.extend( cache[ id ], name );
		} else {
			cache[ id ].data = jQuery.extend( cache[ id ].data, name );
		}
	}

	thisCache = cache[ id ];

	// jQuery data() is stored in a separate object inside the object's internal data
	// cache in order to avoid key collisions between internal data and user-defined
	// data.
	if ( !pvt ) {
		if ( !thisCache.data ) {
			thisCache.data = {};
		}

		thisCache = thisCache.data;
	}

	if ( data !== undefined ) {
		thisCache[ jQuery.camelCase( name ) ] = data;
	}

	// Check for both converted-to-camel and non-converted data property names
	// If a data property was specified
	if ( typeof name === "string" ) {

		// First Try to find as-is property data
		ret = thisCache[ name ];

		// Test for null|undefined property data
		if ( ret == null ) {

			// Try to find the camelCased property
			ret = thisCache[ jQuery.camelCase( name ) ];
		}
	} else {
		ret = thisCache;
	}

	return ret;
}

function internalRemoveData( elem, name, pvt ) {
	if ( !acceptData( elem ) ) {
		return;
	}

	var thisCache, i,
		isNode = elem.nodeType,

		// See jQuery.data for more information
		cache = isNode ? jQuery.cache : elem,
		id = isNode ? elem[ jQuery.expando ] : jQuery.expando;

	// If there is already no cache entry for this object, there is no
	// purpose in continuing
	if ( !cache[ id ] ) {
		return;
	}

	if ( name ) {

		thisCache = pvt ? cache[ id ] : cache[ id ].data;

		if ( thisCache ) {

			// Support array or space separated string names for data keys
			if ( !jQuery.isArray( name ) ) {

				// try the string as a key before any manipulation
				if ( name in thisCache ) {
					name = [ name ];
				} else {

					// split the camel cased version by spaces unless a key with the spaces exists
					name = jQuery.camelCase( name );
					if ( name in thisCache ) {
						name = [ name ];
					} else {
						name = name.split( " " );
					}
				}
			} else {

				// If "name" is an array of keys...
				// When data is initially created, via ("key", "val") signature,
				// keys will be converted to camelCase.
				// Since there is no way to tell _how_ a key was added, remove
				// both plain key and camelCase key. #12786
				// This will only penalize the array argument path.
				name = name.concat( jQuery.map( name, jQuery.camelCase ) );
			}

			i = name.length;
			while ( i-- ) {
				delete thisCache[ name[ i ] ];
			}

			// If there is no data left in the cache, we want to continue
			// and let the cache object itself get destroyed
			if ( pvt ? !isEmptyDataObject( thisCache ) : !jQuery.isEmptyObject( thisCache ) ) {
				return;
			}
		}
	}

	// See jQuery.data for more information
	if ( !pvt ) {
		delete cache[ id ].data;

		// Don't destroy the parent cache unless the internal data object
		// had been the only thing left in it
		if ( !isEmptyDataObject( cache[ id ] ) ) {
			return;
		}
	}

	// Destroy the cache
	if ( isNode ) {
		jQuery.cleanData( [ elem ], true );

	// Use delete when supported for expandos or `cache` is not a window per isWindow (#10080)
	/* jshint eqeqeq: false */
	} else if ( support.deleteExpando || cache != cache.window ) {
		/* jshint eqeqeq: true */
		delete cache[ id ];

	// When all else fails, undefined
	} else {
		cache[ id ] = undefined;
	}
}

jQuery.extend( {
	cache: {},

	// The following elements (space-suffixed to avoid Object.prototype collisions)
	// throw uncatchable exceptions if you attempt to set expando properties
	noData: {
		"applet ": true,
		"embed ": true,

		// ...but Flash objects (which have this classid) *can* handle expandos
		"object ": "clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
	},

	hasData: function( elem ) {
		elem = elem.nodeType ? jQuery.cache[ elem[ jQuery.expando ] ] : elem[ jQuery.expando ];
		return !!elem && !isEmptyDataObject( elem );
	},

	data: function( elem, name, data ) {
		return internalData( elem, name, data );
	},

	removeData: function( elem, name ) {
		return internalRemoveData( elem, name );
	},

	// For internal use only.
	_data: function( elem, name, data ) {
		return internalData( elem, name, data, true );
	},

	_removeData: function( elem, name ) {
		return internalRemoveData( elem, name, true );
	}
} );

jQuery.fn.extend( {
	data: function( key, value ) {
		var i, name, data,
			elem = this[ 0 ],
			attrs = elem && elem.attributes;

		// Special expections of .data basically thwart jQuery.access,
		// so implement the relevant behavior ourselves

		// Gets all values
		if ( key === undefined ) {
			if ( this.length ) {
				data = jQuery.data( elem );

				if ( elem.nodeType === 1 && !jQuery._data( elem, "parsedAttrs" ) ) {
					i = attrs.length;
					while ( i-- ) {

						// Support: IE11+
						// The attrs elements can be null (#14894)
						if ( attrs[ i ] ) {
							name = attrs[ i ].name;
							if ( name.indexOf( "data-" ) === 0 ) {
								name = jQuery.camelCase( name.slice( 5 ) );
								dataAttr( elem, name, data[ name ] );
							}
						}
					}
					jQuery._data( elem, "parsedAttrs", true );
				}
			}

			return data;
		}

		// Sets multiple values
		if ( typeof key === "object" ) {
			return this.each( function() {
				jQuery.data( this, key );
			} );
		}

		return arguments.length > 1 ?

			// Sets one value
			this.each( function() {
				jQuery.data( this, key, value );
			} ) :

			// Gets one value
			// Try to fetch any internally stored data first
			elem ? dataAttr( elem, key, jQuery.data( elem, key ) ) : undefined;
	},

	removeData: function( key ) {
		return this.each( function() {
			jQuery.removeData( this, key );
		} );
	}
} );


jQuery.extend( {
	queue: function( elem, type, data ) {
		var queue;

		if ( elem ) {
			type = ( type || "fx" ) + "queue";
			queue = jQuery._data( elem, type );

			// Speed up dequeue by getting out quickly if this is just a lookup
			if ( data ) {
				if ( !queue || jQuery.isArray( data ) ) {
					queue = jQuery._data( elem, type, jQuery.makeArray( data ) );
				} else {
					queue.push( data );
				}
			}
			return queue || [];
		}
	},

	dequeue: function( elem, type ) {
		type = type || "fx";

		var queue = jQuery.queue( elem, type ),
			startLength = queue.length,
			fn = queue.shift(),
			hooks = jQuery._queueHooks( elem, type ),
			next = function() {
				jQuery.dequeue( elem, type );
			};

		// If the fx queue is dequeued, always remove the progress sentinel
		if ( fn === "inprogress" ) {
			fn = queue.shift();
			startLength--;
		}

		if ( fn ) {

			// Add a progress sentinel to prevent the fx queue from being
			// automatically dequeued
			if ( type === "fx" ) {
				queue.unshift( "inprogress" );
			}

			// clear up the last queue stop function
			delete hooks.stop;
			fn.call( elem, next, hooks );
		}

		if ( !startLength && hooks ) {
			hooks.empty.fire();
		}
	},

	// not intended for public consumption - generates a queueHooks object,
	// or returns the current one
	_queueHooks: function( elem, type ) {
		var key = type + "queueHooks";
		return jQuery._data( elem, key ) || jQuery._data( elem, key, {
			empty: jQuery.Callbacks( "once memory" ).add( function() {
				jQuery._removeData( elem, type + "queue" );
				jQuery._removeData( elem, key );
			} )
		} );
	}
} );

jQuery.fn.extend( {
	queue: function( type, data ) {
		var setter = 2;

		if ( typeof type !== "string" ) {
			data = type;
			type = "fx";
			setter--;
		}

		if ( arguments.length < setter ) {
			return jQuery.queue( this[ 0 ], type );
		}

		return data === undefined ?
			this :
			this.each( function() {
				var queue = jQuery.queue( this, type, data );

				// ensure a hooks for this queue
				jQuery._queueHooks( this, type );

				if ( type === "fx" && queue[ 0 ] !== "inprogress" ) {
					jQuery.dequeue( this, type );
				}
			} );
	},
	dequeue: function( type ) {
		return this.each( function() {
			jQuery.dequeue( this, type );
		} );
	},
	clearQueue: function( type ) {
		return this.queue( type || "fx", [] );
	},

	// Get a promise resolved when queues of a certain type
	// are emptied (fx is the type by default)
	promise: function( type, obj ) {
		var tmp,
			count = 1,
			defer = jQuery.Deferred(),
			elements = this,
			i = this.length,
			resolve = function() {
				if ( !( --count ) ) {
					defer.resolveWith( elements, [ elements ] );
				}
			};

		if ( typeof type !== "string" ) {
			obj = type;
			type = undefined;
		}
		type = type || "fx";

		while ( i-- ) {
			tmp = jQuery._data( elements[ i ], type + "queueHooks" );
			if ( tmp && tmp.empty ) {
				count++;
				tmp.empty.add( resolve );
			}
		}
		resolve();
		return defer.promise( obj );
	}
} );


( function() {
	var shrinkWrapBlocksVal;

	support.shrinkWrapBlocks = function() {
		if ( shrinkWrapBlocksVal != null ) {
			return shrinkWrapBlocksVal;
		}

		// Will be changed later if needed.
		shrinkWrapBlocksVal = false;

		// Minified: var b,c,d
		var div, body, container;

		body = document.getElementsByTagName( "body" )[ 0 ];
		if ( !body || !body.style ) {

			// Test fired too early or in an unsupported environment, exit.
			return;
		}

		// Setup
		div = document.createElement( "div" );
		container = document.createElement( "div" );
		container.style.cssText = "position:absolute;border:0;width:0;height:0;top:0;left:-9999px";
		body.appendChild( container ).appendChild( div );

		// Support: IE6
		// Check if elements with layout shrink-wrap their children
		if ( typeof div.style.zoom !== "undefined" ) {

			// Reset CSS: box-sizing; display; margin; border
			div.style.cssText =

				// Support: Firefox<29, Android 2.3
				// Vendor-prefix box-sizing
				"-webkit-box-sizing:content-box;-moz-box-sizing:content-box;" +
				"box-sizing:content-box;display:block;margin:0;border:0;" +
				"padding:1px;width:1px;zoom:1";
			div.appendChild( document.createElement( "div" ) ).style.width = "5px";
			shrinkWrapBlocksVal = div.offsetWidth !== 3;
		}

		body.removeChild( container );

		return shrinkWrapBlocksVal;
	};

} )();
var pnum = ( /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/ ).source;

var rcssNum = new RegExp( "^(?:([+-])=|)(" + pnum + ")([a-z%]*)$", "i" );


var cssExpand = [ "Top", "Right", "Bottom", "Left" ];

var isHidden = function( elem, el ) {

		// isHidden might be called from jQuery#filter function;
		// in that case, element will be second argument
		elem = el || elem;
		return jQuery.css( elem, "display" ) === "none" ||
			!jQuery.contains( elem.ownerDocument, elem );
	};



function adjustCSS( elem, prop, valueParts, tween ) {
	var adjusted,
		scale = 1,
		maxIterations = 20,
		currentValue = tween ?
			function() { return tween.cur(); } :
			function() { return jQuery.css( elem, prop, "" ); },
		initial = currentValue(),
		unit = valueParts && valueParts[ 3 ] || ( jQuery.cssNumber[ prop ] ? "" : "px" ),

		// Starting value computation is required for potential unit mismatches
		initialInUnit = ( jQuery.cssNumber[ prop ] || unit !== "px" && +initial ) &&
			rcssNum.exec( jQuery.css( elem, prop ) );

	if ( initialInUnit && initialInUnit[ 3 ] !== unit ) {

		// Trust units reported by jQuery.css
		unit = unit || initialInUnit[ 3 ];

		// Make sure we update the tween properties later on
		valueParts = valueParts || [];

		// Iteratively approximate from a nonzero starting point
		initialInUnit = +initial || 1;

		do {

			// If previous iteration zeroed out, double until we get *something*.
			// Use string for doubling so we don't accidentally see scale as unchanged below
			scale = scale || ".5";

			// Adjust and apply
			initialInUnit = initialInUnit / scale;
			jQuery.style( elem, prop, initialInUnit + unit );

		// Update scale, tolerating zero or NaN from tween.cur()
		// Break the loop if scale is unchanged or perfect, or if we've just had enough.
		} while (
			scale !== ( scale = currentValue() / initial ) && scale !== 1 && --maxIterations
		);
	}

	if ( valueParts ) {
		initialInUnit = +initialInUnit || +initial || 0;

		// Apply relative offset (+=/-=) if specified
		adjusted = valueParts[ 1 ] ?
			initialInUnit + ( valueParts[ 1 ] + 1 ) * valueParts[ 2 ] :
			+valueParts[ 2 ];
		if ( tween ) {
			tween.unit = unit;
			tween.start = initialInUnit;
			tween.end = adjusted;
		}
	}
	return adjusted;
}


// Multifunctional method to get and set values of a collection
// The value/s can optionally be executed if it's a function
var access = function( elems, fn, key, value, chainable, emptyGet, raw ) {
	var i = 0,
		length = elems.length,
		bulk = key == null;

	// Sets many values
	if ( jQuery.type( key ) === "object" ) {
		chainable = true;
		for ( i in key ) {
			access( elems, fn, i, key[ i ], true, emptyGet, raw );
		}

	// Sets one value
	} else if ( value !== undefined ) {
		chainable = true;

		if ( !jQuery.isFunction( value ) ) {
			raw = true;
		}

		if ( bulk ) {

			// Bulk operations run against the entire set
			if ( raw ) {
				fn.call( elems, value );
				fn = null;

			// ...except when executing function values
			} else {
				bulk = fn;
				fn = function( elem, key, value ) {
					return bulk.call( jQuery( elem ), value );
				};
			}
		}

		if ( fn ) {
			for ( ; i < length; i++ ) {
				fn(
					elems[ i ],
					key,
					raw ? value : value.call( elems[ i ], i, fn( elems[ i ], key ) )
				);
			}
		}
	}

	return chainable ?
		elems :

		// Gets
		bulk ?
			fn.call( elems ) :
			length ? fn( elems[ 0 ], key ) : emptyGet;
};
var rcheckableType = ( /^(?:checkbox|radio)$/i );

var rtagName = ( /<([\w:-]+)/ );

var rscriptType = ( /^$|\/(?:java|ecma)script/i );

var rleadingWhitespace = ( /^\s+/ );

var nodeNames = "abbr|article|aside|audio|bdi|canvas|data|datalist|" +
		"details|dialog|figcaption|figure|footer|header|hgroup|main|" +
		"mark|meter|nav|output|picture|progress|section|summary|template|time|video";



function createSafeFragment( document ) {
	var list = nodeNames.split( "|" ),
		safeFrag = document.createDocumentFragment();

	if ( safeFrag.createElement ) {
		while ( list.length ) {
			safeFrag.createElement(
				list.pop()
			);
		}
	}
	return safeFrag;
}


( function() {
	var div = document.createElement( "div" ),
		fragment = document.createDocumentFragment(),
		input = document.createElement( "input" );

	// Setup
	div.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";

	// IE strips leading whitespace when .innerHTML is used
	support.leadingWhitespace = div.firstChild.nodeType === 3;

	// Make sure that tbody elements aren't automatically inserted
	// IE will insert them into empty tables
	support.tbody = !div.getElementsByTagName( "tbody" ).length;

	// Make sure that link elements get serialized correctly by innerHTML
	// This requires a wrapper element in IE
	support.htmlSerialize = !!div.getElementsByTagName( "link" ).length;

	// Makes sure cloning an html5 element does not cause problems
	// Where outerHTML is undefined, this still works
	support.html5Clone =
		document.createElement( "nav" ).cloneNode( true ).outerHTML !== "<:nav></:nav>";

	// Check if a disconnected checkbox will retain its checked
	// value of true after appended to the DOM (IE6/7)
	input.type = "checkbox";
	input.checked = true;
	fragment.appendChild( input );
	support.appendChecked = input.checked;

	// Make sure textarea (and checkbox) defaultValue is properly cloned
	// Support: IE6-IE11+
	div.innerHTML = "<textarea>x</textarea>";
	support.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;

	// #11217 - WebKit loses check when the name is after the checked attribute
	fragment.appendChild( div );

	// Support: Windows Web Apps (WWA)
	// `name` and `type` must use .setAttribute for WWA (#14901)
	input = document.createElement( "input" );
	input.setAttribute( "type", "radio" );
	input.setAttribute( "checked", "checked" );
	input.setAttribute( "name", "t" );

	div.appendChild( input );

	// Support: Safari 5.1, iOS 5.1, Android 4.x, Android 2.3
	// old WebKit doesn't clone checked state correctly in fragments
	support.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;

	// Support: IE<9
	// Cloned elements keep attachEvent handlers, we use addEventListener on IE9+
	support.noCloneEvent = !!div.addEventListener;

	// Support: IE<9
	// Since attributes and properties are the same in IE,
	// cleanData must set properties to undefined rather than use removeAttribute
	div[ jQuery.expando ] = 1;
	support.attributes = !div.getAttribute( jQuery.expando );
} )();


// We have to close these tags to support XHTML (#13200)
var wrapMap = {
	option: [ 1, "<select multiple='multiple'>", "</select>" ],
	legend: [ 1, "<fieldset>", "</fieldset>" ],
	area: [ 1, "<map>", "</map>" ],

	// Support: IE8
	param: [ 1, "<object>", "</object>" ],
	thead: [ 1, "<table>", "</table>" ],
	tr: [ 2, "<table><tbody>", "</tbody></table>" ],
	col: [ 2, "<table><tbody></tbody><colgroup>", "</colgroup></table>" ],
	td: [ 3, "<table><tbody><tr>", "</tr></tbody></table>" ],

	// IE6-8 can't serialize link, script, style, or any html5 (NoScope) tags,
	// unless wrapped in a div with non-breaking characters in front of it.
	_default: support.htmlSerialize ? [ 0, "", "" ] : [ 1, "X<div>", "</div>" ]
};

// Support: IE8-IE9
wrapMap.optgroup = wrapMap.option;

wrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;
wrapMap.th = wrapMap.td;


function getAll( context, tag ) {
	var elems, elem,
		i = 0,
		found = typeof context.getElementsByTagName !== "undefined" ?
			context.getElementsByTagName( tag || "*" ) :
			typeof context.querySelectorAll !== "undefined" ?
				context.querySelectorAll( tag || "*" ) :
				undefined;

	if ( !found ) {
		for ( found = [], elems = context.childNodes || context;
			( elem = elems[ i ] ) != null;
			i++
		) {
			if ( !tag || jQuery.nodeName( elem, tag ) ) {
				found.push( elem );
			} else {
				jQuery.merge( found, getAll( elem, tag ) );
			}
		}
	}

	return tag === undefined || tag && jQuery.nodeName( context, tag ) ?
		jQuery.merge( [ context ], found ) :
		found;
}


// Mark scripts as having already been evaluated
function setGlobalEval( elems, refElements ) {
	var elem,
		i = 0;
	for ( ; ( elem = elems[ i ] ) != null; i++ ) {
		jQuery._data(
			elem,
			"globalEval",
			!refElements || jQuery._data( refElements[ i ], "globalEval" )
		);
	}
}


var rhtml = /<|&#?\w+;/,
	rtbody = /<tbody/i;

function fixDefaultChecked( elem ) {
	if ( rcheckableType.test( elem.type ) ) {
		elem.defaultChecked = elem.checked;
	}
}

function buildFragment( elems, context, scripts, selection, ignored ) {
	var j, elem, contains,
		tmp, tag, tbody, wrap,
		l = elems.length,

		// Ensure a safe fragment
		safe = createSafeFragment( context ),

		nodes = [],
		i = 0;

	for ( ; i < l; i++ ) {
		elem = elems[ i ];

		if ( elem || elem === 0 ) {

			// Add nodes directly
			if ( jQuery.type( elem ) === "object" ) {
				jQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );

			// Convert non-html into a text node
			} else if ( !rhtml.test( elem ) ) {
				nodes.push( context.createTextNode( elem ) );

			// Convert html into DOM nodes
			} else {
				tmp = tmp || safe.appendChild( context.createElement( "div" ) );

				// Deserialize a standard representation
				tag = ( rtagName.exec( elem ) || [ "", "" ] )[ 1 ].toLowerCase();
				wrap = wrapMap[ tag ] || wrapMap._default;

				tmp.innerHTML = wrap[ 1 ] + jQuery.htmlPrefilter( elem ) + wrap[ 2 ];

				// Descend through wrappers to the right content
				j = wrap[ 0 ];
				while ( j-- ) {
					tmp = tmp.lastChild;
				}

				// Manually add leading whitespace removed by IE
				if ( !support.leadingWhitespace && rleadingWhitespace.test( elem ) ) {
					nodes.push( context.createTextNode( rleadingWhitespace.exec( elem )[ 0 ] ) );
				}

				// Remove IE's autoinserted <tbody> from table fragments
				if ( !support.tbody ) {

					// String was a <table>, *may* have spurious <tbody>
					elem = tag === "table" && !rtbody.test( elem ) ?
						tmp.firstChild :

						// String was a bare <thead> or <tfoot>
						wrap[ 1 ] === "<table>" && !rtbody.test( elem ) ?
							tmp :
							0;

					j = elem && elem.childNodes.length;
					while ( j-- ) {
						if ( jQuery.nodeName( ( tbody = elem.childNodes[ j ] ), "tbody" ) &&
							!tbody.childNodes.length ) {

							elem.removeChild( tbody );
						}
					}
				}

				jQuery.merge( nodes, tmp.childNodes );

				// Fix #12392 for WebKit and IE > 9
				tmp.textContent = "";

				// Fix #12392 for oldIE
				while ( tmp.firstChild ) {
					tmp.removeChild( tmp.firstChild );
				}

				// Remember the top-level container for proper cleanup
				tmp = safe.lastChild;
			}
		}
	}

	// Fix #11356: Clear elements from fragment
	if ( tmp ) {
		safe.removeChild( tmp );
	}

	// Reset defaultChecked for any radios and checkboxes
	// about to be appended to the DOM in IE 6/7 (#8060)
	if ( !support.appendChecked ) {
		jQuery.grep( getAll( nodes, "input" ), fixDefaultChecked );
	}

	i = 0;
	while ( ( elem = nodes[ i++ ] ) ) {

		// Skip elements already in the context collection (trac-4087)
		if ( selection && jQuery.inArray( elem, selection ) > -1 ) {
			if ( ignored ) {
				ignored.push( elem );
			}

			continue;
		}

		contains = jQuery.contains( elem.ownerDocument, elem );

		// Append to fragment
		tmp = getAll( safe.appendChild( elem ), "script" );

		// Preserve script evaluation history
		if ( contains ) {
			setGlobalEval( tmp );
		}

		// Capture executables
		if ( scripts ) {
			j = 0;
			while ( ( elem = tmp[ j++ ] ) ) {
				if ( rscriptType.test( elem.type || "" ) ) {
					scripts.push( elem );
				}
			}
		}
	}

	tmp = null;

	return safe;
}


( function() {
	var i, eventName,
		div = document.createElement( "div" );

	// Support: IE<9 (lack submit/change bubble), Firefox (lack focus(in | out) events)
	for ( i in { submit: true, change: true, focusin: true } ) {
		eventName = "on" + i;

		if ( !( support[ i ] = eventName in window ) ) {

			// Beware of CSP restrictions (https://developer.mozilla.org/en/Security/CSP)
			div.setAttribute( eventName, "t" );
			support[ i ] = div.attributes[ eventName ].expando === false;
		}
	}

	// Null elements to avoid leaks in IE.
	div = null;
} )();


var rformElems = /^(?:input|select|textarea)$/i,
	rkeyEvent = /^key/,
	rmouseEvent = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,
	rfocusMorph = /^(?:focusinfocus|focusoutblur)$/,
	rtypenamespace = /^([^.]*)(?:\.(.+)|)/;

function returnTrue() {
	return true;
}

function returnFalse() {
	return false;
}

// Support: IE9
// See #13393 for more info
function safeActiveElement() {
	try {
		return document.activeElement;
	} catch ( err ) { }
}

function on( elem, types, selector, data, fn, one ) {
	var origFn, type;

	// Types can be a map of types/handlers
	if ( typeof types === "object" ) {

		// ( types-Object, selector, data )
		if ( typeof selector !== "string" ) {

			// ( types-Object, data )
			data = data || selector;
			selector = undefined;
		}
		for ( type in types ) {
			on( elem, type, selector, data, types[ type ], one );
		}
		return elem;
	}

	if ( data == null && fn == null ) {

		// ( types, fn )
		fn = selector;
		data = selector = undefined;
	} else if ( fn == null ) {
		if ( typeof selector === "string" ) {

			// ( types, selector, fn )
			fn = data;
			data = undefined;
		} else {

			// ( types, data, fn )
			fn = data;
			data = selector;
			selector = undefined;
		}
	}
	if ( fn === false ) {
		fn = returnFalse;
	} else if ( !fn ) {
		return elem;
	}

	if ( one === 1 ) {
		origFn = fn;
		fn = function( event ) {

			// Can use an empty set, since event contains the info
			jQuery().off( event );
			return origFn.apply( this, arguments );
		};

		// Use same guid so caller can remove using origFn
		fn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );
	}
	return elem.each( function() {
		jQuery.event.add( this, types, fn, data, selector );
	} );
}

/*
 * Helper functions for managing events -- not part of the public interface.
 * Props to Dean Edwards' addEvent library for many of the ideas.
 */
jQuery.event = {

	global: {},

	add: function( elem, types, handler, data, selector ) {
		var tmp, events, t, handleObjIn,
			special, eventHandle, handleObj,
			handlers, type, namespaces, origType,
			elemData = jQuery._data( elem );

		// Don't attach events to noData or text/comment nodes (but allow plain objects)
		if ( !elemData ) {
			return;
		}

		// Caller can pass in an object of custom data in lieu of the handler
		if ( handler.handler ) {
			handleObjIn = handler;
			handler = handleObjIn.handler;
			selector = handleObjIn.selector;
		}

		// Make sure that the handler has a unique ID, used to find/remove it later
		if ( !handler.guid ) {
			handler.guid = jQuery.guid++;
		}

		// Init the element's event structure and main handler, if this is the first
		if ( !( events = elemData.events ) ) {
			events = elemData.events = {};
		}
		if ( !( eventHandle = elemData.handle ) ) {
			eventHandle = elemData.handle = function( e ) {

				// Discard the second event of a jQuery.event.trigger() and
				// when an event is called after a page has unloaded
				return typeof jQuery !== "undefined" &&
					( !e || jQuery.event.triggered !== e.type ) ?
					jQuery.event.dispatch.apply( eventHandle.elem, arguments ) :
					undefined;
			};

			// Add elem as a property of the handle fn to prevent a memory leak
			// with IE non-native events
			eventHandle.elem = elem;
		}

		// Handle multiple events separated by a space
		types = ( types || "" ).match( rnotwhite ) || [ "" ];
		t = types.length;
		while ( t-- ) {
			tmp = rtypenamespace.exec( types[ t ] ) || [];
			type = origType = tmp[ 1 ];
			namespaces = ( tmp[ 2 ] || "" ).split( "." ).sort();

			// There *must* be a type, no attaching namespace-only handlers
			if ( !type ) {
				continue;
			}

			// If event changes its type, use the special event handlers for the changed type
			special = jQuery.event.special[ type ] || {};

			// If selector defined, determine special event api type, otherwise given type
			type = ( selector ? special.delegateType : special.bindType ) || type;

			// Update special based on newly reset type
			special = jQuery.event.special[ type ] || {};

			// handleObj is passed to all event handlers
			handleObj = jQuery.extend( {
				type: type,
				origType: origType,
				data: data,
				handler: handler,
				guid: handler.guid,
				selector: selector,
				needsContext: selector && jQuery.expr.match.needsContext.test( selector ),
				namespace: namespaces.join( "." )
			}, handleObjIn );

			// Init the event handler queue if we're the first
			if ( !( handlers = events[ type ] ) ) {
				handlers = events[ type ] = [];
				handlers.delegateCount = 0;

				// Only use addEventListener/attachEvent if the special events handler returns false
				if ( !special.setup ||
					special.setup.call( elem, data, namespaces, eventHandle ) === false ) {

					// Bind the global event handler to the element
					if ( elem.addEventListener ) {
						elem.addEventListener( type, eventHandle, false );

					} else if ( elem.attachEvent ) {
						elem.attachEvent( "on" + type, eventHandle );
					}
				}
			}

			if ( special.add ) {
				special.add.call( elem, handleObj );

				if ( !handleObj.handler.guid ) {
					handleObj.handler.guid = handler.guid;
				}
			}

			// Add to the element's handler list, delegates in front
			if ( selector ) {
				handlers.splice( handlers.delegateCount++, 0, handleObj );
			} else {
				handlers.push( handleObj );
			}

			// Keep track of which events have ever been used, for event optimization
			jQuery.event.global[ type ] = true;
		}

		// Nullify elem to prevent memory leaks in IE
		elem = null;
	},

	// Detach an event or set of events from an element
	remove: function( elem, types, handler, selector, mappedTypes ) {
		var j, handleObj, tmp,
			origCount, t, events,
			special, handlers, type,
			namespaces, origType,
			elemData = jQuery.hasData( elem ) && jQuery._data( elem );

		if ( !elemData || !( events = elemData.events ) ) {
			return;
		}

		// Once for each type.namespace in types; type may be omitted
		types = ( types || "" ).match( rnotwhite ) || [ "" ];
		t = types.length;
		while ( t-- ) {
			tmp = rtypenamespace.exec( types[ t ] ) || [];
			type = origType = tmp[ 1 ];
			namespaces = ( tmp[ 2 ] || "" ).split( "." ).sort();

			// Unbind all events (on this namespace, if provided) for the element
			if ( !type ) {
				for ( type in events ) {
					jQuery.event.remove( elem, type + types[ t ], handler, selector, true );
				}
				continue;
			}

			special = jQuery.event.special[ type ] || {};
			type = ( selector ? special.delegateType : special.bindType ) || type;
			handlers = events[ type ] || [];
			tmp = tmp[ 2 ] &&
				new RegExp( "(^|\\.)" + namespaces.join( "\\.(?:.*\\.|)" ) + "(\\.|$)" );

			// Remove matching events
			origCount = j = handlers.length;
			while ( j-- ) {
				handleObj = handlers[ j ];

				if ( ( mappedTypes || origType === handleObj.origType ) &&
					( !handler || handler.guid === handleObj.guid ) &&
					( !tmp || tmp.test( handleObj.namespace ) ) &&
					( !selector || selector === handleObj.selector ||
						selector === "**" && handleObj.selector ) ) {
					handlers.splice( j, 1 );

					if ( handleObj.selector ) {
						handlers.delegateCount--;
					}
					if ( special.remove ) {
						special.remove.call( elem, handleObj );
					}
				}
			}

			// Remove generic event handler if we removed something and no more handlers exist
			// (avoids potential for endless recursion during removal of special event handlers)
			if ( origCount && !handlers.length ) {
				if ( !special.teardown ||
					special.teardown.call( elem, namespaces, elemData.handle ) === false ) {

					jQuery.removeEvent( elem, type, elemData.handle );
				}

				delete events[ type ];
			}
		}

		// Remove the expando if it's no longer used
		if ( jQuery.isEmptyObject( events ) ) {
			delete elemData.handle;

			// removeData also checks for emptiness and clears the expando if empty
			// so use it instead of delete
			jQuery._removeData( elem, "events" );
		}
	},

	trigger: function( event, data, elem, onlyHandlers ) {
		var handle, ontype, cur,
			bubbleType, special, tmp, i,
			eventPath = [ elem || document ],
			type = hasOwn.call( event, "type" ) ? event.type : event,
			namespaces = hasOwn.call( event, "namespace" ) ? event.namespace.split( "." ) : [];

		cur = tmp = elem = elem || document;

		// Don't do events on text and comment nodes
		if ( elem.nodeType === 3 || elem.nodeType === 8 ) {
			return;
		}

		// focus/blur morphs to focusin/out; ensure we're not firing them right now
		if ( rfocusMorph.test( type + jQuery.event.triggered ) ) {
			return;
		}

		if ( type.indexOf( "." ) > -1 ) {

			// Namespaced trigger; create a regexp to match event type in handle()
			namespaces = type.split( "." );
			type = namespaces.shift();
			namespaces.sort();
		}
		ontype = type.indexOf( ":" ) < 0 && "on" + type;

		// Caller can pass in a jQuery.Event object, Object, or just an event type string
		event = event[ jQuery.expando ] ?
			event :
			new jQuery.Event( type, typeof event === "object" && event );

		// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)
		event.isTrigger = onlyHandlers ? 2 : 3;
		event.namespace = namespaces.join( "." );
		event.rnamespace = event.namespace ?
			new RegExp( "(^|\\.)" + namespaces.join( "\\.(?:.*\\.|)" ) + "(\\.|$)" ) :
			null;

		// Clean up the event in case it is being reused
		event.result = undefined;
		if ( !event.target ) {
			event.target = elem;
		}

		// Clone any incoming data and prepend the event, creating the handler arg list
		data = data == null ?
			[ event ] :
			jQuery.makeArray( data, [ event ] );

		// Allow special events to draw outside the lines
		special = jQuery.event.special[ type ] || {};
		if ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {
			return;
		}

		// Determine event propagation path in advance, per W3C events spec (#9951)
		// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)
		if ( !onlyHandlers && !special.noBubble && !jQuery.isWindow( elem ) ) {

			bubbleType = special.delegateType || type;
			if ( !rfocusMorph.test( bubbleType + type ) ) {
				cur = cur.parentNode;
			}
			for ( ; cur; cur = cur.parentNode ) {
				eventPath.push( cur );
				tmp = cur;
			}

			// Only add window if we got to document (e.g., not plain obj or detached DOM)
			if ( tmp === ( elem.ownerDocument || document ) ) {
				eventPath.push( tmp.defaultView || tmp.parentWindow || window );
			}
		}

		// Fire handlers on the event path
		i = 0;
		while ( ( cur = eventPath[ i++ ] ) && !event.isPropagationStopped() ) {

			event.type = i > 1 ?
				bubbleType :
				special.bindType || type;

			// jQuery handler
			handle = ( jQuery._data( cur, "events" ) || {} )[ event.type ] &&
				jQuery._data( cur, "handle" );

			if ( handle ) {
				handle.apply( cur, data );
			}

			// Native handler
			handle = ontype && cur[ ontype ];
			if ( handle && handle.apply && acceptData( cur ) ) {
				event.result = handle.apply( cur, data );
				if ( event.result === false ) {
					event.preventDefault();
				}
			}
		}
		event.type = type;

		// If nobody prevented the default action, do it now
		if ( !onlyHandlers && !event.isDefaultPrevented() ) {

			if (
				( !special._default ||
				 special._default.apply( eventPath.pop(), data ) === false
				) && acceptData( elem )
			) {

				// Call a native DOM method on the target with the same name name as the event.
				// Can't use an .isFunction() check here because IE6/7 fails that test.
				// Don't do default actions on window, that's where global variables be (#6170)
				if ( ontype && elem[ type ] && !jQuery.isWindow( elem ) ) {

					// Don't re-trigger an onFOO event when we call its FOO() method
					tmp = elem[ ontype ];

					if ( tmp ) {
						elem[ ontype ] = null;
					}

					// Prevent re-triggering of the same event, since we already bubbled it above
					jQuery.event.triggered = type;
					try {
						elem[ type ]();
					} catch ( e ) {

						// IE<9 dies on focus/blur to hidden element (#1486,#12518)
						// only reproducible on winXP IE8 native, not IE9 in IE8 mode
					}
					jQuery.event.triggered = undefined;

					if ( tmp ) {
						elem[ ontype ] = tmp;
					}
				}
			}
		}

		return event.result;
	},

	dispatch: function( event ) {

		// Make a writable jQuery.Event from the native event object
		event = jQuery.event.fix( event );

		var i, j, ret, matched, handleObj,
			handlerQueue = [],
			args = slice.call( arguments ),
			handlers = ( jQuery._data( this, "events" ) || {} )[ event.type ] || [],
			special = jQuery.event.special[ event.type ] || {};

		// Use the fix-ed jQuery.Event rather than the (read-only) native event
		args[ 0 ] = event;
		event.delegateTarget = this;

		// Call the preDispatch hook for the mapped type, and let it bail if desired
		if ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {
			return;
		}

		// Determine handlers
		handlerQueue = jQuery.event.handlers.call( this, event, handlers );

		// Run delegates first; they may want to stop propagation beneath us
		i = 0;
		while ( ( matched = handlerQueue[ i++ ] ) && !event.isPropagationStopped() ) {
			event.currentTarget = matched.elem;

			j = 0;
			while ( ( handleObj = matched.handlers[ j++ ] ) &&
				!event.isImmediatePropagationStopped() ) {

				// Triggered event must either 1) have no namespace, or 2) have namespace(s)
				// a subset or equal to those in the bound event (both can have no namespace).
				if ( !event.rnamespace || event.rnamespace.test( handleObj.namespace ) ) {

					event.handleObj = handleObj;
					event.data = handleObj.data;

					ret = ( ( jQuery.event.special[ handleObj.origType ] || {} ).handle ||
						handleObj.handler ).apply( matched.elem, args );

					if ( ret !== undefined ) {
						if ( ( event.result = ret ) === false ) {
							event.preventDefault();
							event.stopPropagation();
						}
					}
				}
			}
		}

		// Call the postDispatch hook for the mapped type
		if ( special.postDispatch ) {
			special.postDispatch.call( this, event );
		}

		return event.result;
	},

	handlers: function( event, handlers ) {
		var i, matches, sel, handleObj,
			handlerQueue = [],
			delegateCount = handlers.delegateCount,
			cur = event.target;

		// Support (at least): Chrome, IE9
		// Find delegate handlers
		// Black-hole SVG <use> instance trees (#13180)
		//
		// Support: Firefox<=42+
		// Avoid non-left-click in FF but don't block IE radio events (#3861, gh-2343)
		if ( delegateCount && cur.nodeType &&
			( event.type !== "click" || isNaN( event.button ) || event.button < 1 ) ) {

			/* jshint eqeqeq: false */
			for ( ; cur != this; cur = cur.parentNode || this ) {
				/* jshint eqeqeq: true */

				// Don't check non-elements (#13208)
				// Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)
				if ( cur.nodeType === 1 && ( cur.disabled !== true || event.type !== "click" ) ) {
					matches = [];
					for ( i = 0; i < delegateCount; i++ ) {
						handleObj = handlers[ i ];

						// Don't conflict with Object.prototype properties (#13203)
						sel = handleObj.selector + " ";

						if ( matches[ sel ] === undefined ) {
							matches[ sel ] = handleObj.needsContext ?
								jQuery( sel, this ).index( cur ) > -1 :
								jQuery.find( sel, this, null, [ cur ] ).length;
						}
						if ( matches[ sel ] ) {
							matches.push( handleObj );
						}
					}
					if ( matches.length ) {
						handlerQueue.push( { elem: cur, handlers: matches } );
					}
				}
			}
		}

		// Add the remaining (directly-bound) handlers
		if ( delegateCount < handlers.length ) {
			handlerQueue.push( { elem: this, handlers: handlers.slice( delegateCount ) } );
		}

		return handlerQueue;
	},

	fix: function( event ) {
		if ( event[ jQuery.expando ] ) {
			return event;
		}

		// Create a writable copy of the event object and normalize some properties
		var i, prop, copy,
			type = event.type,
			originalEvent = event,
			fixHook = this.fixHooks[ type ];

		if ( !fixHook ) {
			this.fixHooks[ type ] = fixHook =
				rmouseEvent.test( type ) ? this.mouseHooks :
				rkeyEvent.test( type ) ? this.keyHooks :
				{};
		}
		copy = fixHook.props ? this.props.concat( fixHook.props ) : this.props;

		event = new jQuery.Event( originalEvent );

		i = copy.length;
		while ( i-- ) {
			prop = copy[ i ];
			event[ prop ] = originalEvent[ prop ];
		}

		// Support: IE<9
		// Fix target property (#1925)
		if ( !event.target ) {
			event.target = originalEvent.srcElement || document;
		}

		// Support: Safari 6-8+
		// Target should not be a text node (#504, #13143)
		if ( event.target.nodeType === 3 ) {
			event.target = event.target.parentNode;
		}

		// Support: IE<9
		// For mouse/key events, metaKey==false if it's undefined (#3368, #11328)
		event.metaKey = !!event.metaKey;

		return fixHook.filter ? fixHook.filter( event, originalEvent ) : event;
	},

	// Includes some event props shared by KeyEvent and MouseEvent
	props: ( "altKey bubbles cancelable ctrlKey currentTarget detail eventPhase " +
		"metaKey relatedTarget shiftKey target timeStamp view which" ).split( " " ),

	fixHooks: {},

	keyHooks: {
		props: "char charCode key keyCode".split( " " ),
		filter: function( event, original ) {

			// Add which for key events
			if ( event.which == null ) {
				event.which = original.charCode != null ? original.charCode : original.keyCode;
			}

			return event;
		}
	},

	mouseHooks: {
		props: ( "button buttons clientX clientY fromElement offsetX offsetY " +
			"pageX pageY screenX screenY toElement" ).split( " " ),
		filter: function( event, original ) {
			var body, eventDoc, doc,
				button = original.button,
				fromElement = original.fromElement;

			// Calculate pageX/Y if missing and clientX/Y available
			if ( event.pageX == null && original.clientX != null ) {
				eventDoc = event.target.ownerDocument || document;
				doc = eventDoc.documentElement;
				body = eventDoc.body;

				event.pageX = original.clientX +
					( doc && doc.scrollLeft || body && body.scrollLeft || 0 ) -
					( doc && doc.clientLeft || body && body.clientLeft || 0 );
				event.pageY = original.clientY +
					( doc && doc.scrollTop  || body && body.scrollTop  || 0 ) -
					( doc && doc.clientTop  || body && body.clientTop  || 0 );
			}

			// Add relatedTarget, if necessary
			if ( !event.relatedTarget && fromElement ) {
				event.relatedTarget = fromElement === event.target ?
					original.toElement :
					fromElement;
			}

			// Add which for click: 1 === left; 2 === middle; 3 === right
			// Note: button is not normalized, so don't use it
			if ( !event.which && button !== undefined ) {
				event.which = ( button & 1 ? 1 : ( button & 2 ? 3 : ( button & 4 ? 2 : 0 ) ) );
			}

			return event;
		}
	},

	special: {
		load: {

			// Prevent triggered image.load events from bubbling to window.load
			noBubble: true
		},
		focus: {

			// Fire native event if possible so blur/focus sequence is correct
			trigger: function() {
				if ( this !== safeActiveElement() && this.focus ) {
					try {
						this.focus();
						return false;
					} catch ( e ) {

						// Support: IE<9
						// If we error on focus to hidden element (#1486, #12518),
						// let .trigger() run the handlers
					}
				}
			},
			delegateType: "focusin"
		},
		blur: {
			trigger: function() {
				if ( this === safeActiveElement() && this.blur ) {
					this.blur();
					return false;
				}
			},
			delegateType: "focusout"
		},
		click: {

			// For checkbox, fire native event so checked state will be right
			trigger: function() {
				if ( jQuery.nodeName( this, "input" ) && this.type === "checkbox" && this.click ) {
					this.click();
					return false;
				}
			},

			// For cross-browser consistency, don't fire native .click() on links
			_default: function( event ) {
				return jQuery.nodeName( event.target, "a" );
			}
		},

		beforeunload: {
			postDispatch: function( event ) {

				// Support: Firefox 20+
				// Firefox doesn't alert if the returnValue field is not set.
				if ( event.result !== undefined && event.originalEvent ) {
					event.originalEvent.returnValue = event.result;
				}
			}
		}
	},

	// Piggyback on a donor event to simulate a different one
	simulate: function( type, elem, event ) {
		var e = jQuery.extend(
			new jQuery.Event(),
			event,
			{
				type: type,
				isSimulated: true

				// Previously, `originalEvent: {}` was set here, so stopPropagation call
				// would not be triggered on donor event, since in our own
				// jQuery.event.stopPropagation function we had a check for existence of
				// originalEvent.stopPropagation method, so, consequently it would be a noop.
				//
				// Guard for simulated events was moved to jQuery.event.stopPropagation function
				// since `originalEvent` should point to the original event for the
				// constancy with other events and for more focused logic
			}
		);

		jQuery.event.trigger( e, null, elem );

		if ( e.isDefaultPrevented() ) {
			event.preventDefault();
		}
	}
};

jQuery.removeEvent = document.removeEventListener ?
	function( elem, type, handle ) {

		// This "if" is needed for plain objects
		if ( elem.removeEventListener ) {
			elem.removeEventListener( type, handle );
		}
	} :
	function( elem, type, handle ) {
		var name = "on" + type;

		if ( elem.detachEvent ) {

			// #8545, #7054, preventing memory leaks for custom events in IE6-8
			// detachEvent needed property on element, by name of that event,
			// to properly expose it to GC
			if ( typeof elem[ name ] === "undefined" ) {
				elem[ name ] = null;
			}

			elem.detachEvent( name, handle );
		}
	};

jQuery.Event = function( src, props ) {

	// Allow instantiation without the 'new' keyword
	if ( !( this instanceof jQuery.Event ) ) {
		return new jQuery.Event( src, props );
	}

	// Event object
	if ( src && src.type ) {
		this.originalEvent = src;
		this.type = src.type;

		// Events bubbling up the document may have been marked as prevented
		// by a handler lower down the tree; reflect the correct value.
		this.isDefaultPrevented = src.defaultPrevented ||
				src.defaultPrevented === undefined &&

				// Support: IE < 9, Android < 4.0
				src.returnValue === false ?
			returnTrue :
			returnFalse;

	// Event type
	} else {
		this.type = src;
	}

	// Put explicitly provided properties onto the event object
	if ( props ) {
		jQuery.extend( this, props );
	}

	// Create a timestamp if incoming event doesn't have one
	this.timeStamp = src && src.timeStamp || jQuery.now();

	// Mark it as fixed
	this[ jQuery.expando ] = true;
};

// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding
// http://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html
jQuery.Event.prototype = {
	constructor: jQuery.Event,
	isDefaultPrevented: returnFalse,
	isPropagationStopped: returnFalse,
	isImmediatePropagationStopped: returnFalse,

	preventDefault: function() {
		var e = this.originalEvent;

		this.isDefaultPrevented = returnTrue;
		if ( !e ) {
			return;
		}

		// If preventDefault exists, run it on the original event
		if ( e.preventDefault ) {
			e.preventDefault();

		// Support: IE
		// Otherwise set the returnValue property of the original event to false
		} else {
			e.returnValue = false;
		}
	},
	stopPropagation: function() {
		var e = this.originalEvent;

		this.isPropagationStopped = returnTrue;

		if ( !e || this.isSimulated ) {
			return;
		}

		// If stopPropagation exists, run it on the original event
		if ( e.stopPropagation ) {
			e.stopPropagation();
		}

		// Support: IE
		// Set the cancelBubble property of the original event to true
		e.cancelBubble = true;
	},
	stopImmediatePropagation: function() {
		var e = this.originalEvent;

		this.isImmediatePropagationStopped = returnTrue;

		if ( e && e.stopImmediatePropagation ) {
			e.stopImmediatePropagation();
		}

		this.stopPropagation();
	}
};

// Create mouseenter/leave events using mouseover/out and event-time checks
// so that event delegation works in jQuery.
// Do the same for pointerenter/pointerleave and pointerover/pointerout
//
// Support: Safari 7 only
// Safari sends mouseenter too often; see:
// https://code.google.com/p/chromium/issues/detail?id=470258
// for the description of the bug (it existed in older Chrome versions as well).
jQuery.each( {
	mouseenter: "mouseover",
	mouseleave: "mouseout",
	pointerenter: "pointerover",
	pointerleave: "pointerout"
}, function( orig, fix ) {
	jQuery.event.special[ orig ] = {
		delegateType: fix,
		bindType: fix,

		handle: function( event ) {
			var ret,
				target = this,
				related = event.relatedTarget,
				handleObj = event.handleObj;

			// For mouseenter/leave call the handler if related is outside the target.
			// NB: No relatedTarget if the mouse left/entered the browser window
			if ( !related || ( related !== target && !jQuery.contains( target, related ) ) ) {
				event.type = handleObj.origType;
				ret = handleObj.handler.apply( this, arguments );
				event.type = fix;
			}
			return ret;
		}
	};
} );

// IE submit delegation
if ( !support.submit ) {

	jQuery.event.special.submit = {
		setup: function() {

			// Only need this for delegated form submit events
			if ( jQuery.nodeName( this, "form" ) ) {
				return false;
			}

			// Lazy-add a submit handler when a descendant form may potentially be submitted
			jQuery.event.add( this, "click._submit keypress._submit", function( e ) {

				// Node name check avoids a VML-related crash in IE (#9807)
				var elem = e.target,
					form = jQuery.nodeName( elem, "input" ) || jQuery.nodeName( elem, "button" ) ?

						// Support: IE <=8
						// We use jQuery.prop instead of elem.form
						// to allow fixing the IE8 delegated submit issue (gh-2332)
						// by 3rd party polyfills/workarounds.
						jQuery.prop( elem, "form" ) :
						undefined;

				if ( form && !jQuery._data( form, "submit" ) ) {
					jQuery.event.add( form, "submit._submit", function( event ) {
						event._submitBubble = true;
					} );
					jQuery._data( form, "submit", true );
				}
			} );

			// return undefined since we don't need an event listener
		},

		postDispatch: function( event ) {

			// If form was submitted by the user, bubble the event up the tree
			if ( event._submitBubble ) {
				delete event._submitBubble;
				if ( this.parentNode && !event.isTrigger ) {
					jQuery.event.simulate( "submit", this.parentNode, event );
				}
			}
		},

		teardown: function() {

			// Only need this for delegated form submit events
			if ( jQuery.nodeName( this, "form" ) ) {
				return false;
			}

			// Remove delegated handlers; cleanData eventually reaps submit handlers attached above
			jQuery.event.remove( this, "._submit" );
		}
	};
}

// IE change delegation and checkbox/radio fix
if ( !support.change ) {

	jQuery.event.special.change = {

		setup: function() {

			if ( rformElems.test( this.nodeName ) ) {

				// IE doesn't fire change on a check/radio until blur; trigger it on click
				// after a propertychange. Eat the blur-change in special.change.handle.
				// This still fires onchange a second time for check/radio after blur.
				if ( this.type === "checkbox" || this.type === "radio" ) {
					jQuery.event.add( this, "propertychange._change", function( event ) {
						if ( event.originalEvent.propertyName === "checked" ) {
							this._justChanged = true;
						}
					} );
					jQuery.event.add( this, "click._change", function( event ) {
						if ( this._justChanged && !event.isTrigger ) {
							this._justChanged = false;
						}

						// Allow triggered, simulated change events (#11500)
						jQuery.event.simulate( "change", this, event );
					} );
				}
				return false;
			}

			// Delegated event; lazy-add a change handler on descendant inputs
			jQuery.event.add( this, "beforeactivate._change", function( e ) {
				var elem = e.target;

				if ( rformElems.test( elem.nodeName ) && !jQuery._data( elem, "change" ) ) {
					jQuery.event.add( elem, "change._change", function( event ) {
						if ( this.parentNode && !event.isSimulated && !event.isTrigger ) {
							jQuery.event.simulate( "change", this.parentNode, event );
						}
					} );
					jQuery._data( elem, "change", true );
				}
			} );
		},

		handle: function( event ) {
			var elem = event.target;

			// Swallow native change events from checkbox/radio, we already triggered them above
			if ( this !== elem || event.isSimulated || event.isTrigger ||
				( elem.type !== "radio" && elem.type !== "checkbox" ) ) {

				return event.handleObj.handler.apply( this, arguments );
			}
		},

		teardown: function() {
			jQuery.event.remove( this, "._change" );

			return !rformElems.test( this.nodeName );
		}
	};
}

// Support: Firefox
// Firefox doesn't have focus(in | out) events
// Related ticket - https://bugzilla.mozilla.org/show_bug.cgi?id=687787
//
// Support: Chrome, Safari
// focus(in | out) events fire after focus & blur events,
// which is spec violation - http://www.w3.org/TR/DOM-Level-3-Events/#events-focusevent-event-order
// Related ticket - https://code.google.com/p/chromium/issues/detail?id=449857
if ( !support.focusin ) {
	jQuery.each( { focus: "focusin", blur: "focusout" }, function( orig, fix ) {

		// Attach a single capturing handler on the document while someone wants focusin/focusout
		var handler = function( event ) {
			jQuery.event.simulate( fix, event.target, jQuery.event.fix( event ) );
		};

		jQuery.event.special[ fix ] = {
			setup: function() {
				var doc = this.ownerDocument || this,
					attaches = jQuery._data( doc, fix );

				if ( !attaches ) {
					doc.addEventListener( orig, handler, true );
				}
				jQuery._data( doc, fix, ( attaches || 0 ) + 1 );
			},
			teardown: function() {
				var doc = this.ownerDocument || this,
					attaches = jQuery._data( doc, fix ) - 1;

				if ( !attaches ) {
					doc.removeEventListener( orig, handler, true );
					jQuery._removeData( doc, fix );
				} else {
					jQuery._data( doc, fix, attaches );
				}
			}
		};
	} );
}

jQuery.fn.extend( {

	on: function( types, selector, data, fn ) {
		return on( this, types, selector, data, fn );
	},
	one: function( types, selector, data, fn ) {
		return on( this, types, selector, data, fn, 1 );
	},
	off: function( types, selector, fn ) {
		var handleObj, type;
		if ( types && types.preventDefault && types.handleObj ) {

			// ( event )  dispatched jQuery.Event
			handleObj = types.handleObj;
			jQuery( types.delegateTarget ).off(
				handleObj.namespace ?
					handleObj.origType + "." + handleObj.namespace :
					handleObj.origType,
				handleObj.selector,
				handleObj.handler
			);
			return this;
		}
		if ( typeof types === "object" ) {

			// ( types-object [, selector] )
			for ( type in types ) {
				this.off( type, selector, types[ type ] );
			}
			return this;
		}
		if ( selector === false || typeof selector === "function" ) {

			// ( types [, fn] )
			fn = selector;
			selector = undefined;
		}
		if ( fn === false ) {
			fn = returnFalse;
		}
		return this.each( function() {
			jQuery.event.remove( this, types, fn, selector );
		} );
	},

	trigger: function( type, data ) {
		return this.each( function() {
			jQuery.event.trigger( type, data, this );
		} );
	},
	triggerHandler: function( type, data ) {
		var elem = this[ 0 ];
		if ( elem ) {
			return jQuery.event.trigger( type, data, elem, true );
		}
	}
} );


var rinlinejQuery = / jQuery\d+="(?:null|\d+)"/g,
	rnoshimcache = new RegExp( "<(?:" + nodeNames + ")[\\s/>]", "i" ),
	rxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,

	// Support: IE 10-11, Edge 10240+
	// In IE/Edge using regex groups here causes severe slowdowns.
	// See https://connect.microsoft.com/IE/feedback/details/1736512/
	rnoInnerhtml = /<script|<style|<link/i,

	// checked="checked" or checked
	rchecked = /checked\s*(?:[^=]|=\s*.checked.)/i,
	rscriptTypeMasked = /^true\/(.*)/,
	rcleanScript = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,
	safeFragment = createSafeFragment( document ),
	fragmentDiv = safeFragment.appendChild( document.createElement( "div" ) );

// Support: IE<8
// Manipulating tables requires a tbody
function manipulationTarget( elem, content ) {
	return jQuery.nodeName( elem, "table" ) &&
		jQuery.nodeName( content.nodeType !== 11 ? content : content.firstChild, "tr" ) ?

		elem.getElementsByTagName( "tbody" )[ 0 ] ||
			elem.appendChild( elem.ownerDocument.createElement( "tbody" ) ) :
		elem;
}

// Replace/restore the type attribute of script elements for safe DOM manipulation
function disableScript( elem ) {
	elem.type = ( jQuery.find.attr( elem, "type" ) !== null ) + "/" + elem.type;
	return elem;
}
function restoreScript( elem ) {
	var match = rscriptTypeMasked.exec( elem.type );
	if ( match ) {
		elem.type = match[ 1 ];
	} else {
		elem.removeAttribute( "type" );
	}
	return elem;
}

function cloneCopyEvent( src, dest ) {
	if ( dest.nodeType !== 1 || !jQuery.hasData( src ) ) {
		return;
	}

	var type, i, l,
		oldData = jQuery._data( src ),
		curData = jQuery._data( dest, oldData ),
		events = oldData.events;

	if ( events ) {
		delete curData.handle;
		curData.events = {};

		for ( type in events ) {
			for ( i = 0, l = events[ type ].length; i < l; i++ ) {
				jQuery.event.add( dest, type, events[ type ][ i ] );
			}
		}
	}

	// make the cloned public data object a copy from the original
	if ( curData.data ) {
		curData.data = jQuery.extend( {}, curData.data );
	}
}

function fixCloneNodeIssues( src, dest ) {
	var nodeName, e, data;

	// We do not need to do anything for non-Elements
	if ( dest.nodeType !== 1 ) {
		return;
	}

	nodeName = dest.nodeName.toLowerCase();

	// IE6-8 copies events bound via attachEvent when using cloneNode.
	if ( !support.noCloneEvent && dest[ jQuery.expando ] ) {
		data = jQuery._data( dest );

		for ( e in data.events ) {
			jQuery.removeEvent( dest, e, data.handle );
		}

		// Event data gets referenced instead of copied if the expando gets copied too
		dest.removeAttribute( jQuery.expando );
	}

	// IE blanks contents when cloning scripts, and tries to evaluate newly-set text
	if ( nodeName === "script" && dest.text !== src.text ) {
		disableScript( dest ).text = src.text;
		restoreScript( dest );

	// IE6-10 improperly clones children of object elements using classid.
	// IE10 throws NoModificationAllowedError if parent is null, #12132.
	} else if ( nodeName === "object" ) {
		if ( dest.parentNode ) {
			dest.outerHTML = src.outerHTML;
		}

		// This path appears unavoidable for IE9. When cloning an object
		// element in IE9, the outerHTML strategy above is not sufficient.
		// If the src has innerHTML and the destination does not,
		// copy the src.innerHTML into the dest.innerHTML. #10324
		if ( support.html5Clone && ( src.innerHTML && !jQuery.trim( dest.innerHTML ) ) ) {
			dest.innerHTML = src.innerHTML;
		}

	} else if ( nodeName === "input" && rcheckableType.test( src.type ) ) {

		// IE6-8 fails to persist the checked state of a cloned checkbox
		// or radio button. Worse, IE6-7 fail to give the cloned element
		// a checked appearance if the defaultChecked value isn't also set

		dest.defaultChecked = dest.checked = src.checked;

		// IE6-7 get confused and end up setting the value of a cloned
		// checkbox/radio button to an empty string instead of "on"
		if ( dest.value !== src.value ) {
			dest.value = src.value;
		}

	// IE6-8 fails to return the selected option to the default selected
	// state when cloning options
	} else if ( nodeName === "option" ) {
		dest.defaultSelected = dest.selected = src.defaultSelected;

	// IE6-8 fails to set the defaultValue to the correct value when
	// cloning other types of input fields
	} else if ( nodeName === "input" || nodeName === "textarea" ) {
		dest.defaultValue = src.defaultValue;
	}
}

function domManip( collection, args, callback, ignored ) {

	// Flatten any nested arrays
	args = concat.apply( [], args );

	var first, node, hasScripts,
		scripts, doc, fragment,
		i = 0,
		l = collection.length,
		iNoClone = l - 1,
		value = args[ 0 ],
		isFunction = jQuery.isFunction( value );

	// We can't cloneNode fragments that contain checked, in WebKit
	if ( isFunction ||
			( l > 1 && typeof value === "string" &&
				!support.checkClone && rchecked.test( value ) ) ) {
		return collection.each( function( index ) {
			var self = collection.eq( index );
			if ( isFunction ) {
				args[ 0 ] = value.call( this, index, self.html() );
			}
			domManip( self, args, callback, ignored );
		} );
	}

	if ( l ) {
		fragment = buildFragment( args, collection[ 0 ].ownerDocument, false, collection, ignored );
		first = fragment.firstChild;

		if ( fragment.childNodes.length === 1 ) {
			fragment = first;
		}

		// Require either new content or an interest in ignored elements to invoke the callback
		if ( first || ignored ) {
			scripts = jQuery.map( getAll( fragment, "script" ), disableScript );
			hasScripts = scripts.length;

			// Use the original fragment for the last item
			// instead of the first because it can end up
			// being emptied incorrectly in certain situations (#8070).
			for ( ; i < l; i++ ) {
				node = fragment;

				if ( i !== iNoClone ) {
					node = jQuery.clone( node, true, true );

					// Keep references to cloned scripts for later restoration
					if ( hasScripts ) {

						// Support: Android<4.1, PhantomJS<2
						// push.apply(_, arraylike) throws on ancient WebKit
						jQuery.merge( scripts, getAll( node, "script" ) );
					}
				}

				callback.call( collection[ i ], node, i );
			}

			if ( hasScripts ) {
				doc = scripts[ scripts.length - 1 ].ownerDocument;

				// Reenable scripts
				jQuery.map( scripts, restoreScript );

				// Evaluate executable scripts on first document insertion
				for ( i = 0; i < hasScripts; i++ ) {
					node = scripts[ i ];
					if ( rscriptType.test( node.type || "" ) &&
						!jQuery._data( node, "globalEval" ) &&
						jQuery.contains( doc, node ) ) {

						if ( node.src ) {

							// Optional AJAX dependency, but won't run scripts if not present
							if ( jQuery._evalUrl ) {
								jQuery._evalUrl( node.src );
							}
						} else {
							jQuery.globalEval(
								( node.text || node.textContent || node.innerHTML || "" )
									.replace( rcleanScript, "" )
							);
						}
					}
				}
			}

			// Fix #11809: Avoid leaking memory
			fragment = first = null;
		}
	}

	return collection;
}

function remove( elem, selector, keepData ) {
	var node,
		elems = selector ? jQuery.filter( selector, elem ) : elem,
		i = 0;

	for ( ; ( node = elems[ i ] ) != null; i++ ) {

		if ( !keepData && node.nodeType === 1 ) {
			jQuery.cleanData( getAll( node ) );
		}

		if ( node.parentNode ) {
			if ( keepData && jQuery.contains( node.ownerDocument, node ) ) {
				setGlobalEval( getAll( node, "script" ) );
			}
			node.parentNode.removeChild( node );
		}
	}

	return elem;
}

jQuery.extend( {
	htmlPrefilter: function( html ) {
		return html.replace( rxhtmlTag, "<$1></$2>" );
	},

	clone: function( elem, dataAndEvents, deepDataAndEvents ) {
		var destElements, node, clone, i, srcElements,
			inPage = jQuery.contains( elem.ownerDocument, elem );

		if ( support.html5Clone || jQuery.isXMLDoc( elem ) ||
			!rnoshimcache.test( "<" + elem.nodeName + ">" ) ) {

			clone = elem.cloneNode( true );

		// IE<=8 does not properly clone detached, unknown element nodes
		} else {
			fragmentDiv.innerHTML = elem.outerHTML;
			fragmentDiv.removeChild( clone = fragmentDiv.firstChild );
		}

		if ( ( !support.noCloneEvent || !support.noCloneChecked ) &&
				( elem.nodeType === 1 || elem.nodeType === 11 ) && !jQuery.isXMLDoc( elem ) ) {

			// We eschew Sizzle here for performance reasons: http://jsperf.com/getall-vs-sizzle/2
			destElements = getAll( clone );
			srcElements = getAll( elem );

			// Fix all IE cloning issues
			for ( i = 0; ( node = srcElements[ i ] ) != null; ++i ) {

				// Ensure that the destination node is not null; Fixes #9587
				if ( destElements[ i ] ) {
					fixCloneNodeIssues( node, destElements[ i ] );
				}
			}
		}

		// Copy the events from the original to the clone
		if ( dataAndEvents ) {
			if ( deepDataAndEvents ) {
				srcElements = srcElements || getAll( elem );
				destElements = destElements || getAll( clone );

				for ( i = 0; ( node = srcElements[ i ] ) != null; i++ ) {
					cloneCopyEvent( node, destElements[ i ] );
				}
			} else {
				cloneCopyEvent( elem, clone );
			}
		}

		// Preserve script evaluation history
		destElements = getAll( clone, "script" );
		if ( destElements.length > 0 ) {
			setGlobalEval( destElements, !inPage && getAll( elem, "script" ) );
		}

		destElements = srcElements = node = null;

		// Return the cloned set
		return clone;
	},

	cleanData: function( elems, /* internal */ forceAcceptData ) {
		var elem, type, id, data,
			i = 0,
			internalKey = jQuery.expando,
			cache = jQuery.cache,
			attributes = support.attributes,
			special = jQuery.event.special;

		for ( ; ( elem = elems[ i ] ) != null; i++ ) {
			if ( forceAcceptData || acceptData( elem ) ) {

				id = elem[ internalKey ];
				data = id && cache[ id ];

				if ( data ) {
					if ( data.events ) {
						for ( type in data.events ) {
							if ( special[ type ] ) {
								jQuery.event.remove( elem, type );

							// This is a shortcut to avoid jQuery.event.remove's overhead
							} else {
								jQuery.removeEvent( elem, type, data.handle );
							}
						}
					}

					// Remove cache only if it was not already removed by jQuery.event.remove
					if ( cache[ id ] ) {

						delete cache[ id ];

						// Support: IE<9
						// IE does not allow us to delete expando properties from nodes
						// IE creates expando attributes along with the property
						// IE does not have a removeAttribute function on Document nodes
						if ( !attributes && typeof elem.removeAttribute !== "undefined" ) {
							elem.removeAttribute( internalKey );

						// Webkit & Blink performance suffers when deleting properties
						// from DOM nodes, so set to undefined instead
						// https://code.google.com/p/chromium/issues/detail?id=378607
						} else {
							elem[ internalKey ] = undefined;
						}

						deletedIds.push( id );
					}
				}
			}
		}
	}
} );

jQuery.fn.extend( {

	// Keep domManip exposed until 3.0 (gh-2225)
	domManip: domManip,

	detach: function( selector ) {
		return remove( this, selector, true );
	},

	remove: function( selector ) {
		return remove( this, selector );
	},

	text: function( value ) {
		return access( this, function( value ) {
			return value === undefined ?
				jQuery.text( this ) :
				this.empty().append(
					( this[ 0 ] && this[ 0 ].ownerDocument || document ).createTextNode( value )
				);
		}, null, value, arguments.length );
	},

	append: function() {
		return domManip( this, arguments, function( elem ) {
			if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
				var target = manipulationTarget( this, elem );
				target.appendChild( elem );
			}
		} );
	},

	prepend: function() {
		return domManip( this, arguments, function( elem ) {
			if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
				var target = manipulationTarget( this, elem );
				target.insertBefore( elem, target.firstChild );
			}
		} );
	},

	before: function() {
		return domManip( this, arguments, function( elem ) {
			if ( this.parentNode ) {
				this.parentNode.insertBefore( elem, this );
			}
		} );
	},

	after: function() {
		return domManip( this, arguments, function( elem ) {
			if ( this.parentNode ) {
				this.parentNode.insertBefore( elem, this.nextSibling );
			}
		} );
	},

	empty: function() {
		var elem,
			i = 0;

		for ( ; ( elem = this[ i ] ) != null; i++ ) {

			// Remove element nodes and prevent memory leaks
			if ( elem.nodeType === 1 ) {
				jQuery.cleanData( getAll( elem, false ) );
			}

			// Remove any remaining nodes
			while ( elem.firstChild ) {
				elem.removeChild( elem.firstChild );
			}

			// If this is a select, ensure that it displays empty (#12336)
			// Support: IE<9
			if ( elem.options && jQuery.nodeName( elem, "select" ) ) {
				elem.options.length = 0;
			}
		}

		return this;
	},

	clone: function( dataAndEvents, deepDataAndEvents ) {
		dataAndEvents = dataAndEvents == null ? false : dataAndEvents;
		deepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;

		return this.map( function() {
			return jQuery.clone( this, dataAndEvents, deepDataAndEvents );
		} );
	},

	html: function( value ) {
		return access( this, function( value ) {
			var elem = this[ 0 ] || {},
				i = 0,
				l = this.length;

			if ( value === undefined ) {
				return elem.nodeType === 1 ?
					elem.innerHTML.replace( rinlinejQuery, "" ) :
					undefined;
			}

			// See if we can take a shortcut and just use innerHTML
			if ( typeof value === "string" && !rnoInnerhtml.test( value ) &&
				( support.htmlSerialize || !rnoshimcache.test( value )  ) &&
				( support.leadingWhitespace || !rleadingWhitespace.test( value ) ) &&
				!wrapMap[ ( rtagName.exec( value ) || [ "", "" ] )[ 1 ].toLowerCase() ] ) {

				value = jQuery.htmlPrefilter( value );

				try {
					for ( ; i < l; i++ ) {

						// Remove element nodes and prevent memory leaks
						elem = this[ i ] || {};
						if ( elem.nodeType === 1 ) {
							jQuery.cleanData( getAll( elem, false ) );
							elem.innerHTML = value;
						}
					}

					elem = 0;

				// If using innerHTML throws an exception, use the fallback method
				} catch ( e ) {}
			}

			if ( elem ) {
				this.empty().append( value );
			}
		}, null, value, arguments.length );
	},

	replaceWith: function() {
		var ignored = [];

		// Make the changes, replacing each non-ignored context element with the new content
		return domManip( this, arguments, function( elem ) {
			var parent = this.parentNode;

			if ( jQuery.inArray( this, ignored ) < 0 ) {
				jQuery.cleanData( getAll( this ) );
				if ( parent ) {
					parent.replaceChild( elem, this );
				}
			}

		// Force callback invocation
		}, ignored );
	}
} );

jQuery.each( {
	appendTo: "append",
	prependTo: "prepend",
	insertBefore: "before",
	insertAfter: "after",
	replaceAll: "replaceWith"
}, function( name, original ) {
	jQuery.fn[ name ] = function( selector ) {
		var elems,
			i = 0,
			ret = [],
			insert = jQuery( selector ),
			last = insert.length - 1;

		for ( ; i <= last; i++ ) {
			elems = i === last ? this : this.clone( true );
			jQuery( insert[ i ] )[ original ]( elems );

			// Modern browsers can apply jQuery collections as arrays, but oldIE needs a .get()
			push.apply( ret, elems.get() );
		}

		return this.pushStack( ret );
	};
} );


var iframe,
	elemdisplay = {

		// Support: Firefox
		// We have to pre-define these values for FF (#10227)
		HTML: "block",
		BODY: "block"
	};

/**
 * Retrieve the actual display of a element
 * @param {String} name nodeName of the element
 * @param {Object} doc Document object
 */

// Called only from within defaultDisplay
function actualDisplay( name, doc ) {
	var elem = jQuery( doc.createElement( name ) ).appendTo( doc.body ),

		display = jQuery.css( elem[ 0 ], "display" );

	// We don't have any data stored on the element,
	// so use "detach" method as fast way to get rid of the element
	elem.detach();

	return display;
}

/**
 * Try to determine the default display value of an element
 * @param {String} nodeName
 */
function defaultDisplay( nodeName ) {
	var doc = document,
		display = elemdisplay[ nodeName ];

	if ( !display ) {
		display = actualDisplay( nodeName, doc );

		// If the simple way fails, read from inside an iframe
		if ( display === "none" || !display ) {

			// Use the already-created iframe if possible
			iframe = ( iframe || jQuery( "<iframe frameborder='0' width='0' height='0'/>" ) )
				.appendTo( doc.documentElement );

			// Always write a new HTML skeleton so Webkit and Firefox don't choke on reuse
			doc = ( iframe[ 0 ].contentWindow || iframe[ 0 ].contentDocument ).document;

			// Support: IE
			doc.write();
			doc.close();

			display = actualDisplay( nodeName, doc );
			iframe.detach();
		}

		// Store the correct default display
		elemdisplay[ nodeName ] = display;
	}

	return display;
}
var rmargin = ( /^margin/ );

var rnumnonpx = new RegExp( "^(" + pnum + ")(?!px)[a-z%]+$", "i" );

var swap = function( elem, options, callback, args ) {
	var ret, name,
		old = {};

	// Remember the old values, and insert the new ones
	for ( name in options ) {
		old[ name ] = elem.style[ name ];
		elem.style[ name ] = options[ name ];
	}

	ret = callback.apply( elem, args || [] );

	// Revert the old values
	for ( name in options ) {
		elem.style[ name ] = old[ name ];
	}

	return ret;
};


var documentElement = document.documentElement;



( function() {
	var pixelPositionVal, pixelMarginRightVal, boxSizingReliableVal,
		reliableHiddenOffsetsVal, reliableMarginRightVal, reliableMarginLeftVal,
		container = document.createElement( "div" ),
		div = document.createElement( "div" );

	// Finish early in limited (non-browser) environments
	if ( !div.style ) {
		return;
	}

	div.style.cssText = "float:left;opacity:.5";

	// Support: IE<9
	// Make sure that element opacity exists (as opposed to filter)
	support.opacity = div.style.opacity === "0.5";

	// Verify style float existence
	// (IE uses styleFloat instead of cssFloat)
	support.cssFloat = !!div.style.cssFloat;

	div.style.backgroundClip = "content-box";
	div.cloneNode( true ).style.backgroundClip = "";
	support.clearCloneStyle = div.style.backgroundClip === "content-box";

	container = document.createElement( "div" );
	container.style.cssText = "border:0;width:8px;height:0;top:0;left:-9999px;" +
		"padding:0;margin-top:1px;position:absolute";
	div.innerHTML = "";
	container.appendChild( div );

	// Support: Firefox<29, Android 2.3
	// Vendor-prefix box-sizing
	support.boxSizing = div.style.boxSizing === "" || div.style.MozBoxSizing === "" ||
		div.style.WebkitBoxSizing === "";

	jQuery.extend( support, {
		reliableHiddenOffsets: function() {
			if ( pixelPositionVal == null ) {
				computeStyleTests();
			}
			return reliableHiddenOffsetsVal;
		},

		boxSizingReliable: function() {

			// We're checking for pixelPositionVal here instead of boxSizingReliableVal
			// since that compresses better and they're computed together anyway.
			if ( pixelPositionVal == null ) {
				computeStyleTests();
			}
			return boxSizingReliableVal;
		},

		pixelMarginRight: function() {

			// Support: Android 4.0-4.3
			if ( pixelPositionVal == null ) {
				computeStyleTests();
			}
			return pixelMarginRightVal;
		},

		pixelPosition: function() {
			if ( pixelPositionVal == null ) {
				computeStyleTests();
			}
			return pixelPositionVal;
		},

		reliableMarginRight: function() {

			// Support: Android 2.3
			if ( pixelPositionVal == null ) {
				computeStyleTests();
			}
			return reliableMarginRightVal;
		},

		reliableMarginLeft: function() {

			// Support: IE <=8 only, Android 4.0 - 4.3 only, Firefox <=3 - 37
			if ( pixelPositionVal == null ) {
				computeStyleTests();
			}
			return reliableMarginLeftVal;
		}
	} );

	function computeStyleTests() {
		var contents, divStyle,
			documentElement = document.documentElement;

		// Setup
		documentElement.appendChild( container );

		div.style.cssText =

			// Support: Android 2.3
			// Vendor-prefix box-sizing
			"-webkit-box-sizing:border-box;box-sizing:border-box;" +
			"position:relative;display:block;" +
			"margin:auto;border:1px;padding:1px;" +
			"top:1%;width:50%";

		// Support: IE<9
		// Assume reasonable values in the absence of getComputedStyle
		pixelPositionVal = boxSizingReliableVal = reliableMarginLeftVal = false;
		pixelMarginRightVal = reliableMarginRightVal = true;

		// Check for getComputedStyle so that this code is not run in IE<9.
		if ( window.getComputedStyle ) {
			divStyle = window.getComputedStyle( div );
			pixelPositionVal = ( divStyle || {} ).top !== "1%";
			reliableMarginLeftVal = ( divStyle || {} ).marginLeft === "2px";
			boxSizingReliableVal = ( divStyle || { width: "4px" } ).width === "4px";

			// Support: Android 4.0 - 4.3 only
			// Some styles come back with percentage values, even though they shouldn't
			div.style.marginRight = "50%";
			pixelMarginRightVal = ( divStyle || { marginRight: "4px" } ).marginRight === "4px";

			// Support: Android 2.3 only
			// Div with explicit width and no margin-right incorrectly
			// gets computed margin-right based on width of container (#3333)
			// WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right
			contents = div.appendChild( document.createElement( "div" ) );

			// Reset CSS: box-sizing; display; margin; border; padding
			contents.style.cssText = div.style.cssText =

				// Support: Android 2.3
				// Vendor-prefix box-sizing
				"-webkit-box-sizing:content-box;-moz-box-sizing:content-box;" +
				"box-sizing:content-box;display:block;margin:0;border:0;padding:0";
			contents.style.marginRight = contents.style.width = "0";
			div.style.width = "1px";

			reliableMarginRightVal =
				!parseFloat( ( window.getComputedStyle( contents ) || {} ).marginRight );

			div.removeChild( contents );
		}

		// Support: IE6-8
		// First check that getClientRects works as expected
		// Check if table cells still have offsetWidth/Height when they are set
		// to display:none and there are still other visible table cells in a
		// table row; if so, offsetWidth/Height are not reliable for use when
		// determining if an element has been hidden directly using
		// display:none (it is still safe to use offsets if a parent element is
		// hidden; don safety goggles and see bug #4512 for more information).
		div.style.display = "none";
		reliableHiddenOffsetsVal = div.getClientRects().length === 0;
		if ( reliableHiddenOffsetsVal ) {
			div.style.display = "";
			div.innerHTML = "<table><tr><td></td><td>t</td></tr></table>";
			div.childNodes[ 0 ].style.borderCollapse = "separate";
			contents = div.getElementsByTagName( "td" );
			contents[ 0 ].style.cssText = "margin:0;border:0;padding:0;display:none";
			reliableHiddenOffsetsVal = contents[ 0 ].offsetHeight === 0;
			if ( reliableHiddenOffsetsVal ) {
				contents[ 0 ].style.display = "";
				contents[ 1 ].style.display = "none";
				reliableHiddenOffsetsVal = contents[ 0 ].offsetHeight === 0;
			}
		}

		// Teardown
		documentElement.removeChild( container );
	}

} )();


var getStyles, curCSS,
	rposition = /^(top|right|bottom|left)$/;

if ( window.getComputedStyle ) {
	getStyles = function( elem ) {

		// Support: IE<=11+, Firefox<=30+ (#15098, #14150)
		// IE throws on elements created in popups
		// FF meanwhile throws on frame elements through "defaultView.getComputedStyle"
		var view = elem.ownerDocument.defaultView;

		if ( !view || !view.opener ) {
			view = window;
		}

		return view.getComputedStyle( elem );
	};

	curCSS = function( elem, name, computed ) {
		var width, minWidth, maxWidth, ret,
			style = elem.style;

		computed = computed || getStyles( elem );

		// getPropertyValue is only needed for .css('filter') in IE9, see #12537
		ret = computed ? computed.getPropertyValue( name ) || computed[ name ] : undefined;

		// Support: Opera 12.1x only
		// Fall back to style even without computed
		// computed is undefined for elems on document fragments
		if ( ( ret === "" || ret === undefined ) && !jQuery.contains( elem.ownerDocument, elem ) ) {
			ret = jQuery.style( elem, name );
		}

		if ( computed ) {

			// A tribute to the "awesome hack by Dean Edwards"
			// Chrome < 17 and Safari 5.0 uses "computed value"
			// instead of "used value" for margin-right
			// Safari 5.1.7 (at least) returns percentage for a larger set of values,
			// but width seems to be reliably pixels
			// this is against the CSSOM draft spec:
			// http://dev.w3.org/csswg/cssom/#resolved-values
			if ( !support.pixelMarginRight() && rnumnonpx.test( ret ) && rmargin.test( name ) ) {

				// Remember the original values
				width = style.width;
				minWidth = style.minWidth;
				maxWidth = style.maxWidth;

				// Put in the new values to get a computed value out
				style.minWidth = style.maxWidth = style.width = ret;
				ret = computed.width;

				// Revert the changed values
				style.width = width;
				style.minWidth = minWidth;
				style.maxWidth = maxWidth;
			}
		}

		// Support: IE
		// IE returns zIndex value as an integer.
		return ret === undefined ?
			ret :
			ret + "";
	};
} else if ( documentElement.currentStyle ) {
	getStyles = function( elem ) {
		return elem.currentStyle;
	};

	curCSS = function( elem, name, computed ) {
		var left, rs, rsLeft, ret,
			style = elem.style;

		computed = computed || getStyles( elem );
		ret = computed ? computed[ name ] : undefined;

		// Avoid setting ret to empty string here
		// so we don't default to auto
		if ( ret == null && style && style[ name ] ) {
			ret = style[ name ];
		}

		// From the awesome hack by Dean Edwards
		// http://erik.eae.net/archives/2007/07/27/18.54.15/#comment-102291

		// If we're not dealing with a regular pixel number
		// but a number that has a weird ending, we need to convert it to pixels
		// but not position css attributes, as those are
		// proportional to the parent element instead
		// and we can't measure the parent instead because it
		// might trigger a "stacking dolls" problem
		if ( rnumnonpx.test( ret ) && !rposition.test( name ) ) {

			// Remember the original values
			left = style.left;
			rs = elem.runtimeStyle;
			rsLeft = rs && rs.left;

			// Put in the new values to get a computed value out
			if ( rsLeft ) {
				rs.left = elem.currentStyle.left;
			}
			style.left = name === "fontSize" ? "1em" : ret;
			ret = style.pixelLeft + "px";

			// Revert the changed values
			style.left = left;
			if ( rsLeft ) {
				rs.left = rsLeft;
			}
		}

		// Support: IE
		// IE returns zIndex value as an integer.
		return ret === undefined ?
			ret :
			ret + "" || "auto";
	};
}




function addGetHookIf( conditionFn, hookFn ) {

	// Define the hook, we'll check on the first run if it's really needed.
	return {
		get: function() {
			if ( conditionFn() ) {

				// Hook not needed (or it's not possible to use it due
				// to missing dependency), remove it.
				delete this.get;
				return;
			}

			// Hook needed; redefine it so that the support test is not executed again.
			return ( this.get = hookFn ).apply( this, arguments );
		}
	};
}


var

		ralpha = /alpha\([^)]*\)/i,
	ropacity = /opacity\s*=\s*([^)]*)/i,

	// swappable if display is none or starts with table except
	// "table", "table-cell", or "table-caption"
	// see here for display values:
	// https://developer.mozilla.org/en-US/docs/CSS/display
	rdisplayswap = /^(none|table(?!-c[ea]).+)/,
	rnumsplit = new RegExp( "^(" + pnum + ")(.*)$", "i" ),

	cssShow = { position: "absolute", visibility: "hidden", display: "block" },
	cssNormalTransform = {
		letterSpacing: "0",
		fontWeight: "400"
	},

	cssPrefixes = [ "Webkit", "O", "Moz", "ms" ],
	emptyStyle = document.createElement( "div" ).style;


// return a css property mapped to a potentially vendor prefixed property
function vendorPropName( name ) {

	// shortcut for names that are not vendor prefixed
	if ( name in emptyStyle ) {
		return name;
	}

	// check for vendor prefixed names
	var capName = name.charAt( 0 ).toUpperCase() + name.slice( 1 ),
		i = cssPrefixes.length;

	while ( i-- ) {
		name = cssPrefixes[ i ] + capName;
		if ( name in emptyStyle ) {
			return name;
		}
	}
}

function showHide( elements, show ) {
	var display, elem, hidden,
		values = [],
		index = 0,
		length = elements.length;

	for ( ; index < length; index++ ) {
		elem = elements[ index ];
		if ( !elem.style ) {
			continue;
		}

		values[ index ] = jQuery._data( elem, "olddisplay" );
		display = elem.style.display;
		if ( show ) {

			// Reset the inline display of this element to learn if it is
			// being hidden by cascaded rules or not
			if ( !values[ index ] && display === "none" ) {
				elem.style.display = "";
			}

			// Set elements which have been overridden with display: none
			// in a stylesheet to whatever the default browser style is
			// for such an element
			if ( elem.style.display === "" && isHidden( elem ) ) {
				values[ index ] =
					jQuery._data( elem, "olddisplay", defaultDisplay( elem.nodeName ) );
			}
		} else {
			hidden = isHidden( elem );

			if ( display && display !== "none" || !hidden ) {
				jQuery._data(
					elem,
					"olddisplay",
					hidden ? display : jQuery.css( elem, "display" )
				);
			}
		}
	}

	// Set the display of most of the elements in a second loop
	// to avoid the constant reflow
	for ( index = 0; index < length; index++ ) {
		elem = elements[ index ];
		if ( !elem.style ) {
			continue;
		}
		if ( !show || elem.style.display === "none" || elem.style.display === "" ) {
			elem.style.display = show ? values[ index ] || "" : "none";
		}
	}

	return elements;
}

function setPositiveNumber( elem, value, subtract ) {
	var matches = rnumsplit.exec( value );
	return matches ?

		// Guard against undefined "subtract", e.g., when used as in cssHooks
		Math.max( 0, matches[ 1 ] - ( subtract || 0 ) ) + ( matches[ 2 ] || "px" ) :
		value;
}

function augmentWidthOrHeight( elem, name, extra, isBorderBox, styles ) {
	var i = extra === ( isBorderBox ? "border" : "content" ) ?

		// If we already have the right measurement, avoid augmentation
		4 :

		// Otherwise initialize for horizontal or vertical properties
		name === "width" ? 1 : 0,

		val = 0;

	for ( ; i < 4; i += 2 ) {

		// both box models exclude margin, so add it if we want it
		if ( extra === "margin" ) {
			val += jQuery.css( elem, extra + cssExpand[ i ], true, styles );
		}

		if ( isBorderBox ) {

			// border-box includes padding, so remove it if we want content
			if ( extra === "content" ) {
				val -= jQuery.css( elem, "padding" + cssExpand[ i ], true, styles );
			}

			// at this point, extra isn't border nor margin, so remove border
			if ( extra !== "margin" ) {
				val -= jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );
			}
		} else {

			// at this point, extra isn't content, so add padding
			val += jQuery.css( elem, "padding" + cssExpand[ i ], true, styles );

			// at this point, extra isn't content nor padding, so add border
			if ( extra !== "padding" ) {
				val += jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );
			}
		}
	}

	return val;
}

function getWidthOrHeight( elem, name, extra ) {

	// Start with offset property, which is equivalent to the border-box value
	var valueIsBorderBox = true,
		val = name === "width" ? elem.offsetWidth : elem.offsetHeight,
		styles = getStyles( elem ),
		isBorderBox = support.boxSizing &&
			jQuery.css( elem, "boxSizing", false, styles ) === "border-box";

	// some non-html elements return undefined for offsetWidth, so check for null/undefined
	// svg - https://bugzilla.mozilla.org/show_bug.cgi?id=649285
	// MathML - https://bugzilla.mozilla.org/show_bug.cgi?id=491668
	if ( val <= 0 || val == null ) {

		// Fall back to computed then uncomputed css if necessary
		val = curCSS( elem, name, styles );
		if ( val < 0 || val == null ) {
			val = elem.style[ name ];
		}

		// Computed unit is not pixels. Stop here and return.
		if ( rnumnonpx.test( val ) ) {
			return val;
		}

		// we need the check for style in case a browser which returns unreliable values
		// for getComputedStyle silently falls back to the reliable elem.style
		valueIsBorderBox = isBorderBox &&
			( support.boxSizingReliable() || val === elem.style[ name ] );

		// Normalize "", auto, and prepare for extra
		val = parseFloat( val ) || 0;
	}

	// use the active box-sizing model to add/subtract irrelevant styles
	return ( val +
		augmentWidthOrHeight(
			elem,
			name,
			extra || ( isBorderBox ? "border" : "content" ),
			valueIsBorderBox,
			styles
		)
	) + "px";
}

jQuery.extend( {

	// Add in style property hooks for overriding the default
	// behavior of getting and setting a style property
	cssHooks: {
		opacity: {
			get: function( elem, computed ) {
				if ( computed ) {

					// We should always get a number back from opacity
					var ret = curCSS( elem, "opacity" );
					return ret === "" ? "1" : ret;
				}
			}
		}
	},

	// Don't automatically add "px" to these possibly-unitless properties
	cssNumber: {
		"animationIterationCount": true,
		"columnCount": true,
		"fillOpacity": true,
		"flexGrow": true,
		"flexShrink": true,
		"fontWeight": true,
		"lineHeight": true,
		"opacity": true,
		"order": true,
		"orphans": true,
		"widows": true,
		"zIndex": true,
		"zoom": true
	},

	// Add in properties whose names you wish to fix before
	// setting or getting the value
	cssProps: {

		// normalize float css property
		"float": support.cssFloat ? "cssFloat" : "styleFloat"
	},

	// Get and set the style property on a DOM Node
	style: function( elem, name, value, extra ) {

		// Don't set styles on text and comment nodes
		if ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {
			return;
		}

		// Make sure that we're working with the right name
		var ret, type, hooks,
			origName = jQuery.camelCase( name ),
			style = elem.style;

		name = jQuery.cssProps[ origName ] ||
			( jQuery.cssProps[ origName ] = vendorPropName( origName ) || origName );

		// gets hook for the prefixed version
		// followed by the unprefixed version
		hooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];

		// Check if we're setting a value
		if ( value !== undefined ) {
			type = typeof value;

			// Convert "+=" or "-=" to relative numbers (#7345)
			if ( type === "string" && ( ret = rcssNum.exec( value ) ) && ret[ 1 ] ) {
				value = adjustCSS( elem, name, ret );

				// Fixes bug #9237
				type = "number";
			}

			// Make sure that null and NaN values aren't set. See: #7116
			if ( value == null || value !== value ) {
				return;
			}

			// If a number was passed in, add the unit (except for certain CSS properties)
			if ( type === "number" ) {
				value += ret && ret[ 3 ] || ( jQuery.cssNumber[ origName ] ? "" : "px" );
			}

			// Fixes #8908, it can be done more correctly by specifing setters in cssHooks,
			// but it would mean to define eight
			// (for every problematic property) identical functions
			if ( !support.clearCloneStyle && value === "" && name.indexOf( "background" ) === 0 ) {
				style[ name ] = "inherit";
			}

			// If a hook was provided, use that value, otherwise just set the specified value
			if ( !hooks || !( "set" in hooks ) ||
				( value = hooks.set( elem, value, extra ) ) !== undefined ) {

				// Support: IE
				// Swallow errors from 'invalid' CSS values (#5509)
				try {
					style[ name ] = value;
				} catch ( e ) {}
			}

		} else {

			// If a hook was provided get the non-computed value from there
			if ( hooks && "get" in hooks &&
				( ret = hooks.get( elem, false, extra ) ) !== undefined ) {

				return ret;
			}

			// Otherwise just get the value from the style object
			return style[ name ];
		}
	},

	css: function( elem, name, extra, styles ) {
		var num, val, hooks,
			origName = jQuery.camelCase( name );

		// Make sure that we're working with the right name
		name = jQuery.cssProps[ origName ] ||
			( jQuery.cssProps[ origName ] = vendorPropName( origName ) || origName );

		// gets hook for the prefixed version
		// followed by the unprefixed version
		hooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];

		// If a hook was provided get the computed value from there
		if ( hooks && "get" in hooks ) {
			val = hooks.get( elem, true, extra );
		}

		// Otherwise, if a way to get the computed value exists, use that
		if ( val === undefined ) {
			val = curCSS( elem, name, styles );
		}

		//convert "normal" to computed value
		if ( val === "normal" && name in cssNormalTransform ) {
			val = cssNormalTransform[ name ];
		}

		// Return, converting to number if forced or a qualifier was provided and val looks numeric
		if ( extra === "" || extra ) {
			num = parseFloat( val );
			return extra === true || isFinite( num ) ? num || 0 : val;
		}
		return val;
	}
} );

jQuery.each( [ "height", "width" ], function( i, name ) {
	jQuery.cssHooks[ name ] = {
		get: function( elem, computed, extra ) {
			if ( computed ) {

				// certain elements can have dimension info if we invisibly show them
				// however, it must have a current display style that would benefit from this
				return rdisplayswap.test( jQuery.css( elem, "display" ) ) &&
					elem.offsetWidth === 0 ?
						swap( elem, cssShow, function() {
							return getWidthOrHeight( elem, name, extra );
						} ) :
						getWidthOrHeight( elem, name, extra );
			}
		},

		set: function( elem, value, extra ) {
			var styles = extra && getStyles( elem );
			return setPositiveNumber( elem, value, extra ?
				augmentWidthOrHeight(
					elem,
					name,
					extra,
					support.boxSizing &&
						jQuery.css( elem, "boxSizing", false, styles ) === "border-box",
					styles
				) : 0
			);
		}
	};
} );

if ( !support.opacity ) {
	jQuery.cssHooks.opacity = {
		get: function( elem, computed ) {

			// IE uses filters for opacity
			return ropacity.test( ( computed && elem.currentStyle ?
				elem.currentStyle.filter :
				elem.style.filter ) || "" ) ?
					( 0.01 * parseFloat( RegExp.$1 ) ) + "" :
					computed ? "1" : "";
		},

		set: function( elem, value ) {
			var style = elem.style,
				currentStyle = elem.currentStyle,
				opacity = jQuery.isNumeric( value ) ? "alpha(opacity=" + value * 100 + ")" : "",
				filter = currentStyle && currentStyle.filter || style.filter || "";

			// IE has trouble with opacity if it does not have layout
			// Force it by setting the zoom level
			style.zoom = 1;

			// if setting opacity to 1, and no other filters exist -
			// attempt to remove filter attribute #6652
			// if value === "", then remove inline opacity #12685
			if ( ( value >= 1 || value === "" ) &&
					jQuery.trim( filter.replace( ralpha, "" ) ) === "" &&
					style.removeAttribute ) {

				// Setting style.filter to null, "" & " " still leave "filter:" in the cssText
				// if "filter:" is present at all, clearType is disabled, we want to avoid this
				// style.removeAttribute is IE Only, but so apparently is this code path...
				style.removeAttribute( "filter" );

				// if there is no filter style applied in a css rule
				// or unset inline opacity, we are done
				if ( value === "" || currentStyle && !currentStyle.filter ) {
					return;
				}
			}

			// otherwise, set new filter values
			style.filter = ralpha.test( filter ) ?
				filter.replace( ralpha, opacity ) :
				filter + " " + opacity;
		}
	};
}

jQuery.cssHooks.marginRight = addGetHookIf( support.reliableMarginRight,
	function( elem, computed ) {
		if ( computed ) {
			return swap( elem, { "display": "inline-block" },
				curCSS, [ elem, "marginRight" ] );
		}
	}
);

jQuery.cssHooks.marginLeft = addGetHookIf( support.reliableMarginLeft,
	function( elem, computed ) {
		if ( computed ) {
			return (
				parseFloat( curCSS( elem, "marginLeft" ) ) ||

				// Support: IE<=11+
				// Running getBoundingClientRect on a disconnected node in IE throws an error
				// Support: IE8 only
				// getClientRects() errors on disconnected elems
				( jQuery.contains( elem.ownerDocument, elem ) ?
					elem.getBoundingClientRect().left -
						swap( elem, { marginLeft: 0 }, function() {
							return elem.getBoundingClientRect().left;
						} ) :
					0
				)
			) + "px";
		}
	}
);

// These hooks are used by animate to expand properties
jQuery.each( {
	margin: "",
	padding: "",
	border: "Width"
}, function( prefix, suffix ) {
	jQuery.cssHooks[ prefix + suffix ] = {
		expand: function( value ) {
			var i = 0,
				expanded = {},

				// assumes a single number if not a string
				parts = typeof value === "string" ? value.split( " " ) : [ value ];

			for ( ; i < 4; i++ ) {
				expanded[ prefix + cssExpand[ i ] + suffix ] =
					parts[ i ] || parts[ i - 2 ] || parts[ 0 ];
			}

			return expanded;
		}
	};

	if ( !rmargin.test( prefix ) ) {
		jQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;
	}
} );

jQuery.fn.extend( {
	css: function( name, value ) {
		return access( this, function( elem, name, value ) {
			var styles, len,
				map = {},
				i = 0;

			if ( jQuery.isArray( name ) ) {
				styles = getStyles( elem );
				len = name.length;

				for ( ; i < len; i++ ) {
					map[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );
				}

				return map;
			}

			return value !== undefined ?
				jQuery.style( elem, name, value ) :
				jQuery.css( elem, name );
		}, name, value, arguments.length > 1 );
	},
	show: function() {
		return showHide( this, true );
	},
	hide: function() {
		return showHide( this );
	},
	toggle: function( state ) {
		if ( typeof state === "boolean" ) {
			return state ? this.show() : this.hide();
		}

		return this.each( function() {
			if ( isHidden( this ) ) {
				jQuery( this ).show();
			} else {
				jQuery( this ).hide();
			}
		} );
	}
} );


function Tween( elem, options, prop, end, easing ) {
	return new Tween.prototype.init( elem, options, prop, end, easing );
}
jQuery.Tween = Tween;

Tween.prototype = {
	constructor: Tween,
	init: function( elem, options, prop, end, easing, unit ) {
		this.elem = elem;
		this.prop = prop;
		this.easing = easing || jQuery.easing._default;
		this.options = options;
		this.start = this.now = this.cur();
		this.end = end;
		this.unit = unit || ( jQuery.cssNumber[ prop ] ? "" : "px" );
	},
	cur: function() {
		var hooks = Tween.propHooks[ this.prop ];

		return hooks && hooks.get ?
			hooks.get( this ) :
			Tween.propHooks._default.get( this );
	},
	run: function( percent ) {
		var eased,
			hooks = Tween.propHooks[ this.prop ];

		if ( this.options.duration ) {
			this.pos = eased = jQuery.easing[ this.easing ](
				percent, this.options.duration * percent, 0, 1, this.options.duration
			);
		} else {
			this.pos = eased = percent;
		}
		this.now = ( this.end - this.start ) * eased + this.start;

		if ( this.options.step ) {
			this.options.step.call( this.elem, this.now, this );
		}

		if ( hooks && hooks.set ) {
			hooks.set( this );
		} else {
			Tween.propHooks._default.set( this );
		}
		return this;
	}
};

Tween.prototype.init.prototype = Tween.prototype;

Tween.propHooks = {
	_default: {
		get: function( tween ) {
			var result;

			// Use a property on the element directly when it is not a DOM element,
			// or when there is no matching style property that exists.
			if ( tween.elem.nodeType !== 1 ||
				tween.elem[ tween.prop ] != null && tween.elem.style[ tween.prop ] == null ) {
				return tween.elem[ tween.prop ];
			}

			// passing an empty string as a 3rd parameter to .css will automatically
			// attempt a parseFloat and fallback to a string if the parse fails
			// so, simple values such as "10px" are parsed to Float.
			// complex values such as "rotate(1rad)" are returned as is.
			result = jQuery.css( tween.elem, tween.prop, "" );

			// Empty strings, null, undefined and "auto" are converted to 0.
			return !result || result === "auto" ? 0 : result;
		},
		set: function( tween ) {

			// use step hook for back compat - use cssHook if its there - use .style if its
			// available and use plain properties where available
			if ( jQuery.fx.step[ tween.prop ] ) {
				jQuery.fx.step[ tween.prop ]( tween );
			} else if ( tween.elem.nodeType === 1 &&
				( tween.elem.style[ jQuery.cssProps[ tween.prop ] ] != null ||
					jQuery.cssHooks[ tween.prop ] ) ) {
				jQuery.style( tween.elem, tween.prop, tween.now + tween.unit );
			} else {
				tween.elem[ tween.prop ] = tween.now;
			}
		}
	}
};

// Support: IE <=9
// Panic based approach to setting things on disconnected nodes

Tween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {
	set: function( tween ) {
		if ( tween.elem.nodeType && tween.elem.parentNode ) {
			tween.elem[ tween.prop ] = tween.now;
		}
	}
};

jQuery.easing = {
	linear: function( p ) {
		return p;
	},
	swing: function( p ) {
		return 0.5 - Math.cos( p * Math.PI ) / 2;
	},
	_default: "swing"
};

jQuery.fx = Tween.prototype.init;

// Back Compat <1.8 extension point
jQuery.fx.step = {};




var
	fxNow, timerId,
	rfxtypes = /^(?:toggle|show|hide)$/,
	rrun = /queueHooks$/;

// Animations created synchronously will run synchronously
function createFxNow() {
	window.setTimeout( function() {
		fxNow = undefined;
	} );
	return ( fxNow = jQuery.now() );
}

// Generate parameters to create a standard animation
function genFx( type, includeWidth ) {
	var which,
		attrs = { height: type },
		i = 0;

	// if we include width, step value is 1 to do all cssExpand values,
	// if we don't include width, step value is 2 to skip over Left and Right
	includeWidth = includeWidth ? 1 : 0;
	for ( ; i < 4 ; i += 2 - includeWidth ) {
		which = cssExpand[ i ];
		attrs[ "margin" + which ] = attrs[ "padding" + which ] = type;
	}

	if ( includeWidth ) {
		attrs.opacity = attrs.width = type;
	}

	return attrs;
}

function createTween( value, prop, animation ) {
	var tween,
		collection = ( Animation.tweeners[ prop ] || [] ).concat( Animation.tweeners[ "*" ] ),
		index = 0,
		length = collection.length;
	for ( ; index < length; index++ ) {
		if ( ( tween = collection[ index ].call( animation, prop, value ) ) ) {

			// we're done with this property
			return tween;
		}
	}
}

function defaultPrefilter( elem, props, opts ) {
	/* jshint validthis: true */
	var prop, value, toggle, tween, hooks, oldfire, display, checkDisplay,
		anim = this,
		orig = {},
		style = elem.style,
		hidden = elem.nodeType && isHidden( elem ),
		dataShow = jQuery._data( elem, "fxshow" );

	// handle queue: false promises
	if ( !opts.queue ) {
		hooks = jQuery._queueHooks( elem, "fx" );
		if ( hooks.unqueued == null ) {
			hooks.unqueued = 0;
			oldfire = hooks.empty.fire;
			hooks.empty.fire = function() {
				if ( !hooks.unqueued ) {
					oldfire();
				}
			};
		}
		hooks.unqueued++;

		anim.always( function() {

			// doing this makes sure that the complete handler will be called
			// before this completes
			anim.always( function() {
				hooks.unqueued--;
				if ( !jQuery.queue( elem, "fx" ).length ) {
					hooks.empty.fire();
				}
			} );
		} );
	}

	// height/width overflow pass
	if ( elem.nodeType === 1 && ( "height" in props || "width" in props ) ) {

		// Make sure that nothing sneaks out
		// Record all 3 overflow attributes because IE does not
		// change the overflow attribute when overflowX and
		// overflowY are set to the same value
		opts.overflow = [ style.overflow, style.overflowX, style.overflowY ];

		// Set display property to inline-block for height/width
		// animations on inline elements that are having width/height animated
		display = jQuery.css( elem, "display" );

		// Test default display if display is currently "none"
		checkDisplay = display === "none" ?
			jQuery._data( elem, "olddisplay" ) || defaultDisplay( elem.nodeName ) : display;

		if ( checkDisplay === "inline" && jQuery.css( elem, "float" ) === "none" ) {

			// inline-level elements accept inline-block;
			// block-level elements need to be inline with layout
			if ( !support.inlineBlockNeedsLayout || defaultDisplay( elem.nodeName ) === "inline" ) {
				style.display = "inline-block";
			} else {
				style.zoom = 1;
			}
		}
	}

	if ( opts.overflow ) {
		style.overflow = "hidden";
		if ( !support.shrinkWrapBlocks() ) {
			anim.always( function() {
				style.overflow = opts.overflow[ 0 ];
				style.overflowX = opts.overflow[ 1 ];
				style.overflowY = opts.overflow[ 2 ];
			} );
		}
	}

	// show/hide pass
	for ( prop in props ) {
		value = props[ prop ];
		if ( rfxtypes.exec( value ) ) {
			delete props[ prop ];
			toggle = toggle || value === "toggle";
			if ( value === ( hidden ? "hide" : "show" ) ) {

				// If there is dataShow left over from a stopped hide or show
				// and we are going to proceed with show, we should pretend to be hidden
				if ( value === "show" && dataShow && dataShow[ prop ] !== undefined ) {
					hidden = true;
				} else {
					continue;
				}
			}
			orig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );

		// Any non-fx value stops us from restoring the original display value
		} else {
			display = undefined;
		}
	}

	if ( !jQuery.isEmptyObject( orig ) ) {
		if ( dataShow ) {
			if ( "hidden" in dataShow ) {
				hidden = dataShow.hidden;
			}
		} else {
			dataShow = jQuery._data( elem, "fxshow", {} );
		}

		// store state if its toggle - enables .stop().toggle() to "reverse"
		if ( toggle ) {
			dataShow.hidden = !hidden;
		}
		if ( hidden ) {
			jQuery( elem ).show();
		} else {
			anim.done( function() {
				jQuery( elem ).hide();
			} );
		}
		anim.done( function() {
			var prop;
			jQuery._removeData( elem, "fxshow" );
			for ( prop in orig ) {
				jQuery.style( elem, prop, orig[ prop ] );
			}
		} );
		for ( prop in orig ) {
			tween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );

			if ( !( prop in dataShow ) ) {
				dataShow[ prop ] = tween.start;
				if ( hidden ) {
					tween.end = tween.start;
					tween.start = prop === "width" || prop === "height" ? 1 : 0;
				}
			}
		}

	// If this is a noop like .hide().hide(), restore an overwritten display value
	} else if ( ( display === "none" ? defaultDisplay( elem.nodeName ) : display ) === "inline" ) {
		style.display = display;
	}
}

function propFilter( props, specialEasing ) {
	var index, name, easing, value, hooks;

	// camelCase, specialEasing and expand cssHook pass
	for ( index in props ) {
		name = jQuery.camelCase( index );
		easing = specialEasing[ name ];
		value = props[ index ];
		if ( jQuery.isArray( value ) ) {
			easing = value[ 1 ];
			value = props[ index ] = value[ 0 ];
		}

		if ( index !== name ) {
			props[ name ] = value;
			delete props[ index ];
		}

		hooks = jQuery.cssHooks[ name ];
		if ( hooks && "expand" in hooks ) {
			value = hooks.expand( value );
			delete props[ name ];

			// not quite $.extend, this wont overwrite keys already present.
			// also - reusing 'index' from above because we have the correct "name"
			for ( index in value ) {
				if ( !( index in props ) ) {
					props[ index ] = value[ index ];
					specialEasing[ index ] = easing;
				}
			}
		} else {
			specialEasing[ name ] = easing;
		}
	}
}

function Animation( elem, properties, options ) {
	var result,
		stopped,
		index = 0,
		length = Animation.prefilters.length,
		deferred = jQuery.Deferred().always( function() {

			// don't match elem in the :animated selector
			delete tick.elem;
		} ),
		tick = function() {
			if ( stopped ) {
				return false;
			}
			var currentTime = fxNow || createFxNow(),
				remaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),

				// Support: Android 2.3
				// Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (#12497)
				temp = remaining / animation.duration || 0,
				percent = 1 - temp,
				index = 0,
				length = animation.tweens.length;

			for ( ; index < length ; index++ ) {
				animation.tweens[ index ].run( percent );
			}

			deferred.notifyWith( elem, [ animation, percent, remaining ] );

			if ( percent < 1 && length ) {
				return remaining;
			} else {
				deferred.resolveWith( elem, [ animation ] );
				return false;
			}
		},
		animation = deferred.promise( {
			elem: elem,
			props: jQuery.extend( {}, properties ),
			opts: jQuery.extend( true, {
				specialEasing: {},
				easing: jQuery.easing._default
			}, options ),
			originalProperties: properties,
			originalOptions: options,
			startTime: fxNow || createFxNow(),
			duration: options.duration,
			tweens: [],
			createTween: function( prop, end ) {
				var tween = jQuery.Tween( elem, animation.opts, prop, end,
						animation.opts.specialEasing[ prop ] || animation.opts.easing );
				animation.tweens.push( tween );
				return tween;
			},
			stop: function( gotoEnd ) {
				var index = 0,

					// if we are going to the end, we want to run all the tweens
					// otherwise we skip this part
					length = gotoEnd ? animation.tweens.length : 0;
				if ( stopped ) {
					return this;
				}
				stopped = true;
				for ( ; index < length ; index++ ) {
					animation.tweens[ index ].run( 1 );
				}

				// resolve when we played the last frame
				// otherwise, reject
				if ( gotoEnd ) {
					deferred.notifyWith( elem, [ animation, 1, 0 ] );
					deferred.resolveWith( elem, [ animation, gotoEnd ] );
				} else {
					deferred.rejectWith( elem, [ animation, gotoEnd ] );
				}
				return this;
			}
		} ),
		props = animation.props;

	propFilter( props, animation.opts.specialEasing );

	for ( ; index < length ; index++ ) {
		result = Animation.prefilters[ index ].call( animation, elem, props, animation.opts );
		if ( result ) {
			if ( jQuery.isFunction( result.stop ) ) {
				jQuery._queueHooks( animation.elem, animation.opts.queue ).stop =
					jQuery.proxy( result.stop, result );
			}
			return result;
		}
	}

	jQuery.map( props, createTween, animation );

	if ( jQuery.isFunction( animation.opts.start ) ) {
		animation.opts.start.call( elem, animation );
	}

	jQuery.fx.timer(
		jQuery.extend( tick, {
			elem: elem,
			anim: animation,
			queue: animation.opts.queue
		} )
	);

	// attach callbacks from options
	return animation.progress( animation.opts.progress )
		.done( animation.opts.done, animation.opts.complete )
		.fail( animation.opts.fail )
		.always( animation.opts.always );
}

jQuery.Animation = jQuery.extend( Animation, {

	tweeners: {
		"*": [ function( prop, value ) {
			var tween = this.createTween( prop, value );
			adjustCSS( tween.elem, prop, rcssNum.exec( value ), tween );
			return tween;
		} ]
	},

	tweener: function( props, callback ) {
		if ( jQuery.isFunction( props ) ) {
			callback = props;
			props = [ "*" ];
		} else {
			props = props.match( rnotwhite );
		}

		var prop,
			index = 0,
			length = props.length;

		for ( ; index < length ; index++ ) {
			prop = props[ index ];
			Animation.tweeners[ prop ] = Animation.tweeners[ prop ] || [];
			Animation.tweeners[ prop ].unshift( callback );
		}
	},

	prefilters: [ defaultPrefilter ],

	prefilter: function( callback, prepend ) {
		if ( prepend ) {
			Animation.prefilters.unshift( callback );
		} else {
			Animation.prefilters.push( callback );
		}
	}
} );

jQuery.speed = function( speed, easing, fn ) {
	var opt = speed && typeof speed === "object" ? jQuery.extend( {}, speed ) : {
		complete: fn || !fn && easing ||
			jQuery.isFunction( speed ) && speed,
		duration: speed,
		easing: fn && easing || easing && !jQuery.isFunction( easing ) && easing
	};

	opt.duration = jQuery.fx.off ? 0 : typeof opt.duration === "number" ? opt.duration :
		opt.duration in jQuery.fx.speeds ?
			jQuery.fx.speeds[ opt.duration ] : jQuery.fx.speeds._default;

	// normalize opt.queue - true/undefined/null -> "fx"
	if ( opt.queue == null || opt.queue === true ) {
		opt.queue = "fx";
	}

	// Queueing
	opt.old = opt.complete;

	opt.complete = function() {
		if ( jQuery.isFunction( opt.old ) ) {
			opt.old.call( this );
		}

		if ( opt.queue ) {
			jQuery.dequeue( this, opt.queue );
		}
	};

	return opt;
};

jQuery.fn.extend( {
	fadeTo: function( speed, to, easing, callback ) {

		// show any hidden elements after setting opacity to 0
		return this.filter( isHidden ).css( "opacity", 0 ).show()

			// animate to the value specified
			.end().animate( { opacity: to }, speed, easing, callback );
	},
	animate: function( prop, speed, easing, callback ) {
		var empty = jQuery.isEmptyObject( prop ),
			optall = jQuery.speed( speed, easing, callback ),
			doAnimation = function() {

				// Operate on a copy of prop so per-property easing won't be lost
				var anim = Animation( this, jQuery.extend( {}, prop ), optall );

				// Empty animations, or finishing resolves immediately
				if ( empty || jQuery._data( this, "finish" ) ) {
					anim.stop( true );
				}
			};
			doAnimation.finish = doAnimation;

		return empty || optall.queue === false ?
			this.each( doAnimation ) :
			this.queue( optall.queue, doAnimation );
	},
	stop: function( type, clearQueue, gotoEnd ) {
		var stopQueue = function( hooks ) {
			var stop = hooks.stop;
			delete hooks.stop;
			stop( gotoEnd );
		};

		if ( typeof type !== "string" ) {
			gotoEnd = clearQueue;
			clearQueue = type;
			type = undefined;
		}
		if ( clearQueue && type !== false ) {
			this.queue( type || "fx", [] );
		}

		return this.each( function() {
			var dequeue = true,
				index = type != null && type + "queueHooks",
				timers = jQuery.timers,
				data = jQuery._data( this );

			if ( index ) {
				if ( data[ index ] && data[ index ].stop ) {
					stopQueue( data[ index ] );
				}
			} else {
				for ( index in data ) {
					if ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {
						stopQueue( data[ index ] );
					}
				}
			}

			for ( index = timers.length; index--; ) {
				if ( timers[ index ].elem === this &&
					( type == null || timers[ index ].queue === type ) ) {

					timers[ index ].anim.stop( gotoEnd );
					dequeue = false;
					timers.splice( index, 1 );
				}
			}

			// start the next in the queue if the last step wasn't forced
			// timers currently will call their complete callbacks, which will dequeue
			// but only if they were gotoEnd
			if ( dequeue || !gotoEnd ) {
				jQuery.dequeue( this, type );
			}
		} );
	},
	finish: function( type ) {
		if ( type !== false ) {
			type = type || "fx";
		}
		return this.each( function() {
			var index,
				data = jQuery._data( this ),
				queue = data[ type + "queue" ],
				hooks = data[ type + "queueHooks" ],
				timers = jQuery.timers,
				length = queue ? queue.length : 0;

			// enable finishing flag on private data
			data.finish = true;

			// empty the queue first
			jQuery.queue( this, type, [] );

			if ( hooks && hooks.stop ) {
				hooks.stop.call( this, true );
			}

			// look for any active animations, and finish them
			for ( index = timers.length; index--; ) {
				if ( timers[ index ].elem === this && timers[ index ].queue === type ) {
					timers[ index ].anim.stop( true );
					timers.splice( index, 1 );
				}
			}

			// look for any animations in the old queue and finish them
			for ( index = 0; index < length; index++ ) {
				if ( queue[ index ] && queue[ index ].finish ) {
					queue[ index ].finish.call( this );
				}
			}

			// turn off finishing flag
			delete data.finish;
		} );
	}
} );

jQuery.each( [ "toggle", "show", "hide" ], function( i, name ) {
	var cssFn = jQuery.fn[ name ];
	jQuery.fn[ name ] = function( speed, easing, callback ) {
		return speed == null || typeof speed === "boolean" ?
			cssFn.apply( this, arguments ) :
			this.animate( genFx( name, true ), speed, easing, callback );
	};
} );

// Generate shortcuts for custom animations
jQuery.each( {
	slideDown: genFx( "show" ),
	slideUp: genFx( "hide" ),
	slideToggle: genFx( "toggle" ),
	fadeIn: { opacity: "show" },
	fadeOut: { opacity: "hide" },
	fadeToggle: { opacity: "toggle" }
}, function( name, props ) {
	jQuery.fn[ name ] = function( speed, easing, callback ) {
		return this.animate( props, speed, easing, callback );
	};
} );

jQuery.timers = [];
jQuery.fx.tick = function() {
	var timer,
		timers = jQuery.timers,
		i = 0;

	fxNow = jQuery.now();

	for ( ; i < timers.length; i++ ) {
		timer = timers[ i ];

		// Checks the timer has not already been removed
		if ( !timer() && timers[ i ] === timer ) {
			timers.splice( i--, 1 );
		}
	}

	if ( !timers.length ) {
		jQuery.fx.stop();
	}
	fxNow = undefined;
};

jQuery.fx.timer = function( timer ) {
	jQuery.timers.push( timer );
	if ( timer() ) {
		jQuery.fx.start();
	} else {
		jQuery.timers.pop();
	}
};

jQuery.fx.interval = 13;

jQuery.fx.start = function() {
	if ( !timerId ) {
		timerId = window.setInterval( jQuery.fx.tick, jQuery.fx.interval );
	}
};

jQuery.fx.stop = function() {
	window.clearInterval( timerId );
	timerId = null;
};

jQuery.fx.speeds = {
	slow: 600,
	fast: 200,

	// Default speed
	_default: 400
};


// Based off of the plugin by Clint Helfers, with permission.
// http://web.archive.org/web/20100324014747/http://blindsignals.com/index.php/2009/07/jquery-delay/
jQuery.fn.delay = function( time, type ) {
	time = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;
	type = type || "fx";

	return this.queue( type, function( next, hooks ) {
		var timeout = window.setTimeout( next, time );
		hooks.stop = function() {
			window.clearTimeout( timeout );
		};
	} );
};


( function() {
	var a,
		input = document.createElement( "input" ),
		div = document.createElement( "div" ),
		select = document.createElement( "select" ),
		opt = select.appendChild( document.createElement( "option" ) );

	// Setup
	div = document.createElement( "div" );
	div.setAttribute( "className", "t" );
	div.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";
	a = div.getElementsByTagName( "a" )[ 0 ];

	// Support: Windows Web Apps (WWA)
	// `type` must use .setAttribute for WWA (#14901)
	input.setAttribute( "type", "checkbox" );
	div.appendChild( input );

	a = div.getElementsByTagName( "a" )[ 0 ];

	// First batch of tests.
	a.style.cssText = "top:1px";

	// Test setAttribute on camelCase class.
	// If it works, we need attrFixes when doing get/setAttribute (ie6/7)
	support.getSetAttribute = div.className !== "t";

	// Get the style information from getAttribute
	// (IE uses .cssText instead)
	support.style = /top/.test( a.getAttribute( "style" ) );

	// Make sure that URLs aren't manipulated
	// (IE normalizes it by default)
	support.hrefNormalized = a.getAttribute( "href" ) === "/a";

	// Check the default checkbox/radio value ("" on WebKit; "on" elsewhere)
	support.checkOn = !!input.value;

	// Make sure that a selected-by-default option has a working selected property.
	// (WebKit defaults to false instead of true, IE too, if it's in an optgroup)
	support.optSelected = opt.selected;

	// Tests for enctype support on a form (#6743)
	support.enctype = !!document.createElement( "form" ).enctype;

	// Make sure that the options inside disabled selects aren't marked as disabled
	// (WebKit marks them as disabled)
	select.disabled = true;
	support.optDisabled = !opt.disabled;

	// Support: IE8 only
	// Check if we can trust getAttribute("value")
	input = document.createElement( "input" );
	input.setAttribute( "value", "" );
	support.input = input.getAttribute( "value" ) === "";

	// Check if an input maintains its value after becoming a radio
	input.value = "t";
	input.setAttribute( "type", "radio" );
	support.radioValue = input.value === "t";
} )();


var rreturn = /\r/g,
	rspaces = /[\x20\t\r\n\f]+/g;

jQuery.fn.extend( {
	val: function( value ) {
		var hooks, ret, isFunction,
			elem = this[ 0 ];

		if ( !arguments.length ) {
			if ( elem ) {
				hooks = jQuery.valHooks[ elem.type ] ||
					jQuery.valHooks[ elem.nodeName.toLowerCase() ];

				if (
					hooks &&
					"get" in hooks &&
					( ret = hooks.get( elem, "value" ) ) !== undefined
				) {
					return ret;
				}

				ret = elem.value;

				return typeof ret === "string" ?

					// handle most common string cases
					ret.replace( rreturn, "" ) :

					// handle cases where value is null/undef or number
					ret == null ? "" : ret;
			}

			return;
		}

		isFunction = jQuery.isFunction( value );

		return this.each( function( i ) {
			var val;

			if ( this.nodeType !== 1 ) {
				return;
			}

			if ( isFunction ) {
				val = value.call( this, i, jQuery( this ).val() );
			} else {
				val = value;
			}

			// Treat null/undefined as ""; convert numbers to string
			if ( val == null ) {
				val = "";
			} else if ( typeof val === "number" ) {
				val += "";
			} else if ( jQuery.isArray( val ) ) {
				val = jQuery.map( val, function( value ) {
					return value == null ? "" : value + "";
				} );
			}

			hooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];

			// If set returns undefined, fall back to normal setting
			if ( !hooks || !( "set" in hooks ) || hooks.set( this, val, "value" ) === undefined ) {
				this.value = val;
			}
		} );
	}
} );

jQuery.extend( {
	valHooks: {
		option: {
			get: function( elem ) {
				var val = jQuery.find.attr( elem, "value" );
				return val != null ?
					val :

					// Support: IE10-11+
					// option.text throws exceptions (#14686, #14858)
					// Strip and collapse whitespace
					// https://html.spec.whatwg.org/#strip-and-collapse-whitespace
					jQuery.trim( jQuery.text( elem ) ).replace( rspaces, " " );
			}
		},
		select: {
			get: function( elem ) {
				var value, option,
					options = elem.options,
					index = elem.selectedIndex,
					one = elem.type === "select-one" || index < 0,
					values = one ? null : [],
					max = one ? index + 1 : options.length,
					i = index < 0 ?
						max :
						one ? index : 0;

				// Loop through all the selected options
				for ( ; i < max; i++ ) {
					option = options[ i ];

					// oldIE doesn't update selected after form reset (#2551)
					if ( ( option.selected || i === index ) &&

							// Don't return options that are disabled or in a disabled optgroup
							( support.optDisabled ?
								!option.disabled :
								option.getAttribute( "disabled" ) === null ) &&
							( !option.parentNode.disabled ||
								!jQuery.nodeName( option.parentNode, "optgroup" ) ) ) {

						// Get the specific value for the option
						value = jQuery( option ).val();

						// We don't need an array for one selects
						if ( one ) {
							return value;
						}

						// Multi-Selects return an array
						values.push( value );
					}
				}

				return values;
			},

			set: function( elem, value ) {
				var optionSet, option,
					options = elem.options,
					values = jQuery.makeArray( value ),
					i = options.length;

				while ( i-- ) {
					option = options[ i ];

					if ( jQuery.inArray( jQuery.valHooks.option.get( option ), values ) > -1 ) {

						// Support: IE6
						// When new option element is added to select box we need to
						// force reflow of newly added node in order to workaround delay
						// of initialization properties
						try {
							option.selected = optionSet = true;

						} catch ( _ ) {

							// Will be executed only in IE6
							option.scrollHeight;
						}

					} else {
						option.selected = false;
					}
				}

				// Force browsers to behave consistently when non-matching value is set
				if ( !optionSet ) {
					elem.selectedIndex = -1;
				}

				return options;
			}
		}
	}
} );

// Radios and checkboxes getter/setter
jQuery.each( [ "radio", "checkbox" ], function() {
	jQuery.valHooks[ this ] = {
		set: function( elem, value ) {
			if ( jQuery.isArray( value ) ) {
				return ( elem.checked = jQuery.inArray( jQuery( elem ).val(), value ) > -1 );
			}
		}
	};
	if ( !support.checkOn ) {
		jQuery.valHooks[ this ].get = function( elem ) {
			return elem.getAttribute( "value" ) === null ? "on" : elem.value;
		};
	}
} );




var nodeHook, boolHook,
	attrHandle = jQuery.expr.attrHandle,
	ruseDefault = /^(?:checked|selected)$/i,
	getSetAttribute = support.getSetAttribute,
	getSetInput = support.input;

jQuery.fn.extend( {
	attr: function( name, value ) {
		return access( this, jQuery.attr, name, value, arguments.length > 1 );
	},

	removeAttr: function( name ) {
		return this.each( function() {
			jQuery.removeAttr( this, name );
		} );
	}
} );

jQuery.extend( {
	attr: function( elem, name, value ) {
		var ret, hooks,
			nType = elem.nodeType;

		// Don't get/set attributes on text, comment and attribute nodes
		if ( nType === 3 || nType === 8 || nType === 2 ) {
			return;
		}

		// Fallback to prop when attributes are not supported
		if ( typeof elem.getAttribute === "undefined" ) {
			return jQuery.prop( elem, name, value );
		}

		// All attributes are lowercase
		// Grab necessary hook if one is defined
		if ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {
			name = name.toLowerCase();
			hooks = jQuery.attrHooks[ name ] ||
				( jQuery.expr.match.bool.test( name ) ? boolHook : nodeHook );
		}

		if ( value !== undefined ) {
			if ( value === null ) {
				jQuery.removeAttr( elem, name );
				return;
			}

			if ( hooks && "set" in hooks &&
				( ret = hooks.set( elem, value, name ) ) !== undefined ) {
				return ret;
			}

			elem.setAttribute( name, value + "" );
			return value;
		}

		if ( hooks && "get" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {
			return ret;
		}

		ret = jQuery.find.attr( elem, name );

		// Non-existent attributes return null, we normalize to undefined
		return ret == null ? undefined : ret;
	},

	attrHooks: {
		type: {
			set: function( elem, value ) {
				if ( !support.radioValue && value === "radio" &&
					jQuery.nodeName( elem, "input" ) ) {

					// Setting the type on a radio button after the value resets the value in IE8-9
					// Reset value to default in case type is set after value during creation
					var val = elem.value;
					elem.setAttribute( "type", value );
					if ( val ) {
						elem.value = val;
					}
					return value;
				}
			}
		}
	},

	removeAttr: function( elem, value ) {
		var name, propName,
			i = 0,
			attrNames = value && value.match( rnotwhite );

		if ( attrNames && elem.nodeType === 1 ) {
			while ( ( name = attrNames[ i++ ] ) ) {
				propName = jQuery.propFix[ name ] || name;

				// Boolean attributes get special treatment (#10870)
				if ( jQuery.expr.match.bool.test( name ) ) {

					// Set corresponding property to false
					if ( getSetInput && getSetAttribute || !ruseDefault.test( name ) ) {
						elem[ propName ] = false;

					// Support: IE<9
					// Also clear defaultChecked/defaultSelected (if appropriate)
					} else {
						elem[ jQuery.camelCase( "default-" + name ) ] =
							elem[ propName ] = false;
					}

				// See #9699 for explanation of this approach (setting first, then removal)
				} else {
					jQuery.attr( elem, name, "" );
				}

				elem.removeAttribute( getSetAttribute ? name : propName );
			}
		}
	}
} );

// Hooks for boolean attributes
boolHook = {
	set: function( elem, value, name ) {
		if ( value === false ) {

			// Remove boolean attributes when set to false
			jQuery.removeAttr( elem, name );
		} else if ( getSetInput && getSetAttribute || !ruseDefault.test( name ) ) {

			// IE<8 needs the *property* name
			elem.setAttribute( !getSetAttribute && jQuery.propFix[ name ] || name, name );

		} else {

			// Support: IE<9
			// Use defaultChecked and defaultSelected for oldIE
			elem[ jQuery.camelCase( "default-" + name ) ] = elem[ name ] = true;
		}
		return name;
	}
};

jQuery.each( jQuery.expr.match.bool.source.match( /\w+/g ), function( i, name ) {
	var getter = attrHandle[ name ] || jQuery.find.attr;

	if ( getSetInput && getSetAttribute || !ruseDefault.test( name ) ) {
		attrHandle[ name ] = function( elem, name, isXML ) {
			var ret, handle;
			if ( !isXML ) {

				// Avoid an infinite loop by temporarily removing this function from the getter
				handle = attrHandle[ name ];
				attrHandle[ name ] = ret;
				ret = getter( elem, name, isXML ) != null ?
					name.toLowerCase() :
					null;
				attrHandle[ name ] = handle;
			}
			return ret;
		};
	} else {
		attrHandle[ name ] = function( elem, name, isXML ) {
			if ( !isXML ) {
				return elem[ jQuery.camelCase( "default-" + name ) ] ?
					name.toLowerCase() :
					null;
			}
		};
	}
} );

// fix oldIE attroperties
if ( !getSetInput || !getSetAttribute ) {
	jQuery.attrHooks.value = {
		set: function( elem, value, name ) {
			if ( jQuery.nodeName( elem, "input" ) ) {

				// Does not return so that setAttribute is also used
				elem.defaultValue = value;
			} else {

				// Use nodeHook if defined (#1954); otherwise setAttribute is fine
				return nodeHook && nodeHook.set( elem, value, name );
			}
		}
	};
}

// IE6/7 do not support getting/setting some attributes with get/setAttribute
if ( !getSetAttribute ) {

	// Use this for any attribute in IE6/7
	// This fixes almost every IE6/7 issue
	nodeHook = {
		set: function( elem, value, name ) {

			// Set the existing or create a new attribute node
			var ret = elem.getAttributeNode( name );
			if ( !ret ) {
				elem.setAttributeNode(
					( ret = elem.ownerDocument.createAttribute( name ) )
				);
			}

			ret.value = value += "";

			// Break association with cloned elements by also using setAttribute (#9646)
			if ( name === "value" || value === elem.getAttribute( name ) ) {
				return value;
			}
		}
	};

	// Some attributes are constructed with empty-string values when not defined
	attrHandle.id = attrHandle.name = attrHandle.coords =
		function( elem, name, isXML ) {
			var ret;
			if ( !isXML ) {
				return ( ret = elem.getAttributeNode( name ) ) && ret.value !== "" ?
					ret.value :
					null;
			}
		};

	// Fixing value retrieval on a button requires this module
	jQuery.valHooks.button = {
		get: function( elem, name ) {
			var ret = elem.getAttributeNode( name );
			if ( ret && ret.specified ) {
				return ret.value;
			}
		},
		set: nodeHook.set
	};

	// Set contenteditable to false on removals(#10429)
	// Setting to empty string throws an error as an invalid value
	jQuery.attrHooks.contenteditable = {
		set: function( elem, value, name ) {
			nodeHook.set( elem, value === "" ? false : value, name );
		}
	};

	// Set width and height to auto instead of 0 on empty string( Bug #8150 )
	// This is for removals
	jQuery.each( [ "width", "height" ], function( i, name ) {
		jQuery.attrHooks[ name ] = {
			set: function( elem, value ) {
				if ( value === "" ) {
					elem.setAttribute( name, "auto" );
					return value;
				}
			}
		};
	} );
}

if ( !support.style ) {
	jQuery.attrHooks.style = {
		get: function( elem ) {

			// Return undefined in the case of empty string
			// Note: IE uppercases css property names, but if we were to .toLowerCase()
			// .cssText, that would destroy case sensitivity in URL's, like in "background"
			return elem.style.cssText || undefined;
		},
		set: function( elem, value ) {
			return ( elem.style.cssText = value + "" );
		}
	};
}




var rfocusable = /^(?:input|select|textarea|button|object)$/i,
	rclickable = /^(?:a|area)$/i;

jQuery.fn.extend( {
	prop: function( name, value ) {
		return access( this, jQuery.prop, name, value, arguments.length > 1 );
	},

	removeProp: function( name ) {
		name = jQuery.propFix[ name ] || name;
		return this.each( function() {

			// try/catch handles cases where IE balks (such as removing a property on window)
			try {
				this[ name ] = undefined;
				delete this[ name ];
			} catch ( e ) {}
		} );
	}
} );

jQuery.extend( {
	prop: function( elem, name, value ) {
		var ret, hooks,
			nType = elem.nodeType;

		// Don't get/set properties on text, comment and attribute nodes
		if ( nType === 3 || nType === 8 || nType === 2 ) {
			return;
		}

		if ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {

			// Fix name and attach hooks
			name = jQuery.propFix[ name ] || name;
			hooks = jQuery.propHooks[ name ];
		}

		if ( value !== undefined ) {
			if ( hooks && "set" in hooks &&
				( ret = hooks.set( elem, value, name ) ) !== undefined ) {
				return ret;
			}

			return ( elem[ name ] = value );
		}

		if ( hooks && "get" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {
			return ret;
		}

		return elem[ name ];
	},

	propHooks: {
		tabIndex: {
			get: function( elem ) {

				// elem.tabIndex doesn't always return the
				// correct value when it hasn't been explicitly set
				// http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/
				// Use proper attribute retrieval(#12072)
				var tabindex = jQuery.find.attr( elem, "tabindex" );

				return tabindex ?
					parseInt( tabindex, 10 ) :
					rfocusable.test( elem.nodeName ) ||
						rclickable.test( elem.nodeName ) && elem.href ?
							0 :
							-1;
			}
		}
	},

	propFix: {
		"for": "htmlFor",
		"class": "className"
	}
} );

// Some attributes require a special call on IE
// http://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx
if ( !support.hrefNormalized ) {

	// href/src property should get the full normalized URL (#10299/#12915)
	jQuery.each( [ "href", "src" ], function( i, name ) {
		jQuery.propHooks[ name ] = {
			get: function( elem ) {
				return elem.getAttribute( name, 4 );
			}
		};
	} );
}

// Support: Safari, IE9+
// Accessing the selectedIndex property
// forces the browser to respect setting selected
// on the option
// The getter ensures a default option is selected
// when in an optgroup
if ( !support.optSelected ) {
	jQuery.propHooks.selected = {
		get: function( elem ) {
			var parent = elem.parentNode;

			if ( parent ) {
				parent.selectedIndex;

				// Make sure that it also works with optgroups, see #5701
				if ( parent.parentNode ) {
					parent.parentNode.selectedIndex;
				}
			}
			return null;
		},
		set: function( elem ) {
			var parent = elem.parentNode;
			if ( parent ) {
				parent.selectedIndex;

				if ( parent.parentNode ) {
					parent.parentNode.selectedIndex;
				}
			}
		}
	};
}

jQuery.each( [
	"tabIndex",
	"readOnly",
	"maxLength",
	"cellSpacing",
	"cellPadding",
	"rowSpan",
	"colSpan",
	"useMap",
	"frameBorder",
	"contentEditable"
], function() {
	jQuery.propFix[ this.toLowerCase() ] = this;
} );

// IE6/7 call enctype encoding
if ( !support.enctype ) {
	jQuery.propFix.enctype = "encoding";
}




var rclass = /[\t\r\n\f]/g;

function getClass( elem ) {
	return jQuery.attr( elem, "class" ) || "";
}

jQuery.fn.extend( {
	addClass: function( value ) {
		var classes, elem, cur, curValue, clazz, j, finalValue,
			i = 0;

		if ( jQuery.isFunction( value ) ) {
			return this.each( function( j ) {
				jQuery( this ).addClass( value.call( this, j, getClass( this ) ) );
			} );
		}

		if ( typeof value === "string" && value ) {
			classes = value.match( rnotwhite ) || [];

			while ( ( elem = this[ i++ ] ) ) {
				curValue = getClass( elem );
				cur = elem.nodeType === 1 &&
					( " " + curValue + " " ).replace( rclass, " " );

				if ( cur ) {
					j = 0;
					while ( ( clazz = classes[ j++ ] ) ) {
						if ( cur.indexOf( " " + clazz + " " ) < 0 ) {
							cur += clazz + " ";
						}
					}

					// only assign if different to avoid unneeded rendering.
					finalValue = jQuery.trim( cur );
					if ( curValue !== finalValue ) {
						jQuery.attr( elem, "class", finalValue );
					}
				}
			}
		}

		return this;
	},

	removeClass: function( value ) {
		var classes, elem, cur, curValue, clazz, j, finalValue,
			i = 0;

		if ( jQuery.isFunction( value ) ) {
			return this.each( function( j ) {
				jQuery( this ).removeClass( value.call( this, j, getClass( this ) ) );
			} );
		}

		if ( !arguments.length ) {
			return this.attr( "class", "" );
		}

		if ( typeof value === "string" && value ) {
			classes = value.match( rnotwhite ) || [];

			while ( ( elem = this[ i++ ] ) ) {
				curValue = getClass( elem );

				// This expression is here for better compressibility (see addClass)
				cur = elem.nodeType === 1 &&
					( " " + curValue + " " ).replace( rclass, " " );

				if ( cur ) {
					j = 0;
					while ( ( clazz = classes[ j++ ] ) ) {

						// Remove *all* instances
						while ( cur.indexOf( " " + clazz + " " ) > -1 ) {
							cur = cur.replace( " " + clazz + " ", " " );
						}
					}

					// Only assign if different to avoid unneeded rendering.
					finalValue = jQuery.trim( cur );
					if ( curValue !== finalValue ) {
						jQuery.attr( elem, "class", finalValue );
					}
				}
			}
		}

		return this;
	},

	toggleClass: function( value, stateVal ) {
		var type = typeof value;

		if ( typeof stateVal === "boolean" && type === "string" ) {
			return stateVal ? this.addClass( value ) : this.removeClass( value );
		}

		if ( jQuery.isFunction( value ) ) {
			return this.each( function( i ) {
				jQuery( this ).toggleClass(
					value.call( this, i, getClass( this ), stateVal ),
					stateVal
				);
			} );
		}

		return this.each( function() {
			var className, i, self, classNames;

			if ( type === "string" ) {

				// Toggle individual class names
				i = 0;
				self = jQuery( this );
				classNames = value.match( rnotwhite ) || [];

				while ( ( className = classNames[ i++ ] ) ) {

					// Check each className given, space separated list
					if ( self.hasClass( className ) ) {
						self.removeClass( className );
					} else {
						self.addClass( className );
					}
				}

			// Toggle whole class name
			} else if ( value === undefined || type === "boolean" ) {
				className = getClass( this );
				if ( className ) {

					// store className if set
					jQuery._data( this, "__className__", className );
				}

				// If the element has a class name or if we're passed "false",
				// then remove the whole classname (if there was one, the above saved it).
				// Otherwise bring back whatever was previously saved (if anything),
				// falling back to the empty string if nothing was stored.
				jQuery.attr( this, "class",
					className || value === false ?
					"" :
					jQuery._data( this, "__className__" ) || ""
				);
			}
		} );
	},

	hasClass: function( selector ) {
		var className, elem,
			i = 0;

		className = " " + selector + " ";
		while ( ( elem = this[ i++ ] ) ) {
			if ( elem.nodeType === 1 &&
				( " " + getClass( elem ) + " " ).replace( rclass, " " )
					.indexOf( className ) > -1
			) {
				return true;
			}
		}

		return false;
	}
} );




// Return jQuery for attributes-only inclusion


jQuery.each( ( "blur focus focusin focusout load resize scroll unload click dblclick " +
	"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave " +
	"change select submit keydown keypress keyup error contextmenu" ).split( " " ),
	function( i, name ) {

	// Handle event binding
	jQuery.fn[ name ] = function( data, fn ) {
		return arguments.length > 0 ?
			this.on( name, null, data, fn ) :
			this.trigger( name );
	};
} );

jQuery.fn.extend( {
	hover: function( fnOver, fnOut ) {
		return this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );
	}
} );


var location = window.location;

var nonce = jQuery.now();

var rquery = ( /\?/ );



var rvalidtokens = /(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;

jQuery.parseJSON = function( data ) {

	// Attempt to parse using the native JSON parser first
	if ( window.JSON && window.JSON.parse ) {

		// Support: Android 2.3
		// Workaround failure to string-cast null input
		return window.JSON.parse( data + "" );
	}

	var requireNonComma,
		depth = null,
		str = jQuery.trim( data + "" );

	// Guard against invalid (and possibly dangerous) input by ensuring that nothing remains
	// after removing valid tokens
	return str && !jQuery.trim( str.replace( rvalidtokens, function( token, comma, open, close ) {

		// Force termination if we see a misplaced comma
		if ( requireNonComma && comma ) {
			depth = 0;
		}

		// Perform no more replacements after returning to outermost depth
		if ( depth === 0 ) {
			return token;
		}

		// Commas must not follow "[", "{", or ","
		requireNonComma = open || comma;

		// Determine new depth
		// array/object open ("[" or "{"): depth += true - false (increment)
		// array/object close ("]" or "}"): depth += false - true (decrement)
		// other cases ("," or primitive): depth += true - true (numeric cast)
		depth += !close - !open;

		// Remove this token
		return "";
	} ) ) ?
		( Function( "return " + str ) )() :
		jQuery.error( "Invalid JSON: " + data );
};


// Cross-browser xml parsing
jQuery.parseXML = function( data ) {
	var xml, tmp;
	if ( !data || typeof data !== "string" ) {
		return null;
	}
	try {
		if ( window.DOMParser ) { // Standard
			tmp = new window.DOMParser();
			xml = tmp.parseFromString( data, "text/xml" );
		} else { // IE
			xml = new window.ActiveXObject( "Microsoft.XMLDOM" );
			xml.async = "false";
			xml.loadXML( data );
		}
	} catch ( e ) {
		xml = undefined;
	}
	if ( !xml || !xml.documentElement || xml.getElementsByTagName( "parsererror" ).length ) {
		jQuery.error( "Invalid XML: " + data );
	}
	return xml;
};


var
	rhash = /#.*$/,
	rts = /([?&])_=[^&]*/,

	// IE leaves an \r character at EOL
	rheaders = /^(.*?):[ \t]*([^\r\n]*)\r?$/mg,

	// #7653, #8125, #8152: local protocol detection
	rlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
	rnoContent = /^(?:GET|HEAD)$/,
	rprotocol = /^\/\//,
	rurl = /^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,

	/* Prefilters
	 * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)
	 * 2) These are called:
	 *    - BEFORE asking for a transport
	 *    - AFTER param serialization (s.data is a string if s.processData is true)
	 * 3) key is the dataType
	 * 4) the catchall symbol "*" can be used
	 * 5) execution will start with transport dataType and THEN continue down to "*" if needed
	 */
	prefilters = {},

	/* Transports bindings
	 * 1) key is the dataType
	 * 2) the catchall symbol "*" can be used
	 * 3) selection will start with transport dataType and THEN go to "*" if needed
	 */
	transports = {},

	// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression
	allTypes = "*/".concat( "*" ),

	// Document location
	ajaxLocation = location.href,

	// Segment location into parts
	ajaxLocParts = rurl.exec( ajaxLocation.toLowerCase() ) || [];

// Base "constructor" for jQuery.ajaxPrefilter and jQuery.ajaxTransport
function addToPrefiltersOrTransports( structure ) {

	// dataTypeExpression is optional and defaults to "*"
	return function( dataTypeExpression, func ) {

		if ( typeof dataTypeExpression !== "string" ) {
			func = dataTypeExpression;
			dataTypeExpression = "*";
		}

		var dataType,
			i = 0,
			dataTypes = dataTypeExpression.toLowerCase().match( rnotwhite ) || [];

		if ( jQuery.isFunction( func ) ) {

			// For each dataType in the dataTypeExpression
			while ( ( dataType = dataTypes[ i++ ] ) ) {

				// Prepend if requested
				if ( dataType.charAt( 0 ) === "+" ) {
					dataType = dataType.slice( 1 ) || "*";
					( structure[ dataType ] = structure[ dataType ] || [] ).unshift( func );

				// Otherwise append
				} else {
					( structure[ dataType ] = structure[ dataType ] || [] ).push( func );
				}
			}
		}
	};
}

// Base inspection function for prefilters and transports
function inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {

	var inspected = {},
		seekingTransport = ( structure === transports );

	function inspect( dataType ) {
		var selected;
		inspected[ dataType ] = true;
		jQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {
			var dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );
			if ( typeof dataTypeOrTransport === "string" &&
				!seekingTransport && !inspected[ dataTypeOrTransport ] ) {

				options.dataTypes.unshift( dataTypeOrTransport );
				inspect( dataTypeOrTransport );
				return false;
			} else if ( seekingTransport ) {
				return !( selected = dataTypeOrTransport );
			}
		} );
		return selected;
	}

	return inspect( options.dataTypes[ 0 ] ) || !inspected[ "*" ] && inspect( "*" );
}

// A special extend for ajax options
// that takes "flat" options (not to be deep extended)
// Fixes #9887
function ajaxExtend( target, src ) {
	var deep, key,
		flatOptions = jQuery.ajaxSettings.flatOptions || {};

	for ( key in src ) {
		if ( src[ key ] !== undefined ) {
			( flatOptions[ key ] ? target : ( deep || ( deep = {} ) ) )[ key ] = src[ key ];
		}
	}
	if ( deep ) {
		jQuery.extend( true, target, deep );
	}

	return target;
}

/* Handles responses to an ajax request:
 * - finds the right dataType (mediates between content-type and expected dataType)
 * - returns the corresponding response
 */
function ajaxHandleResponses( s, jqXHR, responses ) {
	var firstDataType, ct, finalDataType, type,
		contents = s.contents,
		dataTypes = s.dataTypes;

	// Remove auto dataType and get content-type in the process
	while ( dataTypes[ 0 ] === "*" ) {
		dataTypes.shift();
		if ( ct === undefined ) {
			ct = s.mimeType || jqXHR.getResponseHeader( "Content-Type" );
		}
	}

	// Check if we're dealing with a known content-type
	if ( ct ) {
		for ( type in contents ) {
			if ( contents[ type ] && contents[ type ].test( ct ) ) {
				dataTypes.unshift( type );
				break;
			}
		}
	}

	// Check to see if we have a response for the expected dataType
	if ( dataTypes[ 0 ] in responses ) {
		finalDataType = dataTypes[ 0 ];
	} else {

		// Try convertible dataTypes
		for ( type in responses ) {
			if ( !dataTypes[ 0 ] || s.converters[ type + " " + dataTypes[ 0 ] ] ) {
				finalDataType = type;
				break;
			}
			if ( !firstDataType ) {
				firstDataType = type;
			}
		}

		// Or just use first one
		finalDataType = finalDataType || firstDataType;
	}

	// If we found a dataType
	// We add the dataType to the list if needed
	// and return the corresponding response
	if ( finalDataType ) {
		if ( finalDataType !== dataTypes[ 0 ] ) {
			dataTypes.unshift( finalDataType );
		}
		return responses[ finalDataType ];
	}
}

/* Chain conversions given the request and the original response
 * Also sets the responseXXX fields on the jqXHR instance
 */
function ajaxConvert( s, response, jqXHR, isSuccess ) {
	var conv2, current, conv, tmp, prev,
		converters = {},

		// Work with a copy of dataTypes in case we need to modify it for conversion
		dataTypes = s.dataTypes.slice();

	// Create converters map with lowercased keys
	if ( dataTypes[ 1 ] ) {
		for ( conv in s.converters ) {
			converters[ conv.toLowerCase() ] = s.converters[ conv ];
		}
	}

	current = dataTypes.shift();

	// Convert to each sequential dataType
	while ( current ) {

		if ( s.responseFields[ current ] ) {
			jqXHR[ s.responseFields[ current ] ] = response;
		}

		// Apply the dataFilter if provided
		if ( !prev && isSuccess && s.dataFilter ) {
			response = s.dataFilter( response, s.dataType );
		}

		prev = current;
		current = dataTypes.shift();

		if ( current ) {

			// There's only work to do if current dataType is non-auto
			if ( current === "*" ) {

				current = prev;

			// Convert response if prev dataType is non-auto and differs from current
			} else if ( prev !== "*" && prev !== current ) {

				// Seek a direct converter
				conv = converters[ prev + " " + current ] || converters[ "* " + current ];

				// If none found, seek a pair
				if ( !conv ) {
					for ( conv2 in converters ) {

						// If conv2 outputs current
						tmp = conv2.split( " " );
						if ( tmp[ 1 ] === current ) {

							// If prev can be converted to accepted input
							conv = converters[ prev + " " + tmp[ 0 ] ] ||
								converters[ "* " + tmp[ 0 ] ];
							if ( conv ) {

								// Condense equivalence converters
								if ( conv === true ) {
									conv = converters[ conv2 ];

								// Otherwise, insert the intermediate dataType
								} else if ( converters[ conv2 ] !== true ) {
									current = tmp[ 0 ];
									dataTypes.unshift( tmp[ 1 ] );
								}
								break;
							}
						}
					}
				}

				// Apply converter (if not an equivalence)
				if ( conv !== true ) {

					// Unless errors are allowed to bubble, catch and return them
					if ( conv && s[ "throws" ] ) { // jscs:ignore requireDotNotation
						response = conv( response );
					} else {
						try {
							response = conv( response );
						} catch ( e ) {
							return {
								state: "parsererror",
								error: conv ? e : "No conversion from " + prev + " to " + current
							};
						}
					}
				}
			}
		}
	}

	return { state: "success", data: response };
}

jQuery.extend( {

	// Counter for holding the number of active queries
	active: 0,

	// Last-Modified header cache for next request
	lastModified: {},
	etag: {},

	ajaxSettings: {
		url: ajaxLocation,
		type: "GET",
		isLocal: rlocalProtocol.test( ajaxLocParts[ 1 ] ),
		global: true,
		processData: true,
		async: true,
		contentType: "application/x-www-form-urlencoded; charset=UTF-8",
		/*
		timeout: 0,
		data: null,
		dataType: null,
		username: null,
		password: null,
		cache: null,
		throws: false,
		traditional: false,
		headers: {},
		*/

		accepts: {
			"*": allTypes,
			text: "text/plain",
			html: "text/html",
			xml: "application/xml, text/xml",
			json: "application/json, text/javascript"
		},

		contents: {
			xml: /\bxml\b/,
			html: /\bhtml/,
			json: /\bjson\b/
		},

		responseFields: {
			xml: "responseXML",
			text: "responseText",
			json: "responseJSON"
		},

		// Data converters
		// Keys separate source (or catchall "*") and destination types with a single space
		converters: {

			// Convert anything to text
			"* text": String,

			// Text to html (true = no transformation)
			"text html": true,

			// Evaluate text as a json expression
			"text json": jQuery.parseJSON,

			// Parse text as xml
			"text xml": jQuery.parseXML
		},

		// For options that shouldn't be deep extended:
		// you can add your own custom options here if
		// and when you create one that shouldn't be
		// deep extended (see ajaxExtend)
		flatOptions: {
			url: true,
			context: true
		}
	},

	// Creates a full fledged settings object into target
	// with both ajaxSettings and settings fields.
	// If target is omitted, writes into ajaxSettings.
	ajaxSetup: function( target, settings ) {
		return settings ?

			// Building a settings object
			ajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :

			// Extending ajaxSettings
			ajaxExtend( jQuery.ajaxSettings, target );
	},

	ajaxPrefilter: addToPrefiltersOrTransports( prefilters ),
	ajaxTransport: addToPrefiltersOrTransports( transports ),

	// Main method
	ajax: function( url, options ) {

		// If url is an object, simulate pre-1.5 signature
		if ( typeof url === "object" ) {
			options = url;
			url = undefined;
		}

		// Force options to be an object
		options = options || {};

		var

			// Cross-domain detection vars
			parts,

			// Loop variable
			i,

			// URL without anti-cache param
			cacheURL,

			// Response headers as string
			responseHeadersString,

			// timeout handle
			timeoutTimer,

			// To know if global events are to be dispatched
			fireGlobals,

			transport,

			// Response headers
			responseHeaders,

			// Create the final options object
			s = jQuery.ajaxSetup( {}, options ),

			// Callbacks context
			callbackContext = s.context || s,

			// Context for global events is callbackContext if it is a DOM node or jQuery collection
			globalEventContext = s.context &&
				( callbackContext.nodeType || callbackContext.jquery ) ?
					jQuery( callbackContext ) :
					jQuery.event,

			// Deferreds
			deferred = jQuery.Deferred(),
			completeDeferred = jQuery.Callbacks( "once memory" ),

			// Status-dependent callbacks
			statusCode = s.statusCode || {},

			// Headers (they are sent all at once)
			requestHeaders = {},
			requestHeadersNames = {},

			// The jqXHR state
			state = 0,

			// Default abort message
			strAbort = "canceled",

			// Fake xhr
			jqXHR = {
				readyState: 0,

				// Builds headers hashtable if needed
				getResponseHeader: function( key ) {
					var match;
					if ( state === 2 ) {
						if ( !responseHeaders ) {
							responseHeaders = {};
							while ( ( match = rheaders.exec( responseHeadersString ) ) ) {
								responseHeaders[ match[ 1 ].toLowerCase() ] = match[ 2 ];
							}
						}
						match = responseHeaders[ key.toLowerCase() ];
					}
					return match == null ? null : match;
				},

				// Raw string
				getAllResponseHeaders: function() {
					return state === 2 ? responseHeadersString : null;
				},

				// Caches the header
				setRequestHeader: function( name, value ) {
					var lname = name.toLowerCase();
					if ( !state ) {
						name = requestHeadersNames[ lname ] = requestHeadersNames[ lname ] || name;
						requestHeaders[ name ] = value;
					}
					return this;
				},

				// Overrides response content-type header
				overrideMimeType: function( type ) {
					if ( !state ) {
						s.mimeType = type;
					}
					return this;
				},

				// Status-dependent callbacks
				statusCode: function( map ) {
					var code;
					if ( map ) {
						if ( state < 2 ) {
							for ( code in map ) {

								// Lazy-add the new callback in a way that preserves old ones
								statusCode[ code ] = [ statusCode[ code ], map[ code ] ];
							}
						} else {

							// Execute the appropriate callbacks
							jqXHR.always( map[ jqXHR.status ] );
						}
					}
					return this;
				},

				// Cancel the request
				abort: function( statusText ) {
					var finalText = statusText || strAbort;
					if ( transport ) {
						transport.abort( finalText );
					}
					done( 0, finalText );
					return this;
				}
			};

		// Attach deferreds
		deferred.promise( jqXHR ).complete = completeDeferred.add;
		jqXHR.success = jqXHR.done;
		jqXHR.error = jqXHR.fail;

		// Remove hash character (#7531: and string promotion)
		// Add protocol if not provided (#5866: IE7 issue with protocol-less urls)
		// Handle falsy url in the settings object (#10093: consistency with old signature)
		// We also use the url parameter if available
		s.url = ( ( url || s.url || ajaxLocation ) + "" )
			.replace( rhash, "" )
			.replace( rprotocol, ajaxLocParts[ 1 ] + "//" );

		// Alias method option to type as per ticket #12004
		s.type = options.method || options.type || s.method || s.type;

		// Extract dataTypes list
		s.dataTypes = jQuery.trim( s.dataType || "*" ).toLowerCase().match( rnotwhite ) || [ "" ];

		// A cross-domain request is in order when we have a protocol:host:port mismatch
		if ( s.crossDomain == null ) {
			parts = rurl.exec( s.url.toLowerCase() );
			s.crossDomain = !!( parts &&
				( parts[ 1 ] !== ajaxLocParts[ 1 ] || parts[ 2 ] !== ajaxLocParts[ 2 ] ||
					( parts[ 3 ] || ( parts[ 1 ] === "http:" ? "80" : "443" ) ) !==
						( ajaxLocParts[ 3 ] || ( ajaxLocParts[ 1 ] === "http:" ? "80" : "443" ) ) )
			);
		}

		// Convert data if not already a string
		if ( s.data && s.processData && typeof s.data !== "string" ) {
			s.data = jQuery.param( s.data, s.traditional );
		}

		// Apply prefilters
		inspectPrefiltersOrTransports( prefilters, s, options, jqXHR );

		// If request was aborted inside a prefilter, stop there
		if ( state === 2 ) {
			return jqXHR;
		}

		// We can fire global events as of now if asked to
		// Don't fire events if jQuery.event is undefined in an AMD-usage scenario (#15118)
		fireGlobals = jQuery.event && s.global;

		// Watch for a new set of requests
		if ( fireGlobals && jQuery.active++ === 0 ) {
			jQuery.event.trigger( "ajaxStart" );
		}

		// Uppercase the type
		s.type = s.type.toUpperCase();

		// Determine if request has content
		s.hasContent = !rnoContent.test( s.type );

		// Save the URL in case we're toying with the If-Modified-Since
		// and/or If-None-Match header later on
		cacheURL = s.url;

		// More options handling for requests with no content
		if ( !s.hasContent ) {

			// If data is available, append data to url
			if ( s.data ) {
				cacheURL = ( s.url += ( rquery.test( cacheURL ) ? "&" : "?" ) + s.data );

				// #9682: remove data so that it's not used in an eventual retry
				delete s.data;
			}

			// Add anti-cache in url if needed
			if ( s.cache === false ) {
				s.url = rts.test( cacheURL ) ?

					// If there is already a '_' parameter, set its value
					cacheURL.replace( rts, "$1_=" + nonce++ ) :

					// Otherwise add one to the end
					cacheURL + ( rquery.test( cacheURL ) ? "&" : "?" ) + "_=" + nonce++;
			}
		}

		// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.
		if ( s.ifModified ) {
			if ( jQuery.lastModified[ cacheURL ] ) {
				jqXHR.setRequestHeader( "If-Modified-Since", jQuery.lastModified[ cacheURL ] );
			}
			if ( jQuery.etag[ cacheURL ] ) {
				jqXHR.setRequestHeader( "If-None-Match", jQuery.etag[ cacheURL ] );
			}
		}

		// Set the correct header, if data is being sent
		if ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {
			jqXHR.setRequestHeader( "Content-Type", s.contentType );
		}

		// Set the Accepts header for the server, depending on the dataType
		jqXHR.setRequestHeader(
			"Accept",
			s.dataTypes[ 0 ] && s.accepts[ s.dataTypes[ 0 ] ] ?
				s.accepts[ s.dataTypes[ 0 ] ] +
					( s.dataTypes[ 0 ] !== "*" ? ", " + allTypes + "; q=0.01" : "" ) :
				s.accepts[ "*" ]
		);

		// Check for headers option
		for ( i in s.headers ) {
			jqXHR.setRequestHeader( i, s.headers[ i ] );
		}

		// Allow custom headers/mimetypes and early abort
		if ( s.beforeSend &&
			( s.beforeSend.call( callbackContext, jqXHR, s ) === false || state === 2 ) ) {

			// Abort if not done already and return
			return jqXHR.abort();
		}

		// aborting is no longer a cancellation
		strAbort = "abort";

		// Install callbacks on deferreds
		for ( i in { success: 1, error: 1, complete: 1 } ) {
			jqXHR[ i ]( s[ i ] );
		}

		// Get transport
		transport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );

		// If no transport, we auto-abort
		if ( !transport ) {
			done( -1, "No Transport" );
		} else {
			jqXHR.readyState = 1;

			// Send global event
			if ( fireGlobals ) {
				globalEventContext.trigger( "ajaxSend", [ jqXHR, s ] );
			}

			// If request was aborted inside ajaxSend, stop there
			if ( state === 2 ) {
				return jqXHR;
			}

			// Timeout
			if ( s.async && s.timeout > 0 ) {
				timeoutTimer = window.setTimeout( function() {
					jqXHR.abort( "timeout" );
				}, s.timeout );
			}

			try {
				state = 1;
				transport.send( requestHeaders, done );
			} catch ( e ) {

				// Propagate exception as error if not done
				if ( state < 2 ) {
					done( -1, e );

				// Simply rethrow otherwise
				} else {
					throw e;
				}
			}
		}

		// Callback for when everything is done
		function done( status, nativeStatusText, responses, headers ) {
			var isSuccess, success, error, response, modified,
				statusText = nativeStatusText;

			// Called once
			if ( state === 2 ) {
				return;
			}

			// State is "done" now
			state = 2;

			// Clear timeout if it exists
			if ( timeoutTimer ) {
				window.clearTimeout( timeoutTimer );
			}

			// Dereference transport for early garbage collection
			// (no matter how long the jqXHR object will be used)
			transport = undefined;

			// Cache response headers
			responseHeadersString = headers || "";

			// Set readyState
			jqXHR.readyState = status > 0 ? 4 : 0;

			// Determine if successful
			isSuccess = status >= 200 && status < 300 || status === 304;

			// Get response data
			if ( responses ) {
				response = ajaxHandleResponses( s, jqXHR, responses );
			}

			// Convert no matter what (that way responseXXX fields are always set)
			response = ajaxConvert( s, response, jqXHR, isSuccess );

			// If successful, handle type chaining
			if ( isSuccess ) {

				// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.
				if ( s.ifModified ) {
					modified = jqXHR.getResponseHeader( "Last-Modified" );
					if ( modified ) {
						jQuery.lastModified[ cacheURL ] = modified;
					}
					modified = jqXHR.getResponseHeader( "etag" );
					if ( modified ) {
						jQuery.etag[ cacheURL ] = modified;
					}
				}

				// if no content
				if ( status === 204 || s.type === "HEAD" ) {
					statusText = "nocontent";

				// if not modified
				} else if ( status === 304 ) {
					statusText = "notmodified";

				// If we have data, let's convert it
				} else {
					statusText = response.state;
					success = response.data;
					error = response.error;
					isSuccess = !error;
				}
			} else {

				// We extract error from statusText
				// then normalize statusText and status for non-aborts
				error = statusText;
				if ( status || !statusText ) {
					statusText = "error";
					if ( status < 0 ) {
						status = 0;
					}
				}
			}

			// Set data for the fake xhr object
			jqXHR.status = status;
			jqXHR.statusText = ( nativeStatusText || statusText ) + "";

			// Success/Error
			if ( isSuccess ) {
				deferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );
			} else {
				deferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );
			}

			// Status-dependent callbacks
			jqXHR.statusCode( statusCode );
			statusCode = undefined;

			if ( fireGlobals ) {
				globalEventContext.trigger( isSuccess ? "ajaxSuccess" : "ajaxError",
					[ jqXHR, s, isSuccess ? success : error ] );
			}

			// Complete
			completeDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );

			if ( fireGlobals ) {
				globalEventContext.trigger( "ajaxComplete", [ jqXHR, s ] );

				// Handle the global AJAX counter
				if ( !( --jQuery.active ) ) {
					jQuery.event.trigger( "ajaxStop" );
				}
			}
		}

		return jqXHR;
	},

	getJSON: function( url, data, callback ) {
		return jQuery.get( url, data, callback, "json" );
	},

	getScript: function( url, callback ) {
		return jQuery.get( url, undefined, callback, "script" );
	}
} );

jQuery.each( [ "get", "post" ], function( i, method ) {
	jQuery[ method ] = function( url, data, callback, type ) {

		// shift arguments if data argument was omitted
		if ( jQuery.isFunction( data ) ) {
			type = type || callback;
			callback = data;
			data = undefined;
		}

		// The url can be an options object (which then must have .url)
		return jQuery.ajax( jQuery.extend( {
			url: url,
			type: method,
			dataType: type,
			data: data,
			success: callback
		}, jQuery.isPlainObject( url ) && url ) );
	};
} );


jQuery._evalUrl = function( url ) {
	return jQuery.ajax( {
		url: url,

		// Make this explicit, since user can override this through ajaxSetup (#11264)
		type: "GET",
		dataType: "script",
		cache: true,
		async: false,
		global: false,
		"throws": true
	} );
};


jQuery.fn.extend( {
	wrapAll: function( html ) {
		if ( jQuery.isFunction( html ) ) {
			return this.each( function( i ) {
				jQuery( this ).wrapAll( html.call( this, i ) );
			} );
		}

		if ( this[ 0 ] ) {

			// The elements to wrap the target around
			var wrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true );

			if ( this[ 0 ].parentNode ) {
				wrap.insertBefore( this[ 0 ] );
			}

			wrap.map( function() {
				var elem = this;

				while ( elem.firstChild && elem.firstChild.nodeType === 1 ) {
					elem = elem.firstChild;
				}

				return elem;
			} ).append( this );
		}

		return this;
	},

	wrapInner: function( html ) {
		if ( jQuery.isFunction( html ) ) {
			return this.each( function( i ) {
				jQuery( this ).wrapInner( html.call( this, i ) );
			} );
		}

		return this.each( function() {
			var self = jQuery( this ),
				contents = self.contents();

			if ( contents.length ) {
				contents.wrapAll( html );

			} else {
				self.append( html );
			}
		} );
	},

	wrap: function( html ) {
		var isFunction = jQuery.isFunction( html );

		return this.each( function( i ) {
			jQuery( this ).wrapAll( isFunction ? html.call( this, i ) : html );
		} );
	},

	unwrap: function() {
		return this.parent().each( function() {
			if ( !jQuery.nodeName( this, "body" ) ) {
				jQuery( this ).replaceWith( this.childNodes );
			}
		} ).end();
	}
} );


function getDisplay( elem ) {
	return elem.style && elem.style.display || jQuery.css( elem, "display" );
}

function filterHidden( elem ) {

	// Disconnected elements are considered hidden
	if ( !jQuery.contains( elem.ownerDocument || document, elem ) ) {
		return true;
	}
	while ( elem && elem.nodeType === 1 ) {
		if ( getDisplay( elem ) === "none" || elem.type === "hidden" ) {
			return true;
		}
		elem = elem.parentNode;
	}
	return false;
}

jQuery.expr.filters.hidden = function( elem ) {

	// Support: Opera <= 12.12
	// Opera reports offsetWidths and offsetHeights less than zero on some elements
	return support.reliableHiddenOffsets() ?
		( elem.offsetWidth <= 0 && elem.offsetHeight <= 0 &&
			!elem.getClientRects().length ) :
			filterHidden( elem );
};

jQuery.expr.filters.visible = function( elem ) {
	return !jQuery.expr.filters.hidden( elem );
};




var r20 = /%20/g,
	rbracket = /\[\]$/,
	rCRLF = /\r?\n/g,
	rsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,
	rsubmittable = /^(?:input|select|textarea|keygen)/i;

function buildParams( prefix, obj, traditional, add ) {
	var name;

	if ( jQuery.isArray( obj ) ) {

		// Serialize array item.
		jQuery.each( obj, function( i, v ) {
			if ( traditional || rbracket.test( prefix ) ) {

				// Treat each array item as a scalar.
				add( prefix, v );

			} else {

				// Item is non-scalar (array or object), encode its numeric index.
				buildParams(
					prefix + "[" + ( typeof v === "object" && v != null ? i : "" ) + "]",
					v,
					traditional,
					add
				);
			}
		} );

	} else if ( !traditional && jQuery.type( obj ) === "object" ) {

		// Serialize object item.
		for ( name in obj ) {
			buildParams( prefix + "[" + name + "]", obj[ name ], traditional, add );
		}

	} else {

		// Serialize scalar item.
		add( prefix, obj );
	}
}

// Serialize an array of form elements or a set of
// key/values into a query string
jQuery.param = function( a, traditional ) {
	var prefix,
		s = [],
		add = function( key, value ) {

			// If value is a function, invoke it and return its value
			value = jQuery.isFunction( value ) ? value() : ( value == null ? "" : value );
			s[ s.length ] = encodeURIComponent( key ) + "=" + encodeURIComponent( value );
		};

	// Set traditional to true for jQuery <= 1.3.2 behavior.
	if ( traditional === undefined ) {
		traditional = jQuery.ajaxSettings && jQuery.ajaxSettings.traditional;
	}

	// If an array was passed in, assume that it is an array of form elements.
	if ( jQuery.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {

		// Serialize the form elements
		jQuery.each( a, function() {
			add( this.name, this.value );
		} );

	} else {

		// If traditional, encode the "old" way (the way 1.3.2 or older
		// did it), otherwise encode params recursively.
		for ( prefix in a ) {
			buildParams( prefix, a[ prefix ], traditional, add );
		}
	}

	// Return the resulting serialization
	return s.join( "&" ).replace( r20, "+" );
};

jQuery.fn.extend( {
	serialize: function() {
		return jQuery.param( this.serializeArray() );
	},
	serializeArray: function() {
		return this.map( function() {

			// Can add propHook for "elements" to filter or add form elements
			var elements = jQuery.prop( this, "elements" );
			return elements ? jQuery.makeArray( elements ) : this;
		} )
		.filter( function() {
			var type = this.type;

			// Use .is(":disabled") so that fieldset[disabled] works
			return this.name && !jQuery( this ).is( ":disabled" ) &&
				rsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&
				( this.checked || !rcheckableType.test( type ) );
		} )
		.map( function( i, elem ) {
			var val = jQuery( this ).val();

			return val == null ?
				null :
				jQuery.isArray( val ) ?
					jQuery.map( val, function( val ) {
						return { name: elem.name, value: val.replace( rCRLF, "\r\n" ) };
					} ) :
					{ name: elem.name, value: val.replace( rCRLF, "\r\n" ) };
		} ).get();
	}
} );


// Create the request object
// (This is still attached to ajaxSettings for backward compatibility)
jQuery.ajaxSettings.xhr = window.ActiveXObject !== undefined ?

	// Support: IE6-IE8
	function() {

		// XHR cannot access local files, always use ActiveX for that case
		if ( this.isLocal ) {
			return createActiveXHR();
		}

		// Support: IE 9-11
		// IE seems to error on cross-domain PATCH requests when ActiveX XHR
		// is used. In IE 9+ always use the native XHR.
		// Note: this condition won't catch Edge as it doesn't define
		// document.documentMode but it also doesn't support ActiveX so it won't
		// reach this code.
		if ( document.documentMode > 8 ) {
			return createStandardXHR();
		}

		// Support: IE<9
		// oldIE XHR does not support non-RFC2616 methods (#13240)
		// See http://msdn.microsoft.com/en-us/library/ie/ms536648(v=vs.85).aspx
		// and http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9
		// Although this check for six methods instead of eight
		// since IE also does not support "trace" and "connect"
		return /^(get|post|head|put|delete|options)$/i.test( this.type ) &&
			createStandardXHR() || createActiveXHR();
	} :

	// For all other browsers, use the standard XMLHttpRequest object
	createStandardXHR;

var xhrId = 0,
	xhrCallbacks = {},
	xhrSupported = jQuery.ajaxSettings.xhr();

// Support: IE<10
// Open requests must be manually aborted on unload (#5280)
// See https://support.microsoft.com/kb/2856746 for more info
if ( window.attachEvent ) {
	window.attachEvent( "onunload", function() {
		for ( var key in xhrCallbacks ) {
			xhrCallbacks[ key ]( undefined, true );
		}
	} );
}

// Determine support properties
support.cors = !!xhrSupported && ( "withCredentials" in xhrSupported );
xhrSupported = support.ajax = !!xhrSupported;

// Create transport if the browser can provide an xhr
if ( xhrSupported ) {

	jQuery.ajaxTransport( function( options ) {

		// Cross domain only allowed if supported through XMLHttpRequest
		if ( !options.crossDomain || support.cors ) {

			var callback;

			return {
				send: function( headers, complete ) {
					var i,
						xhr = options.xhr(),
						id = ++xhrId;

					// Open the socket
					xhr.open(
						options.type,
						options.url,
						options.async,
						options.username,
						options.password
					);

					// Apply custom fields if provided
					if ( options.xhrFields ) {
						for ( i in options.xhrFields ) {
							xhr[ i ] = options.xhrFields[ i ];
						}
					}

					// Override mime type if needed
					if ( options.mimeType && xhr.overrideMimeType ) {
						xhr.overrideMimeType( options.mimeType );
					}

					// X-Requested-With header
					// For cross-domain requests, seeing as conditions for a preflight are
					// akin to a jigsaw puzzle, we simply never set it to be sure.
					// (it can always be set on a per-request basis or even using ajaxSetup)
					// For same-domain requests, won't change header if already provided.
					if ( !options.crossDomain && !headers[ "X-Requested-With" ] ) {
						headers[ "X-Requested-With" ] = "XMLHttpRequest";
					}

					// Set headers
					for ( i in headers ) {

						// Support: IE<9
						// IE's ActiveXObject throws a 'Type Mismatch' exception when setting
						// request header to a null-value.
						//
						// To keep consistent with other XHR implementations, cast the value
						// to string and ignore `undefined`.
						if ( headers[ i ] !== undefined ) {
							xhr.setRequestHeader( i, headers[ i ] + "" );
						}
					}

					// Do send the request
					// This may raise an exception which is actually
					// handled in jQuery.ajax (so no try/catch here)
					xhr.send( ( options.hasContent && options.data ) || null );

					// Listener
					callback = function( _, isAbort ) {
						var status, statusText, responses;

						// Was never called and is aborted or complete
						if ( callback && ( isAbort || xhr.readyState === 4 ) ) {

							// Clean up
							delete xhrCallbacks[ id ];
							callback = undefined;
							xhr.onreadystatechange = jQuery.noop;

							// Abort manually if needed
							if ( isAbort ) {
								if ( xhr.readyState !== 4 ) {
									xhr.abort();
								}
							} else {
								responses = {};
								status = xhr.status;

								// Support: IE<10
								// Accessing binary-data responseText throws an exception
								// (#11426)
								if ( typeof xhr.responseText === "string" ) {
									responses.text = xhr.responseText;
								}

								// Firefox throws an exception when accessing
								// statusText for faulty cross-domain requests
								try {
									statusText = xhr.statusText;
								} catch ( e ) {

									// We normalize with Webkit giving an empty statusText
									statusText = "";
								}

								// Filter status for non standard behaviors

								// If the request is local and we have data: assume a success
								// (success with no data won't get notified, that's the best we
								// can do given current implementations)
								if ( !status && options.isLocal && !options.crossDomain ) {
									status = responses.text ? 200 : 404;

								// IE - #1450: sometimes returns 1223 when it should be 204
								} else if ( status === 1223 ) {
									status = 204;
								}
							}
						}

						// Call complete if needed
						if ( responses ) {
							complete( status, statusText, responses, xhr.getAllResponseHeaders() );
						}
					};

					// Do send the request
					// `xhr.send` may raise an exception, but it will be
					// handled in jQuery.ajax (so no try/catch here)
					if ( !options.async ) {

						// If we're in sync mode we fire the callback
						callback();
					} else if ( xhr.readyState === 4 ) {

						// (IE6 & IE7) if it's in cache and has been
						// retrieved directly we need to fire the callback
						window.setTimeout( callback );
					} else {

						// Register the callback, but delay it in case `xhr.send` throws
						// Add to the list of active xhr callbacks
						xhr.onreadystatechange = xhrCallbacks[ id ] = callback;
					}
				},

				abort: function() {
					if ( callback ) {
						callback( undefined, true );
					}
				}
			};
		}
	} );
}

// Functions to create xhrs
function createStandardXHR() {
	try {
		return new window.XMLHttpRequest();
	} catch ( e ) {}
}

function createActiveXHR() {
	try {
		return new window.ActiveXObject( "Microsoft.XMLHTTP" );
	} catch ( e ) {}
}




// Install script dataType
jQuery.ajaxSetup( {
	accepts: {
		script: "text/javascript, application/javascript, " +
			"application/ecmascript, application/x-ecmascript"
	},
	contents: {
		script: /\b(?:java|ecma)script\b/
	},
	converters: {
		"text script": function( text ) {
			jQuery.globalEval( text );
			return text;
		}
	}
} );

// Handle cache's special case and global
jQuery.ajaxPrefilter( "script", function( s ) {
	if ( s.cache === undefined ) {
		s.cache = false;
	}
	if ( s.crossDomain ) {
		s.type = "GET";
		s.global = false;
	}
} );

// Bind script tag hack transport
jQuery.ajaxTransport( "script", function( s ) {

	// This transport only deals with cross domain requests
	if ( s.crossDomain ) {

		var script,
			head = document.head || jQuery( "head" )[ 0 ] || document.documentElement;

		return {

			send: function( _, callback ) {

				script = document.createElement( "script" );

				script.async = true;

				if ( s.scriptCharset ) {
					script.charset = s.scriptCharset;
				}

				script.src = s.url;

				// Attach handlers for all browsers
				script.onload = script.onreadystatechange = function( _, isAbort ) {

					if ( isAbort || !script.readyState || /loaded|complete/.test( script.readyState ) ) {

						// Handle memory leak in IE
						script.onload = script.onreadystatechange = null;

						// Remove the script
						if ( script.parentNode ) {
							script.parentNode.removeChild( script );
						}

						// Dereference the script
						script = null;

						// Callback if not abort
						if ( !isAbort ) {
							callback( 200, "success" );
						}
					}
				};

				// Circumvent IE6 bugs with base elements (#2709 and #4378) by prepending
				// Use native DOM manipulation to avoid our domManip AJAX trickery
				head.insertBefore( script, head.firstChild );
			},

			abort: function() {
				if ( script ) {
					script.onload( undefined, true );
				}
			}
		};
	}
} );




var oldCallbacks = [],
	rjsonp = /(=)\?(?=&|$)|\?\?/;

// Default jsonp settings
jQuery.ajaxSetup( {
	jsonp: "callback",
	jsonpCallback: function() {
		var callback = oldCallbacks.pop() || ( jQuery.expando + "_" + ( nonce++ ) );
		this[ callback ] = true;
		return callback;
	}
} );

// Detect, normalize options and install callbacks for jsonp requests
jQuery.ajaxPrefilter( "json jsonp", function( s, originalSettings, jqXHR ) {

	var callbackName, overwritten, responseContainer,
		jsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?
			"url" :
			typeof s.data === "string" &&
				( s.contentType || "" )
					.indexOf( "application/x-www-form-urlencoded" ) === 0 &&
				rjsonp.test( s.data ) && "data"
		);

	// Handle iff the expected data type is "jsonp" or we have a parameter to set
	if ( jsonProp || s.dataTypes[ 0 ] === "jsonp" ) {

		// Get callback name, remembering preexisting value associated with it
		callbackName = s.jsonpCallback = jQuery.isFunction( s.jsonpCallback ) ?
			s.jsonpCallback() :
			s.jsonpCallback;

		// Insert callback into url or form data
		if ( jsonProp ) {
			s[ jsonProp ] = s[ jsonProp ].replace( rjsonp, "$1" + callbackName );
		} else if ( s.jsonp !== false ) {
			s.url += ( rquery.test( s.url ) ? "&" : "?" ) + s.jsonp + "=" + callbackName;
		}

		// Use data converter to retrieve json after script execution
		s.converters[ "script json" ] = function() {
			if ( !responseContainer ) {
				jQuery.error( callbackName + " was not called" );
			}
			return responseContainer[ 0 ];
		};

		// force json dataType
		s.dataTypes[ 0 ] = "json";

		// Install callback
		overwritten = window[ callbackName ];
		window[ callbackName ] = function() {
			responseContainer = arguments;
		};

		// Clean-up function (fires after converters)
		jqXHR.always( function() {

			// If previous value didn't exist - remove it
			if ( overwritten === undefined ) {
				jQuery( window ).removeProp( callbackName );

			// Otherwise restore preexisting value
			} else {
				window[ callbackName ] = overwritten;
			}

			// Save back as free
			if ( s[ callbackName ] ) {

				// make sure that re-using the options doesn't screw things around
				s.jsonpCallback = originalSettings.jsonpCallback;

				// save the callback name for future use
				oldCallbacks.push( callbackName );
			}

			// Call if it was a function and we have a response
			if ( responseContainer && jQuery.isFunction( overwritten ) ) {
				overwritten( responseContainer[ 0 ] );
			}

			responseContainer = overwritten = undefined;
		} );

		// Delegate to script
		return "script";
	}
} );




// data: string of html
// context (optional): If specified, the fragment will be created in this context,
// defaults to document
// keepScripts (optional): If true, will include scripts passed in the html string
jQuery.parseHTML = function( data, context, keepScripts ) {
	if ( !data || typeof data !== "string" ) {
		return null;
	}
	if ( typeof context === "boolean" ) {
		keepScripts = context;
		context = false;
	}
	context = context || document;

	var parsed = rsingleTag.exec( data ),
		scripts = !keepScripts && [];

	// Single tag
	if ( parsed ) {
		return [ context.createElement( parsed[ 1 ] ) ];
	}

	parsed = buildFragment( [ data ], context, scripts );

	if ( scripts && scripts.length ) {
		jQuery( scripts ).remove();
	}

	return jQuery.merge( [], parsed.childNodes );
};


// Keep a copy of the old load method
var _load = jQuery.fn.load;

/**
 * Load a url into a page
 */
jQuery.fn.load = function( url, params, callback ) {
	if ( typeof url !== "string" && _load ) {
		return _load.apply( this, arguments );
	}

	var selector, type, response,
		self = this,
		off = url.indexOf( " " );

	if ( off > -1 ) {
		selector = jQuery.trim( url.slice( off, url.length ) );
		url = url.slice( 0, off );
	}

	// If it's a function
	if ( jQuery.isFunction( params ) ) {

		// We assume that it's the callback
		callback = params;
		params = undefined;

	// Otherwise, build a param string
	} else if ( params && typeof params === "object" ) {
		type = "POST";
	}

	// If we have elements to modify, make the request
	if ( self.length > 0 ) {
		jQuery.ajax( {
			url: url,

			// If "type" variable is undefined, then "GET" method will be used.
			// Make value of this field explicit since
			// user can override it through ajaxSetup method
			type: type || "GET",
			dataType: "html",
			data: params
		} ).done( function( responseText ) {

			// Save response for use in complete callback
			response = arguments;

			self.html( selector ?

				// If a selector was specified, locate the right elements in a dummy div
				// Exclude scripts to avoid IE 'Permission Denied' errors
				jQuery( "<div>" ).append( jQuery.parseHTML( responseText ) ).find( selector ) :

				// Otherwise use the full result
				responseText );

		// If the request succeeds, this function gets "data", "status", "jqXHR"
		// but they are ignored because response was set above.
		// If it fails, this function gets "jqXHR", "status", "error"
		} ).always( callback && function( jqXHR, status ) {
			self.each( function() {
				callback.apply( this, response || [ jqXHR.responseText, status, jqXHR ] );
			} );
		} );
	}

	return this;
};




// Attach a bunch of functions for handling common AJAX events
jQuery.each( [
	"ajaxStart",
	"ajaxStop",
	"ajaxComplete",
	"ajaxError",
	"ajaxSuccess",
	"ajaxSend"
], function( i, type ) {
	jQuery.fn[ type ] = function( fn ) {
		return this.on( type, fn );
	};
} );




jQuery.expr.filters.animated = function( elem ) {
	return jQuery.grep( jQuery.timers, function( fn ) {
		return elem === fn.elem;
	} ).length;
};





/**
 * Gets a window from an element
 */
function getWindow( elem ) {
	return jQuery.isWindow( elem ) ?
		elem :
		elem.nodeType === 9 ?
			elem.defaultView || elem.parentWindow :
			false;
}

jQuery.offset = {
	setOffset: function( elem, options, i ) {
		var curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,
			position = jQuery.css( elem, "position" ),
			curElem = jQuery( elem ),
			props = {};

		// set position first, in-case top/left are set even on static elem
		if ( position === "static" ) {
			elem.style.position = "relative";
		}

		curOffset = curElem.offset();
		curCSSTop = jQuery.css( elem, "top" );
		curCSSLeft = jQuery.css( elem, "left" );
		calculatePosition = ( position === "absolute" || position === "fixed" ) &&
			jQuery.inArray( "auto", [ curCSSTop, curCSSLeft ] ) > -1;

		// need to be able to calculate position if either top or left
		// is auto and position is either absolute or fixed
		if ( calculatePosition ) {
			curPosition = curElem.position();
			curTop = curPosition.top;
			curLeft = curPosition.left;
		} else {
			curTop = parseFloat( curCSSTop ) || 0;
			curLeft = parseFloat( curCSSLeft ) || 0;
		}

		if ( jQuery.isFunction( options ) ) {

			// Use jQuery.extend here to allow modification of coordinates argument (gh-1848)
			options = options.call( elem, i, jQuery.extend( {}, curOffset ) );
		}

		if ( options.top != null ) {
			props.top = ( options.top - curOffset.top ) + curTop;
		}
		if ( options.left != null ) {
			props.left = ( options.left - curOffset.left ) + curLeft;
		}

		if ( "using" in options ) {
			options.using.call( elem, props );
		} else {
			curElem.css( props );
		}
	}
};

jQuery.fn.extend( {
	offset: function( options ) {
		if ( arguments.length ) {
			return options === undefined ?
				this :
				this.each( function( i ) {
					jQuery.offset.setOffset( this, options, i );
				} );
		}

		var docElem, win,
			box = { top: 0, left: 0 },
			elem = this[ 0 ],
			doc = elem && elem.ownerDocument;

		if ( !doc ) {
			return;
		}

		docElem = doc.documentElement;

		// Make sure it's not a disconnected DOM node
		if ( !jQuery.contains( docElem, elem ) ) {
			return box;
		}

		// If we don't have gBCR, just use 0,0 rather than error
		// BlackBerry 5, iOS 3 (original iPhone)
		if ( typeof elem.getBoundingClientRect !== "undefined" ) {
			box = elem.getBoundingClientRect();
		}
		win = getWindow( doc );
		return {
			top: box.top  + ( win.pageYOffset || docElem.scrollTop )  - ( docElem.clientTop  || 0 ),
			left: box.left + ( win.pageXOffset || docElem.scrollLeft ) - ( docElem.clientLeft || 0 )
		};
	},

	position: function() {
		if ( !this[ 0 ] ) {
			return;
		}

		var offsetParent, offset,
			parentOffset = { top: 0, left: 0 },
			elem = this[ 0 ];

		// Fixed elements are offset from window (parentOffset = {top:0, left: 0},
		// because it is its only offset parent
		if ( jQuery.css( elem, "position" ) === "fixed" ) {

			// we assume that getBoundingClientRect is available when computed position is fixed
			offset = elem.getBoundingClientRect();
		} else {

			// Get *real* offsetParent
			offsetParent = this.offsetParent();

			// Get correct offsets
			offset = this.offset();
			if ( !jQuery.nodeName( offsetParent[ 0 ], "html" ) ) {
				parentOffset = offsetParent.offset();
			}

			// Add offsetParent borders
			parentOffset.top  += jQuery.css( offsetParent[ 0 ], "borderTopWidth", true );
			parentOffset.left += jQuery.css( offsetParent[ 0 ], "borderLeftWidth", true );
		}

		// Subtract parent offsets and element margins
		// note: when an element has margin: auto the offsetLeft and marginLeft
		// are the same in Safari causing offset.left to incorrectly be 0
		return {
			top:  offset.top  - parentOffset.top - jQuery.css( elem, "marginTop", true ),
			left: offset.left - parentOffset.left - jQuery.css( elem, "marginLeft", true )
		};
	},

	offsetParent: function() {
		return this.map( function() {
			var offsetParent = this.offsetParent;

			while ( offsetParent && ( !jQuery.nodeName( offsetParent, "html" ) &&
				jQuery.css( offsetParent, "position" ) === "static" ) ) {
				offsetParent = offsetParent.offsetParent;
			}
			return offsetParent || documentElement;
		} );
	}
} );

// Create scrollLeft and scrollTop methods
jQuery.each( { scrollLeft: "pageXOffset", scrollTop: "pageYOffset" }, function( method, prop ) {
	var top = /Y/.test( prop );

	jQuery.fn[ method ] = function( val ) {
		return access( this, function( elem, method, val ) {
			var win = getWindow( elem );

			if ( val === undefined ) {
				return win ? ( prop in win ) ? win[ prop ] :
					win.document.documentElement[ method ] :
					elem[ method ];
			}

			if ( win ) {
				win.scrollTo(
					!top ? val : jQuery( win ).scrollLeft(),
					top ? val : jQuery( win ).scrollTop()
				);

			} else {
				elem[ method ] = val;
			}
		}, method, val, arguments.length, null );
	};
} );

// Support: Safari<7-8+, Chrome<37-44+
// Add the top/left cssHooks using jQuery.fn.position
// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084
// getComputedStyle returns percent when specified for top/left/bottom/right
// rather than make the css module depend on the offset module, we just check for it here
jQuery.each( [ "top", "left" ], function( i, prop ) {
	jQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,
		function( elem, computed ) {
			if ( computed ) {
				computed = curCSS( elem, prop );

				// if curCSS returns percentage, fallback to offset
				return rnumnonpx.test( computed ) ?
					jQuery( elem ).position()[ prop ] + "px" :
					computed;
			}
		}
	);
} );


// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods
jQuery.each( { Height: "height", Width: "width" }, function( name, type ) {
	jQuery.each( { padding: "inner" + name, content: type, "": "outer" + name },
	function( defaultExtra, funcName ) {

		// margin is only for outerHeight, outerWidth
		jQuery.fn[ funcName ] = function( margin, value ) {
			var chainable = arguments.length && ( defaultExtra || typeof margin !== "boolean" ),
				extra = defaultExtra || ( margin === true || value === true ? "margin" : "border" );

			return access( this, function( elem, type, value ) {
				var doc;

				if ( jQuery.isWindow( elem ) ) {

					// As of 5/8/2012 this will yield incorrect results for Mobile Safari, but there
					// isn't a whole lot we can do. See pull request at this URL for discussion:
					// https://github.com/jquery/jquery/pull/764
					return elem.document.documentElement[ "client" + name ];
				}

				// Get document width or height
				if ( elem.nodeType === 9 ) {
					doc = elem.documentElement;

					// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],
					// whichever is greatest
					// unfortunately, this causes bug #3838 in IE6/8 only,
					// but there is currently no good, small way to fix it.
					return Math.max(
						elem.body[ "scroll" + name ], doc[ "scroll" + name ],
						elem.body[ "offset" + name ], doc[ "offset" + name ],
						doc[ "client" + name ]
					);
				}

				return value === undefined ?

					// Get width or height on the element, requesting but not forcing parseFloat
					jQuery.css( elem, type, extra ) :

					// Set width or height on the element
					jQuery.style( elem, type, value, extra );
			}, type, chainable ? margin : undefined, chainable, null );
		};
	} );
} );


jQuery.fn.extend( {

	bind: function( types, data, fn ) {
		return this.on( types, null, data, fn );
	},
	unbind: function( types, fn ) {
		return this.off( types, null, fn );
	},

	delegate: function( selector, types, data, fn ) {
		return this.on( types, selector, data, fn );
	},
	undelegate: function( selector, types, fn ) {

		// ( namespace ) or ( selector, types [, fn] )
		return arguments.length === 1 ?
			this.off( selector, "**" ) :
			this.off( types, selector || "**", fn );
	}
} );

// The number of elements contained in the matched element set
jQuery.fn.size = function() {
	return this.length;
};

jQuery.fn.andSelf = jQuery.fn.addBack;




// Register as a named AMD module, since jQuery can be concatenated with other
// files that may use define, but not via a proper concatenation script that
// understands anonymous AMD modules. A named AMD is safest and most robust
// way to register. Lowercase jquery is used because AMD module names are
// derived from file names, and jQuery is normally delivered in a lowercase
// file name. Do this after creating the global so that if an AMD module wants
// to call noConflict to hide this version of jQuery, it will work.

// Note that for maximum portability, libraries that are not jQuery should
// declare themselves as anonymous modules, and avoid setting a global if an
// AMD loader is present. jQuery is a special case. For more information, see
// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon

if ( typeof define === "function" && define.amd ) {
	define( "jquery", [], function() {
		return jQuery;
	} );
}



var

	// Map over jQuery in case of overwrite
	_jQuery = window.jQuery,

	// Map over the $ in case of overwrite
	_$ = window.$;

jQuery.noConflict = function( deep ) {
	if ( window.$ === jQuery ) {
		window.$ = _$;
	}

	if ( deep && window.jQuery === jQuery ) {
		window.jQuery = _jQuery;
	}

	return jQuery;
};

// Expose jQuery and $ identifiers, even in
// AMD (#7102#comment:10, https://github.com/jquery/jquery/pull/557)
// and CommonJS for browser emulators (#13566)
if ( !noGlobal ) {
	window.jQuery = window.$ = jQuery;
}

return jQuery;
}));
(function($, undefined) {

/**
 * Unobtrusive scripting adapter for jQuery
 * https://github.com/rails/jquery-ujs
 *
 * Requires jQuery 1.8.0 or later.
 *
 * Released under the MIT license
 *
 */

  // Cut down on the number of issues from people inadvertently including jquery_ujs twice
  // by detecting and raising an error when it happens.
  'use strict';

  if ( $.rails !== undefined ) {
    $.error('jquery-ujs has already been loaded!');
  }

  // Shorthand to make it a little easier to call public rails functions from within rails.js
  var rails;
  var $document = $(document);

  $.rails = rails = {
    // Link elements bound by jquery-ujs
    linkClickSelector: 'a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]',

    // Button elements bound by jquery-ujs
    buttonClickSelector: 'button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)',

    // Select elements bound by jquery-ujs
    inputChangeSelector: 'select[data-remote], input[data-remote], textarea[data-remote]',

    // Form elements bound by jquery-ujs
    formSubmitSelector: 'form',

    // Form input elements bound by jquery-ujs
    formInputClickSelector: 'form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])',

    // Form input elements disabled during form submission
    disableSelector: 'input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled',

    // Form input elements re-enabled after form submission
    enableSelector: 'input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled',

    // Form required input elements
    requiredInputSelector: 'input[name][required]:not([disabled]), textarea[name][required]:not([disabled])',

    // Form file input elements
    fileInputSelector: 'input[name][type=file]:not([disabled])',

    // Link onClick disable selector with possible reenable after remote submission
    linkDisableSelector: 'a[data-disable-with], a[data-disable]',

    // Button onClick disable selector with possible reenable after remote submission
    buttonDisableSelector: 'button[data-remote][data-disable-with], button[data-remote][data-disable]',

    // Up-to-date Cross-Site Request Forgery token
    csrfToken: function() {
     return $('meta[name=csrf-token]').attr('content');
    },

    // URL param that must contain the CSRF token
    csrfParam: function() {
     return $('meta[name=csrf-param]').attr('content');
    },

    // Make sure that every Ajax request sends the CSRF token
    CSRFProtection: function(xhr) {
      var token = rails.csrfToken();
      if (token) xhr.setRequestHeader('X-CSRF-Token', token);
    },

    // Make sure that all forms have actual up-to-date tokens (cached forms contain old ones)
    refreshCSRFTokens: function(){
      $('form input[name="' + rails.csrfParam() + '"]').val(rails.csrfToken());
    },

    // Triggers an event on an element and returns false if the event result is false
    fire: function(obj, name, data) {
      var event = $.Event(name);
      obj.trigger(event, data);
      return event.result !== false;
    },

    // Default confirm dialog, may be overridden with custom confirm dialog in $.rails.confirm
    confirm: function(message) {
      return confirm(message);
    },

    // Default ajax function, may be overridden with custom function in $.rails.ajax
    ajax: function(options) {
      return $.ajax(options);
    },

    // Default way to get an element's href. May be overridden at $.rails.href.
    href: function(element) {
      return element[0].href;
    },

    // Checks "data-remote" if true to handle the request through a XHR request.
    isRemote: function(element) {
      return element.data('remote') !== undefined && element.data('remote') !== false;
    },

    // Submits "remote" forms and links with ajax
    handleRemote: function(element) {
      var method, url, data, withCredentials, dataType, options;

      if (rails.fire(element, 'ajax:before')) {
        withCredentials = element.data('with-credentials') || null;
        dataType = element.data('type') || ($.ajaxSettings && $.ajaxSettings.dataType);

        if (element.is('form')) {
          method = element.data('ujs:submit-button-formmethod') || element.attr('method');
          url = element.data('ujs:submit-button-formaction') || element.attr('action');
          data = $(element[0]).serializeArray();
          // memoized value from clicked submit button
          var button = element.data('ujs:submit-button');
          if (button) {
            data.push(button);
            element.data('ujs:submit-button', null);
          }
          element.data('ujs:submit-button-formmethod', null);
          element.data('ujs:submit-button-formaction', null);
        } else if (element.is(rails.inputChangeSelector)) {
          method = element.data('method');
          url = element.data('url');
          data = element.serialize();
          if (element.data('params')) data = data + '&' + element.data('params');
        } else if (element.is(rails.buttonClickSelector)) {
          method = element.data('method') || 'get';
          url = element.data('url');
          data = element.serialize();
          if (element.data('params')) data = data + '&' + element.data('params');
        } else {
          method = element.data('method');
          url = rails.href(element);
          data = element.data('params') || null;
        }

        options = {
          type: method || 'GET', data: data, dataType: dataType,
          // stopping the "ajax:beforeSend" event will cancel the ajax request
          beforeSend: function(xhr, settings) {
            if (settings.dataType === undefined) {
              xhr.setRequestHeader('accept', '*/*;q=0.5, ' + settings.accepts.script);
            }
            if (rails.fire(element, 'ajax:beforeSend', [xhr, settings])) {
              element.trigger('ajax:send', xhr);
            } else {
              return false;
            }
          },
          success: function(data, status, xhr) {
            element.trigger('ajax:success', [data, status, xhr]);
          },
          complete: function(xhr, status) {
            element.trigger('ajax:complete', [xhr, status]);
          },
          error: function(xhr, status, error) {
            element.trigger('ajax:error', [xhr, status, error]);
          },
          crossDomain: rails.isCrossDomain(url)
        };

        // There is no withCredentials for IE6-8 when
        // "Enable native XMLHTTP support" is disabled
        if (withCredentials) {
          options.xhrFields = {
            withCredentials: withCredentials
          };
        }

        // Only pass url to `ajax` options if not blank
        if (url) { options.url = url; }

        return rails.ajax(options);
      } else {
        return false;
      }
    },

    // Determines if the request is a cross domain request.
    isCrossDomain: function(url) {
      var originAnchor = document.createElement('a');
      originAnchor.href = location.href;
      var urlAnchor = document.createElement('a');

      try {
        urlAnchor.href = url;
        // This is a workaround to a IE bug.
        urlAnchor.href = urlAnchor.href;

        // If URL protocol is false or is a string containing a single colon
        // *and* host are false, assume it is not a cross-domain request
        // (should only be the case for IE7 and IE compatibility mode).
        // Otherwise, evaluate protocol and host of the URL against the origin
        // protocol and host.
        return !(((!urlAnchor.protocol || urlAnchor.protocol === ':') && !urlAnchor.host) ||
          (originAnchor.protocol + '//' + originAnchor.host ===
            urlAnchor.protocol + '//' + urlAnchor.host));
      } catch (e) {
        // If there is an error parsing the URL, assume it is crossDomain.
        return true;
      }
    },

    // Handles "data-method" on links such as:
    // <a href="/users/5" data-method="delete" rel="nofollow" data-confirm="Are you sure?">Delete</a>
    handleMethod: function(link) {
      var href = rails.href(link),
        method = link.data('method'),
        target = link.attr('target'),
        csrfToken = rails.csrfToken(),
        csrfParam = rails.csrfParam(),
        form = $('<form method="post" action="' + href + '"></form>'),
        metadataInput = '<input name="_method" value="' + method + '" type="hidden" />';

      if (csrfParam !== undefined && csrfToken !== undefined && !rails.isCrossDomain(href)) {
        metadataInput += '<input name="' + csrfParam + '" value="' + csrfToken + '" type="hidden" />';
      }

      if (target) { form.attr('target', target); }

      form.hide().append(metadataInput).appendTo('body');
      form.submit();
    },

    // Helper function that returns form elements that match the specified CSS selector
    // If form is actually a "form" element this will return associated elements outside the from that have
    // the html form attribute set
    formElements: function(form, selector) {
      return form.is('form') ? $(form[0].elements).filter(selector) : form.find(selector);
    },

    /* Disables form elements:
      - Caches element value in 'ujs:enable-with' data store
      - Replaces element text with value of 'data-disable-with' attribute
      - Sets disabled property to true
    */
    disableFormElements: function(form) {
      rails.formElements(form, rails.disableSelector).each(function() {
        rails.disableFormElement($(this));
      });
    },

    disableFormElement: function(element) {
      var method, replacement;

      method = element.is('button') ? 'html' : 'val';
      replacement = element.data('disable-with');

      if (replacement !== undefined) {
        element.data('ujs:enable-with', element[method]());
        element[method](replacement);
      }

      element.prop('disabled', true);
      element.data('ujs:disabled', true);
    },

    /* Re-enables disabled form elements:
      - Replaces element text with cached value from 'ujs:enable-with' data store (created in `disableFormElements`)
      - Sets disabled property to false
    */
    enableFormElements: function(form) {
      rails.formElements(form, rails.enableSelector).each(function() {
        rails.enableFormElement($(this));
      });
    },

    enableFormElement: function(element) {
      var method = element.is('button') ? 'html' : 'val';
      if (element.data('ujs:enable-with') !== undefined) {
        element[method](element.data('ujs:enable-with'));
        element.removeData('ujs:enable-with'); // clean up cache
      }
      element.prop('disabled', false);
      element.removeData('ujs:disabled');
    },

   /* For 'data-confirm' attribute:
      - Fires `confirm` event
      - Shows the confirmation dialog
      - Fires the `confirm:complete` event

      Returns `true` if no function stops the chain and user chose yes; `false` otherwise.
      Attaching a handler to the element's `confirm` event that returns a `falsy` value cancels the confirmation dialog.
      Attaching a handler to the element's `confirm:complete` event that returns a `falsy` value makes this function
      return false. The `confirm:complete` event is fired whether or not the user answered true or false to the dialog.
   */
    allowAction: function(element) {
      var message = element.data('confirm'),
          answer = false, callback;
      if (!message) { return true; }

      if (rails.fire(element, 'confirm')) {
        try {
          answer = rails.confirm(message);
        } catch (e) {
          (console.error || console.log).call(console, e.stack || e);
        }
        callback = rails.fire(element, 'confirm:complete', [answer]);
      }
      return answer && callback;
    },

    // Helper function which checks for blank inputs in a form that match the specified CSS selector
    blankInputs: function(form, specifiedSelector, nonBlank) {
      var foundInputs = $(),
        input,
        valueToCheck,
        radiosForNameWithNoneSelected,
        radioName,
        selector = specifiedSelector || 'input,textarea',
        requiredInputs = form.find(selector),
        checkedRadioButtonNames = {};

      requiredInputs.each(function() {
        input = $(this);
        if (input.is('input[type=radio]')) {

          // Don't count unchecked required radio as blank if other radio with same name is checked,
          // regardless of whether same-name radio input has required attribute or not. The spec
          // states https://www.w3.org/TR/html5/forms.html#the-required-attribute
          radioName = input.attr('name');

          // Skip if we've already seen the radio with this name.
          if (!checkedRadioButtonNames[radioName]) {

            // If none checked
            if (form.find('input[type=radio]:checked[name="' + radioName + '"]').length === 0) {
              radiosForNameWithNoneSelected = form.find(
                'input[type=radio][name="' + radioName + '"]');
              foundInputs = foundInputs.add(radiosForNameWithNoneSelected);
            }

            // We only need to check each name once.
            checkedRadioButtonNames[radioName] = radioName;
          }
        } else {
          valueToCheck = input.is('input[type=checkbox],input[type=radio]') ? input.is(':checked') : !!input.val();
          if (valueToCheck === nonBlank) {
            foundInputs = foundInputs.add(input);
          }
        }
      });
      return foundInputs.length ? foundInputs : false;
    },

    // Helper function which checks for non-blank inputs in a form that match the specified CSS selector
    nonBlankInputs: function(form, specifiedSelector) {
      return rails.blankInputs(form, specifiedSelector, true); // true specifies nonBlank
    },

    // Helper function, needed to provide consistent behavior in IE
    stopEverything: function(e) {
      $(e.target).trigger('ujs:everythingStopped');
      e.stopImmediatePropagation();
      return false;
    },

    //  Replace element's html with the 'data-disable-with' after storing original html
    //  and prevent clicking on it
    disableElement: function(element) {
      var replacement = element.data('disable-with');

      if (replacement !== undefined) {
        element.data('ujs:enable-with', element.html()); // store enabled state
        element.html(replacement);
      }

      element.bind('click.railsDisable', function(e) { // prevent further clicking
        return rails.stopEverything(e);
      });
      element.data('ujs:disabled', true);
    },

    // Restore element to its original state which was disabled by 'disableElement' above
    enableElement: function(element) {
      if (element.data('ujs:enable-with') !== undefined) {
        element.html(element.data('ujs:enable-with')); // set to old enabled state
        element.removeData('ujs:enable-with'); // clean up cache
      }
      element.unbind('click.railsDisable'); // enable element
      element.removeData('ujs:disabled');
    }
  };

  if (rails.fire($document, 'rails:attachBindings')) {

    $.ajaxPrefilter(function(options, originalOptions, xhr){ if ( !options.crossDomain ) { rails.CSRFProtection(xhr); }});

    // This event works the same as the load event, except that it fires every
    // time the page is loaded.
    //
    // See https://github.com/rails/jquery-ujs/issues/357
    // See https://developer.mozilla.org/en-US/docs/Using_Firefox_1.5_caching
    $(window).on('pageshow.rails', function () {
      $($.rails.enableSelector).each(function () {
        var element = $(this);

        if (element.data('ujs:disabled')) {
          $.rails.enableFormElement(element);
        }
      });

      $($.rails.linkDisableSelector).each(function () {
        var element = $(this);

        if (element.data('ujs:disabled')) {
          $.rails.enableElement(element);
        }
      });
    });

    $document.on('ajax:complete', rails.linkDisableSelector, function() {
        rails.enableElement($(this));
    });

    $document.on('ajax:complete', rails.buttonDisableSelector, function() {
        rails.enableFormElement($(this));
    });

    $document.on('click.rails', rails.linkClickSelector, function(e) {
      var link = $(this), method = link.data('method'), data = link.data('params'), metaClick = e.metaKey || e.ctrlKey;
      if (!rails.allowAction(link)) return rails.stopEverything(e);

      if (!metaClick && link.is(rails.linkDisableSelector)) rails.disableElement(link);

      if (rails.isRemote(link)) {
        if (metaClick && (!method || method === 'GET') && !data) { return true; }

        var handleRemote = rails.handleRemote(link);
        // Response from rails.handleRemote() will either be false or a deferred object promise.
        if (handleRemote === false) {
          rails.enableElement(link);
        } else {
          handleRemote.fail( function() { rails.enableElement(link); } );
        }
        return false;

      } else if (method) {
        rails.handleMethod(link);
        return false;
      }
    });

    $document.on('click.rails', rails.buttonClickSelector, function(e) {
      var button = $(this);

      if (!rails.allowAction(button) || !rails.isRemote(button)) return rails.stopEverything(e);

      if (button.is(rails.buttonDisableSelector)) rails.disableFormElement(button);

      var handleRemote = rails.handleRemote(button);
      // Response from rails.handleRemote() will either be false or a deferred object promise.
      if (handleRemote === false) {
        rails.enableFormElement(button);
      } else {
        handleRemote.fail( function() { rails.enableFormElement(button); } );
      }
      return false;
    });

    $document.on('change.rails', rails.inputChangeSelector, function(e) {
      var link = $(this);
      if (!rails.allowAction(link) || !rails.isRemote(link)) return rails.stopEverything(e);

      rails.handleRemote(link);
      return false;
    });

    $document.on('submit.rails', rails.formSubmitSelector, function(e) {
      var form = $(this),
        remote = rails.isRemote(form),
        blankRequiredInputs,
        nonBlankFileInputs;

      if (!rails.allowAction(form)) return rails.stopEverything(e);

      // Skip other logic when required values are missing or file upload is present
      if (form.attr('novalidate') === undefined) {
        if (form.data('ujs:formnovalidate-button') === undefined) {
          blankRequiredInputs = rails.blankInputs(form, rails.requiredInputSelector, false);
          if (blankRequiredInputs && rails.fire(form, 'ajax:aborted:required', [blankRequiredInputs])) {
            return rails.stopEverything(e);
          }
        } else {
          // Clear the formnovalidate in case the next button click is not on a formnovalidate button
          // Not strictly necessary to do here, since it is also reset on each button click, but just to be certain
          form.data('ujs:formnovalidate-button', undefined);
        }
      }

      if (remote) {
        nonBlankFileInputs = rails.nonBlankInputs(form, rails.fileInputSelector);
        if (nonBlankFileInputs) {
          // Slight timeout so that the submit button gets properly serialized
          // (make it easy for event handler to serialize form without disabled values)
          setTimeout(function(){ rails.disableFormElements(form); }, 13);
          var aborted = rails.fire(form, 'ajax:aborted:file', [nonBlankFileInputs]);

          // Re-enable form elements if event bindings return false (canceling normal form submission)
          if (!aborted) { setTimeout(function(){ rails.enableFormElements(form); }, 13); }

          return aborted;
        }

        rails.handleRemote(form);
        return false;

      } else {
        // Slight timeout so that the submit button gets properly serialized
        setTimeout(function(){ rails.disableFormElements(form); }, 13);
      }
    });

    $document.on('click.rails', rails.formInputClickSelector, function(event) {
      var button = $(this);

      if (!rails.allowAction(button)) return rails.stopEverything(event);

      // Register the pressed submit button
      var name = button.attr('name'),
        data = name ? {name:name, value:button.val()} : null;

      var form = button.closest('form');
      if (form.length === 0) {
        form = $('#' + button.attr('form'));
      }
      form.data('ujs:submit-button', data);

      // Save attributes from button
      form.data('ujs:formnovalidate-button', button.attr('formnovalidate'));
      form.data('ujs:submit-button-formaction', button.attr('formaction'));
      form.data('ujs:submit-button-formmethod', button.attr('formmethod'));
    });

    $document.on('ajax:send.rails', rails.formSubmitSelector, function(event) {
      if (this === event.target) rails.disableFormElements($(this));
    });

    $document.on('ajax:complete.rails', rails.formSubmitSelector, function(event) {
      if (this === event.target) rails.enableFormElements($(this));
    });

    $(function(){
      rails.refreshCSRFTokens();
    });
  }

})( jQuery );
/*
Turbolinks 5.0.0
Copyright  2016 Basecamp, LLC
 */

(function(){(function(){(function(){this.Turbolinks={supported:function(){return null!=window.history.pushState&&null!=window.requestAnimationFrame}(),visit:function(e,r){return t.controller.visit(e,r)},clearCache:function(){return t.controller.clearCache()}}}).call(this)}).call(this);var t=this.Turbolinks;(function(){(function(){var e,r;t.copyObject=function(t){var e,r,n;r={};for(e in t)n=t[e],r[e]=n;return r},t.closest=function(t,r){return e.call(t,r)},e=function(){var t,e;return t=document.documentElement,null!=(e=t.closest)?e:function(t){var e;for(e=this;e;){if(e.nodeType===Node.ELEMENT_NODE&&r.call(e,t))return e;e=e.parentNode}}}(),t.defer=function(t){return setTimeout(t,1)},t.dispatch=function(t,e){var r,n,o,i,s;return i=null!=e?e:{},s=i.target,r=i.cancelable,n=i.data,o=document.createEvent("Events"),o.initEvent(t,!0,r===!0),o.data=null!=n?n:{},(null!=s?s:document).dispatchEvent(o),o},t.match=function(t,e){return r.call(t,e)},r=function(){var t,e,r,n;return t=document.documentElement,null!=(e=null!=(r=null!=(n=t.matchesSelector)?n:t.webkitMatchesSelector)?r:t.msMatchesSelector)?e:t.mozMatchesSelector}(),t.uuid=function(){var t,e,r;for(r="",t=e=1;36>=e;t=++e)r+=9===t||14===t||19===t||24===t?"-":15===t?"4":20===t?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16);return r}}).call(this),function(){t.Location=function(){function t(t){var e,r;null==t&&(t=""),r=document.createElement("a"),r.href=t.toString(),this.absoluteURL=r.href,e=r.hash.length,2>e?this.requestURL=this.absoluteURL:(this.requestURL=this.absoluteURL.slice(0,-e),this.anchor=r.hash.slice(1))}var e,r,n,o;return t.wrap=function(t){return t instanceof this?t:new this(t)},t.prototype.getOrigin=function(){return this.absoluteURL.split("/",3).join("/")},t.prototype.getPath=function(){var t,e;return null!=(t=null!=(e=this.absoluteURL.match(/\/\/[^\/]*(\/[^?;]*)/))?e[1]:void 0)?t:"/"},t.prototype.getPathComponents=function(){return this.getPath().split("/").slice(1)},t.prototype.getLastPathComponent=function(){return this.getPathComponents().slice(-1)[0]},t.prototype.getExtension=function(){var t,e;return null!=(t=null!=(e=this.getLastPathComponent().match(/\.[^.]*$/))?e[0]:void 0)?t:""},t.prototype.isHTML=function(){return this.getExtension().match(/^(?:|\.(?:htm|html|xhtml))$/)},t.prototype.isPrefixedBy=function(t){var e;return e=r(t),this.isEqualTo(t)||o(this.absoluteURL,e)},t.prototype.isEqualTo=function(t){return this.absoluteURL===(null!=t?t.absoluteURL:void 0)},t.prototype.toCacheKey=function(){return this.requestURL},t.prototype.toJSON=function(){return this.absoluteURL},t.prototype.toString=function(){return this.absoluteURL},t.prototype.valueOf=function(){return this.absoluteURL},r=function(t){return e(t.getOrigin()+t.getPath())},e=function(t){return n(t,"/")?t:t+"/"},o=function(t,e){return t.slice(0,e.length)===e},n=function(t,e){return t.slice(-e.length)===e},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.HttpRequest=function(){function r(r,n,o){this.delegate=r,this.requestCanceled=e(this.requestCanceled,this),this.requestTimedOut=e(this.requestTimedOut,this),this.requestFailed=e(this.requestFailed,this),this.requestLoaded=e(this.requestLoaded,this),this.requestProgressed=e(this.requestProgressed,this),this.url=t.Location.wrap(n).requestURL,this.referrer=t.Location.wrap(o).absoluteURL,this.createXHR()}return r.NETWORK_FAILURE=0,r.TIMEOUT_FAILURE=-1,r.timeout=60,r.prototype.send=function(){var t;return this.xhr&&!this.sent?(this.notifyApplicationBeforeRequestStart(),this.setProgress(0),this.xhr.send(),this.sent=!0,"function"==typeof(t=this.delegate).requestStarted?t.requestStarted():void 0):void 0},r.prototype.cancel=function(){return this.xhr&&this.sent?this.xhr.abort():void 0},r.prototype.requestProgressed=function(t){return t.lengthComputable?this.setProgress(t.loaded/t.total):void 0},r.prototype.requestLoaded=function(){return this.endRequest(function(t){return function(){var e;return 200<=(e=t.xhr.status)&&300>e?t.delegate.requestCompletedWithResponse(t.xhr.responseText,t.xhr.getResponseHeader("Turbolinks-Location")):(t.failed=!0,t.delegate.requestFailedWithStatusCode(t.xhr.status,t.xhr.responseText))}}(this))},r.prototype.requestFailed=function(){return this.endRequest(function(t){return function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.NETWORK_FAILURE)}}(this))},r.prototype.requestTimedOut=function(){return this.endRequest(function(t){return function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.TIMEOUT_FAILURE)}}(this))},r.prototype.requestCanceled=function(){return this.endRequest()},r.prototype.notifyApplicationBeforeRequestStart=function(){return t.dispatch("turbolinks:request-start",{data:{url:this.url,xhr:this.xhr}})},r.prototype.notifyApplicationAfterRequestEnd=function(){return t.dispatch("turbolinks:request-end",{data:{url:this.url,xhr:this.xhr}})},r.prototype.createXHR=function(){return this.xhr=new XMLHttpRequest,this.xhr.open("GET",this.url,!0),this.xhr.timeout=1e3*this.constructor.timeout,this.xhr.setRequestHeader("Accept","text/html, application/xhtml+xml"),this.xhr.setRequestHeader("Turbolinks-Referrer",this.referrer),this.xhr.onprogress=this.requestProgressed,this.xhr.onload=this.requestLoaded,this.xhr.onerror=this.requestFailed,this.xhr.ontimeout=this.requestTimedOut,this.xhr.onabort=this.requestCanceled},r.prototype.endRequest=function(t){return this.xhr?(this.notifyApplicationAfterRequestEnd(),null!=t&&t.call(this),this.destroy()):void 0},r.prototype.setProgress=function(t){var e;return this.progress=t,"function"==typeof(e=this.delegate).requestProgressed?e.requestProgressed(this.progress):void 0},r.prototype.destroy=function(){var t;return this.setProgress(1),"function"==typeof(t=this.delegate).requestFinished&&t.requestFinished(),this.delegate=null,this.xhr=null},r}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.ProgressBar=function(){function t(){this.trickle=e(this.trickle,this),this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement()}var r;return r=300,t.defaultCSS=".turbolinks-progress-bar {\n  position: fixed;\n  display: block;\n  top: 0;\n  left: 0;\n  height: 3px;\n  background: #0076ff;\n  z-index: 9999;\n  transition: width "+r+"ms ease-out, opacity "+r/2+"ms "+r/2+"ms ease-in;\n  transform: translate3d(0, 0, 0);\n}",t.prototype.show=function(){return this.visible?void 0:(this.visible=!0,this.installStylesheetElement(),this.installProgressElement(),this.startTrickling())},t.prototype.hide=function(){return this.visible&&!this.hiding?(this.hiding=!0,this.fadeProgressElement(function(t){return function(){return t.uninstallProgressElement(),t.stopTrickling(),t.visible=!1,t.hiding=!1}}(this))):void 0},t.prototype.setValue=function(t){return this.value=t,this.refresh()},t.prototype.installStylesheetElement=function(){return document.head.insertBefore(this.stylesheetElement,document.head.firstChild)},t.prototype.installProgressElement=function(){return this.progressElement.style.width=0,this.progressElement.style.opacity=1,document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()},t.prototype.fadeProgressElement=function(t){return this.progressElement.style.opacity=0,setTimeout(t,1.5*r)},t.prototype.uninstallProgressElement=function(){return this.progressElement.parentNode?document.documentElement.removeChild(this.progressElement):void 0},t.prototype.startTrickling=function(){return null!=this.trickleInterval?this.trickleInterval:this.trickleInterval=setInterval(this.trickle,r)},t.prototype.stopTrickling=function(){return clearInterval(this.trickleInterval),this.trickleInterval=null},t.prototype.trickle=function(){return this.setValue(this.value+Math.random()/100)},t.prototype.refresh=function(){return requestAnimationFrame(function(t){return function(){return t.progressElement.style.width=10+90*t.value+"%"}}(this))},t.prototype.createStylesheetElement=function(){var t;return t=document.createElement("style"),t.type="text/css",t.textContent=this.constructor.defaultCSS,t},t.prototype.createProgressElement=function(){var t;return t=document.createElement("div"),t.className="turbolinks-progress-bar",t},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.BrowserAdapter=function(){function r(r){this.controller=r,this.showProgressBar=e(this.showProgressBar,this),this.progressBar=new t.ProgressBar}var n,o,i,s;return s=t.HttpRequest,n=s.NETWORK_FAILURE,i=s.TIMEOUT_FAILURE,o=500,r.prototype.visitProposedToLocationWithAction=function(t,e){return this.controller.startVisitToLocationWithAction(t,e)},r.prototype.visitStarted=function(t){return t.issueRequest(),t.changeHistory(),t.loadCachedSnapshot()},r.prototype.visitRequestStarted=function(t){return this.progressBar.setValue(0),t.hasCachedSnapshot()||"restore"!==t.action?this.showProgressBarAfterDelay():this.showProgressBar()},r.prototype.visitRequestProgressed=function(t){return this.progressBar.setValue(t.progress)},r.prototype.visitRequestCompleted=function(t){return t.loadResponse()},r.prototype.visitRequestFailedWithStatusCode=function(t,e){switch(e){case n:case i:return this.reload();default:return t.loadResponse()}},r.prototype.visitRequestFinished=function(t){return this.hideProgressBar()},r.prototype.visitCompleted=function(t){return t.followRedirect()},r.prototype.pageInvalidated=function(){return this.reload()},r.prototype.showProgressBarAfterDelay=function(){return this.progressBarTimeout=setTimeout(this.showProgressBar,o)},r.prototype.showProgressBar=function(){return this.progressBar.show()},r.prototype.hideProgressBar=function(){return this.progressBar.hide(),clearTimeout(this.progressBarTimeout)},r.prototype.reload=function(){return window.location.reload()},r}()}.call(this),function(){var e,r=function(t,e){return function(){return t.apply(e,arguments)}};e=!1,addEventListener("load",function(){return t.defer(function(){return e=!0})},!1),t.History=function(){function n(t){this.delegate=t,this.onPopState=r(this.onPopState,this)}return n.prototype.start=function(){return this.started?void 0:(addEventListener("popstate",this.onPopState,!1),this.started=!0)},n.prototype.stop=function(){return this.started?(removeEventListener("popstate",this.onPopState,!1),this.started=!1):void 0},n.prototype.push=function(e,r){return e=t.Location.wrap(e),this.update("push",e,r)},n.prototype.replace=function(e,r){return e=t.Location.wrap(e),this.update("replace",e,r)},n.prototype.onPopState=function(e){var r,n,o,i;return this.shouldHandlePopState()&&(i=null!=(n=e.state)?n.turbolinks:void 0)?(r=t.Location.wrap(window.location),o=i.restorationIdentifier,this.delegate.historyPoppedToLocationWithRestorationIdentifier(r,o)):void 0},n.prototype.shouldHandlePopState=function(){return e===!0},n.prototype.update=function(t,e,r){var n;return n={turbolinks:{restorationIdentifier:r}},history[t+"State"](n,null,e)},n}()}.call(this),function(){t.Snapshot=function(){function e(t){var e,r;r=t.head,e=t.body,this.head=null!=r?r:document.createElement("head"),this.body=null!=e?e:document.createElement("body")}return e.wrap=function(t){return t instanceof this?t:this.fromHTML(t)},e.fromHTML=function(t){var e;return e=document.createElement("html"),e.innerHTML=t,this.fromElement(e)},e.fromElement=function(t){return new this({head:t.querySelector("head"),body:t.querySelector("body")})},e.prototype.clone=function(){return new e({head:this.head.cloneNode(!0),body:this.body.cloneNode(!0)})},e.prototype.getRootLocation=function(){var e,r;return r=null!=(e=this.getSetting("root"))?e:"/",new t.Location(r)},e.prototype.getCacheControlValue=function(){return this.getSetting("cache-control")},e.prototype.hasAnchor=function(t){try{return null!=this.body.querySelector("[id='"+t+"']")}catch(e){}},e.prototype.isPreviewable=function(){return"no-preview"!==this.getCacheControlValue()},e.prototype.isCacheable=function(){return"no-cache"!==this.getCacheControlValue()},e.prototype.getSetting=function(t){var e,r;return r=this.head.querySelectorAll("meta[name='turbolinks-"+t+"']"),e=r[r.length-1],null!=e?e.getAttribute("content"):void 0},e}()}.call(this),function(){var e=[].slice;t.Renderer=function(){function t(){}var r;return t.render=function(){var t,r,n,o;return n=arguments[0],r=arguments[1],t=3<=arguments.length?e.call(arguments,2):[],o=function(t,e,r){r.prototype=t.prototype;var n=new r,o=t.apply(n,e);return Object(o)===o?o:n}(this,t,function(){}),o.delegate=n,o.render(r),o},t.prototype.renderView=function(t){return this.delegate.viewWillRender(this.newBody),t(),this.delegate.viewRendered(this.newBody)},t.prototype.invalidateView=function(){return this.delegate.viewInvalidated()},t.prototype.createScriptElement=function(t){var e;return"false"===t.getAttribute("data-turbolinks-eval")?t:(e=document.createElement("script"),e.textContent=t.textContent,r(e,t),e)},r=function(t,e){var r,n,o,i,s,a,u;for(i=e.attributes,a=[],r=0,n=i.length;n>r;r++)s=i[r],o=s.name,u=s.value,a.push(t.setAttribute(o,u));return a},t}()}.call(this),function(){t.HeadDetails=function(){function t(t){var e,r,i,s,a,u,c;for(this.element=t,this.elements={},c=this.element.childNodes,s=0,u=c.length;u>s;s++)i=c[s],i.nodeType===Node.ELEMENT_NODE&&(a=i.outerHTML,r=null!=(e=this.elements)[a]?e[a]:e[a]={type:o(i),tracked:n(i),elements:[]},r.elements.push(i))}var e,r,n,o;return t.prototype.hasElementWithKey=function(t){return t in this.elements},t.prototype.getTrackedElementSignature=function(){var t,e;return function(){var r,n;r=this.elements,n=[];for(t in r)e=r[t].tracked,e&&n.push(t);return n}.call(this).join("")},t.prototype.getScriptElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("script",t)},t.prototype.getStylesheetElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("stylesheet",t)},t.prototype.getElementsMatchingTypeNotInDetails=function(t,e){var r,n,o,i,s,a;o=this.elements,s=[];for(n in o)i=o[n],a=i.type,r=i.elements,a!==t||e.hasElementWithKey(n)||s.push(r[0]);return s},t.prototype.getProvisionalElements=function(){var t,e,r,n,o,i,s;r=[],n=this.elements;for(e in n)o=n[e],s=o.type,i=o.tracked,t=o.elements,null!=s||i?t.length>1&&r.push.apply(r,t.slice(1)):r.push.apply(r,t);return r},o=function(t){return e(t)?"script":r(t)?"stylesheet":void 0},n=function(t){return"reload"===t.getAttribute("data-turbolinks-track")},e=function(t){var e;return e=t.tagName.toLowerCase(),"script"===e},r=function(t){var e;return e=t.tagName.toLowerCase(),"style"===e||"link"===e&&"stylesheet"===t.getAttribute("rel")},t}()}.call(this),function(){var e=function(t,e){function n(){this.constructor=t}for(var o in e)r.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;t.SnapshotRenderer=function(r){function n(e,r){this.currentSnapshot=e,this.newSnapshot=r,this.currentHeadDetails=new t.HeadDetails(this.currentSnapshot.head),this.newHeadDetails=new t.HeadDetails(this.newSnapshot.head),this.newBody=this.newSnapshot.body}return e(n,r),n.prototype.render=function(t){return this.trackedElementsAreIdentical()?(this.mergeHead(),this.renderView(function(e){return function(){return e.replaceBody(),e.focusFirstAutofocusableElement(),t()}}(this))):this.invalidateView()},n.prototype.mergeHead=function(){return this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()},n.prototype.replaceBody=function(){return this.activateBodyScriptElements(),this.importBodyPermanentElements(),this.assignNewBody()},n.prototype.trackedElementsAreIdentical=function(){return this.currentHeadDetails.getTrackedElementSignature()===this.newHeadDetails.getTrackedElementSignature()},n.prototype.copyNewHeadStylesheetElements=function(){var t,e,r,n,o;for(n=this.getNewHeadStylesheetElements(),o=[],e=0,r=n.length;r>e;e++)t=n[e],o.push(document.head.appendChild(t));return o},n.prototype.copyNewHeadScriptElements=function(){var t,e,r,n,o;for(n=this.getNewHeadScriptElements(),o=[],e=0,r=n.length;r>e;e++)t=n[e],o.push(document.head.appendChild(this.createScriptElement(t)));return o},n.prototype.removeCurrentHeadProvisionalElements=function(){var t,e,r,n,o;for(n=this.getCurrentHeadProvisionalElements(),o=[],e=0,r=n.length;r>e;e++)t=n[e],o.push(document.head.removeChild(t));return o},n.prototype.copyNewHeadProvisionalElements=function(){var t,e,r,n,o;for(n=this.getNewHeadProvisionalElements(),o=[],e=0,r=n.length;r>e;e++)t=n[e],o.push(document.head.appendChild(t));return o},n.prototype.importBodyPermanentElements=function(){var t,e,r,n,o,i;for(n=this.getNewBodyPermanentElements(),i=[],e=0,r=n.length;r>e;e++)o=n[e],(t=this.findCurrentBodyPermanentElement(o))?i.push(o.parentNode.replaceChild(t,o)):i.push(void 0);return i},n.prototype.activateBodyScriptElements=function(){var t,e,r,n,o,i;for(n=this.getNewBodyScriptElements(),i=[],e=0,r=n.length;r>e;e++)o=n[e],t=this.createScriptElement(o),i.push(o.parentNode.replaceChild(t,o));return i},n.prototype.assignNewBody=function(){return document.body=this.newBody},n.prototype.focusFirstAutofocusableElement=function(){var t;return null!=(t=this.findFirstAutofocusableElement())?t.focus():void 0},n.prototype.getNewHeadStylesheetElements=function(){return this.newHeadDetails.getStylesheetElementsNotInDetails(this.currentHeadDetails)},n.prototype.getNewHeadScriptElements=function(){return this.newHeadDetails.getScriptElementsNotInDetails(this.currentHeadDetails)},n.prototype.getCurrentHeadProvisionalElements=function(){return this.currentHeadDetails.getProvisionalElements()},n.prototype.getNewHeadProvisionalElements=function(){return this.newHeadDetails.getProvisionalElements()},n.prototype.getNewBodyPermanentElements=function(){return this.newBody.querySelectorAll("[id][data-turbolinks-permanent]")},n.prototype.findCurrentBodyPermanentElement=function(t){return document.body.querySelector("#"+t.id+"[data-turbolinks-permanent]")},n.prototype.getNewBodyScriptElements=function(){return this.newBody.querySelectorAll("script")},n.prototype.findFirstAutofocusableElement=function(){return document.body.querySelector("[autofocus]")},n}(t.Renderer)}.call(this),function(){var e=function(t,e){function n(){this.constructor=t}for(var o in e)r.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;t.ErrorRenderer=function(t){function r(t){this.html=t}return e(r,t),r.prototype.render=function(t){return this.renderView(function(e){return function(){return e.replaceDocumentHTML(),e.activateBodyScriptElements(),t()}}(this))},r.prototype.replaceDocumentHTML=function(){return document.documentElement.innerHTML=this.html},r.prototype.activateBodyScriptElements=function(){var t,e,r,n,o,i;for(n=this.getScriptElements(),i=[],e=0,r=n.length;r>e;e++)o=n[e],t=this.createScriptElement(o),i.push(o.parentNode.replaceChild(t,o));return i},r.prototype.getScriptElements=function(){return document.documentElement.querySelectorAll("script")},r}(t.Renderer)}.call(this),function(){t.View=function(){function e(t){this.delegate=t,this.element=document.documentElement}return e.prototype.getRootLocation=function(){return this.getSnapshot().getRootLocation()},e.prototype.getSnapshot=function(){return t.Snapshot.fromElement(this.element)},e.prototype.render=function(t,e){var r,n,o;return o=t.snapshot,r=t.error,n=t.isPreview,this.markAsPreview(n),null!=o?this.renderSnapshot(o,e):this.renderError(r,e)},e.prototype.markAsPreview=function(t){return t?this.element.setAttribute("data-turbolinks-preview",""):this.element.removeAttribute("data-turbolinks-preview")},e.prototype.renderSnapshot=function(e,r){return t.SnapshotRenderer.render(this.delegate,r,this.getSnapshot(),t.Snapshot.wrap(e))},e.prototype.renderError=function(e,r){return t.ErrorRenderer.render(this.delegate,r,e)},e}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.ScrollManager=function(){function t(t){this.delegate=t,this.onScroll=e(this.onScroll,this)}return t.prototype.start=function(){return this.started?void 0:(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)},t.prototype.stop=function(){return this.started?(removeEventListener("scroll",this.onScroll,!1),this.started=!1):void 0},t.prototype.scrollToElement=function(t){return t.scrollIntoView()},t.prototype.scrollToPosition=function(t){var e,r;return e=t.x,r=t.y,window.scrollTo(e,r)},t.prototype.onScroll=function(t){return this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},t.prototype.updatePosition=function(t){var e;return this.position=t,null!=(e=this.delegate)?e.scrollPositionChanged(this.position):void 0},t}()}.call(this),function(){t.SnapshotCache=function(){function e(t){this.size=t,this.keys=[],this.snapshots={}}var r;return e.prototype.has=function(t){var e;return e=r(t),e in this.snapshots},e.prototype.get=function(t){var e;if(this.has(t))return e=this.read(t),this.touch(t),e},e.prototype.put=function(t,e){return this.write(t,e),this.touch(t),e},e.prototype.read=function(t){var e;return e=r(t),this.snapshots[e]},e.prototype.write=function(t,e){var n;return n=r(t),this.snapshots[n]=e},e.prototype.touch=function(t){var e,n;return n=r(t),e=this.keys.indexOf(n),e>-1&&this.keys.splice(e,1),this.keys.unshift(n),this.trim()},e.prototype.trim=function(){var t,e,r,n,o;for(n=this.keys.splice(this.size),o=[],t=0,r=n.length;r>t;t++)e=n[t],o.push(delete this.snapshots[e]);return o},r=function(e){return t.Location.wrap(e).toCacheKey()},e}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.Visit=function(){function r(r,n,o){this.controller=r,this.action=o,this.performScroll=e(this.performScroll,this),this.identifier=t.uuid(),this.location=t.Location.wrap(n),this.adapter=this.controller.adapter,this.state="initialized",this.timingMetrics={}}var n;return r.prototype.start=function(){return"initialized"===this.state?(this.recordTimingMetric("visitStart"),this.state="started",this.adapter.visitStarted(this)):void 0},r.prototype.cancel=function(){var t;return"started"===this.state?(null!=(t=this.request)&&t.cancel(),this.cancelRender(),this.state="canceled"):void 0},r.prototype.complete=function(){var t;return"started"===this.state?(this.recordTimingMetric("visitEnd"),this.state="completed","function"==typeof(t=this.adapter).visitCompleted&&t.visitCompleted(this),this.controller.visitCompleted(this)):void 0},r.prototype.fail=function(){var t;return"started"===this.state?(this.state="failed","function"==typeof(t=this.adapter).visitFailed?t.visitFailed(this):void 0):void 0},r.prototype.changeHistory=function(){var t,e;return this.historyChanged?void 0:(t=this.location.isEqualTo(this.referrer)?"replace":this.action,e=n(t),this.controller[e](this.location,this.restorationIdentifier),this.historyChanged=!0)},r.prototype.issueRequest=function(){return this.shouldIssueRequest()&&null==this.request?(this.progress=0,this.request=new t.HttpRequest(this,this.location,this.referrer),this.request.send()):void 0},r.prototype.getCachedSnapshot=function(){var t;return!(t=this.controller.getCachedSnapshotForLocation(this.location))||null!=this.location.anchor&&!t.hasAnchor(this.location.anchor)||"restore"!==this.action&&!t.isPreviewable()?void 0:t},r.prototype.hasCachedSnapshot=function(){return null!=this.getCachedSnapshot()},r.prototype.loadCachedSnapshot=function(){var t,e;return(e=this.getCachedSnapshot())?(t=this.shouldIssueRequest(),this.render(function(){var r;return this.cacheSnapshot(),this.controller.render({snapshot:e,isPreview:t},this.performScroll),"function"==typeof(r=this.adapter).visitRendered&&r.visitRendered(this),t?void 0:this.complete()})):void 0},r.prototype.loadResponse=function(){return null!=this.response?this.render(function(){var t,e;return this.cacheSnapshot(),this.request.failed?(this.controller.render({error:this.response},this.performScroll),"function"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),this.fail()):(this.controller.render({snapshot:this.response},this.performScroll),"function"==typeof(e=this.adapter).visitRendered&&e.visitRendered(this),this.complete())}):void 0},r.prototype.followRedirect=function(){return this.redirectedToLocation&&!this.followedRedirect?(this.location=this.redirectedToLocation,this.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.redirectedToLocation,this.restorationIdentifier),this.followedRedirect=!0):void 0},r.prototype.requestStarted=function(){var t;return this.recordTimingMetric("requestStart"),"function"==typeof(t=this.adapter).visitRequestStarted?t.visitRequestStarted(this):void 0},r.prototype.requestProgressed=function(t){var e;return this.progress=t,"function"==typeof(e=this.adapter).visitRequestProgressed?e.visitRequestProgressed(this):void 0},r.prototype.requestCompletedWithResponse=function(e,r){return this.response=e,null!=r&&(this.redirectedToLocation=t.Location.wrap(r)),this.adapter.visitRequestCompleted(this)},r.prototype.requestFailedWithStatusCode=function(t,e){return this.response=e,this.adapter.visitRequestFailedWithStatusCode(this,t)},r.prototype.requestFinished=function(){var t;return this.recordTimingMetric("requestEnd"),"function"==typeof(t=this.adapter).visitRequestFinished?t.visitRequestFinished(this):void 0},r.prototype.performScroll=function(){return this.scrolled?void 0:("restore"===this.action?this.scrollToRestoredPosition()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.scrolled=!0)},r.prototype.scrollToRestoredPosition=function(){var t,e;return t=null!=(e=this.restorationData)?e.scrollPosition:void 0,null!=t?(this.controller.scrollToPosition(t),!0):void 0},r.prototype.scrollToAnchor=function(){return null!=this.location.anchor?(this.controller.scrollToAnchor(this.location.anchor),!0):void 0},r.prototype.scrollToTop=function(){return this.controller.scrollToPosition({x:0,y:0})},r.prototype.recordTimingMetric=function(t){var e;return null!=(e=this.timingMetrics)[t]?e[t]:e[t]=(new Date).getTime()},r.prototype.getTimingMetrics=function(){return t.copyObject(this.timingMetrics)},n=function(t){switch(t){case"replace":return"replaceHistoryWithLocationAndRestorationIdentifier";case"advance":case"restore":return"pushHistoryWithLocationAndRestorationIdentifier"}},r.prototype.shouldIssueRequest=function(){return"restore"===this.action?!this.hasCachedSnapshot():!0},r.prototype.cacheSnapshot=function(){return this.snapshotCached?void 0:(this.controller.cacheSnapshot(),this.snapshotCached=!0)},r.prototype.render=function(t){return this.cancelRender(),this.frame=requestAnimationFrame(function(e){return function(){return e.frame=null,t.call(e)}}(this))},r.prototype.cancelRender=function(){return this.frame?cancelAnimationFrame(this.frame):void 0},r}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.Controller=function(){function r(){this.clickBubbled=e(this.clickBubbled,this),this.clickCaptured=e(this.clickCaptured,this),this.pageLoaded=e(this.pageLoaded,this),this.history=new t.History(this),this.view=new t.View(this),this.scrollManager=new t.ScrollManager(this),this.restorationData={},this.clearCache()}return r.prototype.start=function(){return t.supported&&!this.started?(addEventListener("click",this.clickCaptured,!0),addEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.start(),this.startHistory(),this.started=!0,this.enabled=!0):void 0},r.prototype.disable=function(){return this.enabled=!1},r.prototype.stop=function(){return this.started?(removeEventListener("click",this.clickCaptured,!0),removeEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.stop(),this.stopHistory(),this.started=!1):void 0},r.prototype.clearCache=function(){return this.cache=new t.SnapshotCache(10)},r.prototype.visit=function(e,r){var n,o;return null==r&&(r={}),e=t.Location.wrap(e),this.applicationAllowsVisitingLocation(e)?this.locationIsVisitable(e)?(n=null!=(o=r.action)?o:"advance",this.adapter.visitProposedToLocationWithAction(e,n)):window.location=e:void 0},r.prototype.startVisitToLocationWithAction=function(e,r,n){var o;return t.supported?(o=this.getRestorationDataForIdentifier(n),this.startVisit(e,r,{restorationData:o})):window.location=e},r.prototype.startHistory=function(){return this.location=t.Location.wrap(window.location),this.restorationIdentifier=t.uuid(),this.history.start(),this.history.replace(this.location,this.restorationIdentifier)},r.prototype.stopHistory=function(){return this.history.stop()},r.prototype.pushHistoryWithLocationAndRestorationIdentifier=function(e,r){return this.restorationIdentifier=r,this.location=t.Location.wrap(e),this.history.push(this.location,this.restorationIdentifier)},r.prototype.replaceHistoryWithLocationAndRestorationIdentifier=function(e,r){return this.restorationIdentifier=r,this.location=t.Location.wrap(e),this.history.replace(this.location,this.restorationIdentifier)},r.prototype.historyPoppedToLocationWithRestorationIdentifier=function(e,r){var n;return this.restorationIdentifier=r,this.enabled?(n=this.getRestorationDataForIdentifier(this.restorationIdentifier),this.startVisit(e,"restore",{restorationIdentifier:this.restorationIdentifier,restorationData:n,historyChanged:!0}),this.location=t.Location.wrap(e)):this.adapter.pageInvalidated()},r.prototype.getCachedSnapshotForLocation=function(t){var e;return e=this.cache.get(t),e?e.clone():void 0},r.prototype.shouldCacheSnapshot=function(){return this.view.getSnapshot().isCacheable()},r.prototype.cacheSnapshot=function(){var t;return this.shouldCacheSnapshot()?(this.notifyApplicationBeforeCachingSnapshot(),t=this.view.getSnapshot(),this.cache.put(this.lastRenderedLocation,t.clone())):void 0},r.prototype.scrollToAnchor=function(t){var e;return(e=document.getElementById(t))?this.scrollToElement(e):this.scrollToPosition({x:0,y:0})},r.prototype.scrollToElement=function(t){return this.scrollManager.scrollToElement(t)},r.prototype.scrollToPosition=function(t){return this.scrollManager.scrollToPosition(t)},r.prototype.scrollPositionChanged=function(t){var e;return e=this.getCurrentRestorationData(),e.scrollPosition=t},r.prototype.render=function(t,e){return this.view.render(t,e)},r.prototype.viewInvalidated=function(){return this.adapter.pageInvalidated()},r.prototype.viewWillRender=function(t){return this.notifyApplicationBeforeRender(t)},r.prototype.viewRendered=function(){return this.lastRenderedLocation=this.currentVisit.location,this.notifyApplicationAfterRender()},r.prototype.pageLoaded=function(){return this.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()},r.prototype.clickCaptured=function(){return removeEventListener("click",this.clickBubbled,!1),addEventListener("click",this.clickBubbled,!1)},r.prototype.clickBubbled=function(t){var e,r,n;return this.enabled&&this.clickEventIsSignificant(t)&&(r=this.getVisitableLinkForNode(t.target))&&(n=this.getVisitableLocationForLink(r))&&this.applicationAllowsFollowingLinkToLocation(r,n)?(t.preventDefault(),e=this.getActionForLink(r),this.visit(n,{action:e})):void 0},r.prototype.applicationAllowsFollowingLinkToLocation=function(t,e){var r;return r=this.notifyApplicationAfterClickingLinkToLocation(t,e),!r.defaultPrevented},r.prototype.applicationAllowsVisitingLocation=function(t){var e;return e=this.notifyApplicationBeforeVisitingLocation(t),!e.defaultPrevented},r.prototype.notifyApplicationAfterClickingLinkToLocation=function(e,r){return t.dispatch("turbolinks:click",{target:e,data:{url:r.absoluteURL},cancelable:!0})},r.prototype.notifyApplicationBeforeVisitingLocation=function(e){return t.dispatch("turbolinks:before-visit",{data:{url:e.absoluteURL},cancelable:!0})},r.prototype.notifyApplicationAfterVisitingLocation=function(e){return t.dispatch("turbolinks:visit",{data:{url:e.absoluteURL}})},r.prototype.notifyApplicationBeforeCachingSnapshot=function(){return t.dispatch("turbolinks:before-cache")},r.prototype.notifyApplicationBeforeRender=function(e){return t.dispatch("turbolinks:before-render",{data:{newBody:e}})},r.prototype.notifyApplicationAfterRender=function(){return t.dispatch("turbolinks:render")},r.prototype.notifyApplicationAfterPageLoad=function(e){return null==e&&(e={}),t.dispatch("turbolinks:load",{data:{url:this.location.absoluteURL,timing:e}})},r.prototype.startVisit=function(t,e,r){var n;return null!=(n=this.currentVisit)&&n.cancel(),this.currentVisit=this.createVisit(t,e,r),this.currentVisit.start(),this.notifyApplicationAfterVisitingLocation(t)},r.prototype.createVisit=function(e,r,n){
var o,i,s,a,u;return i=null!=n?n:{},a=i.restorationIdentifier,s=i.restorationData,o=i.historyChanged,u=new t.Visit(this,e,r),u.restorationIdentifier=null!=a?a:t.uuid(),u.restorationData=t.copyObject(s),u.historyChanged=o,u.referrer=this.location,u},r.prototype.visitCompleted=function(t){return this.notifyApplicationAfterPageLoad(t.getTimingMetrics())},r.prototype.clickEventIsSignificant=function(t){return!(t.defaultPrevented||t.target.isContentEditable||t.which>1||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)},r.prototype.getVisitableLinkForNode=function(e){return this.nodeIsVisitable(e)?t.closest(e,"a[href]:not([target])"):void 0},r.prototype.getVisitableLocationForLink=function(e){var r;return r=new t.Location(e.getAttribute("href")),this.locationIsVisitable(r)?r:void 0},r.prototype.getActionForLink=function(t){var e;return null!=(e=t.getAttribute("data-turbolinks-action"))?e:"advance"},r.prototype.nodeIsVisitable=function(e){var r;return(r=t.closest(e,"[data-turbolinks]"))?"false"!==r.getAttribute("data-turbolinks"):!0},r.prototype.locationIsVisitable=function(t){return t.isPrefixedBy(this.view.getRootLocation())&&t.isHTML()},r.prototype.getCurrentRestorationData=function(){return this.getRestorationDataForIdentifier(this.restorationIdentifier)},r.prototype.getRestorationDataForIdentifier=function(t){var e;return null!=(e=this.restorationData)[t]?e[t]:e[t]={}},r}()}.call(this),function(){var e,r,n;t.start=function(){return r()?(null==t.controller&&(t.controller=e()),t.controller.start()):void 0},r=function(){return null==window.Turbolinks&&(window.Turbolinks=t),n()},e=function(){var e;return e=new t.Controller,e.adapter=new t.BrowserAdapter(e),e},n=function(){return window.Turbolinks===t},n()&&t.start()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=t:"function"==typeof define&&define.amd&&define(t)}).call(this);
/*!
 * jQuery UI Core 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */

(function( factory ) {
	if ( typeof define === "function" && define.amd ) {

		// AMD. Register as an anonymous module.
		define( [ "jquery" ], factory );
	} else {

		// Browser globals
		factory( jQuery );
	}
}(function( $ ) {

// $.ui might exist from components with no dependencies, e.g., $.ui.position
$.ui = $.ui || {};

$.extend( $.ui, {
	version: "1.11.4",

	keyCode: {
		BACKSPACE: 8,
		COMMA: 188,
		DELETE: 46,
		DOWN: 40,
		END: 35,
		ENTER: 13,
		ESCAPE: 27,
		HOME: 36,
		LEFT: 37,
		PAGE_DOWN: 34,
		PAGE_UP: 33,
		PERIOD: 190,
		RIGHT: 39,
		SPACE: 32,
		TAB: 9,
		UP: 38
	}
});

// plugins
$.fn.extend({
	scrollParent: function( includeHidden ) {
		var position = this.css( "position" ),
			excludeStaticParent = position === "absolute",
			overflowRegex = includeHidden ? /(auto|scroll|hidden)/ : /(auto|scroll)/,
			scrollParent = this.parents().filter( function() {
				var parent = $( this );
				if ( excludeStaticParent && parent.css( "position" ) === "static" ) {
					return false;
				}
				return overflowRegex.test( parent.css( "overflow" ) + parent.css( "overflow-y" ) + parent.css( "overflow-x" ) );
			}).eq( 0 );

		return position === "fixed" || !scrollParent.length ? $( this[ 0 ].ownerDocument || document ) : scrollParent;
	},

	uniqueId: (function() {
		var uuid = 0;

		return function() {
			return this.each(function() {
				if ( !this.id ) {
					this.id = "ui-id-" + ( ++uuid );
				}
			});
		};
	})(),

	removeUniqueId: function() {
		return this.each(function() {
			if ( /^ui-id-\d+$/.test( this.id ) ) {
				$( this ).removeAttr( "id" );
			}
		});
	}
});

// selectors
function focusable( element, isTabIndexNotNaN ) {
	var map, mapName, img,
		nodeName = element.nodeName.toLowerCase();
	if ( "area" === nodeName ) {
		map = element.parentNode;
		mapName = map.name;
		if ( !element.href || !mapName || map.nodeName.toLowerCase() !== "map" ) {
			return false;
		}
		img = $( "img[usemap='#" + mapName + "']" )[ 0 ];
		return !!img && visible( img );
	}
	return ( /^(input|select|textarea|button|object)$/.test( nodeName ) ?
		!element.disabled :
		"a" === nodeName ?
			element.href || isTabIndexNotNaN :
			isTabIndexNotNaN) &&
		// the element and all of its ancestors must be visible
		visible( element );
}

function visible( element ) {
	return $.expr.filters.visible( element ) &&
		!$( element ).parents().addBack().filter(function() {
			return $.css( this, "visibility" ) === "hidden";
		}).length;
}

$.extend( $.expr[ ":" ], {
	data: $.expr.createPseudo ?
		$.expr.createPseudo(function( dataName ) {
			return function( elem ) {
				return !!$.data( elem, dataName );
			};
		}) :
		// support: jQuery <1.8
		function( elem, i, match ) {
			return !!$.data( elem, match[ 3 ] );
		},

	focusable: function( element ) {
		return focusable( element, !isNaN( $.attr( element, "tabindex" ) ) );
	},

	tabbable: function( element ) {
		var tabIndex = $.attr( element, "tabindex" ),
			isTabIndexNaN = isNaN( tabIndex );
		return ( isTabIndexNaN || tabIndex >= 0 ) && focusable( element, !isTabIndexNaN );
	}
});

// support: jQuery <1.8
if ( !$( "<a>" ).outerWidth( 1 ).jquery ) {
	$.each( [ "Width", "Height" ], function( i, name ) {
		var side = name === "Width" ? [ "Left", "Right" ] : [ "Top", "Bottom" ],
			type = name.toLowerCase(),
			orig = {
				innerWidth: $.fn.innerWidth,
				innerHeight: $.fn.innerHeight,
				outerWidth: $.fn.outerWidth,
				outerHeight: $.fn.outerHeight
			};

		function reduce( elem, size, border, margin ) {
			$.each( side, function() {
				size -= parseFloat( $.css( elem, "padding" + this ) ) || 0;
				if ( border ) {
					size -= parseFloat( $.css( elem, "border" + this + "Width" ) ) || 0;
				}
				if ( margin ) {
					size -= parseFloat( $.css( elem, "margin" + this ) ) || 0;
				}
			});
			return size;
		}

		$.fn[ "inner" + name ] = function( size ) {
			if ( size === undefined ) {
				return orig[ "inner" + name ].call( this );
			}

			return this.each(function() {
				$( this ).css( type, reduce( this, size ) + "px" );
			});
		};

		$.fn[ "outer" + name] = function( size, margin ) {
			if ( typeof size !== "number" ) {
				return orig[ "outer" + name ].call( this, size );
			}

			return this.each(function() {
				$( this).css( type, reduce( this, size, true, margin ) + "px" );
			});
		};
	});
}

// support: jQuery <1.8
if ( !$.fn.addBack ) {
	$.fn.addBack = function( selector ) {
		return this.add( selector == null ?
			this.prevObject : this.prevObject.filter( selector )
		);
	};
}

// support: jQuery 1.6.1, 1.6.2 (http://bugs.jquery.com/ticket/9413)
if ( $( "<a>" ).data( "a-b", "a" ).removeData( "a-b" ).data( "a-b" ) ) {
	$.fn.removeData = (function( removeData ) {
		return function( key ) {
			if ( arguments.length ) {
				return removeData.call( this, $.camelCase( key ) );
			} else {
				return removeData.call( this );
			}
		};
	})( $.fn.removeData );
}

// deprecated
$.ui.ie = !!/msie [\w.]+/.exec( navigator.userAgent.toLowerCase() );

$.fn.extend({
	focus: (function( orig ) {
		return function( delay, fn ) {
			return typeof delay === "number" ?
				this.each(function() {
					var elem = this;
					setTimeout(function() {
						$( elem ).focus();
						if ( fn ) {
							fn.call( elem );
						}
					}, delay );
				}) :
				orig.apply( this, arguments );
		};
	})( $.fn.focus ),

	disableSelection: (function() {
		var eventType = "onselectstart" in document.createElement( "div" ) ?
			"selectstart" :
			"mousedown";

		return function() {
			return this.bind( eventType + ".ui-disableSelection", function( event ) {
				event.preventDefault();
			});
		};
	})(),

	enableSelection: function() {
		return this.unbind( ".ui-disableSelection" );
	},

	zIndex: function( zIndex ) {
		if ( zIndex !== undefined ) {
			return this.css( "zIndex", zIndex );
		}

		if ( this.length ) {
			var elem = $( this[ 0 ] ), position, value;
			while ( elem.length && elem[ 0 ] !== document ) {
				// Ignore z-index if position is set to a value where z-index is ignored by the browser
				// This makes behavior of this function consistent across browsers
				// WebKit always returns auto if the element is positioned
				position = elem.css( "position" );
				if ( position === "absolute" || position === "relative" || position === "fixed" ) {
					// IE returns 0 when zIndex is not specified
					// other browsers return a string
					// we ignore the case of nested elements with an explicit value of 0
					// <div style="z-index: -10;"><div style="z-index: 0;"></div></div>
					value = parseInt( elem.css( "zIndex" ), 10 );
					if ( !isNaN( value ) && value !== 0 ) {
						return value;
					}
				}
				elem = elem.parent();
			}
		}

		return 0;
	}
});

// $.ui.plugin is deprecated. Use $.widget() extensions instead.
$.ui.plugin = {
	add: function( module, option, set ) {
		var i,
			proto = $.ui[ module ].prototype;
		for ( i in set ) {
			proto.plugins[ i ] = proto.plugins[ i ] || [];
			proto.plugins[ i ].push( [ option, set[ i ] ] );
		}
	},
	call: function( instance, name, args, allowDisconnected ) {
		var i,
			set = instance.plugins[ name ];

		if ( !set ) {
			return;
		}

		if ( !allowDisconnected && ( !instance.element[ 0 ].parentNode || instance.element[ 0 ].parentNode.nodeType === 11 ) ) {
			return;
		}

		for ( i = 0; i < set.length; i++ ) {
			if ( instance.options[ set[ i ][ 0 ] ] ) {
				set[ i ][ 1 ].apply( instance.element, args );
			}
		}
	}
};

}));


/*!
 * jQuery UI Datepicker 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/datepicker/
 */

(function( factory ) {
	if ( typeof define === "function" && define.amd ) {

		// AMD. Register as an anonymous module.
		define([
			"jquery",
			"./core"
		], factory );
	} else {

		// Browser globals
		factory( jQuery );
	}
}(function( $ ) {

$.extend($.ui, { datepicker: { version: "1.11.4" } });

var datepicker_instActive;

function datepicker_getZindex( elem ) {
	var position, value;
	while ( elem.length && elem[ 0 ] !== document ) {
		// Ignore z-index if position is set to a value where z-index is ignored by the browser
		// This makes behavior of this function consistent across browsers
		// WebKit always returns auto if the element is positioned
		position = elem.css( "position" );
		if ( position === "absolute" || position === "relative" || position === "fixed" ) {
			// IE returns 0 when zIndex is not specified
			// other browsers return a string
			// we ignore the case of nested elements with an explicit value of 0
			// <div style="z-index: -10;"><div style="z-index: 0;"></div></div>
			value = parseInt( elem.css( "zIndex" ), 10 );
			if ( !isNaN( value ) && value !== 0 ) {
				return value;
			}
		}
		elem = elem.parent();
	}

	return 0;
}
/* Date picker manager.
   Use the singleton instance of this class, $.datepicker, to interact with the date picker.
   Settings for (groups of) date pickers are maintained in an instance object,
   allowing multiple different settings on the same page. */

function Datepicker() {
	this._curInst = null; // The current instance in use
	this._keyEvent = false; // If the last event was a key event
	this._disabledInputs = []; // List of date picker inputs that have been disabled
	this._datepickerShowing = false; // True if the popup picker is showing , false if not
	this._inDialog = false; // True if showing within a "dialog", false if not
	this._mainDivId = "ui-datepicker-div"; // The ID of the main datepicker division
	this._inlineClass = "ui-datepicker-inline"; // The name of the inline marker class
	this._appendClass = "ui-datepicker-append"; // The name of the append marker class
	this._triggerClass = "ui-datepicker-trigger"; // The name of the trigger marker class
	this._dialogClass = "ui-datepicker-dialog"; // The name of the dialog marker class
	this._disableClass = "ui-datepicker-disabled"; // The name of the disabled covering marker class
	this._unselectableClass = "ui-datepicker-unselectable"; // The name of the unselectable cell marker class
	this._currentClass = "ui-datepicker-current-day"; // The name of the current day marker class
	this._dayOverClass = "ui-datepicker-days-cell-over"; // The name of the day hover marker class
	this.regional = []; // Available regional settings, indexed by language code
	this.regional[""] = { // Default regional settings
		closeText: "Done", // Display text for close link
		prevText: "Prev", // Display text for previous month link
		nextText: "Next", // Display text for next month link
		currentText: "Today", // Display text for current month link
		monthNames: ["January","February","March","April","May","June",
			"July","August","September","October","November","December"], // Names of months for drop-down and formatting
		monthNamesShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"], // For formatting
		dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], // For formatting
		dayNamesShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"], // For formatting
		dayNamesMin: ["Su","Mo","Tu","We","Th","Fr","Sa"], // Column headings for days starting at Sunday
		weekHeader: "Wk", // Column header for week of the year
		dateFormat: "mm/dd/yy", // See format options on parseDate
		firstDay: 0, // The first day of the week, Sun = 0, Mon = 1, ...
		isRTL: false, // True if right-to-left language, false if left-to-right
		showMonthAfterYear: false, // True if the year select precedes month, false for month then year
		yearSuffix: "" // Additional text to append to the year in the month headers
	};
	this._defaults = { // Global defaults for all the date picker instances
		showOn: "focus", // "focus" for popup on focus,
			// "button" for trigger button, or "both" for either
		showAnim: "fadeIn", // Name of jQuery animation for popup
		showOptions: {}, // Options for enhanced animations
		defaultDate: null, // Used when field is blank: actual date,
			// +/-number for offset from today, null for today
		appendText: "", // Display text following the input box, e.g. showing the format
		buttonText: "...", // Text for trigger button
		buttonImage: "", // URL for trigger button image
		buttonImageOnly: false, // True if the image appears alone, false if it appears on a button
		hideIfNoPrevNext: false, // True to hide next/previous month links
			// if not applicable, false to just disable them
		navigationAsDateFormat: false, // True if date formatting applied to prev/today/next links
		gotoCurrent: false, // True if today link goes back to current selection instead
		changeMonth: false, // True if month can be selected directly, false if only prev/next
		changeYear: false, // True if year can be selected directly, false if only prev/next
		yearRange: "c-10:c+10", // Range of years to display in drop-down,
			// either relative to today's year (-nn:+nn), relative to currently displayed year
			// (c-nn:c+nn), absolute (nnnn:nnnn), or a combination of the above (nnnn:-n)
		showOtherMonths: false, // True to show dates in other months, false to leave blank
		selectOtherMonths: false, // True to allow selection of dates in other months, false for unselectable
		showWeek: false, // True to show week of the year, false to not show it
		calculateWeek: this.iso8601Week, // How to calculate the week of the year,
			// takes a Date and returns the number of the week for it
		shortYearCutoff: "+10", // Short year values < this are in the current century,
			// > this are in the previous century,
			// string value starting with "+" for current year + value
		minDate: null, // The earliest selectable date, or null for no limit
		maxDate: null, // The latest selectable date, or null for no limit
		duration: "fast", // Duration of display/closure
		beforeShowDay: null, // Function that takes a date and returns an array with
			// [0] = true if selectable, false if not, [1] = custom CSS class name(s) or "",
			// [2] = cell title (optional), e.g. $.datepicker.noWeekends
		beforeShow: null, // Function that takes an input field and
			// returns a set of custom settings for the date picker
		onSelect: null, // Define a callback function when a date is selected
		onChangeMonthYear: null, // Define a callback function when the month or year is changed
		onClose: null, // Define a callback function when the datepicker is closed
		numberOfMonths: 1, // Number of months to show at a time
		showCurrentAtPos: 0, // The position in multipe months at which to show the current month (starting at 0)
		stepMonths: 1, // Number of months to step back/forward
		stepBigMonths: 12, // Number of months to step back/forward for the big links
		altField: "", // Selector for an alternate field to store selected dates into
		altFormat: "", // The date format to use for the alternate field
		constrainInput: true, // The input is constrained by the current date format
		showButtonPanel: false, // True to show button panel, false to not show it
		autoSize: false, // True to size the input for the date format, false to leave as is
		disabled: false // The initial disabled state
	};
	$.extend(this._defaults, this.regional[""]);
	this.regional.en = $.extend( true, {}, this.regional[ "" ]);
	this.regional[ "en-US" ] = $.extend( true, {}, this.regional.en );
	this.dpDiv = datepicker_bindHover($("<div id='" + this._mainDivId + "' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"));
}

$.extend(Datepicker.prototype, {
	/* Class name added to elements to indicate already configured with a date picker. */
	markerClassName: "hasDatepicker",

	//Keep track of the maximum number of rows displayed (see #7043)
	maxRows: 4,

	// TODO rename to "widget" when switching to widget factory
	_widgetDatepicker: function() {
		return this.dpDiv;
	},

	/* Override the default settings for all instances of the date picker.
	 * @param  settings  object - the new settings to use as defaults (anonymous object)
	 * @return the manager object
	 */
	setDefaults: function(settings) {
		datepicker_extendRemove(this._defaults, settings || {});
		return this;
	},

	/* Attach the date picker to a jQuery selection.
	 * @param  target	element - the target input field or division or span
	 * @param  settings  object - the new settings to use for this date picker instance (anonymous)
	 */
	_attachDatepicker: function(target, settings) {
		var nodeName, inline, inst;
		nodeName = target.nodeName.toLowerCase();
		inline = (nodeName === "div" || nodeName === "span");
		if (!target.id) {
			this.uuid += 1;
			target.id = "dp" + this.uuid;
		}
		inst = this._newInst($(target), inline);
		inst.settings = $.extend({}, settings || {});
		if (nodeName === "input") {
			this._connectDatepicker(target, inst);
		} else if (inline) {
			this._inlineDatepicker(target, inst);
		}
	},

	/* Create a new instance object. */
	_newInst: function(target, inline) {
		var id = target[0].id.replace(/([^A-Za-z0-9_\-])/g, "\\\\$1"); // escape jQuery meta chars
		return {id: id, input: target, // associated target
			selectedDay: 0, selectedMonth: 0, selectedYear: 0, // current selection
			drawMonth: 0, drawYear: 0, // month being drawn
			inline: inline, // is datepicker inline or not
			dpDiv: (!inline ? this.dpDiv : // presentation div
			datepicker_bindHover($("<div class='" + this._inlineClass + " ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")))};
	},

	/* Attach the date picker to an input field. */
	_connectDatepicker: function(target, inst) {
		var input = $(target);
		inst.append = $([]);
		inst.trigger = $([]);
		if (input.hasClass(this.markerClassName)) {
			return;
		}
		this._attachments(input, inst);
		input.addClass(this.markerClassName).keydown(this._doKeyDown).
			keypress(this._doKeyPress).keyup(this._doKeyUp);
		this._autoSize(inst);
		$.data(target, "datepicker", inst);
		//If disabled option is true, disable the datepicker once it has been attached to the input (see ticket #5665)
		if( inst.settings.disabled ) {
			this._disableDatepicker( target );
		}
	},

	/* Make attachments based on settings. */
	_attachments: function(input, inst) {
		var showOn, buttonText, buttonImage,
			appendText = this._get(inst, "appendText"),
			isRTL = this._get(inst, "isRTL");

		if (inst.append) {
			inst.append.remove();
		}
		if (appendText) {
			inst.append = $("<span class='" + this._appendClass + "'>" + appendText + "</span>");
			input[isRTL ? "before" : "after"](inst.append);
		}

		input.unbind("focus", this._showDatepicker);

		if (inst.trigger) {
			inst.trigger.remove();
		}

		showOn = this._get(inst, "showOn");
		if (showOn === "focus" || showOn === "both") { // pop-up date picker when in the marked field
			input.focus(this._showDatepicker);
		}
		if (showOn === "button" || showOn === "both") { // pop-up date picker when button clicked
			buttonText = this._get(inst, "buttonText");
			buttonImage = this._get(inst, "buttonImage");
			inst.trigger = $(this._get(inst, "buttonImageOnly") ?
				$("<img/>").addClass(this._triggerClass).
					attr({ src: buttonImage, alt: buttonText, title: buttonText }) :
				$("<button type='button'></button>").addClass(this._triggerClass).
					html(!buttonImage ? buttonText : $("<img/>").attr(
					{ src:buttonImage, alt:buttonText, title:buttonText })));
			input[isRTL ? "before" : "after"](inst.trigger);
			inst.trigger.click(function() {
				if ($.datepicker._datepickerShowing && $.datepicker._lastInput === input[0]) {
					$.datepicker._hideDatepicker();
				} else if ($.datepicker._datepickerShowing && $.datepicker._lastInput !== input[0]) {
					$.datepicker._hideDatepicker();
					$.datepicker._showDatepicker(input[0]);
				} else {
					$.datepicker._showDatepicker(input[0]);
				}
				return false;
			});
		}
	},

	/* Apply the maximum length for the date format. */
	_autoSize: function(inst) {
		if (this._get(inst, "autoSize") && !inst.inline) {
			var findMax, max, maxI, i,
				date = new Date(2009, 12 - 1, 20), // Ensure double digits
				dateFormat = this._get(inst, "dateFormat");

			if (dateFormat.match(/[DM]/)) {
				findMax = function(names) {
					max = 0;
					maxI = 0;
					for (i = 0; i < names.length; i++) {
						if (names[i].length > max) {
							max = names[i].length;
							maxI = i;
						}
					}
					return maxI;
				};
				date.setMonth(findMax(this._get(inst, (dateFormat.match(/MM/) ?
					"monthNames" : "monthNamesShort"))));
				date.setDate(findMax(this._get(inst, (dateFormat.match(/DD/) ?
					"dayNames" : "dayNamesShort"))) + 20 - date.getDay());
			}
			inst.input.attr("size", this._formatDate(inst, date).length);
		}
	},

	/* Attach an inline date picker to a div. */
	_inlineDatepicker: function(target, inst) {
		var divSpan = $(target);
		if (divSpan.hasClass(this.markerClassName)) {
			return;
		}
		divSpan.addClass(this.markerClassName).append(inst.dpDiv);
		$.data(target, "datepicker", inst);
		this._setDate(inst, this._getDefaultDate(inst), true);
		this._updateDatepicker(inst);
		this._updateAlternate(inst);
		//If disabled option is true, disable the datepicker before showing it (see ticket #5665)
		if( inst.settings.disabled ) {
			this._disableDatepicker( target );
		}
		// Set display:block in place of inst.dpDiv.show() which won't work on disconnected elements
		// http://bugs.jqueryui.com/ticket/7552 - A Datepicker created on a detached div has zero height
		inst.dpDiv.css( "display", "block" );
	},

	/* Pop-up the date picker in a "dialog" box.
	 * @param  input element - ignored
	 * @param  date	string or Date - the initial date to display
	 * @param  onSelect  function - the function to call when a date is selected
	 * @param  settings  object - update the dialog date picker instance's settings (anonymous object)
	 * @param  pos int[2] - coordinates for the dialog's position within the screen or
	 *					event - with x/y coordinates or
	 *					leave empty for default (screen centre)
	 * @return the manager object
	 */
	_dialogDatepicker: function(input, date, onSelect, settings, pos) {
		var id, browserWidth, browserHeight, scrollX, scrollY,
			inst = this._dialogInst; // internal instance

		if (!inst) {
			this.uuid += 1;
			id = "dp" + this.uuid;
			this._dialogInput = $("<input type='text' id='" + id +
				"' style='position: absolute; top: -100px; width: 0px;'/>");
			this._dialogInput.keydown(this._doKeyDown);
			$("body").append(this._dialogInput);
			inst = this._dialogInst = this._newInst(this._dialogInput, false);
			inst.settings = {};
			$.data(this._dialogInput[0], "datepicker", inst);
		}
		datepicker_extendRemove(inst.settings, settings || {});
		date = (date && date.constructor === Date ? this._formatDate(inst, date) : date);
		this._dialogInput.val(date);

		this._pos = (pos ? (pos.length ? pos : [pos.pageX, pos.pageY]) : null);
		if (!this._pos) {
			browserWidth = document.documentElement.clientWidth;
			browserHeight = document.documentElement.clientHeight;
			scrollX = document.documentElement.scrollLeft || document.body.scrollLeft;
			scrollY = document.documentElement.scrollTop || document.body.scrollTop;
			this._pos = // should use actual width/height below
				[(browserWidth / 2) - 100 + scrollX, (browserHeight / 2) - 150 + scrollY];
		}

		// move input on screen for focus, but hidden behind dialog
		this._dialogInput.css("left", (this._pos[0] + 20) + "px").css("top", this._pos[1] + "px");
		inst.settings.onSelect = onSelect;
		this._inDialog = true;
		this.dpDiv.addClass(this._dialogClass);
		this._showDatepicker(this._dialogInput[0]);
		if ($.blockUI) {
			$.blockUI(this.dpDiv);
		}
		$.data(this._dialogInput[0], "datepicker", inst);
		return this;
	},

	/* Detach a datepicker from its control.
	 * @param  target	element - the target input field or division or span
	 */
	_destroyDatepicker: function(target) {
		var nodeName,
			$target = $(target),
			inst = $.data(target, "datepicker");

		if (!$target.hasClass(this.markerClassName)) {
			return;
		}

		nodeName = target.nodeName.toLowerCase();
		$.removeData(target, "datepicker");
		if (nodeName === "input") {
			inst.append.remove();
			inst.trigger.remove();
			$target.removeClass(this.markerClassName).
				unbind("focus", this._showDatepicker).
				unbind("keydown", this._doKeyDown).
				unbind("keypress", this._doKeyPress).
				unbind("keyup", this._doKeyUp);
		} else if (nodeName === "div" || nodeName === "span") {
			$target.removeClass(this.markerClassName).empty();
		}

		if ( datepicker_instActive === inst ) {
			datepicker_instActive = null;
		}
	},

	/* Enable the date picker to a jQuery selection.
	 * @param  target	element - the target input field or division or span
	 */
	_enableDatepicker: function(target) {
		var nodeName, inline,
			$target = $(target),
			inst = $.data(target, "datepicker");

		if (!$target.hasClass(this.markerClassName)) {
			return;
		}

		nodeName = target.nodeName.toLowerCase();
		if (nodeName === "input") {
			target.disabled = false;
			inst.trigger.filter("button").
				each(function() { this.disabled = false; }).end().
				filter("img").css({opacity: "1.0", cursor: ""});
		} else if (nodeName === "div" || nodeName === "span") {
			inline = $target.children("." + this._inlineClass);
			inline.children().removeClass("ui-state-disabled");
			inline.find("select.ui-datepicker-month, select.ui-datepicker-year").
				prop("disabled", false);
		}
		this._disabledInputs = $.map(this._disabledInputs,
			function(value) { return (value === target ? null : value); }); // delete entry
	},

	/* Disable the date picker to a jQuery selection.
	 * @param  target	element - the target input field or division or span
	 */
	_disableDatepicker: function(target) {
		var nodeName, inline,
			$target = $(target),
			inst = $.data(target, "datepicker");

		if (!$target.hasClass(this.markerClassName)) {
			return;
		}

		nodeName = target.nodeName.toLowerCase();
		if (nodeName === "input") {
			target.disabled = true;
			inst.trigger.filter("button").
				each(function() { this.disabled = true; }).end().
				filter("img").css({opacity: "0.5", cursor: "default"});
		} else if (nodeName === "div" || nodeName === "span") {
			inline = $target.children("." + this._inlineClass);
			inline.children().addClass("ui-state-disabled");
			inline.find("select.ui-datepicker-month, select.ui-datepicker-year").
				prop("disabled", true);
		}
		this._disabledInputs = $.map(this._disabledInputs,
			function(value) { return (value === target ? null : value); }); // delete entry
		this._disabledInputs[this._disabledInputs.length] = target;
	},

	/* Is the first field in a jQuery collection disabled as a datepicker?
	 * @param  target	element - the target input field or division or span
	 * @return boolean - true if disabled, false if enabled
	 */
	_isDisabledDatepicker: function(target) {
		if (!target) {
			return false;
		}
		for (var i = 0; i < this._disabledInputs.length; i++) {
			if (this._disabledInputs[i] === target) {
				return true;
			}
		}
		return false;
	},

	/* Retrieve the instance data for the target control.
	 * @param  target  element - the target input field or division or span
	 * @return  object - the associated instance data
	 * @throws  error if a jQuery problem getting data
	 */
	_getInst: function(target) {
		try {
			return $.data(target, "datepicker");
		}
		catch (err) {
			throw "Missing instance data for this datepicker";
		}
	},

	/* Update or retrieve the settings for a date picker attached to an input field or division.
	 * @param  target  element - the target input field or division or span
	 * @param  name	object - the new settings to update or
	 *				string - the name of the setting to change or retrieve,
	 *				when retrieving also "all" for all instance settings or
	 *				"defaults" for all global defaults
	 * @param  value   any - the new value for the setting
	 *				(omit if above is an object or to retrieve a value)
	 */
	_optionDatepicker: function(target, name, value) {
		var settings, date, minDate, maxDate,
			inst = this._getInst(target);

		if (arguments.length === 2 && typeof name === "string") {
			return (name === "defaults" ? $.extend({}, $.datepicker._defaults) :
				(inst ? (name === "all" ? $.extend({}, inst.settings) :
				this._get(inst, name)) : null));
		}

		settings = name || {};
		if (typeof name === "string") {
			settings = {};
			settings[name] = value;
		}

		if (inst) {
			if (this._curInst === inst) {
				this._hideDatepicker();
			}

			date = this._getDateDatepicker(target, true);
			minDate = this._getMinMaxDate(inst, "min");
			maxDate = this._getMinMaxDate(inst, "max");
			datepicker_extendRemove(inst.settings, settings);
			// reformat the old minDate/maxDate values if dateFormat changes and a new minDate/maxDate isn't provided
			if (minDate !== null && settings.dateFormat !== undefined && settings.minDate === undefined) {
				inst.settings.minDate = this._formatDate(inst, minDate);
			}
			if (maxDate !== null && settings.dateFormat !== undefined && settings.maxDate === undefined) {
				inst.settings.maxDate = this._formatDate(inst, maxDate);
			}
			if ( "disabled" in settings ) {
				if ( settings.disabled ) {
					this._disableDatepicker(target);
				} else {
					this._enableDatepicker(target);
				}
			}
			this._attachments($(target), inst);
			this._autoSize(inst);
			this._setDate(inst, date);
			this._updateAlternate(inst);
			this._updateDatepicker(inst);
		}
	},

	// change method deprecated
	_changeDatepicker: function(target, name, value) {
		this._optionDatepicker(target, name, value);
	},

	/* Redraw the date picker attached to an input field or division.
	 * @param  target  element - the target input field or division or span
	 */
	_refreshDatepicker: function(target) {
		var inst = this._getInst(target);
		if (inst) {
			this._updateDatepicker(inst);
		}
	},

	/* Set the dates for a jQuery selection.
	 * @param  target element - the target input field or division or span
	 * @param  date	Date - the new date
	 */
	_setDateDatepicker: function(target, date) {
		var inst = this._getInst(target);
		if (inst) {
			this._setDate(inst, date);
			this._updateDatepicker(inst);
			this._updateAlternate(inst);
		}
	},

	/* Get the date(s) for the first entry in a jQuery selection.
	 * @param  target element - the target input field or division or span
	 * @param  noDefault boolean - true if no default date is to be used
	 * @return Date - the current date
	 */
	_getDateDatepicker: function(target, noDefault) {
		var inst = this._getInst(target);
		if (inst && !inst.inline) {
			this._setDateFromField(inst, noDefault);
		}
		return (inst ? this._getDate(inst) : null);
	},

	/* Handle keystrokes. */
	_doKeyDown: function(event) {
		var onSelect, dateStr, sel,
			inst = $.datepicker._getInst(event.target),
			handled = true,
			isRTL = inst.dpDiv.is(".ui-datepicker-rtl");

		inst._keyEvent = true;
		if ($.datepicker._datepickerShowing) {
			switch (event.keyCode) {
				case 9: $.datepicker._hideDatepicker();
						handled = false;
						break; // hide on tab out
				case 13: sel = $("td." + $.datepicker._dayOverClass + ":not(." +
									$.datepicker._currentClass + ")", inst.dpDiv);
						if (sel[0]) {
							$.datepicker._selectDay(event.target, inst.selectedMonth, inst.selectedYear, sel[0]);
						}

						onSelect = $.datepicker._get(inst, "onSelect");
						if (onSelect) {
							dateStr = $.datepicker._formatDate(inst);

							// trigger custom callback
							onSelect.apply((inst.input ? inst.input[0] : null), [dateStr, inst]);
						} else {
							$.datepicker._hideDatepicker();
						}

						return false; // don't submit the form
				case 27: $.datepicker._hideDatepicker();
						break; // hide on escape
				case 33: $.datepicker._adjustDate(event.target, (event.ctrlKey ?
							-$.datepicker._get(inst, "stepBigMonths") :
							-$.datepicker._get(inst, "stepMonths")), "M");
						break; // previous month/year on page up/+ ctrl
				case 34: $.datepicker._adjustDate(event.target, (event.ctrlKey ?
							+$.datepicker._get(inst, "stepBigMonths") :
							+$.datepicker._get(inst, "stepMonths")), "M");
						break; // next month/year on page down/+ ctrl
				case 35: if (event.ctrlKey || event.metaKey) {
							$.datepicker._clearDate(event.target);
						}
						handled = event.ctrlKey || event.metaKey;
						break; // clear on ctrl or command +end
				case 36: if (event.ctrlKey || event.metaKey) {
							$.datepicker._gotoToday(event.target);
						}
						handled = event.ctrlKey || event.metaKey;
						break; // current on ctrl or command +home
				case 37: if (event.ctrlKey || event.metaKey) {
							$.datepicker._adjustDate(event.target, (isRTL ? +1 : -1), "D");
						}
						handled = event.ctrlKey || event.metaKey;
						// -1 day on ctrl or command +left
						if (event.originalEvent.altKey) {
							$.datepicker._adjustDate(event.target, (event.ctrlKey ?
								-$.datepicker._get(inst, "stepBigMonths") :
								-$.datepicker._get(inst, "stepMonths")), "M");
						}
						// next month/year on alt +left on Mac
						break;
				case 38: if (event.ctrlKey || event.metaKey) {
							$.datepicker._adjustDate(event.target, -7, "D");
						}
						handled = event.ctrlKey || event.metaKey;
						break; // -1 week on ctrl or command +up
				case 39: if (event.ctrlKey || event.metaKey) {
							$.datepicker._adjustDate(event.target, (isRTL ? -1 : +1), "D");
						}
						handled = event.ctrlKey || event.metaKey;
						// +1 day on ctrl or command +right
						if (event.originalEvent.altKey) {
							$.datepicker._adjustDate(event.target, (event.ctrlKey ?
								+$.datepicker._get(inst, "stepBigMonths") :
								+$.datepicker._get(inst, "stepMonths")), "M");
						}
						// next month/year on alt +right
						break;
				case 40: if (event.ctrlKey || event.metaKey) {
							$.datepicker._adjustDate(event.target, +7, "D");
						}
						handled = event.ctrlKey || event.metaKey;
						break; // +1 week on ctrl or command +down
				default: handled = false;
			}
		} else if (event.keyCode === 36 && event.ctrlKey) { // display the date picker on ctrl+home
			$.datepicker._showDatepicker(this);
		} else {
			handled = false;
		}

		if (handled) {
			event.preventDefault();
			event.stopPropagation();
		}
	},

	/* Filter entered characters - based on date format. */
	_doKeyPress: function(event) {
		var chars, chr,
			inst = $.datepicker._getInst(event.target);

		if ($.datepicker._get(inst, "constrainInput")) {
			chars = $.datepicker._possibleChars($.datepicker._get(inst, "dateFormat"));
			chr = String.fromCharCode(event.charCode == null ? event.keyCode : event.charCode);
			return event.ctrlKey || event.metaKey || (chr < " " || !chars || chars.indexOf(chr) > -1);
		}
	},

	/* Synchronise manual entry and field/alternate field. */
	_doKeyUp: function(event) {
		var date,
			inst = $.datepicker._getInst(event.target);

		if (inst.input.val() !== inst.lastVal) {
			try {
				date = $.datepicker.parseDate($.datepicker._get(inst, "dateFormat"),
					(inst.input ? inst.input.val() : null),
					$.datepicker._getFormatConfig(inst));

				if (date) { // only if valid
					$.datepicker._setDateFromField(inst);
					$.datepicker._updateAlternate(inst);
					$.datepicker._updateDatepicker(inst);
				}
			}
			catch (err) {
			}
		}
		return true;
	},

	/* Pop-up the date picker for a given input field.
	 * If false returned from beforeShow event handler do not show.
	 * @param  input  element - the input field attached to the date picker or
	 *					event - if triggered by focus
	 */
	_showDatepicker: function(input) {
		input = input.target || input;
		if (input.nodeName.toLowerCase() !== "input") { // find from button/image trigger
			input = $("input", input.parentNode)[0];
		}

		if ($.datepicker._isDisabledDatepicker(input) || $.datepicker._lastInput === input) { // already here
			return;
		}

		var inst, beforeShow, beforeShowSettings, isFixed,
			offset, showAnim, duration;

		inst = $.datepicker._getInst(input);
		if ($.datepicker._curInst && $.datepicker._curInst !== inst) {
			$.datepicker._curInst.dpDiv.stop(true, true);
			if ( inst && $.datepicker._datepickerShowing ) {
				$.datepicker._hideDatepicker( $.datepicker._curInst.input[0] );
			}
		}

		beforeShow = $.datepicker._get(inst, "beforeShow");
		beforeShowSettings = beforeShow ? beforeShow.apply(input, [input, inst]) : {};
		if(beforeShowSettings === false){
			return;
		}
		datepicker_extendRemove(inst.settings, beforeShowSettings);

		inst.lastVal = null;
		$.datepicker._lastInput = input;
		$.datepicker._setDateFromField(inst);

		if ($.datepicker._inDialog) { // hide cursor
			input.value = "";
		}
		if (!$.datepicker._pos) { // position below input
			$.datepicker._pos = $.datepicker._findPos(input);
			$.datepicker._pos[1] += input.offsetHeight; // add the height
		}

		isFixed = false;
		$(input).parents().each(function() {
			isFixed |= $(this).css("position") === "fixed";
			return !isFixed;
		});

		offset = {left: $.datepicker._pos[0], top: $.datepicker._pos[1]};
		$.datepicker._pos = null;
		//to avoid flashes on Firefox
		inst.dpDiv.empty();
		// determine sizing offscreen
		inst.dpDiv.css({position: "absolute", display: "block", top: "-1000px"});
		$.datepicker._updateDatepicker(inst);
		// fix width for dynamic number of date pickers
		// and adjust position before showing
		offset = $.datepicker._checkOffset(inst, offset, isFixed);
		inst.dpDiv.css({position: ($.datepicker._inDialog && $.blockUI ?
			"static" : (isFixed ? "fixed" : "absolute")), display: "none",
			left: offset.left + "px", top: offset.top + "px"});

		if (!inst.inline) {
			showAnim = $.datepicker._get(inst, "showAnim");
			duration = $.datepicker._get(inst, "duration");
			inst.dpDiv.css( "z-index", datepicker_getZindex( $( input ) ) + 1 );
			$.datepicker._datepickerShowing = true;

			if ( $.effects && $.effects.effect[ showAnim ] ) {
				inst.dpDiv.show(showAnim, $.datepicker._get(inst, "showOptions"), duration);
			} else {
				inst.dpDiv[showAnim || "show"](showAnim ? duration : null);
			}

			if ( $.datepicker._shouldFocusInput( inst ) ) {
				inst.input.focus();
			}

			$.datepicker._curInst = inst;
		}
	},

	/* Generate the date picker content. */
	_updateDatepicker: function(inst) {
		this.maxRows = 4; //Reset the max number of rows being displayed (see #7043)
		datepicker_instActive = inst; // for delegate hover events
		inst.dpDiv.empty().append(this._generateHTML(inst));
		this._attachHandlers(inst);

		var origyearshtml,
			numMonths = this._getNumberOfMonths(inst),
			cols = numMonths[1],
			width = 17,
			activeCell = inst.dpDiv.find( "." + this._dayOverClass + " a" );

		if ( activeCell.length > 0 ) {
			datepicker_handleMouseover.apply( activeCell.get( 0 ) );
		}

		inst.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");
		if (cols > 1) {
			inst.dpDiv.addClass("ui-datepicker-multi-" + cols).css("width", (width * cols) + "em");
		}
		inst.dpDiv[(numMonths[0] !== 1 || numMonths[1] !== 1 ? "add" : "remove") +
			"Class"]("ui-datepicker-multi");
		inst.dpDiv[(this._get(inst, "isRTL") ? "add" : "remove") +
			"Class"]("ui-datepicker-rtl");

		if (inst === $.datepicker._curInst && $.datepicker._datepickerShowing && $.datepicker._shouldFocusInput( inst ) ) {
			inst.input.focus();
		}

		// deffered render of the years select (to avoid flashes on Firefox)
		if( inst.yearshtml ){
			origyearshtml = inst.yearshtml;
			setTimeout(function(){
				//assure that inst.yearshtml didn't change.
				if( origyearshtml === inst.yearshtml && inst.yearshtml ){
					inst.dpDiv.find("select.ui-datepicker-year:first").replaceWith(inst.yearshtml);
				}
				origyearshtml = inst.yearshtml = null;
			}, 0);
		}
	},

	// #6694 - don't focus the input if it's already focused
	// this breaks the change event in IE
	// Support: IE and jQuery <1.9
	_shouldFocusInput: function( inst ) {
		return inst.input && inst.input.is( ":visible" ) && !inst.input.is( ":disabled" ) && !inst.input.is( ":focus" );
	},

	/* Check positioning to remain on screen. */
	_checkOffset: function(inst, offset, isFixed) {
		var dpWidth = inst.dpDiv.outerWidth(),
			dpHeight = inst.dpDiv.outerHeight(),
			inputWidth = inst.input ? inst.input.outerWidth() : 0,
			inputHeight = inst.input ? inst.input.outerHeight() : 0,
			viewWidth = document.documentElement.clientWidth + (isFixed ? 0 : $(document).scrollLeft()),
			viewHeight = document.documentElement.clientHeight + (isFixed ? 0 : $(document).scrollTop());

		offset.left -= (this._get(inst, "isRTL") ? (dpWidth - inputWidth) : 0);
		offset.left -= (isFixed && offset.left === inst.input.offset().left) ? $(document).scrollLeft() : 0;
		offset.top -= (isFixed && offset.top === (inst.input.offset().top + inputHeight)) ? $(document).scrollTop() : 0;

		// now check if datepicker is showing outside window viewport - move to a better place if so.
		offset.left -= Math.min(offset.left, (offset.left + dpWidth > viewWidth && viewWidth > dpWidth) ?
			Math.abs(offset.left + dpWidth - viewWidth) : 0);
		offset.top -= Math.min(offset.top, (offset.top + dpHeight > viewHeight && viewHeight > dpHeight) ?
			Math.abs(dpHeight + inputHeight) : 0);

		return offset;
	},

	/* Find an object's position on the screen. */
	_findPos: function(obj) {
		var position,
			inst = this._getInst(obj),
			isRTL = this._get(inst, "isRTL");

		while (obj && (obj.type === "hidden" || obj.nodeType !== 1 || $.expr.filters.hidden(obj))) {
			obj = obj[isRTL ? "previousSibling" : "nextSibling"];
		}

		position = $(obj).offset();
		return [position.left, position.top];
	},

	/* Hide the date picker from view.
	 * @param  input  element - the input field attached to the date picker
	 */
	_hideDatepicker: function(input) {
		var showAnim, duration, postProcess, onClose,
			inst = this._curInst;

		if (!inst || (input && inst !== $.data(input, "datepicker"))) {
			return;
		}

		if (this._datepickerShowing) {
			showAnim = this._get(inst, "showAnim");
			duration = this._get(inst, "duration");
			postProcess = function() {
				$.datepicker._tidyDialog(inst);
			};

			// DEPRECATED: after BC for 1.8.x $.effects[ showAnim ] is not needed
			if ( $.effects && ( $.effects.effect[ showAnim ] || $.effects[ showAnim ] ) ) {
				inst.dpDiv.hide(showAnim, $.datepicker._get(inst, "showOptions"), duration, postProcess);
			} else {
				inst.dpDiv[(showAnim === "slideDown" ? "slideUp" :
					(showAnim === "fadeIn" ? "fadeOut" : "hide"))]((showAnim ? duration : null), postProcess);
			}

			if (!showAnim) {
				postProcess();
			}
			this._datepickerShowing = false;

			onClose = this._get(inst, "onClose");
			if (onClose) {
				onClose.apply((inst.input ? inst.input[0] : null), [(inst.input ? inst.input.val() : ""), inst]);
			}

			this._lastInput = null;
			if (this._inDialog) {
				this._dialogInput.css({ position: "absolute", left: "0", top: "-100px" });
				if ($.blockUI) {
					$.unblockUI();
					$("body").append(this.dpDiv);
				}
			}
			this._inDialog = false;
		}
	},

	/* Tidy up after a dialog display. */
	_tidyDialog: function(inst) {
		inst.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar");
	},

	/* Close date picker if clicked elsewhere. */
	_checkExternalClick: function(event) {
		if (!$.datepicker._curInst) {
			return;
		}

		var $target = $(event.target),
			inst = $.datepicker._getInst($target[0]);

		if ( ( ( $target[0].id !== $.datepicker._mainDivId &&
				$target.parents("#" + $.datepicker._mainDivId).length === 0 &&
				!$target.hasClass($.datepicker.markerClassName) &&
				!$target.closest("." + $.datepicker._triggerClass).length &&
				$.datepicker._datepickerShowing && !($.datepicker._inDialog && $.blockUI) ) ) ||
			( $target.hasClass($.datepicker.markerClassName) && $.datepicker._curInst !== inst ) ) {
				$.datepicker._hideDatepicker();
		}
	},

	/* Adjust one of the date sub-fields. */
	_adjustDate: function(id, offset, period) {
		var target = $(id),
			inst = this._getInst(target[0]);

		if (this._isDisabledDatepicker(target[0])) {
			return;
		}
		this._adjustInstDate(inst, offset +
			(period === "M" ? this._get(inst, "showCurrentAtPos") : 0), // undo positioning
			period);
		this._updateDatepicker(inst);
	},

	/* Action for current link. */
	_gotoToday: function(id) {
		var date,
			target = $(id),
			inst = this._getInst(target[0]);

		if (this._get(inst, "gotoCurrent") && inst.currentDay) {
			inst.selectedDay = inst.currentDay;
			inst.drawMonth = inst.selectedMonth = inst.currentMonth;
			inst.drawYear = inst.selectedYear = inst.currentYear;
		} else {
			date = new Date();
			inst.selectedDay = date.getDate();
			inst.drawMonth = inst.selectedMonth = date.getMonth();
			inst.drawYear = inst.selectedYear = date.getFullYear();
		}
		this._notifyChange(inst);
		this._adjustDate(target);
	},

	/* Action for selecting a new month/year. */
	_selectMonthYear: function(id, select, period) {
		var target = $(id),
			inst = this._getInst(target[0]);

		inst["selected" + (period === "M" ? "Month" : "Year")] =
		inst["draw" + (period === "M" ? "Month" : "Year")] =
			parseInt(select.options[select.selectedIndex].value,10);

		this._notifyChange(inst);
		this._adjustDate(target);
	},

	/* Action for selecting a day. */
	_selectDay: function(id, month, year, td) {
		var inst,
			target = $(id);

		if ($(td).hasClass(this._unselectableClass) || this._isDisabledDatepicker(target[0])) {
			return;
		}

		inst = this._getInst(target[0]);
		inst.selectedDay = inst.currentDay = $("a", td).html();
		inst.selectedMonth = inst.currentMonth = month;
		inst.selectedYear = inst.currentYear = year;
		this._selectDate(id, this._formatDate(inst,
			inst.currentDay, inst.currentMonth, inst.currentYear));
	},

	/* Erase the input field and hide the date picker. */
	_clearDate: function(id) {
		var target = $(id);
		this._selectDate(target, "");
	},

	/* Update the input field with the selected date. */
	_selectDate: function(id, dateStr) {
		var onSelect,
			target = $(id),
			inst = this._getInst(target[0]);

		dateStr = (dateStr != null ? dateStr : this._formatDate(inst));
		if (inst.input) {
			inst.input.val(dateStr);
		}
		this._updateAlternate(inst);

		onSelect = this._get(inst, "onSelect");
		if (onSelect) {
			onSelect.apply((inst.input ? inst.input[0] : null), [dateStr, inst]);  // trigger custom callback
		} else if (inst.input) {
			inst.input.trigger("change"); // fire the change event
		}

		if (inst.inline){
			this._updateDatepicker(inst);
		} else {
			this._hideDatepicker();
			this._lastInput = inst.input[0];
			if (typeof(inst.input[0]) !== "object") {
				inst.input.focus(); // restore focus
			}
			this._lastInput = null;
		}
	},

	/* Update any alternate field to synchronise with the main field. */
	_updateAlternate: function(inst) {
		var altFormat, date, dateStr,
			altField = this._get(inst, "altField");

		if (altField) { // update alternate field too
			altFormat = this._get(inst, "altFormat") || this._get(inst, "dateFormat");
			date = this._getDate(inst);
			dateStr = this.formatDate(altFormat, date, this._getFormatConfig(inst));
			$(altField).each(function() { $(this).val(dateStr); });
		}
	},

	/* Set as beforeShowDay function to prevent selection of weekends.
	 * @param  date  Date - the date to customise
	 * @return [boolean, string] - is this date selectable?, what is its CSS class?
	 */
	noWeekends: function(date) {
		var day = date.getDay();
		return [(day > 0 && day < 6), ""];
	},

	/* Set as calculateWeek to determine the week of the year based on the ISO 8601 definition.
	 * @param  date  Date - the date to get the week for
	 * @return  number - the number of the week within the year that contains this date
	 */
	iso8601Week: function(date) {
		var time,
			checkDate = new Date(date.getTime());

		// Find Thursday of this week starting on Monday
		checkDate.setDate(checkDate.getDate() + 4 - (checkDate.getDay() || 7));

		time = checkDate.getTime();
		checkDate.setMonth(0); // Compare with Jan 1
		checkDate.setDate(1);
		return Math.floor(Math.round((time - checkDate) / 86400000) / 7) + 1;
	},

	/* Parse a string value into a date object.
	 * See formatDate below for the possible formats.
	 *
	 * @param  format string - the expected format of the date
	 * @param  value string - the date in the above format
	 * @param  settings Object - attributes include:
	 *					shortYearCutoff  number - the cutoff year for determining the century (optional)
	 *					dayNamesShort	string[7] - abbreviated names of the days from Sunday (optional)
	 *					dayNames		string[7] - names of the days from Sunday (optional)
	 *					monthNamesShort string[12] - abbreviated names of the months (optional)
	 *					monthNames		string[12] - names of the months (optional)
	 * @return  Date - the extracted date value or null if value is blank
	 */
	parseDate: function (format, value, settings) {
		if (format == null || value == null) {
			throw "Invalid arguments";
		}

		value = (typeof value === "object" ? value.toString() : value + "");
		if (value === "") {
			return null;
		}

		var iFormat, dim, extra,
			iValue = 0,
			shortYearCutoffTemp = (settings ? settings.shortYearCutoff : null) || this._defaults.shortYearCutoff,
			shortYearCutoff = (typeof shortYearCutoffTemp !== "string" ? shortYearCutoffTemp :
				new Date().getFullYear() % 100 + parseInt(shortYearCutoffTemp, 10)),
			dayNamesShort = (settings ? settings.dayNamesShort : null) || this._defaults.dayNamesShort,
			dayNames = (settings ? settings.dayNames : null) || this._defaults.dayNames,
			monthNamesShort = (settings ? settings.monthNamesShort : null) || this._defaults.monthNamesShort,
			monthNames = (settings ? settings.monthNames : null) || this._defaults.monthNames,
			year = -1,
			month = -1,
			day = -1,
			doy = -1,
			literal = false,
			date,
			// Check whether a format character is doubled
			lookAhead = function(match) {
				var matches = (iFormat + 1 < format.length && format.charAt(iFormat + 1) === match);
				if (matches) {
					iFormat++;
				}
				return matches;
			},
			// Extract a number from the string value
			getNumber = function(match) {
				var isDoubled = lookAhead(match),
					size = (match === "@" ? 14 : (match === "!" ? 20 :
					(match === "y" && isDoubled ? 4 : (match === "o" ? 3 : 2)))),
					minSize = (match === "y" ? size : 1),
					digits = new RegExp("^\\d{" + minSize + "," + size + "}"),
					num = value.substring(iValue).match(digits);
				if (!num) {
					throw "Missing number at position " + iValue;
				}
				iValue += num[0].length;
				return parseInt(num[0], 10);
			},
			// Extract a name from the string value and convert to an index
			getName = function(match, shortNames, longNames) {
				var index = -1,
					names = $.map(lookAhead(match) ? longNames : shortNames, function (v, k) {
						return [ [k, v] ];
					}).sort(function (a, b) {
						return -(a[1].length - b[1].length);
					});

				$.each(names, function (i, pair) {
					var name = pair[1];
					if (value.substr(iValue, name.length).toLowerCase() === name.toLowerCase()) {
						index = pair[0];
						iValue += name.length;
						return false;
					}
				});
				if (index !== -1) {
					return index + 1;
				} else {
					throw "Unknown name at position " + iValue;
				}
			},
			// Confirm that a literal character matches the string value
			checkLiteral = function() {
				if (value.charAt(iValue) !== format.charAt(iFormat)) {
					throw "Unexpected literal at position " + iValue;
				}
				iValue++;
			};

		for (iFormat = 0; iFormat < format.length; iFormat++) {
			if (literal) {
				if (format.charAt(iFormat) === "'" && !lookAhead("'")) {
					literal = false;
				} else {
					checkLiteral();
				}
			} else {
				switch (format.charAt(iFormat)) {
					case "d":
						day = getNumber("d");
						break;
					case "D":
						getName("D", dayNamesShort, dayNames);
						break;
					case "o":
						doy = getNumber("o");
						break;
					case "m":
						month = getNumber("m");
						break;
					case "M":
						month = getName("M", monthNamesShort, monthNames);
						break;
					case "y":
						year = getNumber("y");
						break;
					case "@":
						date = new Date(getNumber("@"));
						year = date.getFullYear();
						month = date.getMonth() + 1;
						day = date.getDate();
						break;
					case "!":
						date = new Date((getNumber("!") - this._ticksTo1970) / 10000);
						year = date.getFullYear();
						month = date.getMonth() + 1;
						day = date.getDate();
						break;
					case "'":
						if (lookAhead("'")){
							checkLiteral();
						} else {
							literal = true;
						}
						break;
					default:
						checkLiteral();
				}
			}
		}

		if (iValue < value.length){
			extra = value.substr(iValue);
			if (!/^\s+/.test(extra)) {
				throw "Extra/unparsed characters found in date: " + extra;
			}
		}

		if (year === -1) {
			year = new Date().getFullYear();
		} else if (year < 100) {
			year += new Date().getFullYear() - new Date().getFullYear() % 100 +
				(year <= shortYearCutoff ? 0 : -100);
		}

		if (doy > -1) {
			month = 1;
			day = doy;
			do {
				dim = this._getDaysInMonth(year, month - 1);
				if (day <= dim) {
					break;
				}
				month++;
				day -= dim;
			} while (true);
		}

		date = this._daylightSavingAdjust(new Date(year, month - 1, day));
		if (date.getFullYear() !== year || date.getMonth() + 1 !== month || date.getDate() !== day) {
			throw "Invalid date"; // E.g. 31/02/00
		}
		return date;
	},

	/* Standard date formats. */
	ATOM: "yy-mm-dd", // RFC 3339 (ISO 8601)
	COOKIE: "D, dd M yy",
	ISO_8601: "yy-mm-dd",
	RFC_822: "D, d M y",
	RFC_850: "DD, dd-M-y",
	RFC_1036: "D, d M y",
	RFC_1123: "D, d M yy",
	RFC_2822: "D, d M yy",
	RSS: "D, d M y", // RFC 822
	TICKS: "!",
	TIMESTAMP: "@",
	W3C: "yy-mm-dd", // ISO 8601

	_ticksTo1970: (((1970 - 1) * 365 + Math.floor(1970 / 4) - Math.floor(1970 / 100) +
		Math.floor(1970 / 400)) * 24 * 60 * 60 * 10000000),

	/* Format a date object into a string value.
	 * The format can be combinations of the following:
	 * d  - day of month (no leading zero)
	 * dd - day of month (two digit)
	 * o  - day of year (no leading zeros)
	 * oo - day of year (three digit)
	 * D  - day name short
	 * DD - day name long
	 * m  - month of year (no leading zero)
	 * mm - month of year (two digit)
	 * M  - month name short
	 * MM - month name long
	 * y  - year (two digit)
	 * yy - year (four digit)
	 * @ - Unix timestamp (ms since 01/01/1970)
	 * ! - Windows ticks (100ns since 01/01/0001)
	 * "..." - literal text
	 * '' - single quote
	 *
	 * @param  format string - the desired format of the date
	 * @param  date Date - the date value to format
	 * @param  settings Object - attributes include:
	 *					dayNamesShort	string[7] - abbreviated names of the days from Sunday (optional)
	 *					dayNames		string[7] - names of the days from Sunday (optional)
	 *					monthNamesShort string[12] - abbreviated names of the months (optional)
	 *					monthNames		string[12] - names of the months (optional)
	 * @return  string - the date in the above format
	 */
	formatDate: function (format, date, settings) {
		if (!date) {
			return "";
		}

		var iFormat,
			dayNamesShort = (settings ? settings.dayNamesShort : null) || this._defaults.dayNamesShort,
			dayNames = (settings ? settings.dayNames : null) || this._defaults.dayNames,
			monthNamesShort = (settings ? settings.monthNamesShort : null) || this._defaults.monthNamesShort,
			monthNames = (settings ? settings.monthNames : null) || this._defaults.monthNames,
			// Check whether a format character is doubled
			lookAhead = function(match) {
				var matches = (iFormat + 1 < format.length && format.charAt(iFormat + 1) === match);
				if (matches) {
					iFormat++;
				}
				return matches;
			},
			// Format a number, with leading zero if necessary
			formatNumber = function(match, value, len) {
				var num = "" + value;
				if (lookAhead(match)) {
					while (num.length < len) {
						num = "0" + num;
					}
				}
				return num;
			},
			// Format a name, short or long as requested
			formatName = function(match, value, shortNames, longNames) {
				return (lookAhead(match) ? longNames[value] : shortNames[value]);
			},
			output = "",
			literal = false;

		if (date) {
			for (iFormat = 0; iFormat < format.length; iFormat++) {
				if (literal) {
					if (format.charAt(iFormat) === "'" && !lookAhead("'")) {
						literal = false;
					} else {
						output += format.charAt(iFormat);
					}
				} else {
					switch (format.charAt(iFormat)) {
						case "d":
							output += formatNumber("d", date.getDate(), 2);
							break;
						case "D":
							output += formatName("D", date.getDay(), dayNamesShort, dayNames);
							break;
						case "o":
							output += formatNumber("o",
								Math.round((new Date(date.getFullYear(), date.getMonth(), date.getDate()).getTime() - new Date(date.getFullYear(), 0, 0).getTime()) / 86400000), 3);
							break;
						case "m":
							output += formatNumber("m", date.getMonth() + 1, 2);
							break;
						case "M":
							output += formatName("M", date.getMonth(), monthNamesShort, monthNames);
							break;
						case "y":
							output += (lookAhead("y") ? date.getFullYear() :
								(date.getYear() % 100 < 10 ? "0" : "") + date.getYear() % 100);
							break;
						case "@":
							output += date.getTime();
							break;
						case "!":
							output += date.getTime() * 10000 + this._ticksTo1970;
							break;
						case "'":
							if (lookAhead("'")) {
								output += "'";
							} else {
								literal = true;
							}
							break;
						default:
							output += format.charAt(iFormat);
					}
				}
			}
		}
		return output;
	},

	/* Extract all possible characters from the date format. */
	_possibleChars: function (format) {
		var iFormat,
			chars = "",
			literal = false,
			// Check whether a format character is doubled
			lookAhead = function(match) {
				var matches = (iFormat + 1 < format.length && format.charAt(iFormat + 1) === match);
				if (matches) {
					iFormat++;
				}
				return matches;
			};

		for (iFormat = 0; iFormat < format.length; iFormat++) {
			if (literal) {
				if (format.charAt(iFormat) === "'" && !lookAhead("'")) {
					literal = false;
				} else {
					chars += format.charAt(iFormat);
				}
			} else {
				switch (format.charAt(iFormat)) {
					case "d": case "m": case "y": case "@":
						chars += "0123456789";
						break;
					case "D": case "M":
						return null; // Accept anything
					case "'":
						if (lookAhead("'")) {
							chars += "'";
						} else {
							literal = true;
						}
						break;
					default:
						chars += format.charAt(iFormat);
				}
			}
		}
		return chars;
	},

	/* Get a setting value, defaulting if necessary. */
	_get: function(inst, name) {
		return inst.settings[name] !== undefined ?
			inst.settings[name] : this._defaults[name];
	},

	/* Parse existing date and initialise date picker. */
	_setDateFromField: function(inst, noDefault) {
		if (inst.input.val() === inst.lastVal) {
			return;
		}

		var dateFormat = this._get(inst, "dateFormat"),
			dates = inst.lastVal = inst.input ? inst.input.val() : null,
			defaultDate = this._getDefaultDate(inst),
			date = defaultDate,
			settings = this._getFormatConfig(inst);

		try {
			date = this.parseDate(dateFormat, dates, settings) || defaultDate;
		} catch (event) {
			dates = (noDefault ? "" : dates);
		}
		inst.selectedDay = date.getDate();
		inst.drawMonth = inst.selectedMonth = date.getMonth();
		inst.drawYear = inst.selectedYear = date.getFullYear();
		inst.currentDay = (dates ? date.getDate() : 0);
		inst.currentMonth = (dates ? date.getMonth() : 0);
		inst.currentYear = (dates ? date.getFullYear() : 0);
		this._adjustInstDate(inst);
	},

	/* Retrieve the default date shown on opening. */
	_getDefaultDate: function(inst) {
		return this._restrictMinMax(inst,
			this._determineDate(inst, this._get(inst, "defaultDate"), new Date()));
	},

	/* A date may be specified as an exact value or a relative one. */
	_determineDate: function(inst, date, defaultDate) {
		var offsetNumeric = function(offset) {
				var date = new Date();
				date.setDate(date.getDate() + offset);
				return date;
			},
			offsetString = function(offset) {
				try {
					return $.datepicker.parseDate($.datepicker._get(inst, "dateFormat"),
						offset, $.datepicker._getFormatConfig(inst));
				}
				catch (e) {
					// Ignore
				}

				var date = (offset.toLowerCase().match(/^c/) ?
					$.datepicker._getDate(inst) : null) || new Date(),
					year = date.getFullYear(),
					month = date.getMonth(),
					day = date.getDate(),
					pattern = /([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,
					matches = pattern.exec(offset);

				while (matches) {
					switch (matches[2] || "d") {
						case "d" : case "D" :
							day += parseInt(matches[1],10); break;
						case "w" : case "W" :
							day += parseInt(matches[1],10) * 7; break;
						case "m" : case "M" :
							month += parseInt(matches[1],10);
							day = Math.min(day, $.datepicker._getDaysInMonth(year, month));
							break;
						case "y": case "Y" :
							year += parseInt(matches[1],10);
							day = Math.min(day, $.datepicker._getDaysInMonth(year, month));
							break;
					}
					matches = pattern.exec(offset);
				}
				return new Date(year, month, day);
			},
			newDate = (date == null || date === "" ? defaultDate : (typeof date === "string" ? offsetString(date) :
				(typeof date === "number" ? (isNaN(date) ? defaultDate : offsetNumeric(date)) : new Date(date.getTime()))));

		newDate = (newDate && newDate.toString() === "Invalid Date" ? defaultDate : newDate);
		if (newDate) {
			newDate.setHours(0);
			newDate.setMinutes(0);
			newDate.setSeconds(0);
			newDate.setMilliseconds(0);
		}
		return this._daylightSavingAdjust(newDate);
	},

	/* Handle switch to/from daylight saving.
	 * Hours may be non-zero on daylight saving cut-over:
	 * > 12 when midnight changeover, but then cannot generate
	 * midnight datetime, so jump to 1AM, otherwise reset.
	 * @param  date  (Date) the date to check
	 * @return  (Date) the corrected date
	 */
	_daylightSavingAdjust: function(date) {
		if (!date) {
			return null;
		}
		date.setHours(date.getHours() > 12 ? date.getHours() + 2 : 0);
		return date;
	},

	/* Set the date(s) directly. */
	_setDate: function(inst, date, noChange) {
		var clear = !date,
			origMonth = inst.selectedMonth,
			origYear = inst.selectedYear,
			newDate = this._restrictMinMax(inst, this._determineDate(inst, date, new Date()));

		inst.selectedDay = inst.currentDay = newDate.getDate();
		inst.drawMonth = inst.selectedMonth = inst.currentMonth = newDate.getMonth();
		inst.drawYear = inst.selectedYear = inst.currentYear = newDate.getFullYear();
		if ((origMonth !== inst.selectedMonth || origYear !== inst.selectedYear) && !noChange) {
			this._notifyChange(inst);
		}
		this._adjustInstDate(inst);
		if (inst.input) {
			inst.input.val(clear ? "" : this._formatDate(inst));
		}
	},

	/* Retrieve the date(s) directly. */
	_getDate: function(inst) {
		var startDate = (!inst.currentYear || (inst.input && inst.input.val() === "") ? null :
			this._daylightSavingAdjust(new Date(
			inst.currentYear, inst.currentMonth, inst.currentDay)));
			return startDate;
	},

	/* Attach the onxxx handlers.  These are declared statically so
	 * they work with static code transformers like Caja.
	 */
	_attachHandlers: function(inst) {
		var stepMonths = this._get(inst, "stepMonths"),
			id = "#" + inst.id.replace( /\\\\/g, "\\" );
		inst.dpDiv.find("[data-handler]").map(function () {
			var handler = {
				prev: function () {
					$.datepicker._adjustDate(id, -stepMonths, "M");
				},
				next: function () {
					$.datepicker._adjustDate(id, +stepMonths, "M");
				},
				hide: function () {
					$.datepicker._hideDatepicker();
				},
				today: function () {
					$.datepicker._gotoToday(id);
				},
				selectDay: function () {
					$.datepicker._selectDay(id, +this.getAttribute("data-month"), +this.getAttribute("data-year"), this);
					return false;
				},
				selectMonth: function () {
					$.datepicker._selectMonthYear(id, this, "M");
					return false;
				},
				selectYear: function () {
					$.datepicker._selectMonthYear(id, this, "Y");
					return false;
				}
			};
			$(this).bind(this.getAttribute("data-event"), handler[this.getAttribute("data-handler")]);
		});
	},

	/* Generate the HTML for the current state of the date picker. */
	_generateHTML: function(inst) {
		var maxDraw, prevText, prev, nextText, next, currentText, gotoDate,
			controls, buttonPanel, firstDay, showWeek, dayNames, dayNamesMin,
			monthNames, monthNamesShort, beforeShowDay, showOtherMonths,
			selectOtherMonths, defaultDate, html, dow, row, group, col, selectedDate,
			cornerClass, calender, thead, day, daysInMonth, leadDays, curRows, numRows,
			printDate, dRow, tbody, daySettings, otherMonth, unselectable,
			tempDate = new Date(),
			today = this._daylightSavingAdjust(
				new Date(tempDate.getFullYear(), tempDate.getMonth(), tempDate.getDate())), // clear time
			isRTL = this._get(inst, "isRTL"),
			showButtonPanel = this._get(inst, "showButtonPanel"),
			hideIfNoPrevNext = this._get(inst, "hideIfNoPrevNext"),
			navigationAsDateFormat = this._get(inst, "navigationAsDateFormat"),
			numMonths = this._getNumberOfMonths(inst),
			showCurrentAtPos = this._get(inst, "showCurrentAtPos"),
			stepMonths = this._get(inst, "stepMonths"),
			isMultiMonth = (numMonths[0] !== 1 || numMonths[1] !== 1),
			currentDate = this._daylightSavingAdjust((!inst.currentDay ? new Date(9999, 9, 9) :
				new Date(inst.currentYear, inst.currentMonth, inst.currentDay))),
			minDate = this._getMinMaxDate(inst, "min"),
			maxDate = this._getMinMaxDate(inst, "max"),
			drawMonth = inst.drawMonth - showCurrentAtPos,
			drawYear = inst.drawYear;

		if (drawMonth < 0) {
			drawMonth += 12;
			drawYear--;
		}
		if (maxDate) {
			maxDraw = this._daylightSavingAdjust(new Date(maxDate.getFullYear(),
				maxDate.getMonth() - (numMonths[0] * numMonths[1]) + 1, maxDate.getDate()));
			maxDraw = (minDate && maxDraw < minDate ? minDate : maxDraw);
			while (this._daylightSavingAdjust(new Date(drawYear, drawMonth, 1)) > maxDraw) {
				drawMonth--;
				if (drawMonth < 0) {
					drawMonth = 11;
					drawYear--;
				}
			}
		}
		inst.drawMonth = drawMonth;
		inst.drawYear = drawYear;

		prevText = this._get(inst, "prevText");
		prevText = (!navigationAsDateFormat ? prevText : this.formatDate(prevText,
			this._daylightSavingAdjust(new Date(drawYear, drawMonth - stepMonths, 1)),
			this._getFormatConfig(inst)));

		prev = (this._canAdjustMonth(inst, -1, drawYear, drawMonth) ?
			"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click'" +
			" title='" + prevText + "'><span class='ui-icon ui-icon-circle-triangle-" + ( isRTL ? "e" : "w") + "'>" + prevText + "</span></a>" :
			(hideIfNoPrevNext ? "" : "<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+ prevText +"'><span class='ui-icon ui-icon-circle-triangle-" + ( isRTL ? "e" : "w") + "'>" + prevText + "</span></a>"));

		nextText = this._get(inst, "nextText");
		nextText = (!navigationAsDateFormat ? nextText : this.formatDate(nextText,
			this._daylightSavingAdjust(new Date(drawYear, drawMonth + stepMonths, 1)),
			this._getFormatConfig(inst)));

		next = (this._canAdjustMonth(inst, +1, drawYear, drawMonth) ?
			"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click'" +
			" title='" + nextText + "'><span class='ui-icon ui-icon-circle-triangle-" + ( isRTL ? "w" : "e") + "'>" + nextText + "</span></a>" :
			(hideIfNoPrevNext ? "" : "<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+ nextText + "'><span class='ui-icon ui-icon-circle-triangle-" + ( isRTL ? "w" : "e") + "'>" + nextText + "</span></a>"));

		currentText = this._get(inst, "currentText");
		gotoDate = (this._get(inst, "gotoCurrent") && inst.currentDay ? currentDate : today);
		currentText = (!navigationAsDateFormat ? currentText :
			this.formatDate(currentText, gotoDate, this._getFormatConfig(inst)));

		controls = (!inst.inline ? "<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>" +
			this._get(inst, "closeText") + "</button>" : "");

		buttonPanel = (showButtonPanel) ? "<div class='ui-datepicker-buttonpane ui-widget-content'>" + (isRTL ? controls : "") +
			(this._isInRange(inst, gotoDate) ? "<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'" +
			">" + currentText + "</button>" : "") + (isRTL ? "" : controls) + "</div>" : "";

		firstDay = parseInt(this._get(inst, "firstDay"),10);
		firstDay = (isNaN(firstDay) ? 0 : firstDay);

		showWeek = this._get(inst, "showWeek");
		dayNames = this._get(inst, "dayNames");
		dayNamesMin = this._get(inst, "dayNamesMin");
		monthNames = this._get(inst, "monthNames");
		monthNamesShort = this._get(inst, "monthNamesShort");
		beforeShowDay = this._get(inst, "beforeShowDay");
		showOtherMonths = this._get(inst, "showOtherMonths");
		selectOtherMonths = this._get(inst, "selectOtherMonths");
		defaultDate = this._getDefaultDate(inst);
		html = "";
		dow;
		for (row = 0; row < numMonths[0]; row++) {
			group = "";
			this.maxRows = 4;
			for (col = 0; col < numMonths[1]; col++) {
				selectedDate = this._daylightSavingAdjust(new Date(drawYear, drawMonth, inst.selectedDay));
				cornerClass = " ui-corner-all";
				calender = "";
				if (isMultiMonth) {
					calender += "<div class='ui-datepicker-group";
					if (numMonths[1] > 1) {
						switch (col) {
							case 0: calender += " ui-datepicker-group-first";
								cornerClass = " ui-corner-" + (isRTL ? "right" : "left"); break;
							case numMonths[1]-1: calender += " ui-datepicker-group-last";
								cornerClass = " ui-corner-" + (isRTL ? "left" : "right"); break;
							default: calender += " ui-datepicker-group-middle"; cornerClass = ""; break;
						}
					}
					calender += "'>";
				}
				calender += "<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix" + cornerClass + "'>" +
					(/all|left/.test(cornerClass) && row === 0 ? (isRTL ? next : prev) : "") +
					(/all|right/.test(cornerClass) && row === 0 ? (isRTL ? prev : next) : "") +
					this._generateMonthYearHeader(inst, drawMonth, drawYear, minDate, maxDate,
					row > 0 || col > 0, monthNames, monthNamesShort) + // draw month headers
					"</div><table class='ui-datepicker-calendar'><thead>" +
					"<tr>";
				thead = (showWeek ? "<th class='ui-datepicker-week-col'>" + this._get(inst, "weekHeader") + "</th>" : "");
				for (dow = 0; dow < 7; dow++) { // days of the week
					day = (dow + firstDay) % 7;
					thead += "<th scope='col'" + ((dow + firstDay + 6) % 7 >= 5 ? " class='ui-datepicker-week-end'" : "") + ">" +
						"<span title='" + dayNames[day] + "'>" + dayNamesMin[day] + "</span></th>";
				}
				calender += thead + "</tr></thead><tbody>";
				daysInMonth = this._getDaysInMonth(drawYear, drawMonth);
				if (drawYear === inst.selectedYear && drawMonth === inst.selectedMonth) {
					inst.selectedDay = Math.min(inst.selectedDay, daysInMonth);
				}
				leadDays = (this._getFirstDayOfMonth(drawYear, drawMonth) - firstDay + 7) % 7;
				curRows = Math.ceil((leadDays + daysInMonth) / 7); // calculate the number of rows to generate
				numRows = (isMultiMonth ? this.maxRows > curRows ? this.maxRows : curRows : curRows); //If multiple months, use the higher number of rows (see #7043)
				this.maxRows = numRows;
				printDate = this._daylightSavingAdjust(new Date(drawYear, drawMonth, 1 - leadDays));
				for (dRow = 0; dRow < numRows; dRow++) { // create date picker rows
					calender += "<tr>";
					tbody = (!showWeek ? "" : "<td class='ui-datepicker-week-col'>" +
						this._get(inst, "calculateWeek")(printDate) + "</td>");
					for (dow = 0; dow < 7; dow++) { // create date picker days
						daySettings = (beforeShowDay ?
							beforeShowDay.apply((inst.input ? inst.input[0] : null), [printDate]) : [true, ""]);
						otherMonth = (printDate.getMonth() !== drawMonth);
						unselectable = (otherMonth && !selectOtherMonths) || !daySettings[0] ||
							(minDate && printDate < minDate) || (maxDate && printDate > maxDate);
						tbody += "<td class='" +
							((dow + firstDay + 6) % 7 >= 5 ? " ui-datepicker-week-end" : "") + // highlight weekends
							(otherMonth ? " ui-datepicker-other-month" : "") + // highlight days from other months
							((printDate.getTime() === selectedDate.getTime() && drawMonth === inst.selectedMonth && inst._keyEvent) || // user pressed key
							(defaultDate.getTime() === printDate.getTime() && defaultDate.getTime() === selectedDate.getTime()) ?
							// or defaultDate is current printedDate and defaultDate is selectedDate
							" " + this._dayOverClass : "") + // highlight selected day
							(unselectable ? " " + this._unselectableClass + " ui-state-disabled": "") +  // highlight unselectable days
							(otherMonth && !showOtherMonths ? "" : " " + daySettings[1] + // highlight custom dates
							(printDate.getTime() === currentDate.getTime() ? " " + this._currentClass : "") + // highlight selected day
							(printDate.getTime() === today.getTime() ? " ui-datepicker-today" : "")) + "'" + // highlight today (if different)
							((!otherMonth || showOtherMonths) && daySettings[2] ? " title='" + daySettings[2].replace(/'/g, "&#39;") + "'" : "") + // cell title
							(unselectable ? "" : " data-handler='selectDay' data-event='click' data-month='" + printDate.getMonth() + "' data-year='" + printDate.getFullYear() + "'") + ">" + // actions
							(otherMonth && !showOtherMonths ? "&#xa0;" : // display for other months
							(unselectable ? "<span class='ui-state-default'>" + printDate.getDate() + "</span>" : "<a class='ui-state-default" +
							(printDate.getTime() === today.getTime() ? " ui-state-highlight" : "") +
							(printDate.getTime() === currentDate.getTime() ? " ui-state-active" : "") + // highlight selected day
							(otherMonth ? " ui-priority-secondary" : "") + // distinguish dates from other months
							"' href='#'>" + printDate.getDate() + "</a>")) + "</td>"; // display selectable date
						printDate.setDate(printDate.getDate() + 1);
						printDate = this._daylightSavingAdjust(printDate);
					}
					calender += tbody + "</tr>";
				}
				drawMonth++;
				if (drawMonth > 11) {
					drawMonth = 0;
					drawYear++;
				}
				calender += "</tbody></table>" + (isMultiMonth ? "</div>" +
							((numMonths[0] > 0 && col === numMonths[1]-1) ? "<div class='ui-datepicker-row-break'></div>" : "") : "");
				group += calender;
			}
			html += group;
		}
		html += buttonPanel;
		inst._keyEvent = false;
		return html;
	},

	/* Generate the month and year header. */
	_generateMonthYearHeader: function(inst, drawMonth, drawYear, minDate, maxDate,
			secondary, monthNames, monthNamesShort) {

		var inMinYear, inMaxYear, month, years, thisYear, determineYear, year, endYear,
			changeMonth = this._get(inst, "changeMonth"),
			changeYear = this._get(inst, "changeYear"),
			showMonthAfterYear = this._get(inst, "showMonthAfterYear"),
			html = "<div class='ui-datepicker-title'>",
			monthHtml = "";

		// month selection
		if (secondary || !changeMonth) {
			monthHtml += "<span class='ui-datepicker-month'>" + monthNames[drawMonth] + "</span>";
		} else {
			inMinYear = (minDate && minDate.getFullYear() === drawYear);
			inMaxYear = (maxDate && maxDate.getFullYear() === drawYear);
			monthHtml += "<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";
			for ( month = 0; month < 12; month++) {
				if ((!inMinYear || month >= minDate.getMonth()) && (!inMaxYear || month <= maxDate.getMonth())) {
					monthHtml += "<option value='" + month + "'" +
						(month === drawMonth ? " selected='selected'" : "") +
						">" + monthNamesShort[month] + "</option>";
				}
			}
			monthHtml += "</select>";
		}

		if (!showMonthAfterYear) {
			html += monthHtml + (secondary || !(changeMonth && changeYear) ? "&#xa0;" : "");
		}

		// year selection
		if ( !inst.yearshtml ) {
			inst.yearshtml = "";
			if (secondary || !changeYear) {
				html += "<span class='ui-datepicker-year'>" + drawYear + "</span>";
			} else {
				// determine range of years to display
				years = this._get(inst, "yearRange").split(":");
				thisYear = new Date().getFullYear();
				determineYear = function(value) {
					var year = (value.match(/c[+\-].*/) ? drawYear + parseInt(value.substring(1), 10) :
						(value.match(/[+\-].*/) ? thisYear + parseInt(value, 10) :
						parseInt(value, 10)));
					return (isNaN(year) ? thisYear : year);
				};
				year = determineYear(years[0]);
				endYear = Math.max(year, determineYear(years[1] || ""));
				year = (minDate ? Math.max(year, minDate.getFullYear()) : year);
				endYear = (maxDate ? Math.min(endYear, maxDate.getFullYear()) : endYear);
				inst.yearshtml += "<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";
				for (; year <= endYear; year++) {
					inst.yearshtml += "<option value='" + year + "'" +
						(year === drawYear ? " selected='selected'" : "") +
						">" + year + "</option>";
				}
				inst.yearshtml += "</select>";

				html += inst.yearshtml;
				inst.yearshtml = null;
			}
		}

		html += this._get(inst, "yearSuffix");
		if (showMonthAfterYear) {
			html += (secondary || !(changeMonth && changeYear) ? "&#xa0;" : "") + monthHtml;
		}
		html += "</div>"; // Close datepicker_header
		return html;
	},

	/* Adjust one of the date sub-fields. */
	_adjustInstDate: function(inst, offset, period) {
		var year = inst.drawYear + (period === "Y" ? offset : 0),
			month = inst.drawMonth + (period === "M" ? offset : 0),
			day = Math.min(inst.selectedDay, this._getDaysInMonth(year, month)) + (period === "D" ? offset : 0),
			date = this._restrictMinMax(inst, this._daylightSavingAdjust(new Date(year, month, day)));

		inst.selectedDay = date.getDate();
		inst.drawMonth = inst.selectedMonth = date.getMonth();
		inst.drawYear = inst.selectedYear = date.getFullYear();
		if (period === "M" || period === "Y") {
			this._notifyChange(inst);
		}
	},

	/* Ensure a date is within any min/max bounds. */
	_restrictMinMax: function(inst, date) {
		var minDate = this._getMinMaxDate(inst, "min"),
			maxDate = this._getMinMaxDate(inst, "max"),
			newDate = (minDate && date < minDate ? minDate : date);
		return (maxDate && newDate > maxDate ? maxDate : newDate);
	},

	/* Notify change of month/year. */
	_notifyChange: function(inst) {
		var onChange = this._get(inst, "onChangeMonthYear");
		if (onChange) {
			onChange.apply((inst.input ? inst.input[0] : null),
				[inst.selectedYear, inst.selectedMonth + 1, inst]);
		}
	},

	/* Determine the number of months to show. */
	_getNumberOfMonths: function(inst) {
		var numMonths = this._get(inst, "numberOfMonths");
		return (numMonths == null ? [1, 1] : (typeof numMonths === "number" ? [1, numMonths] : numMonths));
	},

	/* Determine the current maximum date - ensure no time components are set. */
	_getMinMaxDate: function(inst, minMax) {
		return this._determineDate(inst, this._get(inst, minMax + "Date"), null);
	},

	/* Find the number of days in a given month. */
	_getDaysInMonth: function(year, month) {
		return 32 - this._daylightSavingAdjust(new Date(year, month, 32)).getDate();
	},

	/* Find the day of the week of the first of a month. */
	_getFirstDayOfMonth: function(year, month) {
		return new Date(year, month, 1).getDay();
	},

	/* Determines if we should allow a "next/prev" month display change. */
	_canAdjustMonth: function(inst, offset, curYear, curMonth) {
		var numMonths = this._getNumberOfMonths(inst),
			date = this._daylightSavingAdjust(new Date(curYear,
			curMonth + (offset < 0 ? offset : numMonths[0] * numMonths[1]), 1));

		if (offset < 0) {
			date.setDate(this._getDaysInMonth(date.getFullYear(), date.getMonth()));
		}
		return this._isInRange(inst, date);
	},

	/* Is the given date in the accepted range? */
	_isInRange: function(inst, date) {
		var yearSplit, currentYear,
			minDate = this._getMinMaxDate(inst, "min"),
			maxDate = this._getMinMaxDate(inst, "max"),
			minYear = null,
			maxYear = null,
			years = this._get(inst, "yearRange");
			if (years){
				yearSplit = years.split(":");
				currentYear = new Date().getFullYear();
				minYear = parseInt(yearSplit[0], 10);
				maxYear = parseInt(yearSplit[1], 10);
				if ( yearSplit[0].match(/[+\-].*/) ) {
					minYear += currentYear;
				}
				if ( yearSplit[1].match(/[+\-].*/) ) {
					maxYear += currentYear;
				}
			}

		return ((!minDate || date.getTime() >= minDate.getTime()) &&
			(!maxDate || date.getTime() <= maxDate.getTime()) &&
			(!minYear || date.getFullYear() >= minYear) &&
			(!maxYear || date.getFullYear() <= maxYear));
	},

	/* Provide the configuration settings for formatting/parsing. */
	_getFormatConfig: function(inst) {
		var shortYearCutoff = this._get(inst, "shortYearCutoff");
		shortYearCutoff = (typeof shortYearCutoff !== "string" ? shortYearCutoff :
			new Date().getFullYear() % 100 + parseInt(shortYearCutoff, 10));
		return {shortYearCutoff: shortYearCutoff,
			dayNamesShort: this._get(inst, "dayNamesShort"), dayNames: this._get(inst, "dayNames"),
			monthNamesShort: this._get(inst, "monthNamesShort"), monthNames: this._get(inst, "monthNames")};
	},

	/* Format the given date for display. */
	_formatDate: function(inst, day, month, year) {
		if (!day) {
			inst.currentDay = inst.selectedDay;
			inst.currentMonth = inst.selectedMonth;
			inst.currentYear = inst.selectedYear;
		}
		var date = (day ? (typeof day === "object" ? day :
			this._daylightSavingAdjust(new Date(year, month, day))) :
			this._daylightSavingAdjust(new Date(inst.currentYear, inst.currentMonth, inst.currentDay)));
		return this.formatDate(this._get(inst, "dateFormat"), date, this._getFormatConfig(inst));
	}
});

/*
 * Bind hover events for datepicker elements.
 * Done via delegate so the binding only occurs once in the lifetime of the parent div.
 * Global datepicker_instActive, set by _updateDatepicker allows the handlers to find their way back to the active picker.
 */
function datepicker_bindHover(dpDiv) {
	var selector = "button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";
	return dpDiv.delegate(selector, "mouseout", function() {
			$(this).removeClass("ui-state-hover");
			if (this.className.indexOf("ui-datepicker-prev") !== -1) {
				$(this).removeClass("ui-datepicker-prev-hover");
			}
			if (this.className.indexOf("ui-datepicker-next") !== -1) {
				$(this).removeClass("ui-datepicker-next-hover");
			}
		})
		.delegate( selector, "mouseover", datepicker_handleMouseover );
}

function datepicker_handleMouseover() {
	if (!$.datepicker._isDisabledDatepicker( datepicker_instActive.inline? datepicker_instActive.dpDiv.parent()[0] : datepicker_instActive.input[0])) {
		$(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");
		$(this).addClass("ui-state-hover");
		if (this.className.indexOf("ui-datepicker-prev") !== -1) {
			$(this).addClass("ui-datepicker-prev-hover");
		}
		if (this.className.indexOf("ui-datepicker-next") !== -1) {
			$(this).addClass("ui-datepicker-next-hover");
		}
	}
}

/* jQuery extend now ignores nulls! */
function datepicker_extendRemove(target, props) {
	$.extend(target, props);
	for (var name in props) {
		if (props[name] == null) {
			target[name] = props[name];
		}
	}
	return target;
}

/* Invoke the datepicker functionality.
   @param  options  string - a command, optionally followed by additional parameters or
					Object - settings for attaching new datepicker functionality
   @return  jQuery object */
$.fn.datepicker = function(options){

	/* Verify an empty collection wasn't passed - Fixes #6976 */
	if ( !this.length ) {
		return this;
	}

	/* Initialise the date picker. */
	if (!$.datepicker.initialized) {
		$(document).mousedown($.datepicker._checkExternalClick);
		$.datepicker.initialized = true;
	}

	/* Append datepicker main container to body if not exist. */
	if ($("#"+$.datepicker._mainDivId).length === 0) {
		$("body").append($.datepicker.dpDiv);
	}

	var otherArgs = Array.prototype.slice.call(arguments, 1);
	if (typeof options === "string" && (options === "isDisabled" || options === "getDate" || options === "widget")) {
		return $.datepicker["_" + options + "Datepicker"].
			apply($.datepicker, [this[0]].concat(otherArgs));
	}
	if (options === "option" && arguments.length === 2 && typeof arguments[1] === "string") {
		return $.datepicker["_" + options + "Datepicker"].
			apply($.datepicker, [this[0]].concat(otherArgs));
	}
	return this.each(function() {
		typeof options === "string" ?
			$.datepicker["_" + options + "Datepicker"].
				apply($.datepicker, [this].concat(otherArgs)) :
			$.datepicker._attachDatepicker(this, options);
	});
};

$.datepicker = new Datepicker(); // singleton instance
$.datepicker.initialized = false;
$.datepicker.uuid = new Date().getTime();
$.datepicker.version = "1.11.4";

return $.datepicker;

}));
/*!
 * jQuery UI Widget 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */

(function( factory ) {
	if ( typeof define === "function" && define.amd ) {

		// AMD. Register as an anonymous module.
		define( [ "jquery" ], factory );
	} else {

		// Browser globals
		factory( jQuery );
	}
}(function( $ ) {

var widget_uuid = 0,
	widget_slice = Array.prototype.slice;

$.cleanData = (function( orig ) {
	return function( elems ) {
		var events, elem, i;
		for ( i = 0; (elem = elems[i]) != null; i++ ) {
			try {

				// Only trigger remove when necessary to save time
				events = $._data( elem, "events" );
				if ( events && events.remove ) {
					$( elem ).triggerHandler( "remove" );
				}

			// http://bugs.jquery.com/ticket/8235
			} catch ( e ) {}
		}
		orig( elems );
	};
})( $.cleanData );

$.widget = function( name, base, prototype ) {
	var fullName, existingConstructor, constructor, basePrototype,
		// proxiedPrototype allows the provided prototype to remain unmodified
		// so that it can be used as a mixin for multiple widgets (#8876)
		proxiedPrototype = {},
		namespace = name.split( "." )[ 0 ];

	name = name.split( "." )[ 1 ];
	fullName = namespace + "-" + name;

	if ( !prototype ) {
		prototype = base;
		base = $.Widget;
	}

	// create selector for plugin
	$.expr[ ":" ][ fullName.toLowerCase() ] = function( elem ) {
		return !!$.data( elem, fullName );
	};

	$[ namespace ] = $[ namespace ] || {};
	existingConstructor = $[ namespace ][ name ];
	constructor = $[ namespace ][ name ] = function( options, element ) {
		// allow instantiation without "new" keyword
		if ( !this._createWidget ) {
			return new constructor( options, element );
		}

		// allow instantiation without initializing for simple inheritance
		// must use "new" keyword (the code above always passes args)
		if ( arguments.length ) {
			this._createWidget( options, element );
		}
	};
	// extend with the existing constructor to carry over any static properties
	$.extend( constructor, existingConstructor, {
		version: prototype.version,
		// copy the object used to create the prototype in case we need to
		// redefine the widget later
		_proto: $.extend( {}, prototype ),
		// track widgets that inherit from this widget in case this widget is
		// redefined after a widget inherits from it
		_childConstructors: []
	});

	basePrototype = new base();
	// we need to make the options hash a property directly on the new instance
	// otherwise we'll modify the options hash on the prototype that we're
	// inheriting from
	basePrototype.options = $.widget.extend( {}, basePrototype.options );
	$.each( prototype, function( prop, value ) {
		if ( !$.isFunction( value ) ) {
			proxiedPrototype[ prop ] = value;
			return;
		}
		proxiedPrototype[ prop ] = (function() {
			var _super = function() {
					return base.prototype[ prop ].apply( this, arguments );
				},
				_superApply = function( args ) {
					return base.prototype[ prop ].apply( this, args );
				};
			return function() {
				var __super = this._super,
					__superApply = this._superApply,
					returnValue;

				this._super = _super;
				this._superApply = _superApply;

				returnValue = value.apply( this, arguments );

				this._super = __super;
				this._superApply = __superApply;

				return returnValue;
			};
		})();
	});
	constructor.prototype = $.widget.extend( basePrototype, {
		// TODO: remove support for widgetEventPrefix
		// always use the name + a colon as the prefix, e.g., draggable:start
		// don't prefix for widgets that aren't DOM-based
		widgetEventPrefix: existingConstructor ? (basePrototype.widgetEventPrefix || name) : name
	}, proxiedPrototype, {
		constructor: constructor,
		namespace: namespace,
		widgetName: name,
		widgetFullName: fullName
	});

	// If this widget is being redefined then we need to find all widgets that
	// are inheriting from it and redefine all of them so that they inherit from
	// the new version of this widget. We're essentially trying to replace one
	// level in the prototype chain.
	if ( existingConstructor ) {
		$.each( existingConstructor._childConstructors, function( i, child ) {
			var childPrototype = child.prototype;

			// redefine the child widget using the same prototype that was
			// originally used, but inherit from the new version of the base
			$.widget( childPrototype.namespace + "." + childPrototype.widgetName, constructor, child._proto );
		});
		// remove the list of existing child constructors from the old constructor
		// so the old child constructors can be garbage collected
		delete existingConstructor._childConstructors;
	} else {
		base._childConstructors.push( constructor );
	}

	$.widget.bridge( name, constructor );

	return constructor;
};

$.widget.extend = function( target ) {
	var input = widget_slice.call( arguments, 1 ),
		inputIndex = 0,
		inputLength = input.length,
		key,
		value;
	for ( ; inputIndex < inputLength; inputIndex++ ) {
		for ( key in input[ inputIndex ] ) {
			value = input[ inputIndex ][ key ];
			if ( input[ inputIndex ].hasOwnProperty( key ) && value !== undefined ) {
				// Clone objects
				if ( $.isPlainObject( value ) ) {
					target[ key ] = $.isPlainObject( target[ key ] ) ?
						$.widget.extend( {}, target[ key ], value ) :
						// Don't extend strings, arrays, etc. with objects
						$.widget.extend( {}, value );
				// Copy everything else by reference
				} else {
					target[ key ] = value;
				}
			}
		}
	}
	return target;
};

$.widget.bridge = function( name, object ) {
	var fullName = object.prototype.widgetFullName || name;
	$.fn[ name ] = function( options ) {
		var isMethodCall = typeof options === "string",
			args = widget_slice.call( arguments, 1 ),
			returnValue = this;

		if ( isMethodCall ) {
			this.each(function() {
				var methodValue,
					instance = $.data( this, fullName );
				if ( options === "instance" ) {
					returnValue = instance;
					return false;
				}
				if ( !instance ) {
					return $.error( "cannot call methods on " + name + " prior to initialization; " +
						"attempted to call method '" + options + "'" );
				}
				if ( !$.isFunction( instance[options] ) || options.charAt( 0 ) === "_" ) {
					return $.error( "no such method '" + options + "' for " + name + " widget instance" );
				}
				methodValue = instance[ options ].apply( instance, args );
				if ( methodValue !== instance && methodValue !== undefined ) {
					returnValue = methodValue && methodValue.jquery ?
						returnValue.pushStack( methodValue.get() ) :
						methodValue;
					return false;
				}
			});
		} else {

			// Allow multiple hashes to be passed on init
			if ( args.length ) {
				options = $.widget.extend.apply( null, [ options ].concat(args) );
			}

			this.each(function() {
				var instance = $.data( this, fullName );
				if ( instance ) {
					instance.option( options || {} );
					if ( instance._init ) {
						instance._init();
					}
				} else {
					$.data( this, fullName, new object( options, this ) );
				}
			});
		}

		return returnValue;
	};
};

$.Widget = function( /* options, element */ ) {};
$.Widget._childConstructors = [];

$.Widget.prototype = {
	widgetName: "widget",
	widgetEventPrefix: "",
	defaultElement: "<div>",
	options: {
		disabled: false,

		// callbacks
		create: null
	},
	_createWidget: function( options, element ) {
		element = $( element || this.defaultElement || this )[ 0 ];
		this.element = $( element );
		this.uuid = widget_uuid++;
		this.eventNamespace = "." + this.widgetName + this.uuid;

		this.bindings = $();
		this.hoverable = $();
		this.focusable = $();

		if ( element !== this ) {
			$.data( element, this.widgetFullName, this );
			this._on( true, this.element, {
				remove: function( event ) {
					if ( event.target === element ) {
						this.destroy();
					}
				}
			});
			this.document = $( element.style ?
				// element within the document
				element.ownerDocument :
				// element is window or document
				element.document || element );
			this.window = $( this.document[0].defaultView || this.document[0].parentWindow );
		}

		this.options = $.widget.extend( {},
			this.options,
			this._getCreateOptions(),
			options );

		this._create();
		this._trigger( "create", null, this._getCreateEventData() );
		this._init();
	},
	_getCreateOptions: $.noop,
	_getCreateEventData: $.noop,
	_create: $.noop,
	_init: $.noop,

	destroy: function() {
		this._destroy();
		// we can probably remove the unbind calls in 2.0
		// all event bindings should go through this._on()
		this.element
			.unbind( this.eventNamespace )
			.removeData( this.widgetFullName )
			// support: jquery <1.6.3
			// http://bugs.jquery.com/ticket/9413
			.removeData( $.camelCase( this.widgetFullName ) );
		this.widget()
			.unbind( this.eventNamespace )
			.removeAttr( "aria-disabled" )
			.removeClass(
				this.widgetFullName + "-disabled " +
				"ui-state-disabled" );

		// clean up events and states
		this.bindings.unbind( this.eventNamespace );
		this.hoverable.removeClass( "ui-state-hover" );
		this.focusable.removeClass( "ui-state-focus" );
	},
	_destroy: $.noop,

	widget: function() {
		return this.element;
	},

	option: function( key, value ) {
		var options = key,
			parts,
			curOption,
			i;

		if ( arguments.length === 0 ) {
			// don't return a reference to the internal hash
			return $.widget.extend( {}, this.options );
		}

		if ( typeof key === "string" ) {
			// handle nested keys, e.g., "foo.bar" => { foo: { bar: ___ } }
			options = {};
			parts = key.split( "." );
			key = parts.shift();
			if ( parts.length ) {
				curOption = options[ key ] = $.widget.extend( {}, this.options[ key ] );
				for ( i = 0; i < parts.length - 1; i++ ) {
					curOption[ parts[ i ] ] = curOption[ parts[ i ] ] || {};
					curOption = curOption[ parts[ i ] ];
				}
				key = parts.pop();
				if ( arguments.length === 1 ) {
					return curOption[ key ] === undefined ? null : curOption[ key ];
				}
				curOption[ key ] = value;
			} else {
				if ( arguments.length === 1 ) {
					return this.options[ key ] === undefined ? null : this.options[ key ];
				}
				options[ key ] = value;
			}
		}

		this._setOptions( options );

		return this;
	},
	_setOptions: function( options ) {
		var key;

		for ( key in options ) {
			this._setOption( key, options[ key ] );
		}

		return this;
	},
	_setOption: function( key, value ) {
		this.options[ key ] = value;

		if ( key === "disabled" ) {
			this.widget()
				.toggleClass( this.widgetFullName + "-disabled", !!value );

			// If the widget is becoming disabled, then nothing is interactive
			if ( value ) {
				this.hoverable.removeClass( "ui-state-hover" );
				this.focusable.removeClass( "ui-state-focus" );
			}
		}

		return this;
	},

	enable: function() {
		return this._setOptions({ disabled: false });
	},
	disable: function() {
		return this._setOptions({ disabled: true });
	},

	_on: function( suppressDisabledCheck, element, handlers ) {
		var delegateElement,
			instance = this;

		// no suppressDisabledCheck flag, shuffle arguments
		if ( typeof suppressDisabledCheck !== "boolean" ) {
			handlers = element;
			element = suppressDisabledCheck;
			suppressDisabledCheck = false;
		}

		// no element argument, shuffle and use this.element
		if ( !handlers ) {
			handlers = element;
			element = this.element;
			delegateElement = this.widget();
		} else {
			element = delegateElement = $( element );
			this.bindings = this.bindings.add( element );
		}

		$.each( handlers, function( event, handler ) {
			function handlerProxy() {
				// allow widgets to customize the disabled handling
				// - disabled as an array instead of boolean
				// - disabled class as method for disabling individual parts
				if ( !suppressDisabledCheck &&
						( instance.options.disabled === true ||
							$( this ).hasClass( "ui-state-disabled" ) ) ) {
					return;
				}
				return ( typeof handler === "string" ? instance[ handler ] : handler )
					.apply( instance, arguments );
			}

			// copy the guid so direct unbinding works
			if ( typeof handler !== "string" ) {
				handlerProxy.guid = handler.guid =
					handler.guid || handlerProxy.guid || $.guid++;
			}

			var match = event.match( /^([\w:-]*)\s*(.*)$/ ),
				eventName = match[1] + instance.eventNamespace,
				selector = match[2];
			if ( selector ) {
				delegateElement.delegate( selector, eventName, handlerProxy );
			} else {
				element.bind( eventName, handlerProxy );
			}
		});
	},

	_off: function( element, eventName ) {
		eventName = (eventName || "").split( " " ).join( this.eventNamespace + " " ) +
			this.eventNamespace;
		element.unbind( eventName ).undelegate( eventName );

		// Clear the stack to avoid memory leaks (#10056)
		this.bindings = $( this.bindings.not( element ).get() );
		this.focusable = $( this.focusable.not( element ).get() );
		this.hoverable = $( this.hoverable.not( element ).get() );
	},

	_delay: function( handler, delay ) {
		function handlerProxy() {
			return ( typeof handler === "string" ? instance[ handler ] : handler )
				.apply( instance, arguments );
		}
		var instance = this;
		return setTimeout( handlerProxy, delay || 0 );
	},

	_hoverable: function( element ) {
		this.hoverable = this.hoverable.add( element );
		this._on( element, {
			mouseenter: function( event ) {
				$( event.currentTarget ).addClass( "ui-state-hover" );
			},
			mouseleave: function( event ) {
				$( event.currentTarget ).removeClass( "ui-state-hover" );
			}
		});
	},

	_focusable: function( element ) {
		this.focusable = this.focusable.add( element );
		this._on( element, {
			focusin: function( event ) {
				$( event.currentTarget ).addClass( "ui-state-focus" );
			},
			focusout: function( event ) {
				$( event.currentTarget ).removeClass( "ui-state-focus" );
			}
		});
	},

	_trigger: function( type, event, data ) {
		var prop, orig,
			callback = this.options[ type ];

		data = data || {};
		event = $.Event( event );
		event.type = ( type === this.widgetEventPrefix ?
			type :
			this.widgetEventPrefix + type ).toLowerCase();
		// the original event may come from any element
		// so we need to reset the target on the new event
		event.target = this.element[ 0 ];

		// copy original event properties over to the new event
		orig = event.originalEvent;
		if ( orig ) {
			for ( prop in orig ) {
				if ( !( prop in event ) ) {
					event[ prop ] = orig[ prop ];
				}
			}
		}

		this.element.trigger( event, data );
		return !( $.isFunction( callback ) &&
			callback.apply( this.element[0], [ event ].concat( data ) ) === false ||
			event.isDefaultPrevented() );
	}
};

$.each( { show: "fadeIn", hide: "fadeOut" }, function( method, defaultEffect ) {
	$.Widget.prototype[ "_" + method ] = function( element, options, callback ) {
		if ( typeof options === "string" ) {
			options = { effect: options };
		}
		var hasOptions,
			effectName = !options ?
				method :
				options === true || typeof options === "number" ?
					defaultEffect :
					options.effect || defaultEffect;
		options = options || {};
		if ( typeof options === "number" ) {
			options = { duration: options };
		}
		hasOptions = !$.isEmptyObject( options );
		options.complete = callback;
		if ( options.delay ) {
			element.delay( options.delay );
		}
		if ( hasOptions && $.effects && $.effects.effect[ effectName ] ) {
			element[ method ]( options );
		} else if ( effectName !== method && element[ effectName ] ) {
			element[ effectName ]( options.duration, options.easing, callback );
		} else {
			element.queue(function( next ) {
				$( this )[ method ]();
				if ( callback ) {
					callback.call( element[ 0 ] );
				}
				next();
			});
		}
	};
});

return $.widget;

}));



/*!
 * jQuery UI Button 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/button/
 */

(function( factory ) {
	if ( typeof define === "function" && define.amd ) {

		// AMD. Register as an anonymous module.
		define([
			"jquery",
			"./core",
			"./widget"
		], factory );
	} else {

		// Browser globals
		factory( jQuery );
	}
}(function( $ ) {

var lastActive,
	baseClasses = "ui-button ui-widget ui-state-default ui-corner-all",
	typeClasses = "ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",
	formResetHandler = function() {
		var form = $( this );
		setTimeout(function() {
			form.find( ":ui-button" ).button( "refresh" );
		}, 1 );
	},
	radioGroup = function( radio ) {
		var name = radio.name,
			form = radio.form,
			radios = $( [] );
		if ( name ) {
			name = name.replace( /'/g, "\\'" );
			if ( form ) {
				radios = $( form ).find( "[name='" + name + "'][type=radio]" );
			} else {
				radios = $( "[name='" + name + "'][type=radio]", radio.ownerDocument )
					.filter(function() {
						return !this.form;
					});
			}
		}
		return radios;
	};

$.widget( "ui.button", {
	version: "1.11.4",
	defaultElement: "<button>",
	options: {
		disabled: null,
		text: true,
		label: null,
		icons: {
			primary: null,
			secondary: null
		}
	},
	_create: function() {
		this.element.closest( "form" )
			.unbind( "reset" + this.eventNamespace )
			.bind( "reset" + this.eventNamespace, formResetHandler );

		if ( typeof this.options.disabled !== "boolean" ) {
			this.options.disabled = !!this.element.prop( "disabled" );
		} else {
			this.element.prop( "disabled", this.options.disabled );
		}

		this._determineButtonType();
		this.hasTitle = !!this.buttonElement.attr( "title" );

		var that = this,
			options = this.options,
			toggleButton = this.type === "checkbox" || this.type === "radio",
			activeClass = !toggleButton ? "ui-state-active" : "";

		if ( options.label === null ) {
			options.label = (this.type === "input" ? this.buttonElement.val() : this.buttonElement.html());
		}

		this._hoverable( this.buttonElement );

		this.buttonElement
			.addClass( baseClasses )
			.attr( "role", "button" )
			.bind( "mouseenter" + this.eventNamespace, function() {
				if ( options.disabled ) {
					return;
				}
				if ( this === lastActive ) {
					$( this ).addClass( "ui-state-active" );
				}
			})
			.bind( "mouseleave" + this.eventNamespace, function() {
				if ( options.disabled ) {
					return;
				}
				$( this ).removeClass( activeClass );
			})
			.bind( "click" + this.eventNamespace, function( event ) {
				if ( options.disabled ) {
					event.preventDefault();
					event.stopImmediatePropagation();
				}
			});

		// Can't use _focusable() because the element that receives focus
		// and the element that gets the ui-state-focus class are different
		this._on({
			focus: function() {
				this.buttonElement.addClass( "ui-state-focus" );
			},
			blur: function() {
				this.buttonElement.removeClass( "ui-state-focus" );
			}
		});

		if ( toggleButton ) {
			this.element.bind( "change" + this.eventNamespace, function() {
				that.refresh();
			});
		}

		if ( this.type === "checkbox" ) {
			this.buttonElement.bind( "click" + this.eventNamespace, function() {
				if ( options.disabled ) {
					return false;
				}
			});
		} else if ( this.type === "radio" ) {
			this.buttonElement.bind( "click" + this.eventNamespace, function() {
				if ( options.disabled ) {
					return false;
				}
				$( this ).addClass( "ui-state-active" );
				that.buttonElement.attr( "aria-pressed", "true" );

				var radio = that.element[ 0 ];
				radioGroup( radio )
					.not( radio )
					.map(function() {
						return $( this ).button( "widget" )[ 0 ];
					})
					.removeClass( "ui-state-active" )
					.attr( "aria-pressed", "false" );
			});
		} else {
			this.buttonElement
				.bind( "mousedown" + this.eventNamespace, function() {
					if ( options.disabled ) {
						return false;
					}
					$( this ).addClass( "ui-state-active" );
					lastActive = this;
					that.document.one( "mouseup", function() {
						lastActive = null;
					});
				})
				.bind( "mouseup" + this.eventNamespace, function() {
					if ( options.disabled ) {
						return false;
					}
					$( this ).removeClass( "ui-state-active" );
				})
				.bind( "keydown" + this.eventNamespace, function(event) {
					if ( options.disabled ) {
						return false;
					}
					if ( event.keyCode === $.ui.keyCode.SPACE || event.keyCode === $.ui.keyCode.ENTER ) {
						$( this ).addClass( "ui-state-active" );
					}
				})
				// see #8559, we bind to blur here in case the button element loses
				// focus between keydown and keyup, it would be left in an "active" state
				.bind( "keyup" + this.eventNamespace + " blur" + this.eventNamespace, function() {
					$( this ).removeClass( "ui-state-active" );
				});

			if ( this.buttonElement.is("a") ) {
				this.buttonElement.keyup(function(event) {
					if ( event.keyCode === $.ui.keyCode.SPACE ) {
						// TODO pass through original event correctly (just as 2nd argument doesn't work)
						$( this ).click();
					}
				});
			}
		}

		this._setOption( "disabled", options.disabled );
		this._resetButton();
	},

	_determineButtonType: function() {
		var ancestor, labelSelector, checked;

		if ( this.element.is("[type=checkbox]") ) {
			this.type = "checkbox";
		} else if ( this.element.is("[type=radio]") ) {
			this.type = "radio";
		} else if ( this.element.is("input") ) {
			this.type = "input";
		} else {
			this.type = "button";
		}

		if ( this.type === "checkbox" || this.type === "radio" ) {
			// we don't search against the document in case the element
			// is disconnected from the DOM
			ancestor = this.element.parents().last();
			labelSelector = "label[for='" + this.element.attr("id") + "']";
			this.buttonElement = ancestor.find( labelSelector );
			if ( !this.buttonElement.length ) {
				ancestor = ancestor.length ? ancestor.siblings() : this.element.siblings();
				this.buttonElement = ancestor.filter( labelSelector );
				if ( !this.buttonElement.length ) {
					this.buttonElement = ancestor.find( labelSelector );
				}
			}
			this.element.addClass( "ui-helper-hidden-accessible" );

			checked = this.element.is( ":checked" );
			if ( checked ) {
				this.buttonElement.addClass( "ui-state-active" );
			}
			this.buttonElement.prop( "aria-pressed", checked );
		} else {
			this.buttonElement = this.element;
		}
	},

	widget: function() {
		return this.buttonElement;
	},

	_destroy: function() {
		this.element
			.removeClass( "ui-helper-hidden-accessible" );
		this.buttonElement
			.removeClass( baseClasses + " ui-state-active " + typeClasses )
			.removeAttr( "role" )
			.removeAttr( "aria-pressed" )
			.html( this.buttonElement.find(".ui-button-text").html() );

		if ( !this.hasTitle ) {
			this.buttonElement.removeAttr( "title" );
		}
	},

	_setOption: function( key, value ) {
		this._super( key, value );
		if ( key === "disabled" ) {
			this.widget().toggleClass( "ui-state-disabled", !!value );
			this.element.prop( "disabled", !!value );
			if ( value ) {
				if ( this.type === "checkbox" || this.type === "radio" ) {
					this.buttonElement.removeClass( "ui-state-focus" );
				} else {
					this.buttonElement.removeClass( "ui-state-focus ui-state-active" );
				}
			}
			return;
		}
		this._resetButton();
	},

	refresh: function() {
		//See #8237 & #8828
		var isDisabled = this.element.is( "input, button" ) ? this.element.is( ":disabled" ) : this.element.hasClass( "ui-button-disabled" );

		if ( isDisabled !== this.options.disabled ) {
			this._setOption( "disabled", isDisabled );
		}
		if ( this.type === "radio" ) {
			radioGroup( this.element[0] ).each(function() {
				if ( $( this ).is( ":checked" ) ) {
					$( this ).button( "widget" )
						.addClass( "ui-state-active" )
						.attr( "aria-pressed", "true" );
				} else {
					$( this ).button( "widget" )
						.removeClass( "ui-state-active" )
						.attr( "aria-pressed", "false" );
				}
			});
		} else if ( this.type === "checkbox" ) {
			if ( this.element.is( ":checked" ) ) {
				this.buttonElement
					.addClass( "ui-state-active" )
					.attr( "aria-pressed", "true" );
			} else {
				this.buttonElement
					.removeClass( "ui-state-active" )
					.attr( "aria-pressed", "false" );
			}
		}
	},

	_resetButton: function() {
		if ( this.type === "input" ) {
			if ( this.options.label ) {
				this.element.val( this.options.label );
			}
			return;
		}
		var buttonElement = this.buttonElement.removeClass( typeClasses ),
			buttonText = $( "<span></span>", this.document[0] )
				.addClass( "ui-button-text" )
				.html( this.options.label )
				.appendTo( buttonElement.empty() )
				.text(),
			icons = this.options.icons,
			multipleIcons = icons.primary && icons.secondary,
			buttonClasses = [];

		if ( icons.primary || icons.secondary ) {
			if ( this.options.text ) {
				buttonClasses.push( "ui-button-text-icon" + ( multipleIcons ? "s" : ( icons.primary ? "-primary" : "-secondary" ) ) );
			}

			if ( icons.primary ) {
				buttonElement.prepend( "<span class='ui-button-icon-primary ui-icon " + icons.primary + "'></span>" );
			}

			if ( icons.secondary ) {
				buttonElement.append( "<span class='ui-button-icon-secondary ui-icon " + icons.secondary + "'></span>" );
			}

			if ( !this.options.text ) {
				buttonClasses.push( multipleIcons ? "ui-button-icons-only" : "ui-button-icon-only" );

				if ( !this.hasTitle ) {
					buttonElement.attr( "title", $.trim( buttonText ) );
				}
			}
		} else {
			buttonClasses.push( "ui-button-text-only" );
		}
		buttonElement.addClass( buttonClasses.join( " " ) );
	}
});

$.widget( "ui.buttonset", {
	version: "1.11.4",
	options: {
		items: "button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"
	},

	_create: function() {
		this.element.addClass( "ui-buttonset" );
	},

	_init: function() {
		this.refresh();
	},

	_setOption: function( key, value ) {
		if ( key === "disabled" ) {
			this.buttons.button( "option", key, value );
		}

		this._super( key, value );
	},

	refresh: function() {
		var rtl = this.element.css( "direction" ) === "rtl",
			allButtons = this.element.find( this.options.items ),
			existingButtons = allButtons.filter( ":ui-button" );

		// Initialize new buttons
		allButtons.not( ":ui-button" ).button();

		// Refresh existing buttons
		existingButtons.button( "refresh" );

		this.buttons = allButtons
			.map(function() {
				return $( this ).button( "widget" )[ 0 ];
			})
				.removeClass( "ui-corner-all ui-corner-left ui-corner-right" )
				.filter( ":first" )
					.addClass( rtl ? "ui-corner-right" : "ui-corner-left" )
				.end()
				.filter( ":last" )
					.addClass( rtl ? "ui-corner-left" : "ui-corner-right" )
				.end()
			.end();
	},

	_destroy: function() {
		this.element.removeClass( "ui-buttonset" );
		this.buttons
			.map(function() {
				return $( this ).button( "widget" )[ 0 ];
			})
				.removeClass( "ui-corner-left ui-corner-right" )
			.end()
			.button( "destroy" );
	}
});

return $.ui.button;

}));



/*!
 * jQuery UI Mouse 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/mouse/
 */

(function( factory ) {
	if ( typeof define === "function" && define.amd ) {

		// AMD. Register as an anonymous module.
		define([
			"jquery",
			"./widget"
		], factory );
	} else {

		// Browser globals
		factory( jQuery );
	}
}(function( $ ) {

var mouseHandled = false;
$( document ).mouseup( function() {
	mouseHandled = false;
});

return $.widget("ui.mouse", {
	version: "1.11.4",
	options: {
		cancel: "input,textarea,button,select,option",
		distance: 1,
		delay: 0
	},
	_mouseInit: function() {
		var that = this;

		this.element
			.bind("mousedown." + this.widgetName, function(event) {
				return that._mouseDown(event);
			})
			.bind("click." + this.widgetName, function(event) {
				if (true === $.data(event.target, that.widgetName + ".preventClickEvent")) {
					$.removeData(event.target, that.widgetName + ".preventClickEvent");
					event.stopImmediatePropagation();
					return false;
				}
			});

		this.started = false;
	},

	// TODO: make sure destroying one instance of mouse doesn't mess with
	// other instances of mouse
	_mouseDestroy: function() {
		this.element.unbind("." + this.widgetName);
		if ( this._mouseMoveDelegate ) {
			this.document
				.unbind("mousemove." + this.widgetName, this._mouseMoveDelegate)
				.unbind("mouseup." + this.widgetName, this._mouseUpDelegate);
		}
	},

	_mouseDown: function(event) {
		// don't let more than one widget handle mouseStart
		if ( mouseHandled ) {
			return;
		}

		this._mouseMoved = false;

		// we may have missed mouseup (out of window)
		(this._mouseStarted && this._mouseUp(event));

		this._mouseDownEvent = event;

		var that = this,
			btnIsLeft = (event.which === 1),
			// event.target.nodeName works around a bug in IE 8 with
			// disabled inputs (#7620)
			elIsCancel = (typeof this.options.cancel === "string" && event.target.nodeName ? $(event.target).closest(this.options.cancel).length : false);
		if (!btnIsLeft || elIsCancel || !this._mouseCapture(event)) {
			return true;
		}

		this.mouseDelayMet = !this.options.delay;
		if (!this.mouseDelayMet) {
			this._mouseDelayTimer = setTimeout(function() {
				that.mouseDelayMet = true;
			}, this.options.delay);
		}

		if (this._mouseDistanceMet(event) && this._mouseDelayMet(event)) {
			this._mouseStarted = (this._mouseStart(event) !== false);
			if (!this._mouseStarted) {
				event.preventDefault();
				return true;
			}
		}

		// Click event may never have fired (Gecko & Opera)
		if (true === $.data(event.target, this.widgetName + ".preventClickEvent")) {
			$.removeData(event.target, this.widgetName + ".preventClickEvent");
		}

		// these delegates are required to keep context
		this._mouseMoveDelegate = function(event) {
			return that._mouseMove(event);
		};
		this._mouseUpDelegate = function(event) {
			return that._mouseUp(event);
		};

		this.document
			.bind( "mousemove." + this.widgetName, this._mouseMoveDelegate )
			.bind( "mouseup." + this.widgetName, this._mouseUpDelegate );

		event.preventDefault();

		mouseHandled = true;
		return true;
	},

	_mouseMove: function(event) {
		// Only check for mouseups outside the document if you've moved inside the document
		// at least once. This prevents the firing of mouseup in the case of IE<9, which will
		// fire a mousemove event if content is placed under the cursor. See #7778
		// Support: IE <9
		if ( this._mouseMoved ) {
			// IE mouseup check - mouseup happened when mouse was out of window
			if ($.ui.ie && ( !document.documentMode || document.documentMode < 9 ) && !event.button) {
				return this._mouseUp(event);

			// Iframe mouseup check - mouseup occurred in another document
			} else if ( !event.which ) {
				return this._mouseUp( event );
			}
		}

		if ( event.which || event.button ) {
			this._mouseMoved = true;
		}

		if (this._mouseStarted) {
			this._mouseDrag(event);
			return event.preventDefault();
		}

		if (this._mouseDistanceMet(event) && this._mouseDelayMet(event)) {
			this._mouseStarted =
				(this._mouseStart(this._mouseDownEvent, event) !== false);
			(this._mouseStarted ? this._mouseDrag(event) : this._mouseUp(event));
		}

		return !this._mouseStarted;
	},

	_mouseUp: function(event) {
		this.document
			.unbind( "mousemove." + this.widgetName, this._mouseMoveDelegate )
			.unbind( "mouseup." + this.widgetName, this._mouseUpDelegate );

		if (this._mouseStarted) {
			this._mouseStarted = false;

			if (event.target === this._mouseDownEvent.target) {
				$.data(event.target, this.widgetName + ".preventClickEvent", true);
			}

			this._mouseStop(event);
		}

		mouseHandled = false;
		return false;
	},

	_mouseDistanceMet: function(event) {
		return (Math.max(
				Math.abs(this._mouseDownEvent.pageX - event.pageX),
				Math.abs(this._mouseDownEvent.pageY - event.pageY)
			) >= this.options.distance
		);
	},

	_mouseDelayMet: function(/* event */) {
		return this.mouseDelayMet;
	},

	// These are placeholder methods, to be overriden by extending plugin
	_mouseStart: function(/* event */) {},
	_mouseDrag: function(/* event */) {},
	_mouseStop: function(/* event */) {},
	_mouseCapture: function(/* event */) { return true; }
});

}));




/*!
 * jQuery UI Draggable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/draggable/
 */

(function( factory ) {
	if ( typeof define === "function" && define.amd ) {

		// AMD. Register as an anonymous module.
		define([
			"jquery",
			"./core",
			"./mouse",
			"./widget"
		], factory );
	} else {

		// Browser globals
		factory( jQuery );
	}
}(function( $ ) {

$.widget("ui.draggable", $.ui.mouse, {
	version: "1.11.4",
	widgetEventPrefix: "drag",
	options: {
		addClasses: true,
		appendTo: "parent",
		axis: false,
		connectToSortable: false,
		containment: false,
		cursor: "auto",
		cursorAt: false,
		grid: false,
		handle: false,
		helper: "original",
		iframeFix: false,
		opacity: false,
		refreshPositions: false,
		revert: false,
		revertDuration: 500,
		scope: "default",
		scroll: true,
		scrollSensitivity: 20,
		scrollSpeed: 20,
		snap: false,
		snapMode: "both",
		snapTolerance: 20,
		stack: false,
		zIndex: false,

		// callbacks
		drag: null,
		start: null,
		stop: null
	},
	_create: function() {

		if ( this.options.helper === "original" ) {
			this._setPositionRelative();
		}
		if (this.options.addClasses){
			this.element.addClass("ui-draggable");
		}
		if (this.options.disabled){
			this.element.addClass("ui-draggable-disabled");
		}
		this._setHandleClassName();

		this._mouseInit();
	},

	_setOption: function( key, value ) {
		this._super( key, value );
		if ( key === "handle" ) {
			this._removeHandleClassName();
			this._setHandleClassName();
		}
	},

	_destroy: function() {
		if ( ( this.helper || this.element ).is( ".ui-draggable-dragging" ) ) {
			this.destroyOnClear = true;
			return;
		}
		this.element.removeClass( "ui-draggable ui-draggable-dragging ui-draggable-disabled" );
		this._removeHandleClassName();
		this._mouseDestroy();
	},

	_mouseCapture: function(event) {
		var o = this.options;

		this._blurActiveElement( event );

		// among others, prevent a drag on a resizable-handle
		if (this.helper || o.disabled || $(event.target).closest(".ui-resizable-handle").length > 0) {
			return false;
		}

		//Quit if we're not on a valid handle
		this.handle = this._getHandle(event);
		if (!this.handle) {
			return false;
		}

		this._blockFrames( o.iframeFix === true ? "iframe" : o.iframeFix );

		return true;

	},

	_blockFrames: function( selector ) {
		this.iframeBlocks = this.document.find( selector ).map(function() {
			var iframe = $( this );

			return $( "<div>" )
				.css( "position", "absolute" )
				.appendTo( iframe.parent() )
				.outerWidth( iframe.outerWidth() )
				.outerHeight( iframe.outerHeight() )
				.offset( iframe.offset() )[ 0 ];
		});
	},

	_unblockFrames: function() {
		if ( this.iframeBlocks ) {
			this.iframeBlocks.remove();
			delete this.iframeBlocks;
		}
	},

	_blurActiveElement: function( event ) {
		var document = this.document[ 0 ];

		// Only need to blur if the event occurred on the draggable itself, see #10527
		if ( !this.handleElement.is( event.target ) ) {
			return;
		}

		// support: IE9
		// IE9 throws an "Unspecified error" accessing document.activeElement from an <iframe>
		try {

			// Support: IE9, IE10
			// If the <body> is blurred, IE will switch windows, see #9520
			if ( document.activeElement && document.activeElement.nodeName.toLowerCase() !== "body" ) {

				// Blur any element that currently has focus, see #4261
				$( document.activeElement ).blur();
			}
		} catch ( error ) {}
	},

	_mouseStart: function(event) {

		var o = this.options;

		//Create and append the visible helper
		this.helper = this._createHelper(event);

		this.helper.addClass("ui-draggable-dragging");

		//Cache the helper size
		this._cacheHelperProportions();

		//If ddmanager is used for droppables, set the global draggable
		if ($.ui.ddmanager) {
			$.ui.ddmanager.current = this;
		}

		/*
		 * - Position generation -
		 * This block generates everything position related - it's the core of draggables.
		 */

		//Cache the margins of the original element
		this._cacheMargins();

		//Store the helper's css position
		this.cssPosition = this.helper.css( "position" );
		this.scrollParent = this.helper.scrollParent( true );
		this.offsetParent = this.helper.offsetParent();
		this.hasFixedAncestor = this.helper.parents().filter(function() {
				return $( this ).css( "position" ) === "fixed";
			}).length > 0;

		//The element's absolute position on the page minus margins
		this.positionAbs = this.element.offset();
		this._refreshOffsets( event );

		//Generate the original position
		this.originalPosition = this.position = this._generatePosition( event, false );
		this.originalPageX = event.pageX;
		this.originalPageY = event.pageY;

		//Adjust the mouse offset relative to the helper if "cursorAt" is supplied
		(o.cursorAt && this._adjustOffsetFromHelper(o.cursorAt));

		//Set a containment if given in the options
		this._setContainment();

		//Trigger event + callbacks
		if (this._trigger("start", event) === false) {
			this._clear();
			return false;
		}

		//Recache the helper size
		this._cacheHelperProportions();

		//Prepare the droppable offsets
		if ($.ui.ddmanager && !o.dropBehaviour) {
			$.ui.ddmanager.prepareOffsets(this, event);
		}

		// Reset helper's right/bottom css if they're set and set explicit width/height instead
		// as this prevents resizing of elements with right/bottom set (see #7772)
		this._normalizeRightBottom();

		this._mouseDrag(event, true); //Execute the drag once - this causes the helper not to be visible before getting its correct position

		//If the ddmanager is used for droppables, inform the manager that dragging has started (see #5003)
		if ( $.ui.ddmanager ) {
			$.ui.ddmanager.dragStart(this, event);
		}

		return true;
	},

	_refreshOffsets: function( event ) {
		this.offset = {
			top: this.positionAbs.top - this.margins.top,
			left: this.positionAbs.left - this.margins.left,
			scroll: false,
			parent: this._getParentOffset(),
			relative: this._getRelativeOffset()
		};

		this.offset.click = {
			left: event.pageX - this.offset.left,
			top: event.pageY - this.offset.top
		};
	},

	_mouseDrag: function(event, noPropagation) {
		// reset any necessary cached properties (see #5009)
		if ( this.hasFixedAncestor ) {
			this.offset.parent = this._getParentOffset();
		}

		//Compute the helpers position
		this.position = this._generatePosition( event, true );
		this.positionAbs = this._convertPositionTo("absolute");

		//Call plugins and callbacks and use the resulting position if something is returned
		if (!noPropagation) {
			var ui = this._uiHash();
			if (this._trigger("drag", event, ui) === false) {
				this._mouseUp({});
				return false;
			}
			this.position = ui.position;
		}

		this.helper[ 0 ].style.left = this.position.left + "px";
		this.helper[ 0 ].style.top = this.position.top + "px";

		if ($.ui.ddmanager) {
			$.ui.ddmanager.drag(this, event);
		}

		return false;
	},

	_mouseStop: function(event) {

		//If we are using droppables, inform the manager about the drop
		var that = this,
			dropped = false;
		if ($.ui.ddmanager && !this.options.dropBehaviour) {
			dropped = $.ui.ddmanager.drop(this, event);
		}

		//if a drop comes from outside (a sortable)
		if (this.dropped) {
			dropped = this.dropped;
			this.dropped = false;
		}

		if ((this.options.revert === "invalid" && !dropped) || (this.options.revert === "valid" && dropped) || this.options.revert === true || ($.isFunction(this.options.revert) && this.options.revert.call(this.element, dropped))) {
			$(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function() {
				if (that._trigger("stop", event) !== false) {
					that._clear();
				}
			});
		} else {
			if (this._trigger("stop", event) !== false) {
				this._clear();
			}
		}

		return false;
	},

	_mouseUp: function( event ) {
		this._unblockFrames();

		//If the ddmanager is used for droppables, inform the manager that dragging has stopped (see #5003)
		if ( $.ui.ddmanager ) {
			$.ui.ddmanager.dragStop(this, event);
		}

		// Only need to focus if the event occurred on the draggable itself, see #10527
		if ( this.handleElement.is( event.target ) ) {
			// The interaction is over; whether or not the click resulted in a drag, focus the element
			this.element.focus();
		}

		return $.ui.mouse.prototype._mouseUp.call(this, event);
	},

	cancel: function() {

		if (this.helper.is(".ui-draggable-dragging")) {
			this._mouseUp({});
		} else {
			this._clear();
		}

		return this;

	},

	_getHandle: function(event) {
		return this.options.handle ?
			!!$( event.target ).closest( this.element.find( this.options.handle ) ).length :
			true;
	},

	_setHandleClassName: function() {
		this.handleElement = this.options.handle ?
			this.element.find( this.options.handle ) : this.element;
		this.handleElement.addClass( "ui-draggable-handle" );
	},

	_removeHandleClassName: function() {
		this.handleElement.removeClass( "ui-draggable-handle" );
	},

	_createHelper: function(event) {

		var o = this.options,
			helperIsFunction = $.isFunction( o.helper ),
			helper = helperIsFunction ?
				$( o.helper.apply( this.element[ 0 ], [ event ] ) ) :
				( o.helper === "clone" ?
					this.element.clone().removeAttr( "id" ) :
					this.element );

		if (!helper.parents("body").length) {
			helper.appendTo((o.appendTo === "parent" ? this.element[0].parentNode : o.appendTo));
		}

		// http://bugs.jqueryui.com/ticket/9446
		// a helper function can return the original element
		// which wouldn't have been set to relative in _create
		if ( helperIsFunction && helper[ 0 ] === this.element[ 0 ] ) {
			this._setPositionRelative();
		}

		if (helper[0] !== this.element[0] && !(/(fixed|absolute)/).test(helper.css("position"))) {
			helper.css("position", "absolute");
		}

		return helper;

	},

	_setPositionRelative: function() {
		if ( !( /^(?:r|a|f)/ ).test( this.element.css( "position" ) ) ) {
			this.element[ 0 ].style.position = "relative";
		}
	},

	_adjustOffsetFromHelper: function(obj) {
		if (typeof obj === "string") {
			obj = obj.split(" ");
		}
		if ($.isArray(obj)) {
			obj = { left: +obj[0], top: +obj[1] || 0 };
		}
		if ("left" in obj) {
			this.offset.click.left = obj.left + this.margins.left;
		}
		if ("right" in obj) {
			this.offset.click.left = this.helperProportions.width - obj.right + this.margins.left;
		}
		if ("top" in obj) {
			this.offset.click.top = obj.top + this.margins.top;
		}
		if ("bottom" in obj) {
			this.offset.click.top = this.helperProportions.height - obj.bottom + this.margins.top;
		}
	},

	_isRootNode: function( element ) {
		return ( /(html|body)/i ).test( element.tagName ) || element === this.document[ 0 ];
	},

	_getParentOffset: function() {

		//Get the offsetParent and cache its position
		var po = this.offsetParent.offset(),
			document = this.document[ 0 ];

		// This is a special case where we need to modify a offset calculated on start, since the following happened:
		// 1. The position of the helper is absolute, so it's position is calculated based on the next positioned parent
		// 2. The actual offset parent is a child of the scroll parent, and the scroll parent isn't the document, which means that
		//    the scroll is included in the initial calculation of the offset of the parent, and never recalculated upon drag
		if (this.cssPosition === "absolute" && this.scrollParent[0] !== document && $.contains(this.scrollParent[0], this.offsetParent[0])) {
			po.left += this.scrollParent.scrollLeft();
			po.top += this.scrollParent.scrollTop();
		}

		if ( this._isRootNode( this.offsetParent[ 0 ] ) ) {
			po = { top: 0, left: 0 };
		}

		return {
			top: po.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
			left: po.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
		};

	},

	_getRelativeOffset: function() {
		if ( this.cssPosition !== "relative" ) {
			return { top: 0, left: 0 };
		}

		var p = this.element.position(),
			scrollIsRootNode = this._isRootNode( this.scrollParent[ 0 ] );

		return {
			top: p.top - ( parseInt(this.helper.css( "top" ), 10) || 0 ) + ( !scrollIsRootNode ? this.scrollParent.scrollTop() : 0 ),
			left: p.left - ( parseInt(this.helper.css( "left" ), 10) || 0 ) + ( !scrollIsRootNode ? this.scrollParent.scrollLeft() : 0 )
		};

	},

	_cacheMargins: function() {
		this.margins = {
			left: (parseInt(this.element.css("marginLeft"), 10) || 0),
			top: (parseInt(this.element.css("marginTop"), 10) || 0),
			right: (parseInt(this.element.css("marginRight"), 10) || 0),
			bottom: (parseInt(this.element.css("marginBottom"), 10) || 0)
		};
	},

	_cacheHelperProportions: function() {
		this.helperProportions = {
			width: this.helper.outerWidth(),
			height: this.helper.outerHeight()
		};
	},

	_setContainment: function() {

		var isUserScrollable, c, ce,
			o = this.options,
			document = this.document[ 0 ];

		this.relativeContainer = null;

		if ( !o.containment ) {
			this.containment = null;
			return;
		}

		if ( o.containment === "window" ) {
			this.containment = [
				$( window ).scrollLeft() - this.offset.relative.left - this.offset.parent.left,
				$( window ).scrollTop() - this.offset.relative.top - this.offset.parent.top,
				$( window ).scrollLeft() + $( window ).width() - this.helperProportions.width - this.margins.left,
				$( window ).scrollTop() + ( $( window ).height() || document.body.parentNode.scrollHeight ) - this.helperProportions.height - this.margins.top
			];
			return;
		}

		if ( o.containment === "document") {
			this.containment = [
				0,
				0,
				$( document ).width() - this.helperProportions.width - this.margins.left,
				( $( document ).height() || document.body.parentNode.scrollHeight ) - this.helperProportions.height - this.margins.top
			];
			return;
		}

		if ( o.containment.constructor === Array ) {
			this.containment = o.containment;
			return;
		}

		if ( o.containment === "parent" ) {
			o.containment = this.helper[ 0 ].parentNode;
		}

		c = $( o.containment );
		ce = c[ 0 ];

		if ( !ce ) {
			return;
		}

		isUserScrollable = /(scroll|auto)/.test( c.css( "overflow" ) );

		this.containment = [
			( parseInt( c.css( "borderLeftWidth" ), 10 ) || 0 ) + ( parseInt( c.css( "paddingLeft" ), 10 ) || 0 ),
			( parseInt( c.css( "borderTopWidth" ), 10 ) || 0 ) + ( parseInt( c.css( "paddingTop" ), 10 ) || 0 ),
			( isUserScrollable ? Math.max( ce.scrollWidth, ce.offsetWidth ) : ce.offsetWidth ) -
				( parseInt( c.css( "borderRightWidth" ), 10 ) || 0 ) -
				( parseInt( c.css( "paddingRight" ), 10 ) || 0 ) -
				this.helperProportions.width -
				this.margins.left -
				this.margins.right,
			( isUserScrollable ? Math.max( ce.scrollHeight, ce.offsetHeight ) : ce.offsetHeight ) -
				( parseInt( c.css( "borderBottomWidth" ), 10 ) || 0 ) -
				( parseInt( c.css( "paddingBottom" ), 10 ) || 0 ) -
				this.helperProportions.height -
				this.margins.top -
				this.margins.bottom
		];
		this.relativeContainer = c;
	},

	_convertPositionTo: function(d, pos) {

		if (!pos) {
			pos = this.position;
		}

		var mod = d === "absolute" ? 1 : -1,
			scrollIsRootNode = this._isRootNode( this.scrollParent[ 0 ] );

		return {
			top: (
				pos.top	+																// The absolute mouse position
				this.offset.relative.top * mod +										// Only for relative positioned nodes: Relative offset from element to offset parent
				this.offset.parent.top * mod -										// The offsetParent's offset without borders (offset + border)
				( ( this.cssPosition === "fixed" ? -this.offset.scroll.top : ( scrollIsRootNode ? 0 : this.offset.scroll.top ) ) * mod)
			),
			left: (
				pos.left +																// The absolute mouse position
				this.offset.relative.left * mod +										// Only for relative positioned nodes: Relative offset from element to offset parent
				this.offset.parent.left * mod	-										// The offsetParent's offset without borders (offset + border)
				( ( this.cssPosition === "fixed" ? -this.offset.scroll.left : ( scrollIsRootNode ? 0 : this.offset.scroll.left ) ) * mod)
			)
		};

	},

	_generatePosition: function( event, constrainPosition ) {

		var containment, co, top, left,
			o = this.options,
			scrollIsRootNode = this._isRootNode( this.scrollParent[ 0 ] ),
			pageX = event.pageX,
			pageY = event.pageY;

		// Cache the scroll
		if ( !scrollIsRootNode || !this.offset.scroll ) {
			this.offset.scroll = {
				top: this.scrollParent.scrollTop(),
				left: this.scrollParent.scrollLeft()
			};
		}

		/*
		 * - Position constraining -
		 * Constrain the position to a mix of grid, containment.
		 */

		// If we are not dragging yet, we won't check for options
		if ( constrainPosition ) {
			if ( this.containment ) {
				if ( this.relativeContainer ){
					co = this.relativeContainer.offset();
					containment = [
						this.containment[ 0 ] + co.left,
						this.containment[ 1 ] + co.top,
						this.containment[ 2 ] + co.left,
						this.containment[ 3 ] + co.top
					];
				} else {
					containment = this.containment;
				}

				if (event.pageX - this.offset.click.left < containment[0]) {
					pageX = containment[0] + this.offset.click.left;
				}
				if (event.pageY - this.offset.click.top < containment[1]) {
					pageY = containment[1] + this.offset.click.top;
				}
				if (event.pageX - this.offset.click.left > containment[2]) {
					pageX = containment[2] + this.offset.click.left;
				}
				if (event.pageY - this.offset.click.top > containment[3]) {
					pageY = containment[3] + this.offset.click.top;
				}
			}

			if (o.grid) {
				//Check for grid elements set to 0 to prevent divide by 0 error causing invalid argument errors in IE (see ticket #6950)
				top = o.grid[1] ? this.originalPageY + Math.round((pageY - this.originalPageY) / o.grid[1]) * o.grid[1] : this.originalPageY;
				pageY = containment ? ((top - this.offset.click.top >= containment[1] || top - this.offset.click.top > containment[3]) ? top : ((top - this.offset.click.top >= containment[1]) ? top - o.grid[1] : top + o.grid[1])) : top;

				left = o.grid[0] ? this.originalPageX + Math.round((pageX - this.originalPageX) / o.grid[0]) * o.grid[0] : this.originalPageX;
				pageX = containment ? ((left - this.offset.click.left >= containment[0] || left - this.offset.click.left > containment[2]) ? left : ((left - this.offset.click.left >= containment[0]) ? left - o.grid[0] : left + o.grid[0])) : left;
			}

			if ( o.axis === "y" ) {
				pageX = this.originalPageX;
			}

			if ( o.axis === "x" ) {
				pageY = this.originalPageY;
			}
		}

		return {
			top: (
				pageY -																	// The absolute mouse position
				this.offset.click.top	-												// Click offset (relative to the element)
				this.offset.relative.top -												// Only for relative positioned nodes: Relative offset from element to offset parent
				this.offset.parent.top +												// The offsetParent's offset without borders (offset + border)
				( this.cssPosition === "fixed" ? -this.offset.scroll.top : ( scrollIsRootNode ? 0 : this.offset.scroll.top ) )
			),
			left: (
				pageX -																	// The absolute mouse position
				this.offset.click.left -												// Click offset (relative to the element)
				this.offset.relative.left -												// Only for relative positioned nodes: Relative offset from element to offset parent
				this.offset.parent.left +												// The offsetParent's offset without borders (offset + border)
				( this.cssPosition === "fixed" ? -this.offset.scroll.left : ( scrollIsRootNode ? 0 : this.offset.scroll.left ) )
			)
		};

	},

	_clear: function() {
		this.helper.removeClass("ui-draggable-dragging");
		if (this.helper[0] !== this.element[0] && !this.cancelHelperRemoval) {
			this.helper.remove();
		}
		this.helper = null;
		this.cancelHelperRemoval = false;
		if ( this.destroyOnClear ) {
			this.destroy();
		}
	},

	_normalizeRightBottom: function() {
		if ( this.options.axis !== "y" && this.helper.css( "right" ) !== "auto" ) {
			this.helper.width( this.helper.width() );
			this.helper.css( "right", "auto" );
		}
		if ( this.options.axis !== "x" && this.helper.css( "bottom" ) !== "auto" ) {
			this.helper.height( this.helper.height() );
			this.helper.css( "bottom", "auto" );
		}
	},

	// From now on bulk stuff - mainly helpers

	_trigger: function( type, event, ui ) {
		ui = ui || this._uiHash();
		$.ui.plugin.call( this, type, [ event, ui, this ], true );

		// Absolute position and offset (see #6884 ) have to be recalculated after plugins
		if ( /^(drag|start|stop)/.test( type ) ) {
			this.positionAbs = this._convertPositionTo( "absolute" );
			ui.offset = this.positionAbs;
		}
		return $.Widget.prototype._trigger.call( this, type, event, ui );
	},

	plugins: {},

	_uiHash: function() {
		return {
			helper: this.helper,
			position: this.position,
			originalPosition: this.originalPosition,
			offset: this.positionAbs
		};
	}

});

$.ui.plugin.add( "draggable", "connectToSortable", {
	start: function( event, ui, draggable ) {
		var uiSortable = $.extend( {}, ui, {
			item: draggable.element
		});

		draggable.sortables = [];
		$( draggable.options.connectToSortable ).each(function() {
			var sortable = $( this ).sortable( "instance" );

			if ( sortable && !sortable.options.disabled ) {
				draggable.sortables.push( sortable );

				// refreshPositions is called at drag start to refresh the containerCache
				// which is used in drag. This ensures it's initialized and synchronized
				// with any changes that might have happened on the page since initialization.
				sortable.refreshPositions();
				sortable._trigger("activate", event, uiSortable);
			}
		});
	},
	stop: function( event, ui, draggable ) {
		var uiSortable = $.extend( {}, ui, {
			item: draggable.element
		});

		draggable.cancelHelperRemoval = false;

		$.each( draggable.sortables, function() {
			var sortable = this;

			if ( sortable.isOver ) {
				sortable.isOver = 0;

				// Allow this sortable to handle removing the helper
				draggable.cancelHelperRemoval = true;
				sortable.cancelHelperRemoval = false;

				// Use _storedCSS To restore properties in the sortable,
				// as this also handles revert (#9675) since the draggable
				// may have modified them in unexpected ways (#8809)
				sortable._storedCSS = {
					position: sortable.placeholder.css( "position" ),
					top: sortable.placeholder.css( "top" ),
					left: sortable.placeholder.css( "left" )
				};

				sortable._mouseStop(event);

				// Once drag has ended, the sortable should return to using
				// its original helper, not the shared helper from draggable
				sortable.options.helper = sortable.options._helper;
			} else {
				// Prevent this Sortable from removing the helper.
				// However, don't set the draggable to remove the helper
				// either as another connected Sortable may yet handle the removal.
				sortable.cancelHelperRemoval = true;

				sortable._trigger( "deactivate", event, uiSortable );
			}
		});
	},
	drag: function( event, ui, draggable ) {
		$.each( draggable.sortables, function() {
			var innermostIntersecting = false,
				sortable = this;

			// Copy over variables that sortable's _intersectsWith uses
			sortable.positionAbs = draggable.positionAbs;
			sortable.helperProportions = draggable.helperProportions;
			sortable.offset.click = draggable.offset.click;

			if ( sortable._intersectsWith( sortable.containerCache ) ) {
				innermostIntersecting = true;

				$.each( draggable.sortables, function() {
					// Copy over variables that sortable's _intersectsWith uses
					this.positionAbs = draggable.positionAbs;
					this.helperProportions = draggable.helperProportions;
					this.offset.click = draggable.offset.click;

					if ( this !== sortable &&
							this._intersectsWith( this.containerCache ) &&
							$.contains( sortable.element[ 0 ], this.element[ 0 ] ) ) {
						innermostIntersecting = false;
					}

					return innermostIntersecting;
				});
			}

			if ( innermostIntersecting ) {
				// If it intersects, we use a little isOver variable and set it once,
				// so that the move-in stuff gets fired only once.
				if ( !sortable.isOver ) {
					sortable.isOver = 1;

					// Store draggable's parent in case we need to reappend to it later.
					draggable._parent = ui.helper.parent();

					sortable.currentItem = ui.helper
						.appendTo( sortable.element )
						.data( "ui-sortable-item", true );

					// Store helper option to later restore it
					sortable.options._helper = sortable.options.helper;

					sortable.options.helper = function() {
						return ui.helper[ 0 ];
					};

					// Fire the start events of the sortable with our passed browser event,
					// and our own helper (so it doesn't create a new one)
					event.target = sortable.currentItem[ 0 ];
					sortable._mouseCapture( event, true );
					sortable._mouseStart( event, true, true );

					// Because the browser event is way off the new appended portlet,
					// modify necessary variables to reflect the changes
					sortable.offset.click.top = draggable.offset.click.top;
					sortable.offset.click.left = draggable.offset.click.left;
					sortable.offset.parent.left -= draggable.offset.parent.left -
						sortable.offset.parent.left;
					sortable.offset.parent.top -= draggable.offset.parent.top -
						sortable.offset.parent.top;

					draggable._trigger( "toSortable", event );

					// Inform draggable that the helper is in a valid drop zone,
					// used solely in the revert option to handle "valid/invalid".
					draggable.dropped = sortable.element;

					// Need to refreshPositions of all sortables in the case that
					// adding to one sortable changes the location of the other sortables (#9675)
					$.each( draggable.sortables, function() {
						this.refreshPositions();
					});

					// hack so receive/update callbacks work (mostly)
					draggable.currentItem = draggable.element;
					sortable.fromOutside = draggable;
				}

				if ( sortable.currentItem ) {
					sortable._mouseDrag( event );
					// Copy the sortable's position because the draggable's can potentially reflect
					// a relative position, while sortable is always absolute, which the dragged
					// element has now become. (#8809)
					ui.position = sortable.position;
				}
			} else {
				// If it doesn't intersect with the sortable, and it intersected before,
				// we fake the drag stop of the sortable, but make sure it doesn't remove
				// the helper by using cancelHelperRemoval.
				if ( sortable.isOver ) {

					sortable.isOver = 0;
					sortable.cancelHelperRemoval = true;

					// Calling sortable's mouseStop would trigger a revert,
					// so revert must be temporarily false until after mouseStop is called.
					sortable.options._revert = sortable.options.revert;
					sortable.options.revert = false;

					sortable._trigger( "out", event, sortable._uiHash( sortable ) );
					sortable._mouseStop( event, true );

					// restore sortable behaviors that were modfied
					// when the draggable entered the sortable area (#9481)
					sortable.options.revert = sortable.options._revert;
					sortable.options.helper = sortable.options._helper;

					if ( sortable.placeholder ) {
						sortable.placeholder.remove();
					}

					// Restore and recalculate the draggable's offset considering the sortable
					// may have modified them in unexpected ways. (#8809, #10669)
					ui.helper.appendTo( draggable._parent );
					draggable._refreshOffsets( event );
					ui.position = draggable._generatePosition( event, true );

					draggable._trigger( "fromSortable", event );

					// Inform draggable that the helper is no longer in a valid drop zone
					draggable.dropped = false;

					// Need to refreshPositions of all sortables just in case removing
					// from one sortable changes the location of other sortables (#9675)
					$.each( draggable.sortables, function() {
						this.refreshPositions();
					});
				}
			}
		});
	}
});

$.ui.plugin.add("draggable", "cursor", {
	start: function( event, ui, instance ) {
		var t = $( "body" ),
			o = instance.options;

		if (t.css("cursor")) {
			o._cursor = t.css("cursor");
		}
		t.css("cursor", o.cursor);
	},
	stop: function( event, ui, instance ) {
		var o = instance.options;
		if (o._cursor) {
			$("body").css("cursor", o._cursor);
		}
	}
});

$.ui.plugin.add("draggable", "opacity", {
	start: function( event, ui, instance ) {
		var t = $( ui.helper ),
			o = instance.options;
		if (t.css("opacity")) {
			o._opacity = t.css("opacity");
		}
		t.css("opacity", o.opacity);
	},
	stop: function( event, ui, instance ) {
		var o = instance.options;
		if (o._opacity) {
			$(ui.helper).css("opacity", o._opacity);
		}
	}
});

$.ui.plugin.add("draggable", "scroll", {
	start: function( event, ui, i ) {
		if ( !i.scrollParentNotHidden ) {
			i.scrollParentNotHidden = i.helper.scrollParent( false );
		}

		if ( i.scrollParentNotHidden[ 0 ] !== i.document[ 0 ] && i.scrollParentNotHidden[ 0 ].tagName !== "HTML" ) {
			i.overflowOffset = i.scrollParentNotHidden.offset();
		}
	},
	drag: function( event, ui, i  ) {

		var o = i.options,
			scrolled = false,
			scrollParent = i.scrollParentNotHidden[ 0 ],
			document = i.document[ 0 ];

		if ( scrollParent !== document && scrollParent.tagName !== "HTML" ) {
			if ( !o.axis || o.axis !== "x" ) {
				if ( ( i.overflowOffset.top + scrollParent.offsetHeight ) - event.pageY < o.scrollSensitivity ) {
					scrollParent.scrollTop = scrolled = scrollParent.scrollTop + o.scrollSpeed;
				} else if ( event.pageY - i.overflowOffset.top < o.scrollSensitivity ) {
					scrollParent.scrollTop = scrolled = scrollParent.scrollTop - o.scrollSpeed;
				}
			}

			if ( !o.axis || o.axis !== "y" ) {
				if ( ( i.overflowOffset.left + scrollParent.offsetWidth ) - event.pageX < o.scrollSensitivity ) {
					scrollParent.scrollLeft = scrolled = scrollParent.scrollLeft + o.scrollSpeed;
				} else if ( event.pageX - i.overflowOffset.left < o.scrollSensitivity ) {
					scrollParent.scrollLeft = scrolled = scrollParent.scrollLeft - o.scrollSpeed;
				}
			}

		} else {

			if (!o.axis || o.axis !== "x") {
				if (event.pageY - $(document).scrollTop() < o.scrollSensitivity) {
					scrolled = $(document).scrollTop($(document).scrollTop() - o.scrollSpeed);
				} else if ($(window).height() - (event.pageY - $(document).scrollTop()) < o.scrollSensitivity) {
					scrolled = $(document).scrollTop($(document).scrollTop() + o.scrollSpeed);
				}
			}

			if (!o.axis || o.axis !== "y") {
				if (event.pageX - $(document).scrollLeft() < o.scrollSensitivity) {
					scrolled = $(document).scrollLeft($(document).scrollLeft() - o.scrollSpeed);
				} else if ($(window).width() - (event.pageX - $(document).scrollLeft()) < o.scrollSensitivity) {
					scrolled = $(document).scrollLeft($(document).scrollLeft() + o.scrollSpeed);
				}
			}

		}

		if (scrolled !== false && $.ui.ddmanager && !o.dropBehaviour) {
			$.ui.ddmanager.prepareOffsets(i, event);
		}

	}
});

$.ui.plugin.add("draggable", "snap", {
	start: function( event, ui, i ) {

		var o = i.options;

		i.snapElements = [];

		$(o.snap.constructor !== String ? ( o.snap.items || ":data(ui-draggable)" ) : o.snap).each(function() {
			var $t = $(this),
				$o = $t.offset();
			if (this !== i.element[0]) {
				i.snapElements.push({
					item: this,
					width: $t.outerWidth(), height: $t.outerHeight(),
					top: $o.top, left: $o.left
				});
			}
		});

	},
	drag: function( event, ui, inst ) {

		var ts, bs, ls, rs, l, r, t, b, i, first,
			o = inst.options,
			d = o.snapTolerance,
			x1 = ui.offset.left, x2 = x1 + inst.helperProportions.width,
			y1 = ui.offset.top, y2 = y1 + inst.helperProportions.height;

		for (i = inst.snapElements.length - 1; i >= 0; i--){

			l = inst.snapElements[i].left - inst.margins.left;
			r = l + inst.snapElements[i].width;
			t = inst.snapElements[i].top - inst.margins.top;
			b = t + inst.snapElements[i].height;

			if ( x2 < l - d || x1 > r + d || y2 < t - d || y1 > b + d || !$.contains( inst.snapElements[ i ].item.ownerDocument, inst.snapElements[ i ].item ) ) {
				if (inst.snapElements[i].snapping) {
					(inst.options.snap.release && inst.options.snap.release.call(inst.element, event, $.extend(inst._uiHash(), { snapItem: inst.snapElements[i].item })));
				}
				inst.snapElements[i].snapping = false;
				continue;
			}

			if (o.snapMode !== "inner") {
				ts = Math.abs(t - y2) <= d;
				bs = Math.abs(b - y1) <= d;
				ls = Math.abs(l - x2) <= d;
				rs = Math.abs(r - x1) <= d;
				if (ts) {
					ui.position.top = inst._convertPositionTo("relative", { top: t - inst.helperProportions.height, left: 0 }).top;
				}
				if (bs) {
					ui.position.top = inst._convertPositionTo("relative", { top: b, left: 0 }).top;
				}
				if (ls) {
					ui.position.left = inst._convertPositionTo("relative", { top: 0, left: l - inst.helperProportions.width }).left;
				}
				if (rs) {
					ui.position.left = inst._convertPositionTo("relative", { top: 0, left: r }).left;
				}
			}

			first = (ts || bs || ls || rs);

			if (o.snapMode !== "outer") {
				ts = Math.abs(t - y1) <= d;
				bs = Math.abs(b - y2) <= d;
				ls = Math.abs(l - x1) <= d;
				rs = Math.abs(r - x2) <= d;
				if (ts) {
					ui.position.top = inst._convertPositionTo("relative", { top: t, left: 0 }).top;
				}
				if (bs) {
					ui.position.top = inst._convertPositionTo("relative", { top: b - inst.helperProportions.height, left: 0 }).top;
				}
				if (ls) {
					ui.position.left = inst._convertPositionTo("relative", { top: 0, left: l }).left;
				}
				if (rs) {
					ui.position.left = inst._convertPositionTo("relative", { top: 0, left: r - inst.helperProportions.width }).left;
				}
			}

			if (!inst.snapElements[i].snapping && (ts || bs || ls || rs || first)) {
				(inst.options.snap.snap && inst.options.snap.snap.call(inst.element, event, $.extend(inst._uiHash(), { snapItem: inst.snapElements[i].item })));
			}
			inst.snapElements[i].snapping = (ts || bs || ls || rs || first);

		}

	}
});

$.ui.plugin.add("draggable", "stack", {
	start: function( event, ui, instance ) {
		var min,
			o = instance.options,
			group = $.makeArray($(o.stack)).sort(function(a, b) {
				return (parseInt($(a).css("zIndex"), 10) || 0) - (parseInt($(b).css("zIndex"), 10) || 0);
			});

		if (!group.length) { return; }

		min = parseInt($(group[0]).css("zIndex"), 10) || 0;
		$(group).each(function(i) {
			$(this).css("zIndex", min + i);
		});
		this.css("zIndex", (min + group.length));
	}
});

$.ui.plugin.add("draggable", "zIndex", {
	start: function( event, ui, instance ) {
		var t = $( ui.helper ),
			o = instance.options;

		if (t.css("zIndex")) {
			o._zIndex = t.css("zIndex");
		}
		t.css("zIndex", o.zIndex);
	},
	stop: function( event, ui, instance ) {
		var o = instance.options;

		if (o._zIndex) {
			$(ui.helper).css("zIndex", o._zIndex);
		}
	}
});

return $.ui.draggable;

}));
/*!
 * jQuery UI Position 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */

(function( factory ) {
	if ( typeof define === "function" && define.amd ) {

		// AMD. Register as an anonymous module.
		define( [ "jquery" ], factory );
	} else {

		// Browser globals
		factory( jQuery );
	}
}(function( $ ) {
(function() {

$.ui = $.ui || {};

var cachedScrollbarWidth, supportsOffsetFractions,
	max = Math.max,
	abs = Math.abs,
	round = Math.round,
	rhorizontal = /left|center|right/,
	rvertical = /top|center|bottom/,
	roffset = /[\+\-]\d+(\.[\d]+)?%?/,
	rposition = /^\w+/,
	rpercent = /%$/,
	_position = $.fn.position;

function getOffsets( offsets, width, height ) {
	return [
		parseFloat( offsets[ 0 ] ) * ( rpercent.test( offsets[ 0 ] ) ? width / 100 : 1 ),
		parseFloat( offsets[ 1 ] ) * ( rpercent.test( offsets[ 1 ] ) ? height / 100 : 1 )
	];
}

function parseCss( element, property ) {
	return parseInt( $.css( element, property ), 10 ) || 0;
}

function getDimensions( elem ) {
	var raw = elem[0];
	if ( raw.nodeType === 9 ) {
		return {
			width: elem.width(),
			height: elem.height(),
			offset: { top: 0, left: 0 }
		};
	}
	if ( $.isWindow( raw ) ) {
		return {
			width: elem.width(),
			height: elem.height(),
			offset: { top: elem.scrollTop(), left: elem.scrollLeft() }
		};
	}
	if ( raw.preventDefault ) {
		return {
			width: 0,
			height: 0,
			offset: { top: raw.pageY, left: raw.pageX }
		};
	}
	return {
		width: elem.outerWidth(),
		height: elem.outerHeight(),
		offset: elem.offset()
	};
}

$.position = {
	scrollbarWidth: function() {
		if ( cachedScrollbarWidth !== undefined ) {
			return cachedScrollbarWidth;
		}
		var w1, w2,
			div = $( "<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>" ),
			innerDiv = div.children()[0];

		$( "body" ).append( div );
		w1 = innerDiv.offsetWidth;
		div.css( "overflow", "scroll" );

		w2 = innerDiv.offsetWidth;

		if ( w1 === w2 ) {
			w2 = div[0].clientWidth;
		}

		div.remove();

		return (cachedScrollbarWidth = w1 - w2);
	},
	getScrollInfo: function( within ) {
		var overflowX = within.isWindow || within.isDocument ? "" :
				within.element.css( "overflow-x" ),
			overflowY = within.isWindow || within.isDocument ? "" :
				within.element.css( "overflow-y" ),
			hasOverflowX = overflowX === "scroll" ||
				( overflowX === "auto" && within.width < within.element[0].scrollWidth ),
			hasOverflowY = overflowY === "scroll" ||
				( overflowY === "auto" && within.height < within.element[0].scrollHeight );
		return {
			width: hasOverflowY ? $.position.scrollbarWidth() : 0,
			height: hasOverflowX ? $.position.scrollbarWidth() : 0
		};
	},
	getWithinInfo: function( element ) {
		var withinElement = $( element || window ),
			isWindow = $.isWindow( withinElement[0] ),
			isDocument = !!withinElement[ 0 ] && withinElement[ 0 ].nodeType === 9;
		return {
			element: withinElement,
			isWindow: isWindow,
			isDocument: isDocument,
			offset: withinElement.offset() || { left: 0, top: 0 },
			scrollLeft: withinElement.scrollLeft(),
			scrollTop: withinElement.scrollTop(),

			// support: jQuery 1.6.x
			// jQuery 1.6 doesn't support .outerWidth/Height() on documents or windows
			width: isWindow || isDocument ? withinElement.width() : withinElement.outerWidth(),
			height: isWindow || isDocument ? withinElement.height() : withinElement.outerHeight()
		};
	}
};

$.fn.position = function( options ) {
	if ( !options || !options.of ) {
		return _position.apply( this, arguments );
	}

	// make a copy, we don't want to modify arguments
	options = $.extend( {}, options );

	var atOffset, targetWidth, targetHeight, targetOffset, basePosition, dimensions,
		target = $( options.of ),
		within = $.position.getWithinInfo( options.within ),
		scrollInfo = $.position.getScrollInfo( within ),
		collision = ( options.collision || "flip" ).split( " " ),
		offsets = {};

	dimensions = getDimensions( target );
	if ( target[0].preventDefault ) {
		// force left top to allow flipping
		options.at = "left top";
	}
	targetWidth = dimensions.width;
	targetHeight = dimensions.height;
	targetOffset = dimensions.offset;
	// clone to reuse original targetOffset later
	basePosition = $.extend( {}, targetOffset );

	// force my and at to have valid horizontal and vertical positions
	// if a value is missing or invalid, it will be converted to center
	$.each( [ "my", "at" ], function() {
		var pos = ( options[ this ] || "" ).split( " " ),
			horizontalOffset,
			verticalOffset;

		if ( pos.length === 1) {
			pos = rhorizontal.test( pos[ 0 ] ) ?
				pos.concat( [ "center" ] ) :
				rvertical.test( pos[ 0 ] ) ?
					[ "center" ].concat( pos ) :
					[ "center", "center" ];
		}
		pos[ 0 ] = rhorizontal.test( pos[ 0 ] ) ? pos[ 0 ] : "center";
		pos[ 1 ] = rvertical.test( pos[ 1 ] ) ? pos[ 1 ] : "center";

		// calculate offsets
		horizontalOffset = roffset.exec( pos[ 0 ] );
		verticalOffset = roffset.exec( pos[ 1 ] );
		offsets[ this ] = [
			horizontalOffset ? horizontalOffset[ 0 ] : 0,
			verticalOffset ? verticalOffset[ 0 ] : 0
		];

		// reduce to just the positions without the offsets
		options[ this ] = [
			rposition.exec( pos[ 0 ] )[ 0 ],
			rposition.exec( pos[ 1 ] )[ 0 ]
		];
	});

	// normalize collision option
	if ( collision.length === 1 ) {
		collision[ 1 ] = collision[ 0 ];
	}

	if ( options.at[ 0 ] === "right" ) {
		basePosition.left += targetWidth;
	} else if ( options.at[ 0 ] === "center" ) {
		basePosition.left += targetWidth / 2;
	}

	if ( options.at[ 1 ] === "bottom" ) {
		basePosition.top += targetHeight;
	} else if ( options.at[ 1 ] === "center" ) {
		basePosition.top += targetHeight / 2;
	}

	atOffset = getOffsets( offsets.at, targetWidth, targetHeight );
	basePosition.left += atOffset[ 0 ];
	basePosition.top += atOffset[ 1 ];

	return this.each(function() {
		var collisionPosition, using,
			elem = $( this ),
			elemWidth = elem.outerWidth(),
			elemHeight = elem.outerHeight(),
			marginLeft = parseCss( this, "marginLeft" ),
			marginTop = parseCss( this, "marginTop" ),
			collisionWidth = elemWidth + marginLeft + parseCss( this, "marginRight" ) + scrollInfo.width,
			collisionHeight = elemHeight + marginTop + parseCss( this, "marginBottom" ) + scrollInfo.height,
			position = $.extend( {}, basePosition ),
			myOffset = getOffsets( offsets.my, elem.outerWidth(), elem.outerHeight() );

		if ( options.my[ 0 ] === "right" ) {
			position.left -= elemWidth;
		} else if ( options.my[ 0 ] === "center" ) {
			position.left -= elemWidth / 2;
		}

		if ( options.my[ 1 ] === "bottom" ) {
			position.top -= elemHeight;
		} else if ( options.my[ 1 ] === "center" ) {
			position.top -= elemHeight / 2;
		}

		position.left += myOffset[ 0 ];
		position.top += myOffset[ 1 ];

		// if the browser doesn't support fractions, then round for consistent results
		if ( !supportsOffsetFractions ) {
			position.left = round( position.left );
			position.top = round( position.top );
		}

		collisionPosition = {
			marginLeft: marginLeft,
			marginTop: marginTop
		};

		$.each( [ "left", "top" ], function( i, dir ) {
			if ( $.ui.position[ collision[ i ] ] ) {
				$.ui.position[ collision[ i ] ][ dir ]( position, {
					targetWidth: targetWidth,
					targetHeight: targetHeight,
					elemWidth: elemWidth,
					elemHeight: elemHeight,
					collisionPosition: collisionPosition,
					collisionWidth: collisionWidth,
					collisionHeight: collisionHeight,
					offset: [ atOffset[ 0 ] + myOffset[ 0 ], atOffset [ 1 ] + myOffset[ 1 ] ],
					my: options.my,
					at: options.at,
					within: within,
					elem: elem
				});
			}
		});

		if ( options.using ) {
			// adds feedback as second argument to using callback, if present
			using = function( props ) {
				var left = targetOffset.left - position.left,
					right = left + targetWidth - elemWidth,
					top = targetOffset.top - position.top,
					bottom = top + targetHeight - elemHeight,
					feedback = {
						target: {
							element: target,
							left: targetOffset.left,
							top: targetOffset.top,
							width: targetWidth,
							height: targetHeight
						},
						element: {
							element: elem,
							left: position.left,
							top: position.top,
							width: elemWidth,
							height: elemHeight
						},
						horizontal: right < 0 ? "left" : left > 0 ? "right" : "center",
						vertical: bottom < 0 ? "top" : top > 0 ? "bottom" : "middle"
					};
				if ( targetWidth < elemWidth && abs( left + right ) < targetWidth ) {
					feedback.horizontal = "center";
				}
				if ( targetHeight < elemHeight && abs( top + bottom ) < targetHeight ) {
					feedback.vertical = "middle";
				}
				if ( max( abs( left ), abs( right ) ) > max( abs( top ), abs( bottom ) ) ) {
					feedback.important = "horizontal";
				} else {
					feedback.important = "vertical";
				}
				options.using.call( this, props, feedback );
			};
		}

		elem.offset( $.extend( position, { using: using } ) );
	});
};

$.ui.position = {
	fit: {
		left: function( position, data ) {
			var within = data.within,
				withinOffset = within.isWindow ? within.scrollLeft : within.offset.left,
				outerWidth = within.width,
				collisionPosLeft = position.left - data.collisionPosition.marginLeft,
				overLeft = withinOffset - collisionPosLeft,
				overRight = collisionPosLeft + data.collisionWidth - outerWidth - withinOffset,
				newOverRight;

			// element is wider than within
			if ( data.collisionWidth > outerWidth ) {
				// element is initially over the left side of within
				if ( overLeft > 0 && overRight <= 0 ) {
					newOverRight = position.left + overLeft + data.collisionWidth - outerWidth - withinOffset;
					position.left += overLeft - newOverRight;
				// element is initially over right side of within
				} else if ( overRight > 0 && overLeft <= 0 ) {
					position.left = withinOffset;
				// element is initially over both left and right sides of within
				} else {
					if ( overLeft > overRight ) {
						position.left = withinOffset + outerWidth - data.collisionWidth;
					} else {
						position.left = withinOffset;
					}
				}
			// too far left -> align with left edge
			} else if ( overLeft > 0 ) {
				position.left += overLeft;
			// too far right -> align with right edge
			} else if ( overRight > 0 ) {
				position.left -= overRight;
			// adjust based on position and margin
			} else {
				position.left = max( position.left - collisionPosLeft, position.left );
			}
		},
		top: function( position, data ) {
			var within = data.within,
				withinOffset = within.isWindow ? within.scrollTop : within.offset.top,
				outerHeight = data.within.height,
				collisionPosTop = position.top - data.collisionPosition.marginTop,
				overTop = withinOffset - collisionPosTop,
				overBottom = collisionPosTop + data.collisionHeight - outerHeight - withinOffset,
				newOverBottom;

			// element is taller than within
			if ( data.collisionHeight > outerHeight ) {
				// element is initially over the top of within
				if ( overTop > 0 && overBottom <= 0 ) {
					newOverBottom = position.top + overTop + data.collisionHeight - outerHeight - withinOffset;
					position.top += overTop - newOverBottom;
				// element is initially over bottom of within
				} else if ( overBottom > 0 && overTop <= 0 ) {
					position.top = withinOffset;
				// element is initially over both top and bottom of within
				} else {
					if ( overTop > overBottom ) {
						position.top = withinOffset + outerHeight - data.collisionHeight;
					} else {
						position.top = withinOffset;
					}
				}
			// too far up -> align with top
			} else if ( overTop > 0 ) {
				position.top += overTop;
			// too far down -> align with bottom edge
			} else if ( overBottom > 0 ) {
				position.top -= overBottom;
			// adjust based on position and margin
			} else {
				position.top = max( position.top - collisionPosTop, position.top );
			}
		}
	},
	flip: {
		left: function( position, data ) {
			var within = data.within,
				withinOffset = within.offset.left + within.scrollLeft,
				outerWidth = within.width,
				offsetLeft = within.isWindow ? within.scrollLeft : within.offset.left,
				collisionPosLeft = position.left - data.collisionPosition.marginLeft,
				overLeft = collisionPosLeft - offsetLeft,
				overRight = collisionPosLeft + data.collisionWidth - outerWidth - offsetLeft,
				myOffset = data.my[ 0 ] === "left" ?
					-data.elemWidth :
					data.my[ 0 ] === "right" ?
						data.elemWidth :
						0,
				atOffset = data.at[ 0 ] === "left" ?
					data.targetWidth :
					data.at[ 0 ] === "right" ?
						-data.targetWidth :
						0,
				offset = -2 * data.offset[ 0 ],
				newOverRight,
				newOverLeft;

			if ( overLeft < 0 ) {
				newOverRight = position.left + myOffset + atOffset + offset + data.collisionWidth - outerWidth - withinOffset;
				if ( newOverRight < 0 || newOverRight < abs( overLeft ) ) {
					position.left += myOffset + atOffset + offset;
				}
			} else if ( overRight > 0 ) {
				newOverLeft = position.left - data.collisionPosition.marginLeft + myOffset + atOffset + offset - offsetLeft;
				if ( newOverLeft > 0 || abs( newOverLeft ) < overRight ) {
					position.left += myOffset + atOffset + offset;
				}
			}
		},
		top: function( position, data ) {
			var within = data.within,
				withinOffset = within.offset.top + within.scrollTop,
				outerHeight = within.height,
				offsetTop = within.isWindow ? within.scrollTop : within.offset.top,
				collisionPosTop = position.top - data.collisionPosition.marginTop,
				overTop = collisionPosTop - offsetTop,
				overBottom = collisionPosTop + data.collisionHeight - outerHeight - offsetTop,
				top = data.my[ 1 ] === "top",
				myOffset = top ?
					-data.elemHeight :
					data.my[ 1 ] === "bottom" ?
						data.elemHeight :
						0,
				atOffset = data.at[ 1 ] === "top" ?
					data.targetHeight :
					data.at[ 1 ] === "bottom" ?
						-data.targetHeight :
						0,
				offset = -2 * data.offset[ 1 ],
				newOverTop,
				newOverBottom;
			if ( overTop < 0 ) {
				newOverBottom = position.top + myOffset + atOffset + offset + data.collisionHeight - outerHeight - withinOffset;
				if ( newOverBottom < 0 || newOverBottom < abs( overTop ) ) {
					position.top += myOffset + atOffset + offset;
				}
			} else if ( overBottom > 0 ) {
				newOverTop = position.top - data.collisionPosition.marginTop + myOffset + atOffset + offset - offsetTop;
				if ( newOverTop > 0 || abs( newOverTop ) < overBottom ) {
					position.top += myOffset + atOffset + offset;
				}
			}
		}
	},
	flipfit: {
		left: function() {
			$.ui.position.flip.left.apply( this, arguments );
			$.ui.position.fit.left.apply( this, arguments );
		},
		top: function() {
			$.ui.position.flip.top.apply( this, arguments );
			$.ui.position.fit.top.apply( this, arguments );
		}
	}
};

// fraction support test
(function() {
	var testElement, testElementParent, testElementStyle, offsetLeft, i,
		body = document.getElementsByTagName( "body" )[ 0 ],
		div = document.createElement( "div" );

	//Create a "fake body" for testing based on method used in jQuery.support
	testElement = document.createElement( body ? "div" : "body" );
	testElementStyle = {
		visibility: "hidden",
		width: 0,
		height: 0,
		border: 0,
		margin: 0,
		background: "none"
	};
	if ( body ) {
		$.extend( testElementStyle, {
			position: "absolute",
			left: "-1000px",
			top: "-1000px"
		});
	}
	for ( i in testElementStyle ) {
		testElement.style[ i ] = testElementStyle[ i ];
	}
	testElement.appendChild( div );
	testElementParent = body || document.documentElement;
	testElementParent.insertBefore( testElement, testElementParent.firstChild );

	div.style.cssText = "position: absolute; left: 10.7432222px;";

	offsetLeft = $( div ).offset().left;
	supportsOffsetFractions = offsetLeft > 10 && offsetLeft < 11;

	testElement.innerHTML = "";
	testElementParent.removeChild( testElement );
})();

})();

return $.ui.position;

}));




/*!
 * jQuery UI Resizable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/resizable/
 */

(function( factory ) {
	if ( typeof define === "function" && define.amd ) {

		// AMD. Register as an anonymous module.
		define([
			"jquery",
			"./core",
			"./mouse",
			"./widget"
		], factory );
	} else {

		// Browser globals
		factory( jQuery );
	}
}(function( $ ) {

$.widget("ui.resizable", $.ui.mouse, {
	version: "1.11.4",
	widgetEventPrefix: "resize",
	options: {
		alsoResize: false,
		animate: false,
		animateDuration: "slow",
		animateEasing: "swing",
		aspectRatio: false,
		autoHide: false,
		containment: false,
		ghost: false,
		grid: false,
		handles: "e,s,se",
		helper: false,
		maxHeight: null,
		maxWidth: null,
		minHeight: 10,
		minWidth: 10,
		// See #7960
		zIndex: 90,

		// callbacks
		resize: null,
		start: null,
		stop: null
	},

	_num: function( value ) {
		return parseInt( value, 10 ) || 0;
	},

	_isNumber: function( value ) {
		return !isNaN( parseInt( value, 10 ) );
	},

	_hasScroll: function( el, a ) {

		if ( $( el ).css( "overflow" ) === "hidden") {
			return false;
		}

		var scroll = ( a && a === "left" ) ? "scrollLeft" : "scrollTop",
			has = false;

		if ( el[ scroll ] > 0 ) {
			return true;
		}

		// TODO: determine which cases actually cause this to happen
		// if the element doesn't have the scroll set, see if it's possible to
		// set the scroll
		el[ scroll ] = 1;
		has = ( el[ scroll ] > 0 );
		el[ scroll ] = 0;
		return has;
	},

	_create: function() {

		var n, i, handle, axis, hname,
			that = this,
			o = this.options;
		this.element.addClass("ui-resizable");

		$.extend(this, {
			_aspectRatio: !!(o.aspectRatio),
			aspectRatio: o.aspectRatio,
			originalElement: this.element,
			_proportionallyResizeElements: [],
			_helper: o.helper || o.ghost || o.animate ? o.helper || "ui-resizable-helper" : null
		});

		// Wrap the element if it cannot hold child nodes
		if (this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)) {

			this.element.wrap(
				$("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({
					position: this.element.css("position"),
					width: this.element.outerWidth(),
					height: this.element.outerHeight(),
					top: this.element.css("top"),
					left: this.element.css("left")
				})
			);

			this.element = this.element.parent().data(
				"ui-resizable", this.element.resizable( "instance" )
			);

			this.elementIsWrapper = true;

			this.element.css({
				marginLeft: this.originalElement.css("marginLeft"),
				marginTop: this.originalElement.css("marginTop"),
				marginRight: this.originalElement.css("marginRight"),
				marginBottom: this.originalElement.css("marginBottom")
			});
			this.originalElement.css({
				marginLeft: 0,
				marginTop: 0,
				marginRight: 0,
				marginBottom: 0
			});
			// support: Safari
			// Prevent Safari textarea resize
			this.originalResizeStyle = this.originalElement.css("resize");
			this.originalElement.css("resize", "none");

			this._proportionallyResizeElements.push( this.originalElement.css({
				position: "static",
				zoom: 1,
				display: "block"
			}) );

			// support: IE9
			// avoid IE jump (hard set the margin)
			this.originalElement.css({ margin: this.originalElement.css("margin") });

			this._proportionallyResize();
		}

		this.handles = o.handles ||
			( !$(".ui-resizable-handle", this.element).length ?
				"e,s,se" : {
					n: ".ui-resizable-n",
					e: ".ui-resizable-e",
					s: ".ui-resizable-s",
					w: ".ui-resizable-w",
					se: ".ui-resizable-se",
					sw: ".ui-resizable-sw",
					ne: ".ui-resizable-ne",
					nw: ".ui-resizable-nw"
				} );

		this._handles = $();
		if ( this.handles.constructor === String ) {

			if ( this.handles === "all") {
				this.handles = "n,e,s,w,se,sw,ne,nw";
			}

			n = this.handles.split(",");
			this.handles = {};

			for (i = 0; i < n.length; i++) {

				handle = $.trim(n[i]);
				hname = "ui-resizable-" + handle;
				axis = $("<div class='ui-resizable-handle " + hname + "'></div>");

				axis.css({ zIndex: o.zIndex });

				// TODO : What's going on here?
				if ("se" === handle) {
					axis.addClass("ui-icon ui-icon-gripsmall-diagonal-se");
				}

				this.handles[handle] = ".ui-resizable-" + handle;
				this.element.append(axis);
			}

		}

		this._renderAxis = function(target) {

			var i, axis, padPos, padWrapper;

			target = target || this.element;

			for (i in this.handles) {

				if (this.handles[i].constructor === String) {
					this.handles[i] = this.element.children( this.handles[ i ] ).first().show();
				} else if ( this.handles[ i ].jquery || this.handles[ i ].nodeType ) {
					this.handles[ i ] = $( this.handles[ i ] );
					this._on( this.handles[ i ], { "mousedown": that._mouseDown });
				}

				if (this.elementIsWrapper && this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)) {

					axis = $(this.handles[i], this.element);

					padWrapper = /sw|ne|nw|se|n|s/.test(i) ? axis.outerHeight() : axis.outerWidth();

					padPos = [ "padding",
						/ne|nw|n/.test(i) ? "Top" :
						/se|sw|s/.test(i) ? "Bottom" :
						/^e$/.test(i) ? "Right" : "Left" ].join("");

					target.css(padPos, padWrapper);

					this._proportionallyResize();
				}

				this._handles = this._handles.add( this.handles[ i ] );
			}
		};

		// TODO: make renderAxis a prototype function
		this._renderAxis(this.element);

		this._handles = this._handles.add( this.element.find( ".ui-resizable-handle" ) );
		this._handles.disableSelection();

		this._handles.mouseover(function() {
			if (!that.resizing) {
				if (this.className) {
					axis = this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);
				}
				that.axis = axis && axis[1] ? axis[1] : "se";
			}
		});

		if (o.autoHide) {
			this._handles.hide();
			$(this.element)
				.addClass("ui-resizable-autohide")
				.mouseenter(function() {
					if (o.disabled) {
						return;
					}
					$(this).removeClass("ui-resizable-autohide");
					that._handles.show();
				})
				.mouseleave(function() {
					if (o.disabled) {
						return;
					}
					if (!that.resizing) {
						$(this).addClass("ui-resizable-autohide");
						that._handles.hide();
					}
				});
		}

		this._mouseInit();
	},

	_destroy: function() {

		this._mouseDestroy();

		var wrapper,
			_destroy = function(exp) {
				$(exp)
					.removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing")
					.removeData("resizable")
					.removeData("ui-resizable")
					.unbind(".resizable")
					.find(".ui-resizable-handle")
						.remove();
			};

		// TODO: Unwrap at same DOM position
		if (this.elementIsWrapper) {
			_destroy(this.element);
			wrapper = this.element;
			this.originalElement.css({
				position: wrapper.css("position"),
				width: wrapper.outerWidth(),
				height: wrapper.outerHeight(),
				top: wrapper.css("top"),
				left: wrapper.css("left")
			}).insertAfter( wrapper );
			wrapper.remove();
		}

		this.originalElement.css("resize", this.originalResizeStyle);
		_destroy(this.originalElement);

		return this;
	},

	_mouseCapture: function(event) {
		var i, handle,
			capture = false;

		for (i in this.handles) {
			handle = $(this.handles[i])[0];
			if (handle === event.target || $.contains(handle, event.target)) {
				capture = true;
			}
		}

		return !this.options.disabled && capture;
	},

	_mouseStart: function(event) {

		var curleft, curtop, cursor,
			o = this.options,
			el = this.element;

		this.resizing = true;

		this._renderProxy();

		curleft = this._num(this.helper.css("left"));
		curtop = this._num(this.helper.css("top"));

		if (o.containment) {
			curleft += $(o.containment).scrollLeft() || 0;
			curtop += $(o.containment).scrollTop() || 0;
		}

		this.offset = this.helper.offset();
		this.position = { left: curleft, top: curtop };

		this.size = this._helper ? {
				width: this.helper.width(),
				height: this.helper.height()
			} : {
				width: el.width(),
				height: el.height()
			};

		this.originalSize = this._helper ? {
				width: el.outerWidth(),
				height: el.outerHeight()
			} : {
				width: el.width(),
				height: el.height()
			};

		this.sizeDiff = {
			width: el.outerWidth() - el.width(),
			height: el.outerHeight() - el.height()
		};

		this.originalPosition = { left: curleft, top: curtop };
		this.originalMousePosition = { left: event.pageX, top: event.pageY };

		this.aspectRatio = (typeof o.aspectRatio === "number") ?
			o.aspectRatio :
			((this.originalSize.width / this.originalSize.height) || 1);

		cursor = $(".ui-resizable-" + this.axis).css("cursor");
		$("body").css("cursor", cursor === "auto" ? this.axis + "-resize" : cursor);

		el.addClass("ui-resizable-resizing");
		this._propagate("start", event);
		return true;
	},

	_mouseDrag: function(event) {

		var data, props,
			smp = this.originalMousePosition,
			a = this.axis,
			dx = (event.pageX - smp.left) || 0,
			dy = (event.pageY - smp.top) || 0,
			trigger = this._change[a];

		this._updatePrevProperties();

		if (!trigger) {
			return false;
		}

		data = trigger.apply(this, [ event, dx, dy ]);

		this._updateVirtualBoundaries(event.shiftKey);
		if (this._aspectRatio || event.shiftKey) {
			data = this._updateRatio(data, event);
		}

		data = this._respectSize(data, event);

		this._updateCache(data);

		this._propagate("resize", event);

		props = this._applyChanges();

		if ( !this._helper && this._proportionallyResizeElements.length ) {
			this._proportionallyResize();
		}

		if ( !$.isEmptyObject( props ) ) {
			this._updatePrevProperties();
			this._trigger( "resize", event, this.ui() );
			this._applyChanges();
		}

		return false;
	},

	_mouseStop: function(event) {

		this.resizing = false;
		var pr, ista, soffseth, soffsetw, s, left, top,
			o = this.options, that = this;

		if (this._helper) {

			pr = this._proportionallyResizeElements;
			ista = pr.length && (/textarea/i).test(pr[0].nodeName);
			soffseth = ista && this._hasScroll(pr[0], "left") ? 0 : that.sizeDiff.height;
			soffsetw = ista ? 0 : that.sizeDiff.width;

			s = {
				width: (that.helper.width()  - soffsetw),
				height: (that.helper.height() - soffseth)
			};
			left = (parseInt(that.element.css("left"), 10) +
				(that.position.left - that.originalPosition.left)) || null;
			top = (parseInt(that.element.css("top"), 10) +
				(that.position.top - that.originalPosition.top)) || null;

			if (!o.animate) {
				this.element.css($.extend(s, { top: top, left: left }));
			}

			that.helper.height(that.size.height);
			that.helper.width(that.size.width);

			if (this._helper && !o.animate) {
				this._proportionallyResize();
			}
		}

		$("body").css("cursor", "auto");

		this.element.removeClass("ui-resizable-resizing");

		this._propagate("stop", event);

		if (this._helper) {
			this.helper.remove();
		}

		return false;

	},

	_updatePrevProperties: function() {
		this.prevPosition = {
			top: this.position.top,
			left: this.position.left
		};
		this.prevSize = {
			width: this.size.width,
			height: this.size.height
		};
	},

	_applyChanges: function() {
		var props = {};

		if ( this.position.top !== this.prevPosition.top ) {
			props.top = this.position.top + "px";
		}
		if ( this.position.left !== this.prevPosition.left ) {
			props.left = this.position.left + "px";
		}
		if ( this.size.width !== this.prevSize.width ) {
			props.width = this.size.width + "px";
		}
		if ( this.size.height !== this.prevSize.height ) {
			props.height = this.size.height + "px";
		}

		this.helper.css( props );

		return props;
	},

	_updateVirtualBoundaries: function(forceAspectRatio) {
		var pMinWidth, pMaxWidth, pMinHeight, pMaxHeight, b,
			o = this.options;

		b = {
			minWidth: this._isNumber(o.minWidth) ? o.minWidth : 0,
			maxWidth: this._isNumber(o.maxWidth) ? o.maxWidth : Infinity,
			minHeight: this._isNumber(o.minHeight) ? o.minHeight : 0,
			maxHeight: this._isNumber(o.maxHeight) ? o.maxHeight : Infinity
		};

		if (this._aspectRatio || forceAspectRatio) {
			pMinWidth = b.minHeight * this.aspectRatio;
			pMinHeight = b.minWidth / this.aspectRatio;
			pMaxWidth = b.maxHeight * this.aspectRatio;
			pMaxHeight = b.maxWidth / this.aspectRatio;

			if (pMinWidth > b.minWidth) {
				b.minWidth = pMinWidth;
			}
			if (pMinHeight > b.minHeight) {
				b.minHeight = pMinHeight;
			}
			if (pMaxWidth < b.maxWidth) {
				b.maxWidth = pMaxWidth;
			}
			if (pMaxHeight < b.maxHeight) {
				b.maxHeight = pMaxHeight;
			}
		}
		this._vBoundaries = b;
	},

	_updateCache: function(data) {
		this.offset = this.helper.offset();
		if (this._isNumber(data.left)) {
			this.position.left = data.left;
		}
		if (this._isNumber(data.top)) {
			this.position.top = data.top;
		}
		if (this._isNumber(data.height)) {
			this.size.height = data.height;
		}
		if (this._isNumber(data.width)) {
			this.size.width = data.width;
		}
	},

	_updateRatio: function( data ) {

		var cpos = this.position,
			csize = this.size,
			a = this.axis;

		if (this._isNumber(data.height)) {
			data.width = (data.height * this.aspectRatio);
		} else if (this._isNumber(data.width)) {
			data.height = (data.width / this.aspectRatio);
		}

		if (a === "sw") {
			data.left = cpos.left + (csize.width - data.width);
			data.top = null;
		}
		if (a === "nw") {
			data.top = cpos.top + (csize.height - data.height);
			data.left = cpos.left + (csize.width - data.width);
		}

		return data;
	},

	_respectSize: function( data ) {

		var o = this._vBoundaries,
			a = this.axis,
			ismaxw = this._isNumber(data.width) && o.maxWidth && (o.maxWidth < data.width),
			ismaxh = this._isNumber(data.height) && o.maxHeight && (o.maxHeight < data.height),
			isminw = this._isNumber(data.width) && o.minWidth && (o.minWidth > data.width),
			isminh = this._isNumber(data.height) && o.minHeight && (o.minHeight > data.height),
			dw = this.originalPosition.left + this.originalSize.width,
			dh = this.position.top + this.size.height,
			cw = /sw|nw|w/.test(a), ch = /nw|ne|n/.test(a);
		if (isminw) {
			data.width = o.minWidth;
		}
		if (isminh) {
			data.height = o.minHeight;
		}
		if (ismaxw) {
			data.width = o.maxWidth;
		}
		if (ismaxh) {
			data.height = o.maxHeight;
		}

		if (isminw && cw) {
			data.left = dw - o.minWidth;
		}
		if (ismaxw && cw) {
			data.left = dw - o.maxWidth;
		}
		if (isminh && ch) {
			data.top = dh - o.minHeight;
		}
		if (ismaxh && ch) {
			data.top = dh - o.maxHeight;
		}

		// Fixing jump error on top/left - bug #2330
		if (!data.width && !data.height && !data.left && data.top) {
			data.top = null;
		} else if (!data.width && !data.height && !data.top && data.left) {
			data.left = null;
		}

		return data;
	},

	_getPaddingPlusBorderDimensions: function( element ) {
		var i = 0,
			widths = [],
			borders = [
				element.css( "borderTopWidth" ),
				element.css( "borderRightWidth" ),
				element.css( "borderBottomWidth" ),
				element.css( "borderLeftWidth" )
			],
			paddings = [
				element.css( "paddingTop" ),
				element.css( "paddingRight" ),
				element.css( "paddingBottom" ),
				element.css( "paddingLeft" )
			];

		for ( ; i < 4; i++ ) {
			widths[ i ] = ( parseInt( borders[ i ], 10 ) || 0 );
			widths[ i ] += ( parseInt( paddings[ i ], 10 ) || 0 );
		}

		return {
			height: widths[ 0 ] + widths[ 2 ],
			width: widths[ 1 ] + widths[ 3 ]
		};
	},

	_proportionallyResize: function() {

		if (!this._proportionallyResizeElements.length) {
			return;
		}

		var prel,
			i = 0,
			element = this.helper || this.element;

		for ( ; i < this._proportionallyResizeElements.length; i++) {

			prel = this._proportionallyResizeElements[i];

			// TODO: Seems like a bug to cache this.outerDimensions
			// considering that we are in a loop.
			if (!this.outerDimensions) {
				this.outerDimensions = this._getPaddingPlusBorderDimensions( prel );
			}

			prel.css({
				height: (element.height() - this.outerDimensions.height) || 0,
				width: (element.width() - this.outerDimensions.width) || 0
			});

		}

	},

	_renderProxy: function() {

		var el = this.element, o = this.options;
		this.elementOffset = el.offset();

		if (this._helper) {

			this.helper = this.helper || $("<div style='overflow:hidden;'></div>");

			this.helper.addClass(this._helper).css({
				width: this.element.outerWidth() - 1,
				height: this.element.outerHeight() - 1,
				position: "absolute",
				left: this.elementOffset.left + "px",
				top: this.elementOffset.top + "px",
				zIndex: ++o.zIndex //TODO: Don't modify option
			});

			this.helper
				.appendTo("body")
				.disableSelection();

		} else {
			this.helper = this.element;
		}

	},

	_change: {
		e: function(event, dx) {
			return { width: this.originalSize.width + dx };
		},
		w: function(event, dx) {
			var cs = this.originalSize, sp = this.originalPosition;
			return { left: sp.left + dx, width: cs.width - dx };
		},
		n: function(event, dx, dy) {
			var cs = this.originalSize, sp = this.originalPosition;
			return { top: sp.top + dy, height: cs.height - dy };
		},
		s: function(event, dx, dy) {
			return { height: this.originalSize.height + dy };
		},
		se: function(event, dx, dy) {
			return $.extend(this._change.s.apply(this, arguments),
				this._change.e.apply(this, [ event, dx, dy ]));
		},
		sw: function(event, dx, dy) {
			return $.extend(this._change.s.apply(this, arguments),
				this._change.w.apply(this, [ event, dx, dy ]));
		},
		ne: function(event, dx, dy) {
			return $.extend(this._change.n.apply(this, arguments),
				this._change.e.apply(this, [ event, dx, dy ]));
		},
		nw: function(event, dx, dy) {
			return $.extend(this._change.n.apply(this, arguments),
				this._change.w.apply(this, [ event, dx, dy ]));
		}
	},

	_propagate: function(n, event) {
		$.ui.plugin.call(this, n, [ event, this.ui() ]);
		(n !== "resize" && this._trigger(n, event, this.ui()));
	},

	plugins: {},

	ui: function() {
		return {
			originalElement: this.originalElement,
			element: this.element,
			helper: this.helper,
			position: this.position,
			size: this.size,
			originalSize: this.originalSize,
			originalPosition: this.originalPosition
		};
	}

});

/*
 * Resizable Extensions
 */

$.ui.plugin.add("resizable", "animate", {

	stop: function( event ) {
		var that = $(this).resizable( "instance" ),
			o = that.options,
			pr = that._proportionallyResizeElements,
			ista = pr.length && (/textarea/i).test(pr[0].nodeName),
			soffseth = ista && that._hasScroll(pr[0], "left") ? 0 : that.sizeDiff.height,
			soffsetw = ista ? 0 : that.sizeDiff.width,
			style = { width: (that.size.width - soffsetw), height: (that.size.height - soffseth) },
			left = (parseInt(that.element.css("left"), 10) +
				(that.position.left - that.originalPosition.left)) || null,
			top = (parseInt(that.element.css("top"), 10) +
				(that.position.top - that.originalPosition.top)) || null;

		that.element.animate(
			$.extend(style, top && left ? { top: top, left: left } : {}), {
				duration: o.animateDuration,
				easing: o.animateEasing,
				step: function() {

					var data = {
						width: parseInt(that.element.css("width"), 10),
						height: parseInt(that.element.css("height"), 10),
						top: parseInt(that.element.css("top"), 10),
						left: parseInt(that.element.css("left"), 10)
					};

					if (pr && pr.length) {
						$(pr[0]).css({ width: data.width, height: data.height });
					}

					// propagating resize, and updating values for each animation step
					that._updateCache(data);
					that._propagate("resize", event);

				}
			}
		);
	}

});

$.ui.plugin.add( "resizable", "containment", {

	start: function() {
		var element, p, co, ch, cw, width, height,
			that = $( this ).resizable( "instance" ),
			o = that.options,
			el = that.element,
			oc = o.containment,
			ce = ( oc instanceof $ ) ? oc.get( 0 ) : ( /parent/.test( oc ) ) ? el.parent().get( 0 ) : oc;

		if ( !ce ) {
			return;
		}

		that.containerElement = $( ce );

		if ( /document/.test( oc ) || oc === document ) {
			that.containerOffset = {
				left: 0,
				top: 0
			};
			that.containerPosition = {
				left: 0,
				top: 0
			};

			that.parentData = {
				element: $( document ),
				left: 0,
				top: 0,
				width: $( document ).width(),
				height: $( document ).height() || document.body.parentNode.scrollHeight
			};
		} else {
			element = $( ce );
			p = [];
			$([ "Top", "Right", "Left", "Bottom" ]).each(function( i, name ) {
				p[ i ] = that._num( element.css( "padding" + name ) );
			});

			that.containerOffset = element.offset();
			that.containerPosition = element.position();
			that.containerSize = {
				height: ( element.innerHeight() - p[ 3 ] ),
				width: ( element.innerWidth() - p[ 1 ] )
			};

			co = that.containerOffset;
			ch = that.containerSize.height;
			cw = that.containerSize.width;
			width = ( that._hasScroll ( ce, "left" ) ? ce.scrollWidth : cw );
			height = ( that._hasScroll ( ce ) ? ce.scrollHeight : ch ) ;

			that.parentData = {
				element: ce,
				left: co.left,
				top: co.top,
				width: width,
				height: height
			};
		}
	},

	resize: function( event ) {
		var woset, hoset, isParent, isOffsetRelative,
			that = $( this ).resizable( "instance" ),
			o = that.options,
			co = that.containerOffset,
			cp = that.position,
			pRatio = that._aspectRatio || event.shiftKey,
			cop = {
				top: 0,
				left: 0
			},
			ce = that.containerElement,
			continueResize = true;

		if ( ce[ 0 ] !== document && ( /static/ ).test( ce.css( "position" ) ) ) {
			cop = co;
		}

		if ( cp.left < ( that._helper ? co.left : 0 ) ) {
			that.size.width = that.size.width +
				( that._helper ?
					( that.position.left - co.left ) :
					( that.position.left - cop.left ) );

			if ( pRatio ) {
				that.size.height = that.size.width / that.aspectRatio;
				continueResize = false;
			}
			that.position.left = o.helper ? co.left : 0;
		}

		if ( cp.top < ( that._helper ? co.top : 0 ) ) {
			that.size.height = that.size.height +
				( that._helper ?
					( that.position.top - co.top ) :
					that.position.top );

			if ( pRatio ) {
				that.size.width = that.size.height * that.aspectRatio;
				continueResize = false;
			}
			that.position.top = that._helper ? co.top : 0;
		}

		isParent = that.containerElement.get( 0 ) === that.element.parent().get( 0 );
		isOffsetRelative = /relative|absolute/.test( that.containerElement.css( "position" ) );

		if ( isParent && isOffsetRelative ) {
			that.offset.left = that.parentData.left + that.position.left;
			that.offset.top = that.parentData.top + that.position.top;
		} else {
			that.offset.left = that.element.offset().left;
			that.offset.top = that.element.offset().top;
		}

		woset = Math.abs( that.sizeDiff.width +
			(that._helper ?
				that.offset.left - cop.left :
				(that.offset.left - co.left)) );

		hoset = Math.abs( that.sizeDiff.height +
			(that._helper ?
				that.offset.top - cop.top :
				(that.offset.top - co.top)) );

		if ( woset + that.size.width >= that.parentData.width ) {
			that.size.width = that.parentData.width - woset;
			if ( pRatio ) {
				that.size.height = that.size.width / that.aspectRatio;
				continueResize = false;
			}
		}

		if ( hoset + that.size.height >= that.parentData.height ) {
			that.size.height = that.parentData.height - hoset;
			if ( pRatio ) {
				that.size.width = that.size.height * that.aspectRatio;
				continueResize = false;
			}
		}

		if ( !continueResize ) {
			that.position.left = that.prevPosition.left;
			that.position.top = that.prevPosition.top;
			that.size.width = that.prevSize.width;
			that.size.height = that.prevSize.height;
		}
	},

	stop: function() {
		var that = $( this ).resizable( "instance" ),
			o = that.options,
			co = that.containerOffset,
			cop = that.containerPosition,
			ce = that.containerElement,
			helper = $( that.helper ),
			ho = helper.offset(),
			w = helper.outerWidth() - that.sizeDiff.width,
			h = helper.outerHeight() - that.sizeDiff.height;

		if ( that._helper && !o.animate && ( /relative/ ).test( ce.css( "position" ) ) ) {
			$( this ).css({
				left: ho.left - cop.left - co.left,
				width: w,
				height: h
			});
		}

		if ( that._helper && !o.animate && ( /static/ ).test( ce.css( "position" ) ) ) {
			$( this ).css({
				left: ho.left - cop.left - co.left,
				width: w,
				height: h
			});
		}
	}
});

$.ui.plugin.add("resizable", "alsoResize", {

	start: function() {
		var that = $(this).resizable( "instance" ),
			o = that.options;

		$(o.alsoResize).each(function() {
			var el = $(this);
			el.data("ui-resizable-alsoresize", {
				width: parseInt(el.width(), 10), height: parseInt(el.height(), 10),
				left: parseInt(el.css("left"), 10), top: parseInt(el.css("top"), 10)
			});
		});
	},

	resize: function(event, ui) {
		var that = $(this).resizable( "instance" ),
			o = that.options,
			os = that.originalSize,
			op = that.originalPosition,
			delta = {
				height: (that.size.height - os.height) || 0,
				width: (that.size.width - os.width) || 0,
				top: (that.position.top - op.top) || 0,
				left: (that.position.left - op.left) || 0
			};

			$(o.alsoResize).each(function() {
				var el = $(this), start = $(this).data("ui-resizable-alsoresize"), style = {},
					css = el.parents(ui.originalElement[0]).length ?
							[ "width", "height" ] :
							[ "width", "height", "top", "left" ];

				$.each(css, function(i, prop) {
					var sum = (start[prop] || 0) + (delta[prop] || 0);
					if (sum && sum >= 0) {
						style[prop] = sum || null;
					}
				});

				el.css(style);
			});
	},

	stop: function() {
		$(this).removeData("resizable-alsoresize");
	}
});

$.ui.plugin.add("resizable", "ghost", {

	start: function() {

		var that = $(this).resizable( "instance" ), o = that.options, cs = that.size;

		that.ghost = that.originalElement.clone();
		that.ghost
			.css({
				opacity: 0.25,
				display: "block",
				position: "relative",
				height: cs.height,
				width: cs.width,
				margin: 0,
				left: 0,
				top: 0
			})
			.addClass("ui-resizable-ghost")
			.addClass(typeof o.ghost === "string" ? o.ghost : "");

		that.ghost.appendTo(that.helper);

	},

	resize: function() {
		var that = $(this).resizable( "instance" );
		if (that.ghost) {
			that.ghost.css({
				position: "relative",
				height: that.size.height,
				width: that.size.width
			});
		}
	},

	stop: function() {
		var that = $(this).resizable( "instance" );
		if (that.ghost && that.helper) {
			that.helper.get(0).removeChild(that.ghost.get(0));
		}
	}

});

$.ui.plugin.add("resizable", "grid", {

	resize: function() {
		var outerDimensions,
			that = $(this).resizable( "instance" ),
			o = that.options,
			cs = that.size,
			os = that.originalSize,
			op = that.originalPosition,
			a = that.axis,
			grid = typeof o.grid === "number" ? [ o.grid, o.grid ] : o.grid,
			gridX = (grid[0] || 1),
			gridY = (grid[1] || 1),
			ox = Math.round((cs.width - os.width) / gridX) * gridX,
			oy = Math.round((cs.height - os.height) / gridY) * gridY,
			newWidth = os.width + ox,
			newHeight = os.height + oy,
			isMaxWidth = o.maxWidth && (o.maxWidth < newWidth),
			isMaxHeight = o.maxHeight && (o.maxHeight < newHeight),
			isMinWidth = o.minWidth && (o.minWidth > newWidth),
			isMinHeight = o.minHeight && (o.minHeight > newHeight);

		o.grid = grid;

		if (isMinWidth) {
			newWidth += gridX;
		}
		if (isMinHeight) {
			newHeight += gridY;
		}
		if (isMaxWidth) {
			newWidth -= gridX;
		}
		if (isMaxHeight) {
			newHeight -= gridY;
		}

		if (/^(se|s|e)$/.test(a)) {
			that.size.width = newWidth;
			that.size.height = newHeight;
		} else if (/^(ne)$/.test(a)) {
			that.size.width = newWidth;
			that.size.height = newHeight;
			that.position.top = op.top - oy;
		} else if (/^(sw)$/.test(a)) {
			that.size.width = newWidth;
			that.size.height = newHeight;
			that.position.left = op.left - ox;
		} else {
			if ( newHeight - gridY <= 0 || newWidth - gridX <= 0) {
				outerDimensions = that._getPaddingPlusBorderDimensions( this );
			}

			if ( newHeight - gridY > 0 ) {
				that.size.height = newHeight;
				that.position.top = op.top - oy;
			} else {
				newHeight = gridY - outerDimensions.height;
				that.size.height = newHeight;
				that.position.top = op.top + os.height - newHeight;
			}
			if ( newWidth - gridX > 0 ) {
				that.size.width = newWidth;
				that.position.left = op.left - ox;
			} else {
				newWidth = gridX - outerDimensions.width;
				that.size.width = newWidth;
				that.position.left = op.left + os.width - newWidth;
			}
		}
	}

});

return $.ui.resizable;

}));







/*!
 * jQuery UI Dialog 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/dialog/
 */

(function( factory ) {
	if ( typeof define === "function" && define.amd ) {

		// AMD. Register as an anonymous module.
		define([
			"jquery",
			"./core",
			"./widget",
			"./button",
			"./draggable",
			"./mouse",
			"./position",
			"./resizable"
		], factory );
	} else {

		// Browser globals
		factory( jQuery );
	}
}(function( $ ) {

return $.widget( "ui.dialog", {
	version: "1.11.4",
	options: {
		appendTo: "body",
		autoOpen: true,
		buttons: [],
		closeOnEscape: true,
		closeText: "Close",
		dialogClass: "",
		draggable: true,
		hide: null,
		height: "auto",
		maxHeight: null,
		maxWidth: null,
		minHeight: 150,
		minWidth: 150,
		modal: false,
		position: {
			my: "center",
			at: "center",
			of: window,
			collision: "fit",
			// Ensure the titlebar is always visible
			using: function( pos ) {
				var topOffset = $( this ).css( pos ).offset().top;
				if ( topOffset < 0 ) {
					$( this ).css( "top", pos.top - topOffset );
				}
			}
		},
		resizable: true,
		show: null,
		title: null,
		width: 300,

		// callbacks
		beforeClose: null,
		close: null,
		drag: null,
		dragStart: null,
		dragStop: null,
		focus: null,
		open: null,
		resize: null,
		resizeStart: null,
		resizeStop: null
	},

	sizeRelatedOptions: {
		buttons: true,
		height: true,
		maxHeight: true,
		maxWidth: true,
		minHeight: true,
		minWidth: true,
		width: true
	},

	resizableRelatedOptions: {
		maxHeight: true,
		maxWidth: true,
		minHeight: true,
		minWidth: true
	},

	_create: function() {
		this.originalCss = {
			display: this.element[ 0 ].style.display,
			width: this.element[ 0 ].style.width,
			minHeight: this.element[ 0 ].style.minHeight,
			maxHeight: this.element[ 0 ].style.maxHeight,
			height: this.element[ 0 ].style.height
		};
		this.originalPosition = {
			parent: this.element.parent(),
			index: this.element.parent().children().index( this.element )
		};
		this.originalTitle = this.element.attr( "title" );
		this.options.title = this.options.title || this.originalTitle;

		this._createWrapper();

		this.element
			.show()
			.removeAttr( "title" )
			.addClass( "ui-dialog-content ui-widget-content" )
			.appendTo( this.uiDialog );

		this._createTitlebar();
		this._createButtonPane();

		if ( this.options.draggable && $.fn.draggable ) {
			this._makeDraggable();
		}
		if ( this.options.resizable && $.fn.resizable ) {
			this._makeResizable();
		}

		this._isOpen = false;

		this._trackFocus();
	},

	_init: function() {
		if ( this.options.autoOpen ) {
			this.open();
		}
	},

	_appendTo: function() {
		var element = this.options.appendTo;
		if ( element && (element.jquery || element.nodeType) ) {
			return $( element );
		}
		return this.document.find( element || "body" ).eq( 0 );
	},

	_destroy: function() {
		var next,
			originalPosition = this.originalPosition;

		this._untrackInstance();
		this._destroyOverlay();

		this.element
			.removeUniqueId()
			.removeClass( "ui-dialog-content ui-widget-content" )
			.css( this.originalCss )
			// Without detaching first, the following becomes really slow
			.detach();

		this.uiDialog.stop( true, true ).remove();

		if ( this.originalTitle ) {
			this.element.attr( "title", this.originalTitle );
		}

		next = originalPosition.parent.children().eq( originalPosition.index );
		// Don't try to place the dialog next to itself (#8613)
		if ( next.length && next[ 0 ] !== this.element[ 0 ] ) {
			next.before( this.element );
		} else {
			originalPosition.parent.append( this.element );
		}
	},

	widget: function() {
		return this.uiDialog;
	},

	disable: $.noop,
	enable: $.noop,

	close: function( event ) {
		var activeElement,
			that = this;

		if ( !this._isOpen || this._trigger( "beforeClose", event ) === false ) {
			return;
		}

		this._isOpen = false;
		this._focusedElement = null;
		this._destroyOverlay();
		this._untrackInstance();

		if ( !this.opener.filter( ":focusable" ).focus().length ) {

			// support: IE9
			// IE9 throws an "Unspecified error" accessing document.activeElement from an <iframe>
			try {
				activeElement = this.document[ 0 ].activeElement;

				// Support: IE9, IE10
				// If the <body> is blurred, IE will switch windows, see #4520
				if ( activeElement && activeElement.nodeName.toLowerCase() !== "body" ) {

					// Hiding a focused element doesn't trigger blur in WebKit
					// so in case we have nothing to focus on, explicitly blur the active element
					// https://bugs.webkit.org/show_bug.cgi?id=47182
					$( activeElement ).blur();
				}
			} catch ( error ) {}
		}

		this._hide( this.uiDialog, this.options.hide, function() {
			that._trigger( "close", event );
		});
	},

	isOpen: function() {
		return this._isOpen;
	},

	moveToTop: function() {
		this._moveToTop();
	},

	_moveToTop: function( event, silent ) {
		var moved = false,
			zIndices = this.uiDialog.siblings( ".ui-front:visible" ).map(function() {
				return +$( this ).css( "z-index" );
			}).get(),
			zIndexMax = Math.max.apply( null, zIndices );

		if ( zIndexMax >= +this.uiDialog.css( "z-index" ) ) {
			this.uiDialog.css( "z-index", zIndexMax + 1 );
			moved = true;
		}

		if ( moved && !silent ) {
			this._trigger( "focus", event );
		}
		return moved;
	},

	open: function() {
		var that = this;
		if ( this._isOpen ) {
			if ( this._moveToTop() ) {
				this._focusTabbable();
			}
			return;
		}

		this._isOpen = true;
		this.opener = $( this.document[ 0 ].activeElement );

		this._size();
		this._position();
		this._createOverlay();
		this._moveToTop( null, true );

		// Ensure the overlay is moved to the top with the dialog, but only when
		// opening. The overlay shouldn't move after the dialog is open so that
		// modeless dialogs opened after the modal dialog stack properly.
		if ( this.overlay ) {
			this.overlay.css( "z-index", this.uiDialog.css( "z-index" ) - 1 );
		}

		this._show( this.uiDialog, this.options.show, function() {
			that._focusTabbable();
			that._trigger( "focus" );
		});

		// Track the dialog immediately upon openening in case a focus event
		// somehow occurs outside of the dialog before an element inside the
		// dialog is focused (#10152)
		this._makeFocusTarget();

		this._trigger( "open" );
	},

	_focusTabbable: function() {
		// Set focus to the first match:
		// 1. An element that was focused previously
		// 2. First element inside the dialog matching [autofocus]
		// 3. Tabbable element inside the content element
		// 4. Tabbable element inside the buttonpane
		// 5. The close button
		// 6. The dialog itself
		var hasFocus = this._focusedElement;
		if ( !hasFocus ) {
			hasFocus = this.element.find( "[autofocus]" );
		}
		if ( !hasFocus.length ) {
			hasFocus = this.element.find( ":tabbable" );
		}
		if ( !hasFocus.length ) {
			hasFocus = this.uiDialogButtonPane.find( ":tabbable" );
		}
		if ( !hasFocus.length ) {
			hasFocus = this.uiDialogTitlebarClose.filter( ":tabbable" );
		}
		if ( !hasFocus.length ) {
			hasFocus = this.uiDialog;
		}
		hasFocus.eq( 0 ).focus();
	},

	_keepFocus: function( event ) {
		function checkFocus() {
			var activeElement = this.document[0].activeElement,
				isActive = this.uiDialog[0] === activeElement ||
					$.contains( this.uiDialog[0], activeElement );
			if ( !isActive ) {
				this._focusTabbable();
			}
		}
		event.preventDefault();
		checkFocus.call( this );
		// support: IE
		// IE <= 8 doesn't prevent moving focus even with event.preventDefault()
		// so we check again later
		this._delay( checkFocus );
	},

	_createWrapper: function() {
		this.uiDialog = $("<div>")
			.addClass( "ui-dialog ui-widget ui-widget-content ui-corner-all ui-front " +
				this.options.dialogClass )
			.hide()
			.attr({
				// Setting tabIndex makes the div focusable
				tabIndex: -1,
				role: "dialog"
			})
			.appendTo( this._appendTo() );

		this._on( this.uiDialog, {
			keydown: function( event ) {
				if ( this.options.closeOnEscape && !event.isDefaultPrevented() && event.keyCode &&
						event.keyCode === $.ui.keyCode.ESCAPE ) {
					event.preventDefault();
					this.close( event );
					return;
				}

				// prevent tabbing out of dialogs
				if ( event.keyCode !== $.ui.keyCode.TAB || event.isDefaultPrevented() ) {
					return;
				}
				var tabbables = this.uiDialog.find( ":tabbable" ),
					first = tabbables.filter( ":first" ),
					last = tabbables.filter( ":last" );

				if ( ( event.target === last[0] || event.target === this.uiDialog[0] ) && !event.shiftKey ) {
					this._delay(function() {
						first.focus();
					});
					event.preventDefault();
				} else if ( ( event.target === first[0] || event.target === this.uiDialog[0] ) && event.shiftKey ) {
					this._delay(function() {
						last.focus();
					});
					event.preventDefault();
				}
			},
			mousedown: function( event ) {
				if ( this._moveToTop( event ) ) {
					this._focusTabbable();
				}
			}
		});

		// We assume that any existing aria-describedby attribute means
		// that the dialog content is marked up properly
		// otherwise we brute force the content as the description
		if ( !this.element.find( "[aria-describedby]" ).length ) {
			this.uiDialog.attr({
				"aria-describedby": this.element.uniqueId().attr( "id" )
			});
		}
	},

	_createTitlebar: function() {
		var uiDialogTitle;

		this.uiDialogTitlebar = $( "<div>" )
			.addClass( "ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix" )
			.prependTo( this.uiDialog );
		this._on( this.uiDialogTitlebar, {
			mousedown: function( event ) {
				// Don't prevent click on close button (#8838)
				// Focusing a dialog that is partially scrolled out of view
				// causes the browser to scroll it into view, preventing the click event
				if ( !$( event.target ).closest( ".ui-dialog-titlebar-close" ) ) {
					// Dialog isn't getting focus when dragging (#8063)
					this.uiDialog.focus();
				}
			}
		});

		// support: IE
		// Use type="button" to prevent enter keypresses in textboxes from closing the
		// dialog in IE (#9312)
		this.uiDialogTitlebarClose = $( "<button type='button'></button>" )
			.button({
				label: this.options.closeText,
				icons: {
					primary: "ui-icon-closethick"
				},
				text: false
			})
			.addClass( "ui-dialog-titlebar-close" )
			.appendTo( this.uiDialogTitlebar );
		this._on( this.uiDialogTitlebarClose, {
			click: function( event ) {
				event.preventDefault();
				this.close( event );
			}
		});

		uiDialogTitle = $( "<span>" )
			.uniqueId()
			.addClass( "ui-dialog-title" )
			.prependTo( this.uiDialogTitlebar );
		this._title( uiDialogTitle );

		this.uiDialog.attr({
			"aria-labelledby": uiDialogTitle.attr( "id" )
		});
	},

	_title: function( title ) {
		if ( !this.options.title ) {
			title.html( "&#160;" );
		}
		title.text( this.options.title );
	},

	_createButtonPane: function() {
		this.uiDialogButtonPane = $( "<div>" )
			.addClass( "ui-dialog-buttonpane ui-widget-content ui-helper-clearfix" );

		this.uiButtonSet = $( "<div>" )
			.addClass( "ui-dialog-buttonset" )
			.appendTo( this.uiDialogButtonPane );

		this._createButtons();
	},

	_createButtons: function() {
		var that = this,
			buttons = this.options.buttons;

		// if we already have a button pane, remove it
		this.uiDialogButtonPane.remove();
		this.uiButtonSet.empty();

		if ( $.isEmptyObject( buttons ) || ($.isArray( buttons ) && !buttons.length) ) {
			this.uiDialog.removeClass( "ui-dialog-buttons" );
			return;
		}

		$.each( buttons, function( name, props ) {
			var click, buttonOptions;
			props = $.isFunction( props ) ?
				{ click: props, text: name } :
				props;
			// Default to a non-submitting button
			props = $.extend( { type: "button" }, props );
			// Change the context for the click callback to be the main element
			click = props.click;
			props.click = function() {
				click.apply( that.element[ 0 ], arguments );
			};
			buttonOptions = {
				icons: props.icons,
				text: props.showText
			};
			delete props.icons;
			delete props.showText;
			$( "<button></button>", props )
				.button( buttonOptions )
				.appendTo( that.uiButtonSet );
		});
		this.uiDialog.addClass( "ui-dialog-buttons" );
		this.uiDialogButtonPane.appendTo( this.uiDialog );
	},

	_makeDraggable: function() {
		var that = this,
			options = this.options;

		function filteredUi( ui ) {
			return {
				position: ui.position,
				offset: ui.offset
			};
		}

		this.uiDialog.draggable({
			cancel: ".ui-dialog-content, .ui-dialog-titlebar-close",
			handle: ".ui-dialog-titlebar",
			containment: "document",
			start: function( event, ui ) {
				$( this ).addClass( "ui-dialog-dragging" );
				that._blockFrames();
				that._trigger( "dragStart", event, filteredUi( ui ) );
			},
			drag: function( event, ui ) {
				that._trigger( "drag", event, filteredUi( ui ) );
			},
			stop: function( event, ui ) {
				var left = ui.offset.left - that.document.scrollLeft(),
					top = ui.offset.top - that.document.scrollTop();

				options.position = {
					my: "left top",
					at: "left" + (left >= 0 ? "+" : "") + left + " " +
						"top" + (top >= 0 ? "+" : "") + top,
					of: that.window
				};
				$( this ).removeClass( "ui-dialog-dragging" );
				that._unblockFrames();
				that._trigger( "dragStop", event, filteredUi( ui ) );
			}
		});
	},

	_makeResizable: function() {
		var that = this,
			options = this.options,
			handles = options.resizable,
			// .ui-resizable has position: relative defined in the stylesheet
			// but dialogs have to use absolute or fixed positioning
			position = this.uiDialog.css("position"),
			resizeHandles = typeof handles === "string" ?
				handles	:
				"n,e,s,w,se,sw,ne,nw";

		function filteredUi( ui ) {
			return {
				originalPosition: ui.originalPosition,
				originalSize: ui.originalSize,
				position: ui.position,
				size: ui.size
			};
		}

		this.uiDialog.resizable({
			cancel: ".ui-dialog-content",
			containment: "document",
			alsoResize: this.element,
			maxWidth: options.maxWidth,
			maxHeight: options.maxHeight,
			minWidth: options.minWidth,
			minHeight: this._minHeight(),
			handles: resizeHandles,
			start: function( event, ui ) {
				$( this ).addClass( "ui-dialog-resizing" );
				that._blockFrames();
				that._trigger( "resizeStart", event, filteredUi( ui ) );
			},
			resize: function( event, ui ) {
				that._trigger( "resize", event, filteredUi( ui ) );
			},
			stop: function( event, ui ) {
				var offset = that.uiDialog.offset(),
					left = offset.left - that.document.scrollLeft(),
					top = offset.top - that.document.scrollTop();

				options.height = that.uiDialog.height();
				options.width = that.uiDialog.width();
				options.position = {
					my: "left top",
					at: "left" + (left >= 0 ? "+" : "") + left + " " +
						"top" + (top >= 0 ? "+" : "") + top,
					of: that.window
				};
				$( this ).removeClass( "ui-dialog-resizing" );
				that._unblockFrames();
				that._trigger( "resizeStop", event, filteredUi( ui ) );
			}
		})
		.css( "position", position );
	},

	_trackFocus: function() {
		this._on( this.widget(), {
			focusin: function( event ) {
				this._makeFocusTarget();
				this._focusedElement = $( event.target );
			}
		});
	},

	_makeFocusTarget: function() {
		this._untrackInstance();
		this._trackingInstances().unshift( this );
	},

	_untrackInstance: function() {
		var instances = this._trackingInstances(),
			exists = $.inArray( this, instances );
		if ( exists !== -1 ) {
			instances.splice( exists, 1 );
		}
	},

	_trackingInstances: function() {
		var instances = this.document.data( "ui-dialog-instances" );
		if ( !instances ) {
			instances = [];
			this.document.data( "ui-dialog-instances", instances );
		}
		return instances;
	},

	_minHeight: function() {
		var options = this.options;

		return options.height === "auto" ?
			options.minHeight :
			Math.min( options.minHeight, options.height );
	},

	_position: function() {
		// Need to show the dialog to get the actual offset in the position plugin
		var isVisible = this.uiDialog.is( ":visible" );
		if ( !isVisible ) {
			this.uiDialog.show();
		}
		this.uiDialog.position( this.options.position );
		if ( !isVisible ) {
			this.uiDialog.hide();
		}
	},

	_setOptions: function( options ) {
		var that = this,
			resize = false,
			resizableOptions = {};

		$.each( options, function( key, value ) {
			that._setOption( key, value );

			if ( key in that.sizeRelatedOptions ) {
				resize = true;
			}
			if ( key in that.resizableRelatedOptions ) {
				resizableOptions[ key ] = value;
			}
		});

		if ( resize ) {
			this._size();
			this._position();
		}
		if ( this.uiDialog.is( ":data(ui-resizable)" ) ) {
			this.uiDialog.resizable( "option", resizableOptions );
		}
	},

	_setOption: function( key, value ) {
		var isDraggable, isResizable,
			uiDialog = this.uiDialog;

		if ( key === "dialogClass" ) {
			uiDialog
				.removeClass( this.options.dialogClass )
				.addClass( value );
		}

		if ( key === "disabled" ) {
			return;
		}

		this._super( key, value );

		if ( key === "appendTo" ) {
			this.uiDialog.appendTo( this._appendTo() );
		}

		if ( key === "buttons" ) {
			this._createButtons();
		}

		if ( key === "closeText" ) {
			this.uiDialogTitlebarClose.button({
				// Ensure that we always pass a string
				label: "" + value
			});
		}

		if ( key === "draggable" ) {
			isDraggable = uiDialog.is( ":data(ui-draggable)" );
			if ( isDraggable && !value ) {
				uiDialog.draggable( "destroy" );
			}

			if ( !isDraggable && value ) {
				this._makeDraggable();
			}
		}

		if ( key === "position" ) {
			this._position();
		}

		if ( key === "resizable" ) {
			// currently resizable, becoming non-resizable
			isResizable = uiDialog.is( ":data(ui-resizable)" );
			if ( isResizable && !value ) {
				uiDialog.resizable( "destroy" );
			}

			// currently resizable, changing handles
			if ( isResizable && typeof value === "string" ) {
				uiDialog.resizable( "option", "handles", value );
			}

			// currently non-resizable, becoming resizable
			if ( !isResizable && value !== false ) {
				this._makeResizable();
			}
		}

		if ( key === "title" ) {
			this._title( this.uiDialogTitlebar.find( ".ui-dialog-title" ) );
		}
	},

	_size: function() {
		// If the user has resized the dialog, the .ui-dialog and .ui-dialog-content
		// divs will both have width and height set, so we need to reset them
		var nonContentHeight, minContentHeight, maxContentHeight,
			options = this.options;

		// Reset content sizing
		this.element.show().css({
			width: "auto",
			minHeight: 0,
			maxHeight: "none",
			height: 0
		});

		if ( options.minWidth > options.width ) {
			options.width = options.minWidth;
		}

		// reset wrapper sizing
		// determine the height of all the non-content elements
		nonContentHeight = this.uiDialog.css({
				height: "auto",
				width: options.width
			})
			.outerHeight();
		minContentHeight = Math.max( 0, options.minHeight - nonContentHeight );
		maxContentHeight = typeof options.maxHeight === "number" ?
			Math.max( 0, options.maxHeight - nonContentHeight ) :
			"none";

		if ( options.height === "auto" ) {
			this.element.css({
				minHeight: minContentHeight,
				maxHeight: maxContentHeight,
				height: "auto"
			});
		} else {
			this.element.height( Math.max( 0, options.height - nonContentHeight ) );
		}

		if ( this.uiDialog.is( ":data(ui-resizable)" ) ) {
			this.uiDialog.resizable( "option", "minHeight", this._minHeight() );
		}
	},

	_blockFrames: function() {
		this.iframeBlocks = this.document.find( "iframe" ).map(function() {
			var iframe = $( this );

			return $( "<div>" )
				.css({
					position: "absolute",
					width: iframe.outerWidth(),
					height: iframe.outerHeight()
				})
				.appendTo( iframe.parent() )
				.offset( iframe.offset() )[0];
		});
	},

	_unblockFrames: function() {
		if ( this.iframeBlocks ) {
			this.iframeBlocks.remove();
			delete this.iframeBlocks;
		}
	},

	_allowInteraction: function( event ) {
		if ( $( event.target ).closest( ".ui-dialog" ).length ) {
			return true;
		}

		// TODO: Remove hack when datepicker implements
		// the .ui-front logic (#8989)
		return !!$( event.target ).closest( ".ui-datepicker" ).length;
	},

	_createOverlay: function() {
		if ( !this.options.modal ) {
			return;
		}

		// We use a delay in case the overlay is created from an
		// event that we're going to be cancelling (#2804)
		var isOpening = true;
		this._delay(function() {
			isOpening = false;
		});

		if ( !this.document.data( "ui-dialog-overlays" ) ) {

			// Prevent use of anchors and inputs
			// Using _on() for an event handler shared across many instances is
			// safe because the dialogs stack and must be closed in reverse order
			this._on( this.document, {
				focusin: function( event ) {
					if ( isOpening ) {
						return;
					}

					if ( !this._allowInteraction( event ) ) {
						event.preventDefault();
						this._trackingInstances()[ 0 ]._focusTabbable();
					}
				}
			});
		}

		this.overlay = $( "<div>" )
			.addClass( "ui-widget-overlay ui-front" )
			.appendTo( this._appendTo() );
		this._on( this.overlay, {
			mousedown: "_keepFocus"
		});
		this.document.data( "ui-dialog-overlays",
			(this.document.data( "ui-dialog-overlays" ) || 0) + 1 );
	},

	_destroyOverlay: function() {
		if ( !this.options.modal ) {
			return;
		}

		if ( this.overlay ) {
			var overlays = this.document.data( "ui-dialog-overlays" ) - 1;

			if ( !overlays ) {
				this.document
					.unbind( "focusin" )
					.removeData( "ui-dialog-overlays" );
			} else {
				this.document.data( "ui-dialog-overlays", overlays );
			}

			this.overlay.remove();
			this.overlay = null;
		}
	}
});

}));




/*!
 * jQuery UI Sortable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/sortable/
 */

(function( factory ) {
	if ( typeof define === "function" && define.amd ) {

		// AMD. Register as an anonymous module.
		define([
			"jquery",
			"./core",
			"./mouse",
			"./widget"
		], factory );
	} else {

		// Browser globals
		factory( jQuery );
	}
}(function( $ ) {

return $.widget("ui.sortable", $.ui.mouse, {
	version: "1.11.4",
	widgetEventPrefix: "sort",
	ready: false,
	options: {
		appendTo: "parent",
		axis: false,
		connectWith: false,
		containment: false,
		cursor: "auto",
		cursorAt: false,
		dropOnEmpty: true,
		forcePlaceholderSize: false,
		forceHelperSize: false,
		grid: false,
		handle: false,
		helper: "original",
		items: "> *",
		opacity: false,
		placeholder: false,
		revert: false,
		scroll: true,
		scrollSensitivity: 20,
		scrollSpeed: 20,
		scope: "default",
		tolerance: "intersect",
		zIndex: 1000,

		// callbacks
		activate: null,
		beforeStop: null,
		change: null,
		deactivate: null,
		out: null,
		over: null,
		receive: null,
		remove: null,
		sort: null,
		start: null,
		stop: null,
		update: null
	},

	_isOverAxis: function( x, reference, size ) {
		return ( x >= reference ) && ( x < ( reference + size ) );
	},

	_isFloating: function( item ) {
		return (/left|right/).test(item.css("float")) || (/inline|table-cell/).test(item.css("display"));
	},

	_create: function() {
		this.containerCache = {};
		this.element.addClass("ui-sortable");

		//Get the items
		this.refresh();

		//Let's determine the parent's offset
		this.offset = this.element.offset();

		//Initialize mouse events for interaction
		this._mouseInit();

		this._setHandleClassName();

		//We're ready to go
		this.ready = true;

	},

	_setOption: function( key, value ) {
		this._super( key, value );

		if ( key === "handle" ) {
			this._setHandleClassName();
		}
	},

	_setHandleClassName: function() {
		this.element.find( ".ui-sortable-handle" ).removeClass( "ui-sortable-handle" );
		$.each( this.items, function() {
			( this.instance.options.handle ?
				this.item.find( this.instance.options.handle ) : this.item )
				.addClass( "ui-sortable-handle" );
		});
	},

	_destroy: function() {
		this.element
			.removeClass( "ui-sortable ui-sortable-disabled" )
			.find( ".ui-sortable-handle" )
				.removeClass( "ui-sortable-handle" );
		this._mouseDestroy();

		for ( var i = this.items.length - 1; i >= 0; i-- ) {
			this.items[i].item.removeData(this.widgetName + "-item");
		}

		return this;
	},

	_mouseCapture: function(event, overrideHandle) {
		var currentItem = null,
			validHandle = false,
			that = this;

		if (this.reverting) {
			return false;
		}

		if(this.options.disabled || this.options.type === "static") {
			return false;
		}

		//We have to refresh the items data once first
		this._refreshItems(event);

		//Find out if the clicked node (or one of its parents) is a actual item in this.items
		$(event.target).parents().each(function() {
			if($.data(this, that.widgetName + "-item") === that) {
				currentItem = $(this);
				return false;
			}
		});
		if($.data(event.target, that.widgetName + "-item") === that) {
			currentItem = $(event.target);
		}

		if(!currentItem) {
			return false;
		}
		if(this.options.handle && !overrideHandle) {
			$(this.options.handle, currentItem).find("*").addBack().each(function() {
				if(this === event.target) {
					validHandle = true;
				}
			});
			if(!validHandle) {
				return false;
			}
		}

		this.currentItem = currentItem;
		this._removeCurrentsFromItems();
		return true;

	},

	_mouseStart: function(event, overrideHandle, noActivation) {

		var i, body,
			o = this.options;

		this.currentContainer = this;

		//We only need to call refreshPositions, because the refreshItems call has been moved to mouseCapture
		this.refreshPositions();

		//Create and append the visible helper
		this.helper = this._createHelper(event);

		//Cache the helper size
		this._cacheHelperProportions();

		/*
		 * - Position generation -
		 * This block generates everything position related - it's the core of draggables.
		 */

		//Cache the margins of the original element
		this._cacheMargins();

		//Get the next scrolling parent
		this.scrollParent = this.helper.scrollParent();

		//The element's absolute position on the page minus margins
		this.offset = this.currentItem.offset();
		this.offset = {
			top: this.offset.top - this.margins.top,
			left: this.offset.left - this.margins.left
		};

		$.extend(this.offset, {
			click: { //Where the click happened, relative to the element
				left: event.pageX - this.offset.left,
				top: event.pageY - this.offset.top
			},
			parent: this._getParentOffset(),
			relative: this._getRelativeOffset() //This is a relative to absolute position minus the actual position calculation - only used for relative positioned helper
		});

		// Only after we got the offset, we can change the helper's position to absolute
		// TODO: Still need to figure out a way to make relative sorting possible
		this.helper.css("position", "absolute");
		this.cssPosition = this.helper.css("position");

		//Generate the original position
		this.originalPosition = this._generatePosition(event);
		this.originalPageX = event.pageX;
		this.originalPageY = event.pageY;

		//Adjust the mouse offset relative to the helper if "cursorAt" is supplied
		(o.cursorAt && this._adjustOffsetFromHelper(o.cursorAt));

		//Cache the former DOM position
		this.domPosition = { prev: this.currentItem.prev()[0], parent: this.currentItem.parent()[0] };

		//If the helper is not the original, hide the original so it's not playing any role during the drag, won't cause anything bad this way
		if(this.helper[0] !== this.currentItem[0]) {
			this.currentItem.hide();
		}

		//Create the placeholder
		this._createPlaceholder();

		//Set a containment if given in the options
		if(o.containment) {
			this._setContainment();
		}

		if( o.cursor && o.cursor !== "auto" ) { // cursor option
			body = this.document.find( "body" );

			// support: IE
			this.storedCursor = body.css( "cursor" );
			body.css( "cursor", o.cursor );

			this.storedStylesheet = $( "<style>*{ cursor: "+o.cursor+" !important; }</style>" ).appendTo( body );
		}

		if(o.opacity) { // opacity option
			if (this.helper.css("opacity")) {
				this._storedOpacity = this.helper.css("opacity");
			}
			this.helper.css("opacity", o.opacity);
		}

		if(o.zIndex) { // zIndex option
			if (this.helper.css("zIndex")) {
				this._storedZIndex = this.helper.css("zIndex");
			}
			this.helper.css("zIndex", o.zIndex);
		}

		//Prepare scrolling
		if(this.scrollParent[0] !== this.document[0] && this.scrollParent[0].tagName !== "HTML") {
			this.overflowOffset = this.scrollParent.offset();
		}

		//Call callbacks
		this._trigger("start", event, this._uiHash());

		//Recache the helper size
		if(!this._preserveHelperProportions) {
			this._cacheHelperProportions();
		}


		//Post "activate" events to possible containers
		if( !noActivation ) {
			for ( i = this.containers.length - 1; i >= 0; i-- ) {
				this.containers[ i ]._trigger( "activate", event, this._uiHash( this ) );
			}
		}

		//Prepare possible droppables
		if($.ui.ddmanager) {
			$.ui.ddmanager.current = this;
		}

		if ($.ui.ddmanager && !o.dropBehaviour) {
			$.ui.ddmanager.prepareOffsets(this, event);
		}

		this.dragging = true;

		this.helper.addClass("ui-sortable-helper");
		this._mouseDrag(event); //Execute the drag once - this causes the helper not to be visible before getting its correct position
		return true;

	},

	_mouseDrag: function(event) {
		var i, item, itemElement, intersection,
			o = this.options,
			scrolled = false;

		//Compute the helpers position
		this.position = this._generatePosition(event);
		this.positionAbs = this._convertPositionTo("absolute");

		if (!this.lastPositionAbs) {
			this.lastPositionAbs = this.positionAbs;
		}

		//Do scrolling
		if(this.options.scroll) {
			if(this.scrollParent[0] !== this.document[0] && this.scrollParent[0].tagName !== "HTML") {

				if((this.overflowOffset.top + this.scrollParent[0].offsetHeight) - event.pageY < o.scrollSensitivity) {
					this.scrollParent[0].scrollTop = scrolled = this.scrollParent[0].scrollTop + o.scrollSpeed;
				} else if(event.pageY - this.overflowOffset.top < o.scrollSensitivity) {
					this.scrollParent[0].scrollTop = scrolled = this.scrollParent[0].scrollTop - o.scrollSpeed;
				}

				if((this.overflowOffset.left + this.scrollParent[0].offsetWidth) - event.pageX < o.scrollSensitivity) {
					this.scrollParent[0].scrollLeft = scrolled = this.scrollParent[0].scrollLeft + o.scrollSpeed;
				} else if(event.pageX - this.overflowOffset.left < o.scrollSensitivity) {
					this.scrollParent[0].scrollLeft = scrolled = this.scrollParent[0].scrollLeft - o.scrollSpeed;
				}

			} else {

				if(event.pageY - this.document.scrollTop() < o.scrollSensitivity) {
					scrolled = this.document.scrollTop(this.document.scrollTop() - o.scrollSpeed);
				} else if(this.window.height() - (event.pageY - this.document.scrollTop()) < o.scrollSensitivity) {
					scrolled = this.document.scrollTop(this.document.scrollTop() + o.scrollSpeed);
				}

				if(event.pageX - this.document.scrollLeft() < o.scrollSensitivity) {
					scrolled = this.document.scrollLeft(this.document.scrollLeft() - o.scrollSpeed);
				} else if(this.window.width() - (event.pageX - this.document.scrollLeft()) < o.scrollSensitivity) {
					scrolled = this.document.scrollLeft(this.document.scrollLeft() + o.scrollSpeed);
				}

			}

			if(scrolled !== false && $.ui.ddmanager && !o.dropBehaviour) {
				$.ui.ddmanager.prepareOffsets(this, event);
			}
		}

		//Regenerate the absolute position used for position checks
		this.positionAbs = this._convertPositionTo("absolute");

		//Set the helper position
		if(!this.options.axis || this.options.axis !== "y") {
			this.helper[0].style.left = this.position.left+"px";
		}
		if(!this.options.axis || this.options.axis !== "x") {
			this.helper[0].style.top = this.position.top+"px";
		}

		//Rearrange
		for (i = this.items.length - 1; i >= 0; i--) {

			//Cache variables and intersection, continue if no intersection
			item = this.items[i];
			itemElement = item.item[0];
			intersection = this._intersectsWithPointer(item);
			if (!intersection) {
				continue;
			}

			// Only put the placeholder inside the current Container, skip all
			// items from other containers. This works because when moving
			// an item from one container to another the
			// currentContainer is switched before the placeholder is moved.
			//
			// Without this, moving items in "sub-sortables" can cause
			// the placeholder to jitter between the outer and inner container.
			if (item.instance !== this.currentContainer) {
				continue;
			}

			// cannot intersect with itself
			// no useless actions that have been done before
			// no action if the item moved is the parent of the item checked
			if (itemElement !== this.currentItem[0] &&
				this.placeholder[intersection === 1 ? "next" : "prev"]()[0] !== itemElement &&
				!$.contains(this.placeholder[0], itemElement) &&
				(this.options.type === "semi-dynamic" ? !$.contains(this.element[0], itemElement) : true)
			) {

				this.direction = intersection === 1 ? "down" : "up";

				if (this.options.tolerance === "pointer" || this._intersectsWithSides(item)) {
					this._rearrange(event, item);
				} else {
					break;
				}

				this._trigger("change", event, this._uiHash());
				break;
			}
		}

		//Post events to containers
		this._contactContainers(event);

		//Interconnect with droppables
		if($.ui.ddmanager) {
			$.ui.ddmanager.drag(this, event);
		}

		//Call callbacks
		this._trigger("sort", event, this._uiHash());

		this.lastPositionAbs = this.positionAbs;
		return false;

	},

	_mouseStop: function(event, noPropagation) {

		if(!event) {
			return;
		}

		//If we are using droppables, inform the manager about the drop
		if ($.ui.ddmanager && !this.options.dropBehaviour) {
			$.ui.ddmanager.drop(this, event);
		}

		if(this.options.revert) {
			var that = this,
				cur = this.placeholder.offset(),
				axis = this.options.axis,
				animation = {};

			if ( !axis || axis === "x" ) {
				animation.left = cur.left - this.offset.parent.left - this.margins.left + (this.offsetParent[0] === this.document[0].body ? 0 : this.offsetParent[0].scrollLeft);
			}
			if ( !axis || axis === "y" ) {
				animation.top = cur.top - this.offset.parent.top - this.margins.top + (this.offsetParent[0] === this.document[0].body ? 0 : this.offsetParent[0].scrollTop);
			}
			this.reverting = true;
			$(this.helper).animate( animation, parseInt(this.options.revert, 10) || 500, function() {
				that._clear(event);
			});
		} else {
			this._clear(event, noPropagation);
		}

		return false;

	},

	cancel: function() {

		if(this.dragging) {

			this._mouseUp({ target: null });

			if(this.options.helper === "original") {
				this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper");
			} else {
				this.currentItem.show();
			}

			//Post deactivating events to containers
			for (var i = this.containers.length - 1; i >= 0; i--){
				this.containers[i]._trigger("deactivate", null, this._uiHash(this));
				if(this.containers[i].containerCache.over) {
					this.containers[i]._trigger("out", null, this._uiHash(this));
					this.containers[i].containerCache.over = 0;
				}
			}

		}

		if (this.placeholder) {
			//$(this.placeholder[0]).remove(); would have been the jQuery way - unfortunately, it unbinds ALL events from the original node!
			if(this.placeholder[0].parentNode) {
				this.placeholder[0].parentNode.removeChild(this.placeholder[0]);
			}
			if(this.options.helper !== "original" && this.helper && this.helper[0].parentNode) {
				this.helper.remove();
			}

			$.extend(this, {
				helper: null,
				dragging: false,
				reverting: false,
				_noFinalSort: null
			});

			if(this.domPosition.prev) {
				$(this.domPosition.prev).after(this.currentItem);
			} else {
				$(this.domPosition.parent).prepend(this.currentItem);
			}
		}

		return this;

	},

	serialize: function(o) {

		var items = this._getItemsAsjQuery(o && o.connected),
			str = [];
		o = o || {};

		$(items).each(function() {
			var res = ($(o.item || this).attr(o.attribute || "id") || "").match(o.expression || (/(.+)[\-=_](.+)/));
			if (res) {
				str.push((o.key || res[1]+"[]")+"="+(o.key && o.expression ? res[1] : res[2]));
			}
		});

		if(!str.length && o.key) {
			str.push(o.key + "=");
		}

		return str.join("&");

	},

	toArray: function(o) {

		var items = this._getItemsAsjQuery(o && o.connected),
			ret = [];

		o = o || {};

		items.each(function() { ret.push($(o.item || this).attr(o.attribute || "id") || ""); });
		return ret;

	},

	/* Be careful with the following core functions */
	_intersectsWith: function(item) {

		var x1 = this.positionAbs.left,
			x2 = x1 + this.helperProportions.width,
			y1 = this.positionAbs.top,
			y2 = y1 + this.helperProportions.height,
			l = item.left,
			r = l + item.width,
			t = item.top,
			b = t + item.height,
			dyClick = this.offset.click.top,
			dxClick = this.offset.click.left,
			isOverElementHeight = ( this.options.axis === "x" ) || ( ( y1 + dyClick ) > t && ( y1 + dyClick ) < b ),
			isOverElementWidth = ( this.options.axis === "y" ) || ( ( x1 + dxClick ) > l && ( x1 + dxClick ) < r ),
			isOverElement = isOverElementHeight && isOverElementWidth;

		if ( this.options.tolerance === "pointer" ||
			this.options.forcePointerForContainers ||
			(this.options.tolerance !== "pointer" && this.helperProportions[this.floating ? "width" : "height"] > item[this.floating ? "width" : "height"])
		) {
			return isOverElement;
		} else {

			return (l < x1 + (this.helperProportions.width / 2) && // Right Half
				x2 - (this.helperProportions.width / 2) < r && // Left Half
				t < y1 + (this.helperProportions.height / 2) && // Bottom Half
				y2 - (this.helperProportions.height / 2) < b ); // Top Half

		}
	},

	_intersectsWithPointer: function(item) {

		var isOverElementHeight = (this.options.axis === "x") || this._isOverAxis(this.positionAbs.top + this.offset.click.top, item.top, item.height),
			isOverElementWidth = (this.options.axis === "y") || this._isOverAxis(this.positionAbs.left + this.offset.click.left, item.left, item.width),
			isOverElement = isOverElementHeight && isOverElementWidth,
			verticalDirection = this._getDragVerticalDirection(),
			horizontalDirection = this._getDragHorizontalDirection();

		if (!isOverElement) {
			return false;
		}

		return this.floating ?
			( ((horizontalDirection && horizontalDirection === "right") || verticalDirection === "down") ? 2 : 1 )
			: ( verticalDirection && (verticalDirection === "down" ? 2 : 1) );

	},

	_intersectsWithSides: function(item) {

		var isOverBottomHalf = this._isOverAxis(this.positionAbs.top + this.offset.click.top, item.top + (item.height/2), item.height),
			isOverRightHalf = this._isOverAxis(this.positionAbs.left + this.offset.click.left, item.left + (item.width/2), item.width),
			verticalDirection = this._getDragVerticalDirection(),
			horizontalDirection = this._getDragHorizontalDirection();

		if (this.floating && horizontalDirection) {
			return ((horizontalDirection === "right" && isOverRightHalf) || (horizontalDirection === "left" && !isOverRightHalf));
		} else {
			return verticalDirection && ((verticalDirection === "down" && isOverBottomHalf) || (verticalDirection === "up" && !isOverBottomHalf));
		}

	},

	_getDragVerticalDirection: function() {
		var delta = this.positionAbs.top - this.lastPositionAbs.top;
		return delta !== 0 && (delta > 0 ? "down" : "up");
	},

	_getDragHorizontalDirection: function() {
		var delta = this.positionAbs.left - this.lastPositionAbs.left;
		return delta !== 0 && (delta > 0 ? "right" : "left");
	},

	refresh: function(event) {
		this._refreshItems(event);
		this._setHandleClassName();
		this.refreshPositions();
		return this;
	},

	_connectWith: function() {
		var options = this.options;
		return options.connectWith.constructor === String ? [options.connectWith] : options.connectWith;
	},

	_getItemsAsjQuery: function(connected) {

		var i, j, cur, inst,
			items = [],
			queries = [],
			connectWith = this._connectWith();

		if(connectWith && connected) {
			for (i = connectWith.length - 1; i >= 0; i--){
				cur = $(connectWith[i], this.document[0]);
				for ( j = cur.length - 1; j >= 0; j--){
					inst = $.data(cur[j], this.widgetFullName);
					if(inst && inst !== this && !inst.options.disabled) {
						queries.push([$.isFunction(inst.options.items) ? inst.options.items.call(inst.element) : $(inst.options.items, inst.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), inst]);
					}
				}
			}
		}

		queries.push([$.isFunction(this.options.items) ? this.options.items.call(this.element, null, { options: this.options, item: this.currentItem }) : $(this.options.items, this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), this]);

		function addItems() {
			items.push( this );
		}
		for (i = queries.length - 1; i >= 0; i--){
			queries[i][0].each( addItems );
		}

		return $(items);

	},

	_removeCurrentsFromItems: function() {

		var list = this.currentItem.find(":data(" + this.widgetName + "-item)");

		this.items = $.grep(this.items, function (item) {
			for (var j=0; j < list.length; j++) {
				if(list[j] === item.item[0]) {
					return false;
				}
			}
			return true;
		});

	},

	_refreshItems: function(event) {

		this.items = [];
		this.containers = [this];

		var i, j, cur, inst, targetData, _queries, item, queriesLength,
			items = this.items,
			queries = [[$.isFunction(this.options.items) ? this.options.items.call(this.element[0], event, { item: this.currentItem }) : $(this.options.items, this.element), this]],
			connectWith = this._connectWith();

		if(connectWith && this.ready) { //Shouldn't be run the first time through due to massive slow-down
			for (i = connectWith.length - 1; i >= 0; i--){
				cur = $(connectWith[i], this.document[0]);
				for (j = cur.length - 1; j >= 0; j--){
					inst = $.data(cur[j], this.widgetFullName);
					if(inst && inst !== this && !inst.options.disabled) {
						queries.push([$.isFunction(inst.options.items) ? inst.options.items.call(inst.element[0], event, { item: this.currentItem }) : $(inst.options.items, inst.element), inst]);
						this.containers.push(inst);
					}
				}
			}
		}

		for (i = queries.length - 1; i >= 0; i--) {
			targetData = queries[i][1];
			_queries = queries[i][0];

			for (j=0, queriesLength = _queries.length; j < queriesLength; j++) {
				item = $(_queries[j]);

				item.data(this.widgetName + "-item", targetData); // Data for target checking (mouse manager)

				items.push({
					item: item,
					instance: targetData,
					width: 0, height: 0,
					left: 0, top: 0
				});
			}
		}

	},

	refreshPositions: function(fast) {

		// Determine whether items are being displayed horizontally
		this.floating = this.items.length ?
			this.options.axis === "x" || this._isFloating( this.items[ 0 ].item ) :
			false;

		//This has to be redone because due to the item being moved out/into the offsetParent, the offsetParent's position will change
		if(this.offsetParent && this.helper) {
			this.offset.parent = this._getParentOffset();
		}

		var i, item, t, p;

		for (i = this.items.length - 1; i >= 0; i--){
			item = this.items[i];

			//We ignore calculating positions of all connected containers when we're not over them
			if(item.instance !== this.currentContainer && this.currentContainer && item.item[0] !== this.currentItem[0]) {
				continue;
			}

			t = this.options.toleranceElement ? $(this.options.toleranceElement, item.item) : item.item;

			if (!fast) {
				item.width = t.outerWidth();
				item.height = t.outerHeight();
			}

			p = t.offset();
			item.left = p.left;
			item.top = p.top;
		}

		if(this.options.custom && this.options.custom.refreshContainers) {
			this.options.custom.refreshContainers.call(this);
		} else {
			for (i = this.containers.length - 1; i >= 0; i--){
				p = this.containers[i].element.offset();
				this.containers[i].containerCache.left = p.left;
				this.containers[i].containerCache.top = p.top;
				this.containers[i].containerCache.width = this.containers[i].element.outerWidth();
				this.containers[i].containerCache.height = this.containers[i].element.outerHeight();
			}
		}

		return this;
	},

	_createPlaceholder: function(that) {
		that = that || this;
		var className,
			o = that.options;

		if(!o.placeholder || o.placeholder.constructor === String) {
			className = o.placeholder;
			o.placeholder = {
				element: function() {

					var nodeName = that.currentItem[0].nodeName.toLowerCase(),
						element = $( "<" + nodeName + ">", that.document[0] )
							.addClass(className || that.currentItem[0].className+" ui-sortable-placeholder")
							.removeClass("ui-sortable-helper");

					if ( nodeName === "tbody" ) {
						that._createTrPlaceholder(
							that.currentItem.find( "tr" ).eq( 0 ),
							$( "<tr>", that.document[ 0 ] ).appendTo( element )
						);
					} else if ( nodeName === "tr" ) {
						that._createTrPlaceholder( that.currentItem, element );
					} else if ( nodeName === "img" ) {
						element.attr( "src", that.currentItem.attr( "src" ) );
					}

					if ( !className ) {
						element.css( "visibility", "hidden" );
					}

					return element;
				},
				update: function(container, p) {

					// 1. If a className is set as 'placeholder option, we don't force sizes - the class is responsible for that
					// 2. The option 'forcePlaceholderSize can be enabled to force it even if a class name is specified
					if(className && !o.forcePlaceholderSize) {
						return;
					}

					//If the element doesn't have a actual height by itself (without styles coming from a stylesheet), it receives the inline height from the dragged item
					if(!p.height()) { p.height(that.currentItem.innerHeight() - parseInt(that.currentItem.css("paddingTop")||0, 10) - parseInt(that.currentItem.css("paddingBottom")||0, 10)); }
					if(!p.width()) { p.width(that.currentItem.innerWidth() - parseInt(that.currentItem.css("paddingLeft")||0, 10) - parseInt(that.currentItem.css("paddingRight")||0, 10)); }
				}
			};
		}

		//Create the placeholder
		that.placeholder = $(o.placeholder.element.call(that.element, that.currentItem));

		//Append it after the actual current item
		that.currentItem.after(that.placeholder);

		//Update the size of the placeholder (TODO: Logic to fuzzy, see line 316/317)
		o.placeholder.update(that, that.placeholder);

	},

	_createTrPlaceholder: function( sourceTr, targetTr ) {
		var that = this;

		sourceTr.children().each(function() {
			$( "<td>&#160;</td>", that.document[ 0 ] )
				.attr( "colspan", $( this ).attr( "colspan" ) || 1 )
				.appendTo( targetTr );
		});
	},

	_contactContainers: function(event) {
		var i, j, dist, itemWithLeastDistance, posProperty, sizeProperty, cur, nearBottom, floating, axis,
			innermostContainer = null,
			innermostIndex = null;

		// get innermost container that intersects with item
		for (i = this.containers.length - 1; i >= 0; i--) {

			// never consider a container that's located within the item itself
			if($.contains(this.currentItem[0], this.containers[i].element[0])) {
				continue;
			}

			if(this._intersectsWith(this.containers[i].containerCache)) {

				// if we've already found a container and it's more "inner" than this, then continue
				if(innermostContainer && $.contains(this.containers[i].element[0], innermostContainer.element[0])) {
					continue;
				}

				innermostContainer = this.containers[i];
				innermostIndex = i;

			} else {
				// container doesn't intersect. trigger "out" event if necessary
				if(this.containers[i].containerCache.over) {
					this.containers[i]._trigger("out", event, this._uiHash(this));
					this.containers[i].containerCache.over = 0;
				}
			}

		}

		// if no intersecting containers found, return
		if(!innermostContainer) {
			return;
		}

		// move the item into the container if it's not there already
		if(this.containers.length === 1) {
			if (!this.containers[innermostIndex].containerCache.over) {
				this.containers[innermostIndex]._trigger("over", event, this._uiHash(this));
				this.containers[innermostIndex].containerCache.over = 1;
			}
		} else {

			//When entering a new container, we will find the item with the least distance and append our item near it
			dist = 10000;
			itemWithLeastDistance = null;
			floating = innermostContainer.floating || this._isFloating(this.currentItem);
			posProperty = floating ? "left" : "top";
			sizeProperty = floating ? "width" : "height";
			axis = floating ? "clientX" : "clientY";

			for (j = this.items.length - 1; j >= 0; j--) {
				if(!$.contains(this.containers[innermostIndex].element[0], this.items[j].item[0])) {
					continue;
				}
				if(this.items[j].item[0] === this.currentItem[0]) {
					continue;
				}

				cur = this.items[j].item.offset()[posProperty];
				nearBottom = false;
				if ( event[ axis ] - cur > this.items[ j ][ sizeProperty ] / 2 ) {
					nearBottom = true;
				}

				if ( Math.abs( event[ axis ] - cur ) < dist ) {
					dist = Math.abs( event[ axis ] - cur );
					itemWithLeastDistance = this.items[ j ];
					this.direction = nearBottom ? "up": "down";
				}
			}

			//Check if dropOnEmpty is enabled
			if(!itemWithLeastDistance && !this.options.dropOnEmpty) {
				return;
			}

			if(this.currentContainer === this.containers[innermostIndex]) {
				if ( !this.currentContainer.containerCache.over ) {
					this.containers[ innermostIndex ]._trigger( "over", event, this._uiHash() );
					this.currentContainer.containerCache.over = 1;
				}
				return;
			}

			itemWithLeastDistance ? this._rearrange(event, itemWithLeastDistance, null, true) : this._rearrange(event, null, this.containers[innermostIndex].element, true);
			this._trigger("change", event, this._uiHash());
			this.containers[innermostIndex]._trigger("change", event, this._uiHash(this));
			this.currentContainer = this.containers[innermostIndex];

			//Update the placeholder
			this.options.placeholder.update(this.currentContainer, this.placeholder);

			this.containers[innermostIndex]._trigger("over", event, this._uiHash(this));
			this.containers[innermostIndex].containerCache.over = 1;
		}


	},

	_createHelper: function(event) {

		var o = this.options,
			helper = $.isFunction(o.helper) ? $(o.helper.apply(this.element[0], [event, this.currentItem])) : (o.helper === "clone" ? this.currentItem.clone() : this.currentItem);

		//Add the helper to the DOM if that didn't happen already
		if(!helper.parents("body").length) {
			$(o.appendTo !== "parent" ? o.appendTo : this.currentItem[0].parentNode)[0].appendChild(helper[0]);
		}

		if(helper[0] === this.currentItem[0]) {
			this._storedCSS = { width: this.currentItem[0].style.width, height: this.currentItem[0].style.height, position: this.currentItem.css("position"), top: this.currentItem.css("top"), left: this.currentItem.css("left") };
		}

		if(!helper[0].style.width || o.forceHelperSize) {
			helper.width(this.currentItem.width());
		}
		if(!helper[0].style.height || o.forceHelperSize) {
			helper.height(this.currentItem.height());
		}

		return helper;

	},

	_adjustOffsetFromHelper: function(obj) {
		if (typeof obj === "string") {
			obj = obj.split(" ");
		}
		if ($.isArray(obj)) {
			obj = {left: +obj[0], top: +obj[1] || 0};
		}
		if ("left" in obj) {
			this.offset.click.left = obj.left + this.margins.left;
		}
		if ("right" in obj) {
			this.offset.click.left = this.helperProportions.width - obj.right + this.margins.left;
		}
		if ("top" in obj) {
			this.offset.click.top = obj.top + this.margins.top;
		}
		if ("bottom" in obj) {
			this.offset.click.top = this.helperProportions.height - obj.bottom + this.margins.top;
		}
	},

	_getParentOffset: function() {


		//Get the offsetParent and cache its position
		this.offsetParent = this.helper.offsetParent();
		var po = this.offsetParent.offset();

		// This is a special case where we need to modify a offset calculated on start, since the following happened:
		// 1. The position of the helper is absolute, so it's position is calculated based on the next positioned parent
		// 2. The actual offset parent is a child of the scroll parent, and the scroll parent isn't the document, which means that
		//    the scroll is included in the initial calculation of the offset of the parent, and never recalculated upon drag
		if(this.cssPosition === "absolute" && this.scrollParent[0] !== this.document[0] && $.contains(this.scrollParent[0], this.offsetParent[0])) {
			po.left += this.scrollParent.scrollLeft();
			po.top += this.scrollParent.scrollTop();
		}

		// This needs to be actually done for all browsers, since pageX/pageY includes this information
		// with an ugly IE fix
		if( this.offsetParent[0] === this.document[0].body || (this.offsetParent[0].tagName && this.offsetParent[0].tagName.toLowerCase() === "html" && $.ui.ie)) {
			po = { top: 0, left: 0 };
		}

		return {
			top: po.top + (parseInt(this.offsetParent.css("borderTopWidth"),10) || 0),
			left: po.left + (parseInt(this.offsetParent.css("borderLeftWidth"),10) || 0)
		};

	},

	_getRelativeOffset: function() {

		if(this.cssPosition === "relative") {
			var p = this.currentItem.position();
			return {
				top: p.top - (parseInt(this.helper.css("top"),10) || 0) + this.scrollParent.scrollTop(),
				left: p.left - (parseInt(this.helper.css("left"),10) || 0) + this.scrollParent.scrollLeft()
			};
		} else {
			return { top: 0, left: 0 };
		}

	},

	_cacheMargins: function() {
		this.margins = {
			left: (parseInt(this.currentItem.css("marginLeft"),10) || 0),
			top: (parseInt(this.currentItem.css("marginTop"),10) || 0)
		};
	},

	_cacheHelperProportions: function() {
		this.helperProportions = {
			width: this.helper.outerWidth(),
			height: this.helper.outerHeight()
		};
	},

	_setContainment: function() {

		var ce, co, over,
			o = this.options;
		if(o.containment === "parent") {
			o.containment = this.helper[0].parentNode;
		}
		if(o.containment === "document" || o.containment === "window") {
			this.containment = [
				0 - this.offset.relative.left - this.offset.parent.left,
				0 - this.offset.relative.top - this.offset.parent.top,
				o.containment === "document" ? this.document.width() : this.window.width() - this.helperProportions.width - this.margins.left,
				(o.containment === "document" ? this.document.width() : this.window.height() || this.document[0].body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top
			];
		}

		if(!(/^(document|window|parent)$/).test(o.containment)) {
			ce = $(o.containment)[0];
			co = $(o.containment).offset();
			over = ($(ce).css("overflow") !== "hidden");

			this.containment = [
				co.left + (parseInt($(ce).css("borderLeftWidth"),10) || 0) + (parseInt($(ce).css("paddingLeft"),10) || 0) - this.margins.left,
				co.top + (parseInt($(ce).css("borderTopWidth"),10) || 0) + (parseInt($(ce).css("paddingTop"),10) || 0) - this.margins.top,
				co.left+(over ? Math.max(ce.scrollWidth,ce.offsetWidth) : ce.offsetWidth) - (parseInt($(ce).css("borderLeftWidth"),10) || 0) - (parseInt($(ce).css("paddingRight"),10) || 0) - this.helperProportions.width - this.margins.left,
				co.top+(over ? Math.max(ce.scrollHeight,ce.offsetHeight) : ce.offsetHeight) - (parseInt($(ce).css("borderTopWidth"),10) || 0) - (parseInt($(ce).css("paddingBottom"),10) || 0) - this.helperProportions.height - this.margins.top
			];
		}

	},

	_convertPositionTo: function(d, pos) {

		if(!pos) {
			pos = this.position;
		}
		var mod = d === "absolute" ? 1 : -1,
			scroll = this.cssPosition === "absolute" && !(this.scrollParent[0] !== this.document[0] && $.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent,
			scrollIsRootNode = (/(html|body)/i).test(scroll[0].tagName);

		return {
			top: (
				pos.top	+																// The absolute mouse position
				this.offset.relative.top * mod +										// Only for relative positioned nodes: Relative offset from element to offset parent
				this.offset.parent.top * mod -											// The offsetParent's offset without borders (offset + border)
				( ( this.cssPosition === "fixed" ? -this.scrollParent.scrollTop() : ( scrollIsRootNode ? 0 : scroll.scrollTop() ) ) * mod)
			),
			left: (
				pos.left +																// The absolute mouse position
				this.offset.relative.left * mod +										// Only for relative positioned nodes: Relative offset from element to offset parent
				this.offset.parent.left * mod	-										// The offsetParent's offset without borders (offset + border)
				( ( this.cssPosition === "fixed" ? -this.scrollParent.scrollLeft() : scrollIsRootNode ? 0 : scroll.scrollLeft() ) * mod)
			)
		};

	},

	_generatePosition: function(event) {

		var top, left,
			o = this.options,
			pageX = event.pageX,
			pageY = event.pageY,
			scroll = this.cssPosition === "absolute" && !(this.scrollParent[0] !== this.document[0] && $.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent, scrollIsRootNode = (/(html|body)/i).test(scroll[0].tagName);

		// This is another very weird special case that only happens for relative elements:
		// 1. If the css position is relative
		// 2. and the scroll parent is the document or similar to the offset parent
		// we have to refresh the relative offset during the scroll so there are no jumps
		if(this.cssPosition === "relative" && !(this.scrollParent[0] !== this.document[0] && this.scrollParent[0] !== this.offsetParent[0])) {
			this.offset.relative = this._getRelativeOffset();
		}

		/*
		 * - Position constraining -
		 * Constrain the position to a mix of grid, containment.
		 */

		if(this.originalPosition) { //If we are not dragging yet, we won't check for options

			if(this.containment) {
				if(event.pageX - this.offset.click.left < this.containment[0]) {
					pageX = this.containment[0] + this.offset.click.left;
				}
				if(event.pageY - this.offset.click.top < this.containment[1]) {
					pageY = this.containment[1] + this.offset.click.top;
				}
				if(event.pageX - this.offset.click.left > this.containment[2]) {
					pageX = this.containment[2] + this.offset.click.left;
				}
				if(event.pageY - this.offset.click.top > this.containment[3]) {
					pageY = this.containment[3] + this.offset.click.top;
				}
			}

			if(o.grid) {
				top = this.originalPageY + Math.round((pageY - this.originalPageY) / o.grid[1]) * o.grid[1];
				pageY = this.containment ? ( (top - this.offset.click.top >= this.containment[1] && top - this.offset.click.top <= this.containment[3]) ? top : ((top - this.offset.click.top >= this.containment[1]) ? top - o.grid[1] : top + o.grid[1])) : top;

				left = this.originalPageX + Math.round((pageX - this.originalPageX) / o.grid[0]) * o.grid[0];
				pageX = this.containment ? ( (left - this.offset.click.left >= this.containment[0] && left - this.offset.click.left <= this.containment[2]) ? left : ((left - this.offset.click.left >= this.containment[0]) ? left - o.grid[0] : left + o.grid[0])) : left;
			}

		}

		return {
			top: (
				pageY -																// The absolute mouse position
				this.offset.click.top -													// Click offset (relative to the element)
				this.offset.relative.top	-											// Only for relative positioned nodes: Relative offset from element to offset parent
				this.offset.parent.top +												// The offsetParent's offset without borders (offset + border)
				( ( this.cssPosition === "fixed" ? -this.scrollParent.scrollTop() : ( scrollIsRootNode ? 0 : scroll.scrollTop() ) ))
			),
			left: (
				pageX -																// The absolute mouse position
				this.offset.click.left -												// Click offset (relative to the element)
				this.offset.relative.left	-											// Only for relative positioned nodes: Relative offset from element to offset parent
				this.offset.parent.left +												// The offsetParent's offset without borders (offset + border)
				( ( this.cssPosition === "fixed" ? -this.scrollParent.scrollLeft() : scrollIsRootNode ? 0 : scroll.scrollLeft() ))
			)
		};

	},

	_rearrange: function(event, i, a, hardRefresh) {

		a ? a[0].appendChild(this.placeholder[0]) : i.item[0].parentNode.insertBefore(this.placeholder[0], (this.direction === "down" ? i.item[0] : i.item[0].nextSibling));

		//Various things done here to improve the performance:
		// 1. we create a setTimeout, that calls refreshPositions
		// 2. on the instance, we have a counter variable, that get's higher after every append
		// 3. on the local scope, we copy the counter variable, and check in the timeout, if it's still the same
		// 4. this lets only the last addition to the timeout stack through
		this.counter = this.counter ? ++this.counter : 1;
		var counter = this.counter;

		this._delay(function() {
			if(counter === this.counter) {
				this.refreshPositions(!hardRefresh); //Precompute after each DOM insertion, NOT on mousemove
			}
		});

	},

	_clear: function(event, noPropagation) {

		this.reverting = false;
		// We delay all events that have to be triggered to after the point where the placeholder has been removed and
		// everything else normalized again
		var i,
			delayedTriggers = [];

		// We first have to update the dom position of the actual currentItem
		// Note: don't do it if the current item is already removed (by a user), or it gets reappended (see #4088)
		if(!this._noFinalSort && this.currentItem.parent().length) {
			this.placeholder.before(this.currentItem);
		}
		this._noFinalSort = null;

		if(this.helper[0] === this.currentItem[0]) {
			for(i in this._storedCSS) {
				if(this._storedCSS[i] === "auto" || this._storedCSS[i] === "static") {
					this._storedCSS[i] = "";
				}
			}
			this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper");
		} else {
			this.currentItem.show();
		}

		if(this.fromOutside && !noPropagation) {
			delayedTriggers.push(function(event) { this._trigger("receive", event, this._uiHash(this.fromOutside)); });
		}
		if((this.fromOutside || this.domPosition.prev !== this.currentItem.prev().not(".ui-sortable-helper")[0] || this.domPosition.parent !== this.currentItem.parent()[0]) && !noPropagation) {
			delayedTriggers.push(function(event) { this._trigger("update", event, this._uiHash()); }); //Trigger update callback if the DOM position has changed
		}

		// Check if the items Container has Changed and trigger appropriate
		// events.
		if (this !== this.currentContainer) {
			if(!noPropagation) {
				delayedTriggers.push(function(event) { this._trigger("remove", event, this._uiHash()); });
				delayedTriggers.push((function(c) { return function(event) { c._trigger("receive", event, this._uiHash(this)); };  }).call(this, this.currentContainer));
				delayedTriggers.push((function(c) { return function(event) { c._trigger("update", event, this._uiHash(this));  }; }).call(this, this.currentContainer));
			}
		}


		//Post events to containers
		function delayEvent( type, instance, container ) {
			return function( event ) {
				container._trigger( type, event, instance._uiHash( instance ) );
			};
		}
		for (i = this.containers.length - 1; i >= 0; i--){
			if (!noPropagation) {
				delayedTriggers.push( delayEvent( "deactivate", this, this.containers[ i ] ) );
			}
			if(this.containers[i].containerCache.over) {
				delayedTriggers.push( delayEvent( "out", this, this.containers[ i ] ) );
				this.containers[i].containerCache.over = 0;
			}
		}

		//Do what was originally in plugins
		if ( this.storedCursor ) {
			this.document.find( "body" ).css( "cursor", this.storedCursor );
			this.storedStylesheet.remove();
		}
		if(this._storedOpacity) {
			this.helper.css("opacity", this._storedOpacity);
		}
		if(this._storedZIndex) {
			this.helper.css("zIndex", this._storedZIndex === "auto" ? "" : this._storedZIndex);
		}

		this.dragging = false;

		if(!noPropagation) {
			this._trigger("beforeStop", event, this._uiHash());
		}

		//$(this.placeholder[0]).remove(); would have been the jQuery way - unfortunately, it unbinds ALL events from the original node!
		this.placeholder[0].parentNode.removeChild(this.placeholder[0]);

		if ( !this.cancelHelperRemoval ) {
			if ( this.helper[ 0 ] !== this.currentItem[ 0 ] ) {
				this.helper.remove();
			}
			this.helper = null;
		}

		if(!noPropagation) {
			for (i=0; i < delayedTriggers.length; i++) {
				delayedTriggers[i].call(this, event);
			} //Trigger all delayed events
			this._trigger("stop", event, this._uiHash());
		}

		this.fromOutside = false;
		return !this.cancelHelperRemoval;

	},

	_trigger: function() {
		if ($.Widget.prototype._trigger.apply(this, arguments) === false) {
			this.cancel();
		}
	},

	_uiHash: function(_inst) {
		var inst = _inst || this;
		return {
			helper: inst.helper,
			placeholder: inst.placeholder || $([]),
			position: inst.position,
			originalPosition: inst.originalPosition,
			offset: inst.positionAbs,
			item: inst.currentItem,
			sender: _inst ? _inst.element : null
		};
	}

});

}));



/*!
 * jQuery UI Tabs 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/tabs/
 */

(function( factory ) {
	if ( typeof define === "function" && define.amd ) {

		// AMD. Register as an anonymous module.
		define([
			"jquery",
			"./core",
			"./widget"
		], factory );
	} else {

		// Browser globals
		factory( jQuery );
	}
}(function( $ ) {

return $.widget( "ui.tabs", {
	version: "1.11.4",
	delay: 300,
	options: {
		active: null,
		collapsible: false,
		event: "click",
		heightStyle: "content",
		hide: null,
		show: null,

		// callbacks
		activate: null,
		beforeActivate: null,
		beforeLoad: null,
		load: null
	},

	_isLocal: (function() {
		var rhash = /#.*$/;

		return function( anchor ) {
			var anchorUrl, locationUrl;

			// support: IE7
			// IE7 doesn't normalize the href property when set via script (#9317)
			anchor = anchor.cloneNode( false );

			anchorUrl = anchor.href.replace( rhash, "" );
			locationUrl = location.href.replace( rhash, "" );

			// decoding may throw an error if the URL isn't UTF-8 (#9518)
			try {
				anchorUrl = decodeURIComponent( anchorUrl );
			} catch ( error ) {}
			try {
				locationUrl = decodeURIComponent( locationUrl );
			} catch ( error ) {}

			return anchor.hash.length > 1 && anchorUrl === locationUrl;
		};
	})(),

	_create: function() {
		var that = this,
			options = this.options;

		this.running = false;

		this.element
			.addClass( "ui-tabs ui-widget ui-widget-content ui-corner-all" )
			.toggleClass( "ui-tabs-collapsible", options.collapsible );

		this._processTabs();
		options.active = this._initialActive();

		// Take disabling tabs via class attribute from HTML
		// into account and update option properly.
		if ( $.isArray( options.disabled ) ) {
			options.disabled = $.unique( options.disabled.concat(
				$.map( this.tabs.filter( ".ui-state-disabled" ), function( li ) {
					return that.tabs.index( li );
				})
			) ).sort();
		}

		// check for length avoids error when initializing empty list
		if ( this.options.active !== false && this.anchors.length ) {
			this.active = this._findActive( options.active );
		} else {
			this.active = $();
		}

		this._refresh();

		if ( this.active.length ) {
			this.load( options.active );
		}
	},

	_initialActive: function() {
		var active = this.options.active,
			collapsible = this.options.collapsible,
			locationHash = location.hash.substring( 1 );

		if ( active === null ) {
			// check the fragment identifier in the URL
			if ( locationHash ) {
				this.tabs.each(function( i, tab ) {
					if ( $( tab ).attr( "aria-controls" ) === locationHash ) {
						active = i;
						return false;
					}
				});
			}

			// check for a tab marked active via a class
			if ( active === null ) {
				active = this.tabs.index( this.tabs.filter( ".ui-tabs-active" ) );
			}

			// no active tab, set to false
			if ( active === null || active === -1 ) {
				active = this.tabs.length ? 0 : false;
			}
		}

		// handle numbers: negative, out of range
		if ( active !== false ) {
			active = this.tabs.index( this.tabs.eq( active ) );
			if ( active === -1 ) {
				active = collapsible ? false : 0;
			}
		}

		// don't allow collapsible: false and active: false
		if ( !collapsible && active === false && this.anchors.length ) {
			active = 0;
		}

		return active;
	},

	_getCreateEventData: function() {
		return {
			tab: this.active,
			panel: !this.active.length ? $() : this._getPanelForTab( this.active )
		};
	},

	_tabKeydown: function( event ) {
		var focusedTab = $( this.document[0].activeElement ).closest( "li" ),
			selectedIndex = this.tabs.index( focusedTab ),
			goingForward = true;

		if ( this._handlePageNav( event ) ) {
			return;
		}

		switch ( event.keyCode ) {
			case $.ui.keyCode.RIGHT:
			case $.ui.keyCode.DOWN:
				selectedIndex++;
				break;
			case $.ui.keyCode.UP:
			case $.ui.keyCode.LEFT:
				goingForward = false;
				selectedIndex--;
				break;
			case $.ui.keyCode.END:
				selectedIndex = this.anchors.length - 1;
				break;
			case $.ui.keyCode.HOME:
				selectedIndex = 0;
				break;
			case $.ui.keyCode.SPACE:
				// Activate only, no collapsing
				event.preventDefault();
				clearTimeout( this.activating );
				this._activate( selectedIndex );
				return;
			case $.ui.keyCode.ENTER:
				// Toggle (cancel delayed activation, allow collapsing)
				event.preventDefault();
				clearTimeout( this.activating );
				// Determine if we should collapse or activate
				this._activate( selectedIndex === this.options.active ? false : selectedIndex );
				return;
			default:
				return;
		}

		// Focus the appropriate tab, based on which key was pressed
		event.preventDefault();
		clearTimeout( this.activating );
		selectedIndex = this._focusNextTab( selectedIndex, goingForward );

		// Navigating with control/command key will prevent automatic activation
		if ( !event.ctrlKey && !event.metaKey ) {

			// Update aria-selected immediately so that AT think the tab is already selected.
			// Otherwise AT may confuse the user by stating that they need to activate the tab,
			// but the tab will already be activated by the time the announcement finishes.
			focusedTab.attr( "aria-selected", "false" );
			this.tabs.eq( selectedIndex ).attr( "aria-selected", "true" );

			this.activating = this._delay(function() {
				this.option( "active", selectedIndex );
			}, this.delay );
		}
	},

	_panelKeydown: function( event ) {
		if ( this._handlePageNav( event ) ) {
			return;
		}

		// Ctrl+up moves focus to the current tab
		if ( event.ctrlKey && event.keyCode === $.ui.keyCode.UP ) {
			event.preventDefault();
			this.active.focus();
		}
	},

	// Alt+page up/down moves focus to the previous/next tab (and activates)
	_handlePageNav: function( event ) {
		if ( event.altKey && event.keyCode === $.ui.keyCode.PAGE_UP ) {
			this._activate( this._focusNextTab( this.options.active - 1, false ) );
			return true;
		}
		if ( event.altKey && event.keyCode === $.ui.keyCode.PAGE_DOWN ) {
			this._activate( this._focusNextTab( this.options.active + 1, true ) );
			return true;
		}
	},

	_findNextTab: function( index, goingForward ) {
		var lastTabIndex = this.tabs.length - 1;

		function constrain() {
			if ( index > lastTabIndex ) {
				index = 0;
			}
			if ( index < 0 ) {
				index = lastTabIndex;
			}
			return index;
		}

		while ( $.inArray( constrain(), this.options.disabled ) !== -1 ) {
			index = goingForward ? index + 1 : index - 1;
		}

		return index;
	},

	_focusNextTab: function( index, goingForward ) {
		index = this._findNextTab( index, goingForward );
		this.tabs.eq( index ).focus();
		return index;
	},

	_setOption: function( key, value ) {
		if ( key === "active" ) {
			// _activate() will handle invalid values and update this.options
			this._activate( value );
			return;
		}

		if ( key === "disabled" ) {
			// don't use the widget factory's disabled handling
			this._setupDisabled( value );
			return;
		}

		this._super( key, value);

		if ( key === "collapsible" ) {
			this.element.toggleClass( "ui-tabs-collapsible", value );
			// Setting collapsible: false while collapsed; open first panel
			if ( !value && this.options.active === false ) {
				this._activate( 0 );
			}
		}

		if ( key === "event" ) {
			this._setupEvents( value );
		}

		if ( key === "heightStyle" ) {
			this._setupHeightStyle( value );
		}
	},

	_sanitizeSelector: function( hash ) {
		return hash ? hash.replace( /[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g, "\\$&" ) : "";
	},

	refresh: function() {
		var options = this.options,
			lis = this.tablist.children( ":has(a[href])" );

		// get disabled tabs from class attribute from HTML
		// this will get converted to a boolean if needed in _refresh()
		options.disabled = $.map( lis.filter( ".ui-state-disabled" ), function( tab ) {
			return lis.index( tab );
		});

		this._processTabs();

		// was collapsed or no tabs
		if ( options.active === false || !this.anchors.length ) {
			options.active = false;
			this.active = $();
		// was active, but active tab is gone
		} else if ( this.active.length && !$.contains( this.tablist[ 0 ], this.active[ 0 ] ) ) {
			// all remaining tabs are disabled
			if ( this.tabs.length === options.disabled.length ) {
				options.active = false;
				this.active = $();
			// activate previous tab
			} else {
				this._activate( this._findNextTab( Math.max( 0, options.active - 1 ), false ) );
			}
		// was active, active tab still exists
		} else {
			// make sure active index is correct
			options.active = this.tabs.index( this.active );
		}

		this._refresh();
	},

	_refresh: function() {
		this._setupDisabled( this.options.disabled );
		this._setupEvents( this.options.event );
		this._setupHeightStyle( this.options.heightStyle );

		this.tabs.not( this.active ).attr({
			"aria-selected": "false",
			"aria-expanded": "false",
			tabIndex: -1
		});
		this.panels.not( this._getPanelForTab( this.active ) )
			.hide()
			.attr({
				"aria-hidden": "true"
			});

		// Make sure one tab is in the tab order
		if ( !this.active.length ) {
			this.tabs.eq( 0 ).attr( "tabIndex", 0 );
		} else {
			this.active
				.addClass( "ui-tabs-active ui-state-active" )
				.attr({
					"aria-selected": "true",
					"aria-expanded": "true",
					tabIndex: 0
				});
			this._getPanelForTab( this.active )
				.show()
				.attr({
					"aria-hidden": "false"
				});
		}
	},

	_processTabs: function() {
		var that = this,
			prevTabs = this.tabs,
			prevAnchors = this.anchors,
			prevPanels = this.panels;

		this.tablist = this._getList()
			.addClass( "ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all" )
			.attr( "role", "tablist" )

			// Prevent users from focusing disabled tabs via click
			.delegate( "> li", "mousedown" + this.eventNamespace, function( event ) {
				if ( $( this ).is( ".ui-state-disabled" ) ) {
					event.preventDefault();
				}
			})

			// support: IE <9
			// Preventing the default action in mousedown doesn't prevent IE
			// from focusing the element, so if the anchor gets focused, blur.
			// We don't have to worry about focusing the previously focused
			// element since clicking on a non-focusable element should focus
			// the body anyway.
			.delegate( ".ui-tabs-anchor", "focus" + this.eventNamespace, function() {
				if ( $( this ).closest( "li" ).is( ".ui-state-disabled" ) ) {
					this.blur();
				}
			});

		this.tabs = this.tablist.find( "> li:has(a[href])" )
			.addClass( "ui-state-default ui-corner-top" )
			.attr({
				role: "tab",
				tabIndex: -1
			});

		this.anchors = this.tabs.map(function() {
				return $( "a", this )[ 0 ];
			})
			.addClass( "ui-tabs-anchor" )
			.attr({
				role: "presentation",
				tabIndex: -1
			});

		this.panels = $();

		this.anchors.each(function( i, anchor ) {
			var selector, panel, panelId,
				anchorId = $( anchor ).uniqueId().attr( "id" ),
				tab = $( anchor ).closest( "li" ),
				originalAriaControls = tab.attr( "aria-controls" );

			// inline tab
			if ( that._isLocal( anchor ) ) {
				selector = anchor.hash;
				panelId = selector.substring( 1 );
				panel = that.element.find( that._sanitizeSelector( selector ) );
			// remote tab
			} else {
				// If the tab doesn't already have aria-controls,
				// generate an id by using a throw-away element
				panelId = tab.attr( "aria-controls" ) || $( {} ).uniqueId()[ 0 ].id;
				selector = "#" + panelId;
				panel = that.element.find( selector );
				if ( !panel.length ) {
					panel = that._createPanel( panelId );
					panel.insertAfter( that.panels[ i - 1 ] || that.tablist );
				}
				panel.attr( "aria-live", "polite" );
			}

			if ( panel.length) {
				that.panels = that.panels.add( panel );
			}
			if ( originalAriaControls ) {
				tab.data( "ui-tabs-aria-controls", originalAriaControls );
			}
			tab.attr({
				"aria-controls": panelId,
				"aria-labelledby": anchorId
			});
			panel.attr( "aria-labelledby", anchorId );
		});

		this.panels
			.addClass( "ui-tabs-panel ui-widget-content ui-corner-bottom" )
			.attr( "role", "tabpanel" );

		// Avoid memory leaks (#10056)
		if ( prevTabs ) {
			this._off( prevTabs.not( this.tabs ) );
			this._off( prevAnchors.not( this.anchors ) );
			this._off( prevPanels.not( this.panels ) );
		}
	},

	// allow overriding how to find the list for rare usage scenarios (#7715)
	_getList: function() {
		return this.tablist || this.element.find( "ol,ul" ).eq( 0 );
	},

	_createPanel: function( id ) {
		return $( "<div>" )
			.attr( "id", id )
			.addClass( "ui-tabs-panel ui-widget-content ui-corner-bottom" )
			.data( "ui-tabs-destroy", true );
	},

	_setupDisabled: function( disabled ) {
		if ( $.isArray( disabled ) ) {
			if ( !disabled.length ) {
				disabled = false;
			} else if ( disabled.length === this.anchors.length ) {
				disabled = true;
			}
		}

		// disable tabs
		for ( var i = 0, li; ( li = this.tabs[ i ] ); i++ ) {
			if ( disabled === true || $.inArray( i, disabled ) !== -1 ) {
				$( li )
					.addClass( "ui-state-disabled" )
					.attr( "aria-disabled", "true" );
			} else {
				$( li )
					.removeClass( "ui-state-disabled" )
					.removeAttr( "aria-disabled" );
			}
		}

		this.options.disabled = disabled;
	},

	_setupEvents: function( event ) {
		var events = {};
		if ( event ) {
			$.each( event.split(" "), function( index, eventName ) {
				events[ eventName ] = "_eventHandler";
			});
		}

		this._off( this.anchors.add( this.tabs ).add( this.panels ) );
		// Always prevent the default action, even when disabled
		this._on( true, this.anchors, {
			click: function( event ) {
				event.preventDefault();
			}
		});
		this._on( this.anchors, events );
		this._on( this.tabs, { keydown: "_tabKeydown" } );
		this._on( this.panels, { keydown: "_panelKeydown" } );

		this._focusable( this.tabs );
		this._hoverable( this.tabs );
	},

	_setupHeightStyle: function( heightStyle ) {
		var maxHeight,
			parent = this.element.parent();

		if ( heightStyle === "fill" ) {
			maxHeight = parent.height();
			maxHeight -= this.element.outerHeight() - this.element.height();

			this.element.siblings( ":visible" ).each(function() {
				var elem = $( this ),
					position = elem.css( "position" );

				if ( position === "absolute" || position === "fixed" ) {
					return;
				}
				maxHeight -= elem.outerHeight( true );
			});

			this.element.children().not( this.panels ).each(function() {
				maxHeight -= $( this ).outerHeight( true );
			});

			this.panels.each(function() {
				$( this ).height( Math.max( 0, maxHeight -
					$( this ).innerHeight() + $( this ).height() ) );
			})
			.css( "overflow", "auto" );
		} else if ( heightStyle === "auto" ) {
			maxHeight = 0;
			this.panels.each(function() {
				maxHeight = Math.max( maxHeight, $( this ).height( "" ).height() );
			}).height( maxHeight );
		}
	},

	_eventHandler: function( event ) {
		var options = this.options,
			active = this.active,
			anchor = $( event.currentTarget ),
			tab = anchor.closest( "li" ),
			clickedIsActive = tab[ 0 ] === active[ 0 ],
			collapsing = clickedIsActive && options.collapsible,
			toShow = collapsing ? $() : this._getPanelForTab( tab ),
			toHide = !active.length ? $() : this._getPanelForTab( active ),
			eventData = {
				oldTab: active,
				oldPanel: toHide,
				newTab: collapsing ? $() : tab,
				newPanel: toShow
			};

		event.preventDefault();

		if ( tab.hasClass( "ui-state-disabled" ) ||
				// tab is already loading
				tab.hasClass( "ui-tabs-loading" ) ||
				// can't switch durning an animation
				this.running ||
				// click on active header, but not collapsible
				( clickedIsActive && !options.collapsible ) ||
				// allow canceling activation
				( this._trigger( "beforeActivate", event, eventData ) === false ) ) {
			return;
		}

		options.active = collapsing ? false : this.tabs.index( tab );

		this.active = clickedIsActive ? $() : tab;
		if ( this.xhr ) {
			this.xhr.abort();
		}

		if ( !toHide.length && !toShow.length ) {
			$.error( "jQuery UI Tabs: Mismatching fragment identifier." );
		}

		if ( toShow.length ) {
			this.load( this.tabs.index( tab ), event );
		}
		this._toggle( event, eventData );
	},

	// handles show/hide for selecting tabs
	_toggle: function( event, eventData ) {
		var that = this,
			toShow = eventData.newPanel,
			toHide = eventData.oldPanel;

		this.running = true;

		function complete() {
			that.running = false;
			that._trigger( "activate", event, eventData );
		}

		function show() {
			eventData.newTab.closest( "li" ).addClass( "ui-tabs-active ui-state-active" );

			if ( toShow.length && that.options.show ) {
				that._show( toShow, that.options.show, complete );
			} else {
				toShow.show();
				complete();
			}
		}

		// start out by hiding, then showing, then completing
		if ( toHide.length && this.options.hide ) {
			this._hide( toHide, this.options.hide, function() {
				eventData.oldTab.closest( "li" ).removeClass( "ui-tabs-active ui-state-active" );
				show();
			});
		} else {
			eventData.oldTab.closest( "li" ).removeClass( "ui-tabs-active ui-state-active" );
			toHide.hide();
			show();
		}

		toHide.attr( "aria-hidden", "true" );
		eventData.oldTab.attr({
			"aria-selected": "false",
			"aria-expanded": "false"
		});
		// If we're switching tabs, remove the old tab from the tab order.
		// If we're opening from collapsed state, remove the previous tab from the tab order.
		// If we're collapsing, then keep the collapsing tab in the tab order.
		if ( toShow.length && toHide.length ) {
			eventData.oldTab.attr( "tabIndex", -1 );
		} else if ( toShow.length ) {
			this.tabs.filter(function() {
				return $( this ).attr( "tabIndex" ) === 0;
			})
			.attr( "tabIndex", -1 );
		}

		toShow.attr( "aria-hidden", "false" );
		eventData.newTab.attr({
			"aria-selected": "true",
			"aria-expanded": "true",
			tabIndex: 0
		});
	},

	_activate: function( index ) {
		var anchor,
			active = this._findActive( index );

		// trying to activate the already active panel
		if ( active[ 0 ] === this.active[ 0 ] ) {
			return;
		}

		// trying to collapse, simulate a click on the current active header
		if ( !active.length ) {
			active = this.active;
		}

		anchor = active.find( ".ui-tabs-anchor" )[ 0 ];
		this._eventHandler({
			target: anchor,
			currentTarget: anchor,
			preventDefault: $.noop
		});
	},

	_findActive: function( index ) {
		return index === false ? $() : this.tabs.eq( index );
	},

	_getIndex: function( index ) {
		// meta-function to give users option to provide a href string instead of a numerical index.
		if ( typeof index === "string" ) {
			index = this.anchors.index( this.anchors.filter( "[href$='" + index + "']" ) );
		}

		return index;
	},

	_destroy: function() {
		if ( this.xhr ) {
			this.xhr.abort();
		}

		this.element.removeClass( "ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible" );

		this.tablist
			.removeClass( "ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all" )
			.removeAttr( "role" );

		this.anchors
			.removeClass( "ui-tabs-anchor" )
			.removeAttr( "role" )
			.removeAttr( "tabIndex" )
			.removeUniqueId();

		this.tablist.unbind( this.eventNamespace );

		this.tabs.add( this.panels ).each(function() {
			if ( $.data( this, "ui-tabs-destroy" ) ) {
				$( this ).remove();
			} else {
				$( this )
					.removeClass( "ui-state-default ui-state-active ui-state-disabled " +
						"ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel" )
					.removeAttr( "tabIndex" )
					.removeAttr( "aria-live" )
					.removeAttr( "aria-busy" )
					.removeAttr( "aria-selected" )
					.removeAttr( "aria-labelledby" )
					.removeAttr( "aria-hidden" )
					.removeAttr( "aria-expanded" )
					.removeAttr( "role" );
			}
		});

		this.tabs.each(function() {
			var li = $( this ),
				prev = li.data( "ui-tabs-aria-controls" );
			if ( prev ) {
				li
					.attr( "aria-controls", prev )
					.removeData( "ui-tabs-aria-controls" );
			} else {
				li.removeAttr( "aria-controls" );
			}
		});

		this.panels.show();

		if ( this.options.heightStyle !== "content" ) {
			this.panels.css( "height", "" );
		}
	},

	enable: function( index ) {
		var disabled = this.options.disabled;
		if ( disabled === false ) {
			return;
		}

		if ( index === undefined ) {
			disabled = false;
		} else {
			index = this._getIndex( index );
			if ( $.isArray( disabled ) ) {
				disabled = $.map( disabled, function( num ) {
					return num !== index ? num : null;
				});
			} else {
				disabled = $.map( this.tabs, function( li, num ) {
					return num !== index ? num : null;
				});
			}
		}
		this._setupDisabled( disabled );
	},

	disable: function( index ) {
		var disabled = this.options.disabled;
		if ( disabled === true ) {
			return;
		}

		if ( index === undefined ) {
			disabled = true;
		} else {
			index = this._getIndex( index );
			if ( $.inArray( index, disabled ) !== -1 ) {
				return;
			}
			if ( $.isArray( disabled ) ) {
				disabled = $.merge( [ index ], disabled ).sort();
			} else {
				disabled = [ index ];
			}
		}
		this._setupDisabled( disabled );
	},

	load: function( index, event ) {
		index = this._getIndex( index );
		var that = this,
			tab = this.tabs.eq( index ),
			anchor = tab.find( ".ui-tabs-anchor" ),
			panel = this._getPanelForTab( tab ),
			eventData = {
				tab: tab,
				panel: panel
			},
			complete = function( jqXHR, status ) {
				if ( status === "abort" ) {
					that.panels.stop( false, true );
				}

				tab.removeClass( "ui-tabs-loading" );
				panel.removeAttr( "aria-busy" );

				if ( jqXHR === that.xhr ) {
					delete that.xhr;
				}
			};

		// not remote
		if ( this._isLocal( anchor[ 0 ] ) ) {
			return;
		}

		this.xhr = $.ajax( this._ajaxSettings( anchor, event, eventData ) );

		// support: jQuery <1.8
		// jQuery <1.8 returns false if the request is canceled in beforeSend,
		// but as of 1.8, $.ajax() always returns a jqXHR object.
		if ( this.xhr && this.xhr.statusText !== "canceled" ) {
			tab.addClass( "ui-tabs-loading" );
			panel.attr( "aria-busy", "true" );

			this.xhr
				.done(function( response, status, jqXHR ) {
					// support: jQuery <1.8
					// http://bugs.jquery.com/ticket/11778
					setTimeout(function() {
						panel.html( response );
						that._trigger( "load", event, eventData );

						complete( jqXHR, status );
					}, 1 );
				})
				.fail(function( jqXHR, status ) {
					// support: jQuery <1.8
					// http://bugs.jquery.com/ticket/11778
					setTimeout(function() {
						complete( jqXHR, status );
					}, 1 );
				});
		}
	},

	_ajaxSettings: function( anchor, event, eventData ) {
		var that = this;
		return {
			url: anchor.attr( "href" ),
			beforeSend: function( jqXHR, settings ) {
				return that._trigger( "beforeLoad", event,
					$.extend( { jqXHR: jqXHR, ajaxSettings: settings }, eventData ) );
			}
		};
	},

	_getPanelForTab: function( tab ) {
		var id = $( tab ).attr( "aria-controls" );
		return this.element.find( this._sanitizeSelector( "#" + id ) );
	}
});

}));

(function() {
  window.ActiveAdmin = {};

}).call(this);
(function() {
  $(document).on('ready page:load turbolinks:load', function() {
    $('.batch_actions_selector li a').click(function(e) {
      var message;
      e.stopPropagation();
      e.preventDefault();
      if (message = $(this).data('confirm')) {
        return ActiveAdmin.modal_dialog(message, $(this).data('inputs'), (function(_this) {
          return function(inputs) {
            return $(_this).trigger('confirm:complete', inputs);
          };
        })(this));
      } else {
        return $(this).trigger('confirm:complete');
      }
    });
    $('.batch_actions_selector li a').on('confirm:complete', function(e, inputs) {
      var val;
      if (val = JSON.stringify(inputs)) {
        $('#batch_action_inputs').val(val);
      } else {
        $('#batch_action_inputs').attr('disabled', 'disabled');
      }
      $('#batch_action').val($(this).data('action'));
      return $('#collection_selection').submit();
    });
    if ($(".batch_actions_selector").length && $(":checkbox.toggle_all").length) {
      if ($(".paginated_collection table.index_table").length) {
        $(".paginated_collection table.index_table").tableCheckboxToggler();
      } else {
        $(".paginated_collection").checkboxToggler();
      }
      return $(document).on('change', '.paginated_collection :checkbox', function() {
        if ($(".paginated_collection :checkbox:checked").length) {
          return $(".batch_actions_selector").each(function() {
            return $(this).aaDropdownMenu("enable");
          });
        } else {
          return $(".batch_actions_selector").each(function() {
            return $(this).aaDropdownMenu("disable");
          });
        }
      });
    }
  });

}).call(this);
(function() {
  ActiveAdmin.CheckboxToggler = (function() {
    function CheckboxToggler(options, container) {
      var defaults;
      this.options = options;
      this.container = container;
      defaults = {};
      this.options = $.extend(defaults, this.options);
      this._init();
      this._bind();
    }

    CheckboxToggler.prototype._init = function() {
      if (!this.container) {
        throw new Error('Container element not found');
      } else {
        this.$container = $(this.container);
      }
      if (!this.$container.find('.toggle_all').length) {
        throw new Error('"toggle all" checkbox not found');
      } else {
        this.toggle_all_checkbox = this.$container.find('.toggle_all');
      }
      return this.checkboxes = this.$container.find(':checkbox').not(this.toggle_all_checkbox);
    };

    CheckboxToggler.prototype._bind = function() {
      this.checkboxes.change((function(_this) {
        return function(e) {
          return _this._didChangeCheckbox(e.target);
        };
      })(this));
      return this.toggle_all_checkbox.change((function(_this) {
        return function() {
          return _this._didChangeToggleAllCheckbox();
        };
      })(this));
    };

    CheckboxToggler.prototype._didChangeCheckbox = function(checkbox) {
      switch (this.checkboxes.filter(':checked').length) {
        case this.checkboxes.length - 1:
          return this.toggle_all_checkbox.prop({
            checked: null
          });
        case this.checkboxes.length:
          return this.toggle_all_checkbox.prop({
            checked: true
          });
      }
    };

    CheckboxToggler.prototype._didChangeToggleAllCheckbox = function() {
      var setting;
      setting = this.toggle_all_checkbox.prop('checked') ? true : null;
      return this.checkboxes.each((function(_this) {
        return function(index, el) {
          $(el).prop({
            checked: setting
          });
          return _this._didChangeCheckbox(el);
        };
      })(this));
    };

    CheckboxToggler.prototype.option = function(key, value) {
      if ($.isPlainObject(key)) {
        return this.options = $.extend(true, this.options, key);
      } else if (key != null) {
        return this.options[key];
      } else {
        return this.options[key] = value;
      }
    };

    return CheckboxToggler;

  })();

  $.widget.bridge('checkboxToggler', ActiveAdmin.CheckboxToggler);

}).call(this);
(function() {
  ActiveAdmin.DropdownMenu = (function() {
    function DropdownMenu(options, element) {
      var defaults;
      this.options = options;
      this.element = element;
      this.$element = $(this.element);
      defaults = {
        fadeInDuration: 20,
        fadeOutDuration: 100,
        onClickActionItemCallback: null
      };
      this.options = $.extend(defaults, this.options);
      this.isOpen = false;
      this.$menuButton = this.$element.find('.dropdown_menu_button');
      this.$menuList = this.$element.find('.dropdown_menu_list_wrapper');
      this._buildMenuList();
      this._bind();
    }

    DropdownMenu.prototype.open = function() {
      this.isOpen = true;
      this.$menuList.fadeIn(this.options.fadeInDuration);
      this._position();
      return this;
    };

    DropdownMenu.prototype.close = function() {
      this.isOpen = false;
      this.$menuList.fadeOut(this.options.fadeOutDuration);
      return this;
    };

    DropdownMenu.prototype.destroy = function() {
      this.$element.unbind();
      this.$element = null;
      return this;
    };

    DropdownMenu.prototype.isDisabled = function() {
      return this.$menuButton.hasClass('disabled');
    };

    DropdownMenu.prototype.disable = function() {
      return this.$menuButton.addClass('disabled');
    };

    DropdownMenu.prototype.enable = function() {
      return this.$menuButton.removeClass('disabled');
    };

    DropdownMenu.prototype.option = function(key, value) {
      if ($.isPlainObject(key)) {
        return this.options = $.extend(true, this.options, key);
      } else if (key != null) {
        return this.options[key];
      } else {
        return this.options[key] = value;
      }
    };

    DropdownMenu.prototype._buildMenuList = function() {
      this.$nipple = $('<div class="dropdown_menu_nipple"></div>');
      this.$menuList.prepend(this.$nipple);
      return this.$menuList.hide();
    };

    DropdownMenu.prototype._bind = function() {
      $('body').click((function(_this) {
        return function() {
          if (_this.isOpen) {
            return _this.close();
          }
        };
      })(this));
      return this.$menuButton.click((function(_this) {
        return function() {
          if (!_this.isDisabled()) {
            if (_this.isOpen) {
              _this.close();
            } else {
              _this.open();
            }
          }
          return false;
        };
      })(this));
    };

    DropdownMenu.prototype._position = function() {
      var button_center, button_left, button_right, centered_menu_left, centered_menu_right, menu_center, nipple_center, window_right;
      this.$menuList.css('top', this.$menuButton.position().top + this.$menuButton.outerHeight() + 10);
      button_left = this.$menuButton.position().left;
      button_center = this.$menuButton.outerWidth() / 2;
      button_right = button_left + button_center * 2;
      menu_center = this.$menuList.outerWidth() / 2;
      nipple_center = this.$nipple.outerWidth() / 2;
      window_right = $(window).width();
      centered_menu_left = button_left + button_center - menu_center;
      centered_menu_right = button_left + button_center + menu_center;
      if (centered_menu_left < 0) {
        this.$menuList.css('left', button_left);
        return this.$nipple.css('left', button_center - nipple_center);
      } else if (centered_menu_right > window_right) {
        this.$menuList.css('right', window_right - button_right);
        return this.$nipple.css('right', button_center - nipple_center);
      } else {
        this.$menuList.css('left', centered_menu_left);
        return this.$nipple.css('left', menu_center - nipple_center);
      }
    };

    return DropdownMenu;

  })();

  $.widget.bridge('aaDropdownMenu', ActiveAdmin.DropdownMenu);

  $(document).on('ready page:load turbolinks:load', function() {
    return $('.dropdown_menu').aaDropdownMenu();
  });

}).call(this);
(function() {
  var Flash;

  ActiveAdmin.flash = Flash = (function() {
    Flash.error = function(message, close_after) {
      return new this(message, "error", close_after);
    };

    Flash.notice = function(message, close_after) {
      return new this(message, "notice", close_after);
    };

    Flash.prototype.reference = function() {
      return this.reference;
    };

    function Flash(message1, type, close_after) {
      this.message = message1;
      this.type = type != null ? type : "notice";
      this.reference = jQuery("<div>").addClass("flash flash_" + this.type).text(this.message);
      jQuery(".flashes").append(this.reference);
      if (close_after != null) {
        this.close_after(close_after);
      }
    }

    Flash.prototype.close_after = function(close_after) {
      return setTimeout((function(_this) {
        return function() {
          return _this.close();
        };
      })(this), close_after * 1000);
    };

    Flash.prototype.close = function() {
      return this.reference.remove();
    };

    return Flash;

  })();

}).call(this);
(function() {
  var init_sortable, recompute_positions;

  $(function() {
    $(document).on('click', 'a.button.has_many_remove', function(e) {
      var parent, to_remove;
      e.preventDefault();
      parent = $(this).closest('.has_many_container');
      to_remove = $(this).closest('fieldset');
      recompute_positions(parent);
      parent.trigger('has_many_remove:before', [to_remove, parent]);
      to_remove.remove();
      return parent.trigger('has_many_remove:after', [to_remove, parent]);
    });
    $(document).on('click', 'a.button.has_many_add', function(e) {
      var before_add, fieldset, html, index, parent, regex;
      e.preventDefault();
      parent = $(this).closest('.has_many_container');
      parent.trigger(before_add = $.Event('has_many_add:before'), [parent]);
      if (!before_add.isDefaultPrevented()) {
        index = parent.data('has_many_index') || parent.children('fieldset').length - 1;
        parent.data({
          has_many_index: ++index
        });
        regex = new RegExp($(this).data('placeholder'), 'g');
        html = $(this).data('html').replace(regex, index);
        fieldset = $(html).insertBefore(this);
        recompute_positions(parent);
        return parent.trigger('has_many_add:after', [fieldset, parent]);
      }
    });
    $(document).on('change', '.has_many_container[data-sortable] :input[name$="[_destroy]"]', function() {
      return recompute_positions($(this).closest('.has_many'));
    });
    init_sortable();
    return $(document).on('has_many_add:after', '.has_many_container', init_sortable);
  });

  init_sortable = function() {
    var elems;
    elems = $('.has_many_container[data-sortable]:not(.ui-sortable)');
    elems.sortable({
      items: '> fieldset',
      handle: '> ol > .handle',
      stop: recompute_positions
    });
    return elems.each(recompute_positions);
  };

  recompute_positions = function(parent) {
    var input_name, position;
    parent = parent instanceof jQuery ? parent : $(this);
    input_name = parent.data('sortable');
    position = parseInt(parent.data('sortable-start') || 0, 10);
    return parent.children('fieldset').each(function() {
      var destroy_input, sortable_input;
      destroy_input = $(this).find("> ol > .input > :input[name$='[_destroy]']");
      sortable_input = $(this).find("> ol > .input > :input[name$='[" + input_name + "]']");
      if (sortable_input.length) {
        return sortable_input.val(destroy_input.is(':checked') ? '' : position++);
      }
    });
  };

}).call(this);
(function() {
  ActiveAdmin.modal_dialog = function(message, inputs, callback) {
    var $elem, elem, form, html, klass, name, opts, ref, ref1, type, v, wrapper;
    html = "<form id=\"dialog_confirm\" title=\"" + message + "\"><ul>";
    for (name in inputs) {
      type = inputs[name];
      if (/^(datepicker|checkbox|text)$/.test(type)) {
        wrapper = 'input';
      } else if (type === 'textarea') {
        wrapper = 'textarea';
      } else if ($.isArray(type)) {
        ref = ['select', 'option', type, ''], wrapper = ref[0], elem = ref[1], opts = ref[2], type = ref[3];
      } else {
        throw new Error("Unsupported input type: {" + name + ": " + type + "}");
      }
      klass = type === 'datepicker' ? type : '';
      html += ("<li>\n<label>" + (name.charAt(0).toUpperCase() + name.slice(1)) + "</label>\n<" + wrapper + " name=\"" + name + "\" class=\"" + klass + "\" type=\"" + type + "\">") + (opts ? ((function() {
        var i, len, results;
        results = [];
        for (i = 0, len = opts.length; i < len; i++) {
          v = opts[i];
          $elem = $("<" + elem + "/>");
          if ($.isArray(v)) {
            $elem.text(v[0]).val(v[1]);
          } else {
            $elem.text(v);
          }
          results.push($elem.wrap('<div>').parent().html());
        }
        return results;
      })()).join('') : '') + ("</" + wrapper + ">") + "</li>";
      ref1 = [], wrapper = ref1[0], elem = ref1[1], opts = ref1[2], type = ref1[3], klass = ref1[4];
    }
    html += "</ul></form>";
    form = $(html).appendTo('body');
    $('body').trigger('modal_dialog:before_open', [form]);
    return form.dialog({
      modal: true,
      open: function(event, ui) {
        return $('body').trigger('modal_dialog:after_open', [form]);
      },
      dialogClass: 'active_admin_dialog',
      buttons: {
        OK: function() {
          callback($(this).serializeObject());
          return $(this).dialog('close');
        },
        Cancel: function() {
          return $(this).dialog('close').remove();
        }
      }
    });
  };

}).call(this);
(function() {
  ActiveAdmin.PerPage = (function() {
    function PerPage(options, element) {
      this.options = options;
      this.element = element;
      this.$element = $(this.element);
      this._init();
      this._bind();
    }

    PerPage.prototype._init = function() {
      return this.$params = this._queryParams();
    };

    PerPage.prototype._bind = function() {
      return this.$element.change((function(_this) {
        return function() {
          _this.$params['per_page'] = _this.$element.val();
          delete _this.$params['page'];
          if (typeof Turbolinks !== 'undefined') {
            return Turbolinks.visit(window.location.href.split('?')[0] + '?' + $.param(_this.$params));
          } else {
            return location.search = $.param(_this.$params);
          }
        };
      })(this));
    };

    PerPage.prototype._queryParams = function() {
      var m, params, query, re;
      query = window.location.search.substring(1);
      params = {};
      re = /([^&=]+)=([^&]*)/g;
      while (m = re.exec(query)) {
        params[this._decode(m[1])] = this._decode(m[2]);
      }
      return params;
    };

    PerPage.prototype._decode = function(value) {
      return decodeURIComponent(value.replace(/\+/g, '%20'));
    };

    PerPage.prototype.option = function(key, value) {
      if ($.isPlainObject(key)) {
        return this.options = $.extend(true, this.options, key);
      } else if (key != null) {
        return this.options[key];
      } else {
        return this.options[key] = value;
      }
    };

    return PerPage;

  })();

  $.widget.bridge('perPage', ActiveAdmin.PerPage);

  $(document).on('ready page:load turbolinks:load', function() {
    return $('.pagination_per_page select').perPage();
  });

}).call(this);
(function() {
  var extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    hasProp = {}.hasOwnProperty;

  ActiveAdmin.TableCheckboxToggler = (function(superClass) {
    extend(TableCheckboxToggler, superClass);

    function TableCheckboxToggler() {
      return TableCheckboxToggler.__super__.constructor.apply(this, arguments);
    }

    TableCheckboxToggler.prototype._init = function() {
      return TableCheckboxToggler.__super__._init.apply(this, arguments);
    };

    TableCheckboxToggler.prototype._bind = function() {
      TableCheckboxToggler.__super__._bind.apply(this, arguments);
      return this.$container.find('tbody td').click((function(_this) {
        return function(e) {
          if (e.target.type !== 'checkbox') {
            return _this._didClickCell(e.target);
          }
        };
      })(this));
    };

    TableCheckboxToggler.prototype._didChangeCheckbox = function(checkbox) {
      var $row;
      TableCheckboxToggler.__super__._didChangeCheckbox.apply(this, arguments);
      $row = $(checkbox).parents('tr');
      if (checkbox.checked) {
        return $row.addClass('selected');
      } else {
        return $row.removeClass('selected');
      }
    };

    TableCheckboxToggler.prototype._didClickCell = function(cell) {
      return $(cell).parent('tr').find(':checkbox').click();
    };

    return TableCheckboxToggler;

  })(ActiveAdmin.CheckboxToggler);

  $.widget.bridge('tableCheckboxToggler', ActiveAdmin.TableCheckboxToggler);

}).call(this);
(function() {
  $.ui.dialog.prototype._focusTabbable = function() {
    return this.uiDialog.focus();
  };

}).call(this);
(function() {
  $.fn.serializeObject = function() {
    var i, len, o, obj, ref;
    obj = {};
    ref = this.serializeArray();
    for (i = 0, len = ref.length; i < len; i++) {
      o = ref[i];
      obj[o.name] = o.value;
    }
    return obj;
  };

}).call(this);
(function() {
  $(document).on('ready page:load turbolinks:load', function() {
    var batch_actions_selector;
    if ((batch_actions_selector = $('.table_tools .batch_actions_selector')).length) {
      return batch_actions_selector.next().css({
        width: "calc(100% - 10px - " + (batch_actions_selector.outerWidth()) + "px)",
        'float': 'right'
      });
    }
  });

}).call(this);
(function() {
  $(document).on('ready page:load turbolinks:load', function() {
    return $(document).on('focus', 'input.datepicker:not(.hasDatepicker)', function() {
      var defaults, input, options;
      input = $(this);
      if (input[0].type === 'date') {
        return;
      }
      defaults = {
        dateFormat: 'yy-mm-dd'
      };
      options = input.data('datepicker-options');
      return input.datepicker($.extend(defaults, options));
    });
  });

}).call(this);
(function() {
  $(document).on('ready page:load turbolinks:load', function() {
    $('.clear_filters_btn').click(function(e) {
      var param, params, regex;
      params = window.location.search.slice(1).split('&');
      regex = /^(q\[|q%5B|q%5b|page|commit)/;
      if (typeof Turbolinks !== 'undefined') {
        Turbolinks.visit(window.location.href.split('?')[0] + '?' + ((function() {
          var i, len, results;
          results = [];
          for (i = 0, len = params.length; i < len; i++) {
            param = params[i];
            if (!param.match(regex)) {
              results.push(param);
            }
          }
          return results;
        })()).join('&'));
        return e.preventDefault();
      } else {
        return window.location.search = ((function() {
          var i, len, results;
          results = [];
          for (i = 0, len = params.length; i < len; i++) {
            param = params[i];
            if (!param.match(regex)) {
              results.push(param);
            }
          }
          return results;
        })()).join('&');
      }
    });
    $('.filter_form').submit(function(e) {
      $(this).find(':input').filter(function() {
        return this.value === '';
      }).prop('disabled', true);
      if (typeof Turbolinks !== 'undefined') {
        Turbolinks.visit(window.location.href.split('?')[0] + '?' + $(this).serialize());
        return e.preventDefault();
      }
    });
    return $('.filter_form_field.select_and_search select').change(function() {
      return $(this).siblings('input').prop({
        name: "q[" + this.value + "]"
      });
    });
  });

}).call(this);
(function() {
  $(document).on('ready page:load turbolinks:load', function() {
    return $('#active_admin_content .tabs').tabs();
  });

}).call(this);
(function() {


}).call(this);
(function() {


}).call(this);
(function() {

    var width, height, largeHeader, canvas, ctx, circles, target, animateHeader = true;

    // Main
    initHeader();
    addListeners();

    function initHeader() {
        width = window.innerWidth;
        height = window.innerHeight;
        target = {x: 0, y: height};

        largeHeader = document.getElementById('demo-canvas');
        largeHeader.style.height = height+'px';

        canvas = document.getElementById('demo-canvas');
        canvas.width = width;
        canvas.height = height;
        ctx = canvas.getContext('2d');

        // create particles
        circles = [];
        for(var x = 0; x < width*0.5; x++) {
            var c = new Circle();
            circles.push(c);
        }

        animate();

        var t = jQuery(this),
            button  = t.find('.button');

        button.click(function(e) {
        animateHeader = false;
        });
    }

    // Event handling
    function addListeners() {
        window.addEventListener('scroll', scrollCheck);
        window.addEventListener('resize', resize);
    }

    function scrollCheck() {
        if(document.body.scrollTop > height) animateHeader = false;
        else animateHeader = true;
    }

    function resize() {
        width = window.innerWidth;
        height = window.innerHeight;
        largeHeader.style.height = height+'px';
        canvas.width = width;
        canvas.height = height;
    }

    function animate() {
        if(animateHeader) {
            ctx.clearRect(0,0,width,height);
            for(var i in circles) {
                circles[i].draw();
            }
        }
        requestAnimationFrame(animate);
    }

    // Canvas manipulation
    function Circle() {
        var _this = this;

        // constructor
        (function() {
            _this.pos = {};
            init();
            console.log(_this);
        })();

        function init() {
            _this.pos.x = Math.random()*width;
            _this.pos.y = height+Math.random()*100;
            _this.alpha = 0.1+Math.random()*0.3;
            _this.scale = 0.1+Math.random()*0.3;
            _this.velocity = Math.random();
        }

        this.draw = function() {
            if(_this.alpha <= 0) {
                init();
            }
            _this.pos.y -= _this.velocity;
            _this.alpha -= 0.0005;
            ctx.beginPath();
            ctx.arc(_this.pos.x, _this.pos.y, _this.scale*10, 0, 2 * Math.PI, false);
            ctx.fillStyle = 'rgba(255,255,255,'+ _this.alpha+')';
            ctx.fill();
        };
    }

})();
/*! jQuery v1.11.3 | (c) 2005, 2015 jQuery Foundation, Inc. | jquery.org/license */

!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l="1.11.3",m=function(a,b){return new m.fn.init(a,b)},n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,o=/^-ms-/,p=/-([\da-z])/gi,q=function(a,b){return b.toUpperCase()};m.fn=m.prototype={jquery:l,constructor:m,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=m.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return m.each(this,a,b)},map:function(a){return this.pushStack(m.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},m.extend=m.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||m.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(m.isPlainObject(c)||(b=m.isArray(c)))?(b?(b=!1,f=a&&m.isArray(a)?a:[]):f=a&&m.isPlainObject(a)?a:{},g[d]=m.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},m.extend({expando:"jQuery"+(l+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===m.type(a)},isArray:Array.isArray||function(a){return"array"===m.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!m.isArray(a)&&a-parseFloat(a)+1>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==m.type(a)||a.nodeType||m.isWindow(a))return!1;try{if(a.constructor&&!j.call(a,"constructor")&&!j.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(k.ownLast)for(b in a)return j.call(a,b);for(b in a);return void 0===b||j.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(b){b&&m.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(o,"ms-").replace(p,q)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=r(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(n,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(r(Object(a))?m.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(g)return g.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(c>d)a[e++]=b[d++];if(c!==c)while(void 0!==b[d])a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=r(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(f=a[b],b=a,a=f),m.isFunction(a)?(c=d.call(arguments,2),e=function(){return a.apply(b||this,c.concat(d.call(arguments)))},e.guid=a.guid=a.guid||m.guid++,e):void 0},now:function(){return+new Date},support:k}),m.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function r(a){var b="length"in a&&a.length,c=m.type(a);return"function"===c||m.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var s=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N=M.replace("w","w#"),O="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+L+"*\\]",P=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",Q=new RegExp(L+"+","g"),R=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),S=new RegExp("^"+L+"*,"+L+"*"),T=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),U=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),V=new RegExp(P),W=new RegExp("^"+N+"$"),X={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+P),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,aa=/[+~]/,ba=/'|\\/g,ca=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),da=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ea=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(fa){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function ga(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],k=b.nodeType,"string"!=typeof a||!a||1!==k&&9!==k&&11!==k)return d;if(!e&&p){if(11!==k&&(f=_.exec(a)))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return H.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName)return H.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=1!==k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute("id"))?s=r.replace(ba,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;while(l--)o[l]=s+ra(o[l]);w=aa.test(a)&&pa(b.parentNode)||b,x=o.join(",")}if(x)try{return H.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}return i(a.replace(R,"$1"),b,d,e)}function ha(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ia(a){return a[u]=!0,a}function ja(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ka(a,b){var c=a.split("|"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function la(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function na(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function oa(a){return ia(function(b){return b=+b,ia(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function pa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=ga.support={},f=ga.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=ga.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=g.documentElement,e=g.defaultView,e&&e!==e.top&&(e.addEventListener?e.addEventListener("unload",ea,!1):e.attachEvent&&e.attachEvent("onunload",ea)),p=!f(g),c.attributes=ja(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ja(function(a){return a.appendChild(g.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(g.getElementsByClassName),c.getById=ja(function(a){return o.appendChild(a).id=u,!g.getElementsByName||!g.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(g.querySelectorAll))&&(ja(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ja(function(a){var b=g.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ja(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",P)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===g||a.ownerDocument===v&&t(v,a)?-1:b===g||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===g?-1:b===g?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return la(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)i.unshift(c);while(h[d]===i[d])d++;return d?la(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},g):n},ga.matches=function(a,b){return ga(a,null,null,b)},ga.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return ga(b,n,null,[a]).length>0},ga.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},ga.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},ga.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},ga.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=ga.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=ga.selectors={cacheLength:50,createPseudo:ia,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ca,da),a[3]=(a[3]||a[4]||a[5]||"").replace(ca,da),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||ga.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&ga.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ca,da).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=ga.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(Q," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||ga.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ia(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ia(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?ia(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ia(function(a){return function(b){return ga(a,b).length>0}}),contains:ia(function(a){return a=a.replace(ca,da),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ia(function(a){return W.test(a||"")||ga.error("unsupported lang: "+a),a=a.replace(ca,da).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:oa(function(){return[0]}),last:oa(function(a,b){return[b-1]}),eq:oa(function(a,b,c){return[0>c?c+b:c]}),even:oa(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:oa(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:oa(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:oa(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=ma(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=na(b);function qa(){}qa.prototype=d.filters=d.pseudos,d.setFilters=new qa,g=ga.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?ga.error(a):z(a,i).slice(0)};function ra(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function sa(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function ta(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ua(a,b,c){for(var d=0,e=b.length;e>d;d++)ga(a,b[d],c);return c}function va(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function wa(a,b,c,d,e,f){return d&&!d[u]&&(d=wa(d)),e&&!e[u]&&(e=wa(e,f)),ia(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ua(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:va(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=va(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=va(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function xa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=sa(function(a){return a===b},h,!0),l=sa(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[sa(ta(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return wa(i>1&&ta(m),i>1&&ra(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&xa(a.slice(i,e)),f>e&&xa(a=a.slice(e)),f>e&&ra(a))}m.push(c)}return ta(m)}function ya(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++])if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++])o(r,s,g,h);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=F.call(i));s=va(s)}H.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&ga.uniqueSort(i)}return k&&(w=v,j=t),r};return c?ia(f):f}return h=ga.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=xa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,ya(e,d)),f.selector=a}return f},i=ga.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ca,da),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ca,da),aa.test(j[0].type)&&pa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&ra(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,aa.test(a)&&pa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ja(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ja(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ka("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ja(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ka("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ja(function(a){return null==a.getAttribute("disabled")})||ka(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),ga}(a);m.find=s,m.expr=s.selectors,m.expr[":"]=m.expr.pseudos,m.unique=s.uniqueSort,m.text=s.getText,m.isXMLDoc=s.isXML,m.contains=s.contains;var t=m.expr.match.needsContext,u=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,v=/^.[^:#\[\.,]*$/;function w(a,b,c){if(m.isFunction(b))return m.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return m.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(v.test(b))return m.filter(b,a,c);b=m.filter(b,a)}return m.grep(a,function(a){return m.inArray(a,b)>=0!==c})}m.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?m.find.matchesSelector(d,a)?[d]:[]:m.find.matches(a,m.grep(b,function(a){return 1===a.nodeType}))},m.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(m(a).filter(function(){for(b=0;e>b;b++)if(m.contains(d[b],this))return!0}));for(b=0;e>b;b++)m.find(a,d[b],c);return c=this.pushStack(e>1?m.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(w(this,a||[],!1))},not:function(a){return this.pushStack(w(this,a||[],!0))},is:function(a){return!!w(this,"string"==typeof a&&t.test(a)?m(a):a||[],!1).length}});var x,y=a.document,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=m.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||x).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof m?b[0]:b,m.merge(this,m.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:y,!0)),u.test(c[1])&&m.isPlainObject(b))for(c in b)m.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}if(d=y.getElementById(c[2]),d&&d.parentNode){if(d.id!==c[2])return x.find(a);this.length=1,this[0]=d}return this.context=y,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):m.isFunction(a)?"undefined"!=typeof x.ready?x.ready(a):a(m):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),m.makeArray(a,this))};A.prototype=m.fn,x=m(y);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};m.extend({dir:function(a,b,c){var d=[],e=a[b];while(e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!m(e).is(c)))1===e.nodeType&&d.push(e),e=e[b];return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),m.fn.extend({has:function(a){var b,c=m(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(m.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=t.test(a)||"string"!=typeof a?m(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&m.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?m.unique(f):f)},index:function(a){return a?"string"==typeof a?m.inArray(this[0],m(a)):m.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(m.unique(m.merge(this.get(),m(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}m.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return m.dir(a,"parentNode")},parentsUntil:function(a,b,c){return m.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return m.dir(a,"nextSibling")},prevAll:function(a){return m.dir(a,"previousSibling")},nextUntil:function(a,b,c){return m.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return m.dir(a,"previousSibling",c)},siblings:function(a){return m.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return m.sibling(a.firstChild)},contents:function(a){return m.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:m.merge([],a.childNodes)}},function(a,b){m.fn[a]=function(c,d){var e=m.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=m.filter(d,e)),this.length>1&&(C[a]||(e=m.unique(e)),B.test(a)&&(e=e.reverse())),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return m.each(a.match(E)||[],function(a,c){b[c]=!0}),b}m.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):m.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(c=a.memory&&l,d=!0,f=g||0,g=0,e=h.length,b=!0;h&&e>f;f++)if(h[f].apply(l[0],l[1])===!1&&a.stopOnFalse){c=!1;break}b=!1,h&&(i?i.length&&j(i.shift()):c?h=[]:k.disable())},k={add:function(){if(h){var d=h.length;!function f(b){m.each(b,function(b,c){var d=m.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),b?e=h.length:c&&(g=d,j(c))}return this},remove:function(){return h&&m.each(arguments,function(a,c){var d;while((d=m.inArray(c,h,d))>-1)h.splice(d,1),b&&(e>=d&&e--,f>=d&&f--)}),this},has:function(a){return a?m.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],e=0,this},disable:function(){return h=i=c=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,c||k.disable(),this},locked:function(){return!i},fireWith:function(a,c){return!h||d&&!i||(c=c||[],c=[a,c.slice?c.slice():c],b?i.push(c):j(c)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},m.extend({Deferred:function(a){var b=[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return m.Deferred(function(c){m.each(b,function(b,f){var g=m.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&m.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?m.extend(a,d):d}},e={};return d.pipe=d.then,m.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&m.isFunction(a.promise)?e:0,g=1===f?a:m.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&m.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;m.fn.ready=function(a){return m.ready.promise().done(a),this},m.extend({isReady:!1,readyWait:1,holdReady:function(a){a?m.readyWait++:m.ready(!0)},ready:function(a){if(a===!0?!--m.readyWait:!m.isReady){if(!y.body)return setTimeout(m.ready);m.isReady=!0,a!==!0&&--m.readyWait>0||(H.resolveWith(y,[m]),m.fn.triggerHandler&&(m(y).triggerHandler("ready"),m(y).off("ready")))}}});function I(){y.addEventListener?(y.removeEventListener("DOMContentLoaded",J,!1),a.removeEventListener("load",J,!1)):(y.detachEvent("onreadystatechange",J),a.detachEvent("onload",J))}function J(){(y.addEventListener||"load"===event.type||"complete"===y.readyState)&&(I(),m.ready())}m.ready.promise=function(b){if(!H)if(H=m.Deferred(),"complete"===y.readyState)setTimeout(m.ready);else if(y.addEventListener)y.addEventListener("DOMContentLoaded",J,!1),a.addEventListener("load",J,!1);else{y.attachEvent("onreadystatechange",J),a.attachEvent("onload",J);var c=!1;try{c=null==a.frameElement&&y.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!m.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}I(),m.ready()}}()}return H.promise(b)};var K="undefined",L;for(L in m(k))break;k.ownLast="0"!==L,k.inlineBlockNeedsLayout=!1,m(function(){var a,b,c,d;c=y.getElementsByTagName("body")[0],c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",k.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(d))}),function(){var a=y.createElement("div");if(null==k.deleteExpando){k.deleteExpando=!0;try{delete a.test}catch(b){k.deleteExpando=!1}}a=null}(),m.acceptData=function(a){var b=m.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute("classid")===b};var M=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,N=/([A-Z])/g;function O(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(N,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:M.test(c)?m.parseJSON(c):c}catch(e){}m.data(a,b,c)}else c=void 0}return c}function P(a){var b;for(b in a)if(("data"!==b||!m.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;

return!0}function Q(a,b,d,e){if(m.acceptData(a)){var f,g,h=m.expando,i=a.nodeType,j=i?m.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||void 0!==d||"string"!=typeof b)return k||(k=i?a[h]=c.pop()||m.guid++:h),j[k]||(j[k]=i?{}:{toJSON:m.noop}),("object"==typeof b||"function"==typeof b)&&(e?j[k]=m.extend(j[k],b):j[k].data=m.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&&(g[m.camelCase(b)]=d),"string"==typeof b?(f=g[b],null==f&&(f=g[m.camelCase(b)])):f=g,f}}function R(a,b,c){if(m.acceptData(a)){var d,e,f=a.nodeType,g=f?m.cache:a,h=f?a[m.expando]:m.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){m.isArray(b)?b=b.concat(m.map(b,m.camelCase)):b in d?b=[b]:(b=m.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;while(e--)delete d[b[e]];if(c?!P(d):!m.isEmptyObject(d))return}(c||(delete g[h].data,P(g[h])))&&(f?m.cleanData([a],!0):k.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}m.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?m.cache[a[m.expando]]:a[m.expando],!!a&&!P(a)},data:function(a,b,c){return Q(a,b,c)},removeData:function(a,b){return R(a,b)},_data:function(a,b,c){return Q(a,b,c,!0)},_removeData:function(a,b){return R(a,b,!0)}}),m.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=m.data(f),1===f.nodeType&&!m._data(f,"parsedAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=m.camelCase(d.slice(5)),O(f,d,e[d])));m._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){m.data(this,a)}):arguments.length>1?this.each(function(){m.data(this,a,b)}):f?O(f,a,m.data(f,a)):void 0},removeData:function(a){return this.each(function(){m.removeData(this,a)})}}),m.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=m._data(a,b),c&&(!d||m.isArray(c)?d=m._data(a,b,m.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=m.queue(a,b),d=c.length,e=c.shift(),f=m._queueHooks(a,b),g=function(){m.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return m._data(a,c)||m._data(a,c,{empty:m.Callbacks("once memory").add(function(){m._removeData(a,b+"queue"),m._removeData(a,c)})})}}),m.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?m.queue(this[0],a):void 0===b?this:this.each(function(){var c=m.queue(this,a,b);m._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&m.dequeue(this,a)})},dequeue:function(a){return this.each(function(){m.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=m.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=m._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=["Top","Right","Bottom","Left"],U=function(a,b){return a=b||a,"none"===m.css(a,"display")||!m.contains(a.ownerDocument,a)},V=m.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===m.type(c)){e=!0;for(h in c)m.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,m.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(m(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},W=/^(?:checkbox|radio)$/i;!function(){var a=y.createElement("input"),b=y.createElement("div"),c=y.createDocumentFragment();if(b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",k.leadingWhitespace=3===b.firstChild.nodeType,k.tbody=!b.getElementsByTagName("tbody").length,k.htmlSerialize=!!b.getElementsByTagName("link").length,k.html5Clone="<:nav></:nav>"!==y.createElement("nav").cloneNode(!0).outerHTML,a.type="checkbox",a.checked=!0,c.appendChild(a),k.appendChecked=a.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,c.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,k.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){k.noCloneEvent=!1}),b.cloneNode(!0).click()),null==k.deleteExpando){k.deleteExpando=!0;try{delete b.test}catch(d){k.deleteExpando=!1}}}(),function(){var b,c,d=y.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(k[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),k[b+"Bubbles"]=d.attributes[c].expando===!1);d=null}();var X=/^(?:input|select|textarea)$/i,Y=/^key/,Z=/^(?:mouse|pointer|contextmenu)|click/,$=/^(?:focusinfocus|focusoutblur)$/,_=/^([^.]*)(?:\.(.+)|)$/;function aa(){return!0}function ba(){return!1}function ca(){try{return y.activeElement}catch(a){}}m.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m._data(a);if(r){c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=m.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return typeof m===K||a&&m.event.triggered===a.type?void 0:m.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(E)||[""],h=b.length;while(h--)f=_.exec(b[h])||[],o=q=f[1],p=(f[2]||"").split(".").sort(),o&&(j=m.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=m.event.special[o]||{},l=m.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&m.expr.match.needsContext.test(e),namespace:p.join(".")},i),(n=g[o])||(n=g[o]=[],n.delegateCount=0,j.setup&&j.setup.call(a,d,p,k)!==!1||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent("on"+o,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?n.splice(n.delegateCount++,0,l):n.push(l),m.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m.hasData(a)&&m._data(a);if(r&&(k=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--)if(h=_.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=m.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,n=k[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=n.length;while(f--)g=n[f],!e&&q!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(n.splice(f,1),g.selector&&n.delegateCount--,l.remove&&l.remove.call(a,g));i&&!n.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||m.removeEvent(a,o,r.handle),delete k[o])}else for(o in k)m.event.remove(a,o+b[j],c,d,!0);m.isEmptyObject(k)&&(delete r.handle,m._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,l,n,o=[d||y],p=j.call(b,"type")?b.type:b,q=j.call(b,"namespace")?b.namespace.split("."):[];if(h=l=d=d||y,3!==d.nodeType&&8!==d.nodeType&&!$.test(p+m.event.triggered)&&(p.indexOf(".")>=0&&(q=p.split("."),p=q.shift(),q.sort()),g=p.indexOf(":")<0&&"on"+p,b=b[m.expando]?b:new m.Event(p,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=q.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:m.makeArray(c,[b]),k=m.event.special[p]||{},e||!k.trigger||k.trigger.apply(d,c)!==!1)){if(!e&&!k.noBubble&&!m.isWindow(d)){for(i=k.delegateType||p,$.test(i+p)||(h=h.parentNode);h;h=h.parentNode)o.push(h),l=h;l===(d.ownerDocument||y)&&o.push(l.defaultView||l.parentWindow||a)}n=0;while((h=o[n++])&&!b.isPropagationStopped())b.type=n>1?i:k.bindType||p,f=(m._data(h,"events")||{})[b.type]&&m._data(h,"handle"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&m.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault());if(b.type=p,!e&&!b.isDefaultPrevented()&&(!k._default||k._default.apply(o.pop(),c)===!1)&&m.acceptData(d)&&g&&d[p]&&!m.isWindow(d)){l=d[g],l&&(d[g]=null),m.event.triggered=p;try{d[p]()}catch(r){}m.event.triggered=void 0,l&&(d[g]=l)}return b.result}},dispatch:function(a){a=m.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(m._data(this,"events")||{})[a.type]||[],k=m.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=m.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,g=0;while((e=f.handlers[g++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,c=((m.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),void 0!==c&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(e=[],f=0;h>f;f++)d=b[f],c=d.selector+" ",void 0===e[c]&&(e[c]=d.needsContext?m(c,this).index(i)>=0:m.find(c,this,null,[i]).length),e[c]&&e.push(d);e.length&&g.push({elem:i,handlers:e})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[m.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=Z.test(e)?this.mouseHooks:Y.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new m.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||y),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||y,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ca()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===ca()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return m.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return m.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=m.extend(new m.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?m.event.trigger(e,null,b):m.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},m.removeEvent=y.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===K&&(a[d]=null),a.detachEvent(d,c))},m.Event=function(a,b){return this instanceof m.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?aa:ba):this.type=a,b&&m.extend(this,b),this.timeStamp=a&&a.timeStamp||m.now(),void(this[m.expando]=!0)):new m.Event(a,b)},m.Event.prototype={isDefaultPrevented:ba,isPropagationStopped:ba,isImmediatePropagationStopped:ba,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=aa,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=aa,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=aa,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){m.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!m.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.submitBubbles||(m.event.special.submit={setup:function(){return m.nodeName(this,"form")?!1:void m.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=m.nodeName(b,"input")||m.nodeName(b,"button")?b.form:void 0;c&&!m._data(c,"submitBubbles")&&(m.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),m._data(c,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&m.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return m.nodeName(this,"form")?!1:void m.event.remove(this,"._submit")}}),k.changeBubbles||(m.event.special.change={setup:function(){return X.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(m.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),m.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),m.event.simulate("change",this,a,!0)})),!1):void m.event.add(this,"beforeactivate._change",function(a){var b=a.target;X.test(b.nodeName)&&!m._data(b,"changeBubbles")&&(m.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||m.event.simulate("change",this.parentNode,a,!0)}),m._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return m.event.remove(this,"._change"),!X.test(this.nodeName)}}),k.focusinBubbles||m.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){m.event.simulate(b,a.target,m.event.fix(a),!0)};m.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=m._data(d,b);e||d.addEventListener(a,c,!0),m._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=m._data(d,b)-1;e?m._data(d,b,e):(d.removeEventListener(a,c,!0),m._removeData(d,b))}}}),m.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(f in a)this.on(f,b,c,a[f],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=ba;else if(!d)return this;return 1===e&&(g=d,d=function(a){return m().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=m.guid++)),this.each(function(){m.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,m(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=ba),this.each(function(){m.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){m.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?m.event.trigger(a,b,c,!0):void 0}});function da(a){var b=ea.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}var ea="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",fa=/ jQuery\d+="(?:null|\d+)"/g,ga=new RegExp("<(?:"+ea+")[\\s/>]","i"),ha=/^\s+/,ia=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ja=/<([\w:]+)/,ka=/<tbody/i,la=/<|&#?\w+;/,ma=/<(?:script|style|link)/i,na=/checked\s*(?:[^=]|=\s*.checked.)/i,oa=/^$|\/(?:java|ecma)script/i,pa=/^true\/(.*)/,qa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ra={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:k.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},sa=da(y),ta=sa.appendChild(y.createElement("div"));ra.optgroup=ra.option,ra.tbody=ra.tfoot=ra.colgroup=ra.caption=ra.thead,ra.th=ra.td;function ua(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==K?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==K?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||m.nodeName(d,b)?f.push(d):m.merge(f,ua(d,b));return void 0===b||b&&m.nodeName(a,b)?m.merge([a],f):f}function va(a){W.test(a.type)&&(a.defaultChecked=a.checked)}function wa(a,b){return m.nodeName(a,"table")&&m.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function xa(a){return a.type=(null!==m.find.attr(a,"type"))+"/"+a.type,a}function ya(a){var b=pa.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function za(a,b){for(var c,d=0;null!=(c=a[d]);d++)m._data(c,"globalEval",!b||m._data(b[d],"globalEval"))}function Aa(a,b){if(1===b.nodeType&&m.hasData(a)){var c,d,e,f=m._data(a),g=m._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)m.event.add(b,c,h[c][d])}g.data&&(g.data=m.extend({},g.data))}}function Ba(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!k.noCloneEvent&&b[m.expando]){e=m._data(b);for(d in e.events)m.removeEvent(b,d,e.handle);b.removeAttribute(m.expando)}"script"===c&&b.text!==a.text?(xa(b).text=a.text,ya(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),k.html5Clone&&a.innerHTML&&!m.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&W.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}m.extend({clone:function(a,b,c){var d,e,f,g,h,i=m.contains(a.ownerDocument,a);if(k.html5Clone||m.isXMLDoc(a)||!ga.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(ta.innerHTML=a.outerHTML,ta.removeChild(f=ta.firstChild)),!(k.noCloneEvent&&k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||m.isXMLDoc(a)))for(d=ua(f),h=ua(a),g=0;null!=(e=h[g]);++g)d[g]&&Ba(e,d[g]);if(b)if(c)for(h=h||ua(a),d=d||ua(f),g=0;null!=(e=h[g]);g++)Aa(e,d[g]);else Aa(a,f);return d=ua(f,"script"),d.length>0&&za(d,!i&&ua(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,l,n=a.length,o=da(b),p=[],q=0;n>q;q++)if(f=a[q],f||0===f)if("object"===m.type(f))m.merge(p,f.nodeType?[f]:f);else if(la.test(f)){h=h||o.appendChild(b.createElement("div")),i=(ja.exec(f)||["",""])[1].toLowerCase(),l=ra[i]||ra._default,h.innerHTML=l[1]+f.replace(ia,"<$1></$2>")+l[2],e=l[0];while(e--)h=h.lastChild;if(!k.leadingWhitespace&&ha.test(f)&&p.push(b.createTextNode(ha.exec(f)[0])),!k.tbody){f="table"!==i||ka.test(f)?"<table>"!==l[1]||ka.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;while(e--)m.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j)}m.merge(p,h.childNodes),h.textContent="";while(h.firstChild)h.removeChild(h.firstChild);h=o.lastChild}else p.push(b.createTextNode(f));h&&o.removeChild(h),k.appendChecked||m.grep(ua(p,"input"),va),q=0;while(f=p[q++])if((!d||-1===m.inArray(f,d))&&(g=m.contains(f.ownerDocument,f),h=ua(o.appendChild(f),"script"),g&&za(h),c)){e=0;while(f=h[e++])oa.test(f.type||"")&&c.push(f)}return h=null,o},cleanData:function(a,b){for(var d,e,f,g,h=0,i=m.expando,j=m.cache,l=k.deleteExpando,n=m.event.special;null!=(d=a[h]);h++)if((b||m.acceptData(d))&&(f=d[i],g=f&&j[f])){if(g.events)for(e in g.events)n[e]?m.event.remove(d,e):m.removeEvent(d,e,g.handle);j[f]&&(delete j[f],l?delete d[i]:typeof d.removeAttribute!==K?d.removeAttribute(i):d[i]=null,c.push(f))}}}),m.fn.extend({text:function(a){return V(this,function(a){return void 0===a?m.text(this):this.empty().append((this[0]&&this[0].ownerDocument||y).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wa(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wa(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?m.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||m.cleanData(ua(c)),c.parentNode&&(b&&m.contains(c.ownerDocument,c)&&za(ua(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&m.cleanData(ua(a,!1));while(a.firstChild)a.removeChild(a.firstChild);a.options&&m.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return m.clone(this,a,b)})},html:function(a){return V(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(fa,""):void 0;if(!("string"!=typeof a||ma.test(a)||!k.htmlSerialize&&ga.test(a)||!k.leadingWhitespace&&ha.test(a)||ra[(ja.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(ia,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(m.cleanData(ua(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,m.cleanData(ua(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,n=this,o=l-1,p=a[0],q=m.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&na.test(p))return this.each(function(c){var d=n.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(i=m.buildFragment(a,this[0].ownerDocument,!1,this),c=i.firstChild,1===i.childNodes.length&&(i=c),c)){for(g=m.map(ua(i,"script"),xa),f=g.length;l>j;j++)d=i,j!==o&&(d=m.clone(d,!0,!0),f&&m.merge(g,ua(d,"script"))),b.call(this[j],d,j);if(f)for(h=g[g.length-1].ownerDocument,m.map(g,ya),j=0;f>j;j++)d=g[j],oa.test(d.type||"")&&!m._data(d,"globalEval")&&m.contains(h,d)&&(d.src?m._evalUrl&&m._evalUrl(d.src):m.globalEval((d.text||d.textContent||d.innerHTML||"").replace(qa,"")));i=c=null}return this}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){m.fn[a]=function(a){for(var c,d=0,e=[],g=m(a),h=g.length-1;h>=d;d++)c=d===h?this:this.clone(!0),m(g[d])[b](c),f.apply(e,c.get());return this.pushStack(e)}});var Ca,Da={};function Ea(b,c){var d,e=m(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:m.css(e[0],"display");return e.detach(),f}function Fa(a){var b=y,c=Da[a];return c||(c=Ea(a,b),"none"!==c&&c||(Ca=(Ca||m("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(Ca[0].contentWindow||Ca[0].contentDocument).document,b.write(),b.close(),c=Ea(a,b),Ca.detach()),Da[a]=c),c}!function(){var a;k.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var b,c,d;return c=y.getElementsByTagName("body")[0],c&&c.style?(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(y.createElement("div")).style.width="5px",a=3!==b.offsetWidth),c.removeChild(d),a):void 0}}();var Ga=/^margin/,Ha=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ia,Ja,Ka=/^(top|right|bottom|left)$/;a.getComputedStyle?(Ia=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)},Ja=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ia(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==g||m.contains(a.ownerDocument,a)||(g=m.style(a,b)),Ha.test(g)&&Ga.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+""}):y.documentElement.currentStyle&&(Ia=function(a){return a.currentStyle},Ja=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ia(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),Ha.test(g)&&!Ka.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"});function La(a,b){return{get:function(){var c=a();if(null!=c)return c?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d,e,f,g,h;if(b=y.createElement("div"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=d&&d.style){c.cssText="float:left;opacity:.5",k.opacity="0.5"===c.opacity,k.cssFloat=!!c.cssFloat,b.style.backgroundClip="content-box",b.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===b.style.backgroundClip,k.boxSizing=""===c.boxSizing||""===c.MozBoxSizing||""===c.WebkitBoxSizing,m.extend(k,{reliableHiddenOffsets:function(){return null==g&&i(),g},boxSizingReliable:function(){return null==f&&i(),f},pixelPosition:function(){return null==e&&i(),e},reliableMarginRight:function(){return null==h&&i(),h}});function i(){var b,c,d,i;c=y.getElementsByTagName("body")[0],c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),b.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",e=f=!1,h=!0,a.getComputedStyle&&(e="1%"!==(a.getComputedStyle(b,null)||{}).top,f="4px"===(a.getComputedStyle(b,null)||{width:"4px"}).width,i=b.appendChild(y.createElement("div")),i.style.cssText=b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",b.style.width="1px",h=!parseFloat((a.getComputedStyle(i,null)||{}).marginRight),b.removeChild(i)),b.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=b.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",g=0===i[0].offsetHeight,g&&(i[0].style.display="",i[1].style.display="none",g=0===i[0].offsetHeight),c.removeChild(d))}}}(),m.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var Ma=/alpha\([^)]*\)/i,Na=/opacity\s*=\s*([^)]*)/,Oa=/^(none|table(?!-c[ea]).+)/,Pa=new RegExp("^("+S+")(.*)$","i"),Qa=new RegExp("^([+-])=("+S+")","i"),Ra={position:"absolute",visibility:"hidden",display:"block"},Sa={letterSpacing:"0",fontWeight:"400"},Ta=["Webkit","O","Moz","ms"];function Ua(a,b){if(b in a)return b;var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=Ta.length;while(e--)if(b=Ta[e]+c,b in a)return b;return d}function Va(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=m._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&U(d)&&(f[g]=m._data(d,"olddisplay",Fa(d.nodeName)))):(e=U(d),(c&&"none"!==c||!e)&&m._data(d,"olddisplay",e?c:m.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function Wa(a,b,c){var d=Pa.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Xa(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=m.css(a,c+T[f],!0,e)),d?("content"===c&&(g-=m.css(a,"padding"+T[f],!0,e)),"margin"!==c&&(g-=m.css(a,"border"+T[f]+"Width",!0,e))):(g+=m.css(a,"padding"+T[f],!0,e),"padding"!==c&&(g+=m.css(a,"border"+T[f]+"Width",!0,e)));return g}function Ya(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ia(a),g=k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Ja(a,b,f),(0>e||null==e)&&(e=a.style[b]),Ha.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Xa(a,b,c||(g?"border":"content"),d,f)+"px"}m.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Ja(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":k.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=m.camelCase(b),i=a.style;if(b=m.cssProps[h]||(m.cssProps[h]=Ua(i,h)),g=m.cssHooks[b]||m.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,"string"===f&&(e=Qa.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(m.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||m.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]=c}catch(j){}}},css:function(a,b,c,d){var e,f,g,h=m.camelCase(b);return b=m.cssProps[h]||(m.cssProps[h]=Ua(a.style,h)),g=m.cssHooks[b]||m.cssHooks[h],g&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=Ja(a,b,d)),"normal"===f&&b in Sa&&(f=Sa[b]),""===c||c?(e=parseFloat(f),c===!0||m.isNumeric(e)?e||0:f):f}}),m.each(["height","width"],function(a,b){m.cssHooks[b]={get:function(a,c,d){return c?Oa.test(m.css(a,"display"))&&0===a.offsetWidth?m.swap(a,Ra,function(){return Ya(a,b,d)}):Ya(a,b,d):void 0},set:function(a,c,d){var e=d&&Ia(a);return Wa(a,c,d?Xa(a,b,d,k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,e),e):0)}}}),k.opacity||(m.cssHooks.opacity={get:function(a,b){return Na.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=m.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===m.trim(f.replace(Ma,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=Ma.test(f)?f.replace(Ma,e):f+" "+e)}}),m.cssHooks.marginRight=La(k.reliableMarginRight,function(a,b){return b?m.swap(a,{display:"inline-block"},Ja,[a,"marginRight"]):void 0}),m.each({margin:"",padding:"",border:"Width"},function(a,b){m.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+T[d]+b]=f[d]||f[d-2]||f[0];return e}},Ga.test(a)||(m.cssHooks[a+b].set=Wa)}),m.fn.extend({css:function(a,b){return V(this,function(a,b,c){var d,e,f={},g=0;if(m.isArray(b)){for(d=Ia(a),e=b.length;e>g;g++)f[b[g]]=m.css(a,b[g],!1,d);return f}return void 0!==c?m.style(a,b,c):m.css(a,b)},a,b,arguments.length>1)},show:function(){return Va(this,!0)},hide:function(){return Va(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){U(this)?m(this).show():m(this).hide()})}});function Za(a,b,c,d,e){
return new Za.prototype.init(a,b,c,d,e)}m.Tween=Za,Za.prototype={constructor:Za,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(m.cssNumber[c]?"":"px")},cur:function(){var a=Za.propHooks[this.prop];return a&&a.get?a.get(this):Za.propHooks._default.get(this)},run:function(a){var b,c=Za.propHooks[this.prop];return this.options.duration?this.pos=b=m.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Za.propHooks._default.set(this),this}},Za.prototype.init.prototype=Za.prototype,Za.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=m.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){m.fx.step[a.prop]?m.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[m.cssProps[a.prop]]||m.cssHooks[a.prop])?m.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Za.propHooks.scrollTop=Za.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},m.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},m.fx=Za.prototype.init,m.fx.step={};var $a,_a,ab=/^(?:toggle|show|hide)$/,bb=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),cb=/queueHooks$/,db=[ib],eb={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=bb.exec(b),f=e&&e[3]||(m.cssNumber[a]?"":"px"),g=(m.cssNumber[a]||"px"!==f&&+d)&&bb.exec(m.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,m.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function fb(){return setTimeout(function(){$a=void 0}),$a=m.now()}function gb(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=T[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function hb(a,b,c){for(var d,e=(eb[b]||[]).concat(eb["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function ib(a,b,c){var d,e,f,g,h,i,j,l,n=this,o={},p=a.style,q=a.nodeType&&U(a),r=m._data(a,"fxshow");c.queue||(h=m._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,n.always(function(){n.always(function(){h.unqueued--,m.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=m.css(a,"display"),l="none"===j?m._data(a,"olddisplay")||Fa(a.nodeName):j,"inline"===l&&"none"===m.css(a,"float")&&(k.inlineBlockNeedsLayout&&"inline"!==Fa(a.nodeName)?p.zoom=1:p.display="inline-block")),c.overflow&&(p.overflow="hidden",k.shrinkWrapBlocks()||n.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],ab.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(q?"hide":"show")){if("show"!==e||!r||void 0===r[d])continue;q=!0}o[d]=r&&r[d]||m.style(a,d)}else j=void 0;if(m.isEmptyObject(o))"inline"===("none"===j?Fa(a.nodeName):j)&&(p.display=j);else{r?"hidden"in r&&(q=r.hidden):r=m._data(a,"fxshow",{}),f&&(r.hidden=!q),q?m(a).show():n.done(function(){m(a).hide()}),n.done(function(){var b;m._removeData(a,"fxshow");for(b in o)m.style(a,b,o[b])});for(d in o)g=hb(q?r[d]:0,d,n),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function jb(a,b){var c,d,e,f,g;for(c in a)if(d=m.camelCase(c),e=b[d],f=a[c],m.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=m.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function kb(a,b,c){var d,e,f=0,g=db.length,h=m.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=$a||fb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:m.extend({},b),opts:m.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:$a||fb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=m.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(jb(k,j.opts.specialEasing);g>f;f++)if(d=db[f].call(j,a,k,j.opts))return d;return m.map(k,hb,j),m.isFunction(j.opts.start)&&j.opts.start.call(a,j),m.fx.timer(m.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}m.Animation=m.extend(kb,{tweener:function(a,b){m.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],eb[c]=eb[c]||[],eb[c].unshift(b)},prefilter:function(a,b){b?db.unshift(a):db.push(a)}}),m.speed=function(a,b,c){var d=a&&"object"==typeof a?m.extend({},a):{complete:c||!c&&b||m.isFunction(a)&&a,duration:a,easing:c&&b||b&&!m.isFunction(b)&&b};return d.duration=m.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in m.fx.speeds?m.fx.speeds[d.duration]:m.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){m.isFunction(d.old)&&d.old.call(this),d.queue&&m.dequeue(this,d.queue)},d},m.fn.extend({fadeTo:function(a,b,c,d){return this.filter(U).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=m.isEmptyObject(a),f=m.speed(b,c,d),g=function(){var b=kb(this,m.extend({},a),f);(e||m._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=m.timers,g=m._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&cb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&m.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=m._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=m.timers,g=d?d.length:0;for(c.finish=!0,m.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),m.each(["toggle","show","hide"],function(a,b){var c=m.fn[b];m.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(gb(b,!0),a,d,e)}}),m.each({slideDown:gb("show"),slideUp:gb("hide"),slideToggle:gb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){m.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),m.timers=[],m.fx.tick=function(){var a,b=m.timers,c=0;for($a=m.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||m.fx.stop(),$a=void 0},m.fx.timer=function(a){m.timers.push(a),a()?m.fx.start():m.timers.pop()},m.fx.interval=13,m.fx.start=function(){_a||(_a=setInterval(m.fx.tick,m.fx.interval))},m.fx.stop=function(){clearInterval(_a),_a=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(a,b){return a=m.fx?m.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e;b=y.createElement("div"),b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=y.createElement("select"),e=c.appendChild(y.createElement("option")),a=b.getElementsByTagName("input")[0],d.style.cssText="top:1px",k.getSetAttribute="t"!==b.className,k.style=/top/.test(d.getAttribute("style")),k.hrefNormalized="/a"===d.getAttribute("href"),k.checkOn=!!a.value,k.optSelected=e.selected,k.enctype=!!y.createElement("form").enctype,c.disabled=!0,k.optDisabled=!e.disabled,a=y.createElement("input"),a.setAttribute("value",""),k.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),k.radioValue="t"===a.value}();var lb=/\r/g;m.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=m.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,m(this).val()):a,null==e?e="":"number"==typeof e?e+="":m.isArray(e)&&(e=m.map(e,function(a){return null==a?"":a+""})),b=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=m.valHooks[e.type]||m.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(lb,""):null==c?"":c)}}}),m.extend({valHooks:{option:{get:function(a){var b=m.find.attr(a,"value");return null!=b?b:m.trim(m.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&m.nodeName(c.parentNode,"optgroup"))){if(b=m(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=m.makeArray(b),g=e.length;while(g--)if(d=e[g],m.inArray(m.valHooks.option.get(d),f)>=0)try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(a,b){return m.isArray(b)?a.checked=m.inArray(m(a).val(),b)>=0:void 0}},k.checkOn||(m.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var mb,nb,ob=m.expr.attrHandle,pb=/^(?:checked|selected)$/i,qb=k.getSetAttribute,rb=k.input;m.fn.extend({attr:function(a,b){return V(this,m.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){m.removeAttr(this,a)})}}),m.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===K?m.prop(a,b,c):(1===f&&m.isXMLDoc(a)||(b=b.toLowerCase(),d=m.attrHooks[b]||(m.expr.match.bool.test(b)?nb:mb)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=m.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void m.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)while(c=f[e++])d=m.propFix[c]||c,m.expr.match.bool.test(c)?rb&&qb||!pb.test(c)?a[d]=!1:a[m.camelCase("default-"+c)]=a[d]=!1:m.attr(a,c,""),a.removeAttribute(qb?c:d)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&m.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),nb={set:function(a,b,c){return b===!1?m.removeAttr(a,c):rb&&qb||!pb.test(c)?a.setAttribute(!qb&&m.propFix[c]||c,c):a[m.camelCase("default-"+c)]=a[c]=!0,c}},m.each(m.expr.match.bool.source.match(/\w+/g),function(a,b){var c=ob[b]||m.find.attr;ob[b]=rb&&qb||!pb.test(b)?function(a,b,d){var e,f;return d||(f=ob[b],ob[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,ob[b]=f),e}:function(a,b,c){return c?void 0:a[m.camelCase("default-"+b)]?b.toLowerCase():null}}),rb&&qb||(m.attrHooks.value={set:function(a,b,c){return m.nodeName(a,"input")?void(a.defaultValue=b):mb&&mb.set(a,b,c)}}),qb||(mb={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},ob.id=ob.name=ob.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},m.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:mb.set},m.attrHooks.contenteditable={set:function(a,b,c){mb.set(a,""===b?!1:b,c)}},m.each(["width","height"],function(a,b){m.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),k.style||(m.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var sb=/^(?:input|select|textarea|button|object)$/i,tb=/^(?:a|area)$/i;m.fn.extend({prop:function(a,b){return V(this,m.prop,a,b,arguments.length>1)},removeProp:function(a){return a=m.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),m.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!m.isXMLDoc(a),f&&(b=m.propFix[b]||b,e=m.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=m.find.attr(a,"tabindex");return b?parseInt(b,10):sb.test(a.nodeName)||tb.test(a.nodeName)&&a.href?0:-1}}}}),k.hrefNormalized||m.each(["href","src"],function(a,b){m.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),k.optSelected||(m.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this}),k.enctype||(m.propFix.enctype="encoding");var ub=/[\t\r\n\f]/g;m.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(m.isFunction(a))return this.each(function(b){m(this).addClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(E)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ub," "):" ")){f=0;while(e=b[f++])d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=m.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;if(m.isFunction(a))return this.each(function(b){m(this).removeClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(E)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ub," "):"")){f=0;while(e=b[f++])while(d.indexOf(" "+e+" ")>=0)d=d.replace(" "+e+" "," ");g=a?m.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(m.isFunction(a)?function(c){m(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=m(this),f=a.match(E)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===K||"boolean"===c)&&(this.className&&m._data(this,"__className__",this.className),this.className=this.className||a===!1?"":m._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ub," ").indexOf(b)>=0)return!0;return!1}}),m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){m.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),m.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var vb=m.now(),wb=/\?/,xb=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;m.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=m.trim(b+"");return e&&!m.trim(e.replace(xb,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():m.error("Invalid JSON: "+b)},m.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||m.error("Invalid XML: "+b),c};var yb,zb,Ab=/#.*$/,Bb=/([?&])_=[^&]*/,Cb=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Db=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Eb=/^(?:GET|HEAD)$/,Fb=/^\/\//,Gb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Hb={},Ib={},Jb="*/".concat("*");try{zb=location.href}catch(Kb){zb=y.createElement("a"),zb.href="",zb=zb.href}yb=Gb.exec(zb.toLowerCase())||[];function Lb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(m.isFunction(c))while(d=f[e++])"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Mb(a,b,c,d){var e={},f=a===Ib;function g(h){var i;return e[h]=!0,m.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Nb(a,b){var c,d,e=m.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&m.extend(!0,a,c),a}function Ob(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Pb(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:zb,type:"GET",isLocal:Db.test(yb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Jb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":m.parseJSON,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Nb(Nb(a,m.ajaxSettings),b):Nb(m.ajaxSettings,a)},ajaxPrefilter:Lb(Hb),ajaxTransport:Lb(Ib),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=m.ajaxSetup({},b),l=k.context||k,n=k.context&&(l.nodeType||l.jquery)?m(l):m.event,o=m.Deferred(),p=m.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!j){j={};while(b=Cb.exec(f))j[b[1].toLowerCase()]=b[2]}b=j[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return i&&i.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||zb)+"").replace(Ab,"").replace(Fb,yb[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=m.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(c=Gb.exec(k.url.toLowerCase()),k.crossDomain=!(!c||c[1]===yb[1]&&c[2]===yb[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(yb[3]||("http:"===yb[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=m.param(k.data,k.traditional)),Mb(Hb,k,b,v),2===t)return v;h=m.event&&k.global,h&&0===m.active++&&m.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!Eb.test(k.type),e=k.url,k.hasContent||(k.data&&(e=k.url+=(wb.test(e)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=Bb.test(e)?e.replace(Bb,"$1_="+vb++):e+(wb.test(e)?"&":"?")+"_="+vb++)),k.ifModified&&(m.lastModified[e]&&v.setRequestHeader("If-Modified-Since",m.lastModified[e]),m.etag[e]&&v.setRequestHeader("If-None-Match",m.etag[e])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+Jb+"; q=0.01":""):k.accepts["*"]);for(d in k.headers)v.setRequestHeader(d,k.headers[d]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(d in{success:1,error:1,complete:1})v[d](k[d]);if(i=Mb(Ib,k,b,v)){v.readyState=1,h&&n.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,i.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");function x(a,b,c,d){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),i=void 0,f=d||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,c&&(u=Ob(k,v,c)),u=Pb(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(m.lastModified[e]=w),w=v.getResponseHeader("etag"),w&&(m.etag[e]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,h&&n.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),h&&(n.trigger("ajaxComplete",[v,k]),--m.active||m.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return m.get(a,b,c,"json")},getScript:function(a,b){return m.get(a,void 0,b,"script")}}),m.each(["get","post"],function(a,b){m[b]=function(a,c,d,e){return m.isFunction(c)&&(e=e||d,d=c,c=void 0),m.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),m._evalUrl=function(a){return m.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},m.fn.extend({wrapAll:function(a){if(m.isFunction(a))return this.each(function(b){m(this).wrapAll(a.call(this,b))});if(this[0]){var b=m(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&1===a.firstChild.nodeType)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(m.isFunction(a)?function(b){m(this).wrapInner(a.call(this,b))}:function(){var b=m(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=m.isFunction(a);return this.each(function(c){m(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){m.nodeName(this,"body")||m(this).replaceWith(this.childNodes)}).end()}}),m.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!k.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||m.css(a,"display"))},m.expr.filters.visible=function(a){return!m.expr.filters.hidden(a)};var Qb=/%20/g,Rb=/\[\]$/,Sb=/\r?\n/g,Tb=/^(?:submit|button|image|reset|file)$/i,Ub=/^(?:input|select|textarea|keygen)/i;function Vb(a,b,c,d){var e;if(m.isArray(b))m.each(b,function(b,e){c||Rb.test(a)?d(a,e):Vb(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==m.type(b))d(a,b);else for(e in b)Vb(a+"["+e+"]",b[e],c,d)}m.param=function(a,b){var c,d=[],e=function(a,b){b=m.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=m.ajaxSettings&&m.ajaxSettings.traditional),m.isArray(a)||a.jquery&&!m.isPlainObject(a))m.each(a,function(){e(this.name,this.value)});else for(c in a)Vb(c,a[c],b,e);return d.join("&").replace(Qb,"+")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=m.prop(this,"elements");return a?m.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!m(this).is(":disabled")&&Ub.test(this.nodeName)&&!Tb.test(a)&&(this.checked||!W.test(a))}).map(function(a,b){var c=m(this).val();return null==c?null:m.isArray(c)?m.map(c,function(a){return{name:b.name,value:a.replace(Sb,"\r\n")}}):{name:b.name,value:c.replace(Sb,"\r\n")}}).get()}}),m.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Zb()||$b()}:Zb;var Wb=0,Xb={},Yb=m.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in Xb)Xb[a](void 0,!0)}),k.cors=!!Yb&&"withCredentials"in Yb,Yb=k.ajax=!!Yb,Yb&&m.ajaxTransport(function(a){if(!a.crossDomain||k.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++Wb;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)void 0!==c[e]&&f.setRequestHeader(e,c[e]+"");f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState))if(delete Xb[g],b=void 0,f.onreadystatechange=m.noop,e)4!==f.readyState&&f.abort();else{j={},h=f.status,"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=Xb[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}});function Zb(){try{return new a.XMLHttpRequest}catch(b){}}function $b(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return m.globalEval(a),a}}}),m.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),m.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=y.head||m("head")[0]||y.documentElement;return{send:function(d,e){b=y.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var _b=[],ac=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=_b.pop()||m.expando+"_"+vb++;return this[a]=!0,a}}),m.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(ac.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&ac.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=m.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(ac,"$1"+e):b.jsonp!==!1&&(b.url+=(wb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||m.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,_b.push(e)),g&&m.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),m.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||y;var d=u.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=m.buildFragment([a],b,e),e&&e.length&&m(e).remove(),m.merge([],d.childNodes))};var bc=m.fn.load;m.fn.load=function(a,b,c){if("string"!=typeof a&&bc)return bc.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=m.trim(a.slice(h,a.length)),a=a.slice(0,h)),m.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),g.length>0&&m.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments,g.html(d?m("<div>").append(m.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){m.fn[b]=function(a){return this.on(b,a)}}),m.expr.filters.animated=function(a){return m.grep(m.timers,function(b){return a===b.elem}).length};var cc=a.document.documentElement;function dc(a){return m.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}m.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=m.css(a,"position"),l=m(a),n={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=m.css(a,"top"),i=m.css(a,"left"),j=("absolute"===k||"fixed"===k)&&m.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),m.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(n.top=b.top-h.top+g),null!=b.left&&(n.left=b.left-h.left+e),"using"in b?b.using.call(a,n):l.css(n)}},m.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){m.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f)return b=f.documentElement,m.contains(b,e)?(typeof e.getBoundingClientRect!==K&&(d=e.getBoundingClientRect()),c=dc(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===m.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),m.nodeName(a[0],"html")||(c=a.offset()),c.top+=m.css(a[0],"borderTopWidth",!0),c.left+=m.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-m.css(d,"marginTop",!0),left:b.left-c.left-m.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||cc;while(a&&!m.nodeName(a,"html")&&"static"===m.css(a,"position"))a=a.offsetParent;return a||cc})}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);m.fn[a]=function(d){return V(this,function(a,d,e){var f=dc(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?m(f).scrollLeft():e,c?e:m(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),m.each(["top","left"],function(a,b){m.cssHooks[b]=La(k.pixelPosition,function(a,c){return c?(c=Ja(a,b),Ha.test(c)?m(a).position()[b]+"px":c):void 0})}),m.each({Height:"height",Width:"width"},function(a,b){m.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){m.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return V(this,function(b,c,d){var e;return m.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?m.css(b,c,g):m.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),m.fn.size=function(){return this.length},m.fn.andSelf=m.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return m});var ec=a.jQuery,fc=a.$;return m.noConflict=function(b){return a.$===m&&(a.$=fc),b&&a.jQuery===m&&(a.jQuery=ec),m},typeof b===K&&(a.jQuery=a.$=m),m});

(function($) {
	$(function() {
		var	$window = $(window),
			$body = $('body'),
			$header = $('#header'),	
			$footer = $('#footer');

		// Header.
			$header.each( function() {
				var t 		= jQuery(this),
					button 	= t.find('.button');

				button.click(function(e) {
					t.toggleClass('hide');
					var es = document.getElementById('demo-canvas');
					es.style.visibility= (es.style.visibility == 'hidden') ? 'visible' : 'hidden'; 			
				});
			});

		// Footer.
			$footer.each( function() {
				var t 		= jQuery(this),					
					button 	= t.find('.info');

				button.click(function(e) {
					t.toggleClass('show');
				});
			});
	});
})(jQuery);
/*!
 * Materialize v0.97.5 (http://materializecss.com)
 * Copyright 2014-2015 Materialize
 * MIT License (https://raw.githubusercontent.com/Dogfalo/materialize/master/LICENSE)
 */

if ("undefined" == typeof jQuery) {
    var jQuery;
    jQuery = "function" == typeof require ? $ = require("jQuery") : $
}
jQuery.easing.jswing = jQuery.easing.swing, jQuery.extend(jQuery.easing, {
        def: "easeOutQuad",
        swing: function(a, b, c, d, e) {
            return jQuery.easing[jQuery.easing.def](a, b, c, d, e)
        },
        easeInQuad: function(a, b, c, d, e) {
            return d * (b /= e) * b + c
        },
        easeOutQuad: function(a, b, c, d, e) {
            return -d * (b /= e) * (b - 2) + c
        },
        easeInOutQuad: function(a, b, c, d, e) {
            return (b /= e / 2) < 1 ? d / 2 * b * b + c : -d / 2 * (--b * (b - 2) - 1) + c
        },
        easeInCubic: function(a, b, c, d, e) {
            return d * (b /= e) * b * b + c
        },
        easeOutCubic: function(a, b, c, d, e) {
            return d * ((b = b / e - 1) * b * b + 1) + c
        },
        easeInOutCubic: function(a, b, c, d, e) {
            return (b /= e / 2) < 1 ? d / 2 * b * b * b + c : d / 2 * ((b -= 2) * b * b + 2) + c
        },
        easeInQuart: function(a, b, c, d, e) {
            return d * (b /= e) * b * b * b + c
        },
        easeOutQuart: function(a, b, c, d, e) {
            return -d * ((b = b / e - 1) * b * b * b - 1) + c
        },
        easeInOutQuart: function(a, b, c, d, e) {
            return (b /= e / 2) < 1 ? d / 2 * b * b * b * b + c : -d / 2 * ((b -= 2) * b * b * b - 2) + c
        },
        easeInQuint: function(a, b, c, d, e) {
            return d * (b /= e) * b * b * b * b + c
        },
        easeOutQuint: function(a, b, c, d, e) {
            return d * ((b = b / e - 1) * b * b * b * b + 1) + c
        },
        easeInOutQuint: function(a, b, c, d, e) {
            return (b /= e / 2) < 1 ? d / 2 * b * b * b * b * b + c : d / 2 * ((b -= 2) * b * b * b * b + 2) + c
        },
        easeInSine: function(a, b, c, d, e) {
            return -d * Math.cos(b / e * (Math.PI / 2)) + d + c
        },
        easeOutSine: function(a, b, c, d, e) {
            return d * Math.sin(b / e * (Math.PI / 2)) + c
        },
        easeInOutSine: function(a, b, c, d, e) {
            return -d / 2 * (Math.cos(Math.PI * b / e) - 1) + c
        },
        easeInExpo: function(a, b, c, d, e) {
            return 0 == b ? c : d * Math.pow(2, 10 * (b / e - 1)) + c
        },
        easeOutExpo: function(a, b, c, d, e) {
            return b == e ? c + d : d * (-Math.pow(2, -10 * b / e) + 1) + c
        },
        easeInOutExpo: function(a, b, c, d, e) {
            return 0 == b ? c : b == e ? c + d : (b /= e / 2) < 1 ? d / 2 * Math.pow(2, 10 * (b - 1)) + c : d / 2 * (-Math.pow(2, -10 * --b) + 2) + c
        },
        easeInCirc: function(a, b, c, d, e) {
            return -d * (Math.sqrt(1 - (b /= e) * b) - 1) + c
        },
        easeOutCirc: function(a, b, c, d, e) {
            return d * Math.sqrt(1 - (b = b / e - 1) * b) + c
        },
        easeInOutCirc: function(a, b, c, d, e) {
            return (b /= e / 2) < 1 ? -d / 2 * (Math.sqrt(1 - b * b) - 1) + c : d / 2 * (Math.sqrt(1 - (b -= 2) * b) + 1) + c
        },
        easeInElastic: function(a, b, c, d, e) {
            var f = 1.70158,
                g = 0,
                h = d;
            if (0 == b) return c;
            if (1 == (b /= e)) return c + d;
            if (g || (g = .3 * e), h < Math.abs(d)) {
                h = d;
                var f = g / 4
            } else var f = g / (2 * Math.PI) * Math.asin(d / h);
            return -(h * Math.pow(2, 10 * (b -= 1)) * Math.sin((b * e - f) * (2 * Math.PI) / g)) + c
        },
        easeOutElastic: function(a, b, c, d, e) {
            var f = 1.70158,
                g = 0,
                h = d;
            if (0 == b) return c;
            if (1 == (b /= e)) return c + d;
            if (g || (g = .3 * e), h < Math.abs(d)) {
                h = d;
                var f = g / 4
            } else var f = g / (2 * Math.PI) * Math.asin(d / h);
            return h * Math.pow(2, -10 * b) * Math.sin((b * e - f) * (2 * Math.PI) / g) + d + c
        },
        easeInOutElastic: function(a, b, c, d, e) {
            var f = 1.70158,
                g = 0,
                h = d;
            if (0 == b) return c;
            if (2 == (b /= e / 2)) return c + d;
            if (g || (g = e * (.3 * 1.5)), h < Math.abs(d)) {
                h = d;
                var f = g / 4
            } else var f = g / (2 * Math.PI) * Math.asin(d / h);
            return 1 > b ? -.5 * (h * Math.pow(2, 10 * (b -= 1)) * Math.sin((b * e - f) * (2 * Math.PI) / g)) + c : h * Math.pow(2, -10 * (b -= 1)) * Math.sin((b * e - f) * (2 * Math.PI) / g) * .5 + d + c
        },
        easeInBack: function(a, b, c, d, e, f) {
            return void 0 == f && (f = 1.70158), d * (b /= e) * b * ((f + 1) * b - f) + c
        },
        easeOutBack: function(a, b, c, d, e, f) {
            return void 0 == f && (f = 1.70158), d * ((b = b / e - 1) * b * ((f + 1) * b + f) + 1) + c
        },
        easeInOutBack: function(a, b, c, d, e, f) {
            return void 0 == f && (f = 1.70158), (b /= e / 2) < 1 ? d / 2 * (b * b * (((f *= 1.525) + 1) * b - f)) + c : d / 2 * ((b -= 2) * b * (((f *= 1.525) + 1) * b + f) + 2) + c
        },
        easeInBounce: function(a, b, c, d, e) {
            return d - jQuery.easing.easeOutBounce(a, e - b, 0, d, e) + c
        },
        easeOutBounce: function(a, b, c, d, e) {
            return (b /= e) < 1 / 2.75 ? d * (7.5625 * b * b) + c : 2 / 2.75 > b ? d * (7.5625 * (b -= 1.5 / 2.75) * b + .75) + c : 2.5 / 2.75 > b ? d * (7.5625 * (b -= 2.25 / 2.75) * b + .9375) + c : d * (7.5625 * (b -= 2.625 / 2.75) * b + .984375) + c
        },
        easeInOutBounce: function(a, b, c, d, e) {
            return e / 2 > b ? .5 * jQuery.easing.easeInBounce(a, 2 * b, 0, d, e) + c : .5 * jQuery.easing.easeOutBounce(a, 2 * b - e, 0, d, e) + .5 * d + c
        }
    }), jQuery.extend(jQuery.easing, {
        easeInOutMaterial: function(a, b, c, d, e) {
            return (b /= e / 2) < 1 ? d / 2 * b * b + c : d / 4 * ((b -= 2) * b * b + 2) + c
        }
    }), jQuery.Velocity ? console.log("Velocity is already loaded. You may be needlessly importing Velocity again; note that Materialize includes Velocity.") : (! function(a) {
        function b(a) {
            var b = a.length,
                d = c.type(a);
            return "function" === d || c.isWindow(a) ? !1 : 1 === a.nodeType && b ? !0 : "array" === d || 0 === b || "number" == typeof b && b > 0 && b - 1 in a
        }
        if (!a.jQuery) {
            var c = function(a, b) {
                return new c.fn.init(a, b)
            };
            c.isWindow = function(a) {
                return null != a && a == a.window
            }, c.type = function(a) {
                return null == a ? a + "" : "object" == typeof a || "function" == typeof a ? e[g.call(a)] || "object" : typeof a
            }, c.isArray = Array.isArray || function(a) {
                return "array" === c.type(a)
            }, c.isPlainObject = function(a) {
                var b;
                if (!a || "object" !== c.type(a) || a.nodeType || c.isWindow(a)) return !1;
                try {
                    if (a.constructor && !f.call(a, "constructor") && !f.call(a.constructor.prototype, "isPrototypeOf")) return !1
                } catch (d) {
                    return !1
                }
                for (b in a);
                return void 0 === b || f.call(a, b)
            }, c.each = function(a, c, d) {
                var e, f = 0,
                    g = a.length,
                    h = b(a);
                if (d) {
                    if (h)
                        for (; g > f && (e = c.apply(a[f], d), e !== !1); f++);
                    else
                        for (f in a)
                            if (e = c.apply(a[f], d), e === !1) break
                } else if (h)
                    for (; g > f && (e = c.call(a[f], f, a[f]), e !== !1); f++);
                else
                    for (f in a)
                        if (e = c.call(a[f], f, a[f]), e === !1) break; return a
            }, c.data = function(a, b, e) {
                if (void 0 === e) {
                    var f = a[c.expando],
                        g = f && d[f];
                    if (void 0 === b) return g;
                    if (g && b in g) return g[b]
                } else if (void 0 !== b) {
                    var f = a[c.expando] || (a[c.expando] = ++c.uuid);
                    return d[f] = d[f] || {}, d[f][b] = e, e
                }
            }, c.removeData = function(a, b) {
                var e = a[c.expando],
                    f = e && d[e];
                f && c.each(b, function(a, b) {
                    delete f[b]
                })
            }, c.extend = function() {
                var a, b, d, e, f, g, h = arguments[0] || {},
                    i = 1,
                    j = arguments.length,
                    k = !1;
                for ("boolean" == typeof h && (k = h, h = arguments[i] || {}, i++), "object" != typeof h && "function" !== c.type(h) && (h = {}), i === j && (h = this, i--); j > i; i++)
                    if (null != (f = arguments[i]))
                        for (e in f) a = h[e], d = f[e], h !== d && (k && d && (c.isPlainObject(d) || (b = c.isArray(d))) ? (b ? (b = !1, g = a && c.isArray(a) ? a : []) : g = a && c.isPlainObject(a) ? a : {}, h[e] = c.extend(k, g, d)) : void 0 !== d && (h[e] = d));
                return h
            }, c.queue = function(a, d, e) {
                function f(a, c) {
                    var d = c || [];
                    return null != a && (b(Object(a)) ? ! function(a, b) {
                        for (var c = +b.length, d = 0, e = a.length; c > d;) a[e++] = b[d++];
                        if (c !== c)
                            for (; void 0 !== b[d];) a[e++] = b[d++];
                        return a.length = e, a
                    }(d, "string" == typeof a ? [a] : a) : [].push.call(d, a)), d
                }
                if (a) {
                    d = (d || "fx") + "queue";
                    var g = c.data(a, d);
                    return e ? (!g || c.isArray(e) ? g = c.data(a, d, f(e)) : g.push(e), g) : g || []
                }
            }, c.dequeue = function(a, b) {
                c.each(a.nodeType ? [a] : a, function(a, d) {
                    b = b || "fx";
                    var e = c.queue(d, b),
                        f = e.shift();
                    "inprogress" === f && (f = e.shift()), f && ("fx" === b && e.unshift("inprogress"), f.call(d, function() {
                        c.dequeue(d, b)
                    }))
                })
            }, c.fn = c.prototype = {
                init: function(a) {
                    if (a.nodeType) return this[0] = a, this;
                    throw new Error("Not a DOM node.")
                },
                offset: function() {
                    var b = this[0].getBoundingClientRect ? this[0].getBoundingClientRect() : {
                        top: 0,
                        left: 0
                    };
                    return {
                        top: b.top + (a.pageYOffset || document.scrollTop || 0) - (document.clientTop || 0),
                        left: b.left + (a.pageXOffset || document.scrollLeft || 0) - (document.clientLeft || 0)
                    }
                },
                position: function() {
                    function a() {
                        for (var a = this.offsetParent || document; a && "html" === !a.nodeType.toLowerCase && "static" === a.style.position;) a = a.offsetParent;
                        return a || document
                    }
                    var b = this[0],
                        a = a.apply(b),
                        d = this.offset(),
                        e = /^(?:body|html)$/i.test(a.nodeName) ? {
                            top: 0,
                            left: 0
                        } : c(a).offset();
                    return d.top -= parseFloat(b.style.marginTop) || 0, d.left -= parseFloat(b.style.marginLeft) || 0, a.style && (e.top += parseFloat(a.style.borderTopWidth) || 0, e.left += parseFloat(a.style.borderLeftWidth) || 0), {
                        top: d.top - e.top,
                        left: d.left - e.left
                    }
                }
            };
            var d = {};
            c.expando = "velocity" + (new Date).getTime(), c.uuid = 0;
            for (var e = {}, f = e.hasOwnProperty, g = e.toString, h = "Boolean Number String Function Array Date RegExp Object Error".split(" "), i = 0; i < h.length; i++) e["[object " + h[i] + "]"] = h[i].toLowerCase();
            c.fn.init.prototype = c.fn, a.Velocity = {
                Utilities: c
            }
        }
    }(window), function(a) {
        "object" == typeof module && "object" == typeof module.exports ? module.exports = a() : "function" == typeof define && define.amd ? define(a) : a()
    }(function() {
        return function(a, b, c, d) {
            function e(a) {
                for (var b = -1, c = a ? a.length : 0, d = []; ++b < c;) {
                    var e = a[b];
                    e && d.push(e)
                }
                return d
            }

            function f(a) {
                return p.isWrapped(a) ? a = [].slice.call(a) : p.isNode(a) && (a = [a]), a
            }

            function g(a) {
                var b = m.data(a, "velocity");
                return null === b ? d : b
            }

            function h(a) {
                return function(b) {
                    return Math.round(b * a) * (1 / a)
                }
            }

            function i(a, c, d, e) {
                function f(a, b) {
                    return 1 - 3 * b + 3 * a
                }

                function g(a, b) {
                    return 3 * b - 6 * a
                }

                function h(a) {
                    return 3 * a
                }

                function i(a, b, c) {
                    return ((f(b, c) * a + g(b, c)) * a + h(b)) * a
                }

                function j(a, b, c) {
                    return 3 * f(b, c) * a * a + 2 * g(b, c) * a + h(b)
                }

                function k(b, c) {
                    for (var e = 0; p > e; ++e) {
                        var f = j(c, a, d);
                        if (0 === f) return c;
                        var g = i(c, a, d) - b;
                        c -= g / f
                    }
                    return c
                }

                function l() {
                    for (var b = 0; t > b; ++b) x[b] = i(b * u, a, d)
                }

                function m(b, c, e) {
                    var f, g, h = 0;
                    do g = c + (e - c) / 2, f = i(g, a, d) - b, f > 0 ? e = g : c = g; while (Math.abs(f) > r && ++h < s);
                    return g
                }

                function n(b) {
                    for (var c = 0, e = 1, f = t - 1; e != f && x[e] <= b; ++e) c += u;
                    --e;
                    var g = (b - x[e]) / (x[e + 1] - x[e]),
                        h = c + g * u,
                        i = j(h, a, d);
                    return i >= q ? k(b, h) : 0 == i ? h : m(b, c, c + u)
                }

                function o() {
                    y = !0, (a != c || d != e) && l()
                }
                var p = 4,
                    q = .001,
                    r = 1e-7,
                    s = 10,
                    t = 11,
                    u = 1 / (t - 1),
                    v = "Float32Array" in b;
                if (4 !== arguments.length) return !1;
                for (var w = 0; 4 > w; ++w)
                    if ("number" != typeof arguments[w] || isNaN(arguments[w]) || !isFinite(arguments[w])) return !1;
                a = Math.min(a, 1), d = Math.min(d, 1), a = Math.max(a, 0), d = Math.max(d, 0);
                var x = v ? new Float32Array(t) : new Array(t),
                    y = !1,
                    z = function(b) {
                        return y || o(), a === c && d === e ? b : 0 === b ? 0 : 1 === b ? 1 : i(n(b), c, e)
                    };
                z.getControlPoints = function() {
                    return [{
                        x: a,
                        y: c
                    }, {
                        x: d,
                        y: e
                    }]
                };
                var A = "generateBezier(" + [a, c, d, e] + ")";
                return z.toString = function() {
                    return A
                }, z
            }

            function j(a, b) {
                var c = a;
                return p.isString(a) ? t.Easings[a] || (c = !1) : c = p.isArray(a) && 1 === a.length ? h.apply(null, a) : p.isArray(a) && 2 === a.length ? u.apply(null, a.concat([b])) : p.isArray(a) && 4 === a.length ? i.apply(null, a) : !1, c === !1 && (c = t.Easings[t.defaults.easing] ? t.defaults.easing : s), c
            }

            function k(a) {
                if (a) {
                    var b = (new Date).getTime(),
                        c = t.State.calls.length;
                    c > 1e4 && (t.State.calls = e(t.State.calls));
                    for (var f = 0; c > f; f++)
                        if (t.State.calls[f]) {
                            var h = t.State.calls[f],
                                i = h[0],
                                j = h[2],
                                n = h[3],
                                o = !!n,
                                q = null;
                            n || (n = t.State.calls[f][3] = b - 16);
                            for (var r = Math.min((b - n) / j.duration, 1), s = 0, u = i.length; u > s; s++) {
                                var w = i[s],
                                    y = w.element;
                                if (g(y)) {
                                    var z = !1;
                                    if (j.display !== d && null !== j.display && "none" !== j.display) {
                                        if ("flex" === j.display) {
                                            var A = ["-webkit-box", "-moz-box", "-ms-flexbox", "-webkit-flex"];
                                            m.each(A, function(a, b) {
                                                v.setPropertyValue(y, "display", b)
                                            })
                                        }
                                        v.setPropertyValue(y, "display", j.display)
                                    }
                                    j.visibility !== d && "hidden" !== j.visibility && v.setPropertyValue(y, "visibility", j.visibility);
                                    for (var B in w)
                                        if ("element" !== B) {
                                            var C, D = w[B],
                                                E = p.isString(D.easing) ? t.Easings[D.easing] : D.easing;
                                            if (1 === r) C = D.endValue;
                                            else {
                                                var F = D.endValue - D.startValue;
                                                if (C = D.startValue + F * E(r, j, F), !o && C === D.currentValue) continue
                                            }
                                            if (D.currentValue = C, "tween" === B) q = C;
                                            else {
                                                if (v.Hooks.registered[B]) {
                                                    var G = v.Hooks.getRoot(B),
                                                        H = g(y).rootPropertyValueCache[G];
                                                    H && (D.rootPropertyValue = H)
                                                }
                                                var I = v.setPropertyValue(y, B, D.currentValue + (0 === parseFloat(C) ? "" : D.unitType), D.rootPropertyValue, D.scrollData);
                                                v.Hooks.registered[B] && (g(y).rootPropertyValueCache[G] = v.Normalizations.registered[G] ? v.Normalizations.registered[G]("extract", null, I[1]) : I[1]), "transform" === I[0] && (z = !0)
                                            }
                                        }
                                    j.mobileHA && g(y).transformCache.translate3d === d && (g(y).transformCache.translate3d = "(0px, 0px, 0px)", z = !0), z && v.flushTransformCache(y)
                                }
                            }
                            j.display !== d && "none" !== j.display && (t.State.calls[f][2].display = !1), j.visibility !== d && "hidden" !== j.visibility && (t.State.calls[f][2].visibility = !1), j.progress && j.progress.call(h[1], h[1], r, Math.max(0, n + j.duration - b), n, q), 1 === r && l(f)
                        }
                }
                t.State.isTicking && x(k)
            }

            function l(a, b) {
                if (!t.State.calls[a]) return !1;
                for (var c = t.State.calls[a][0], e = t.State.calls[a][1], f = t.State.calls[a][2], h = t.State.calls[a][4], i = !1, j = 0, k = c.length; k > j; j++) {
                    var l = c[j].element;
                    if (b || f.loop || ("none" === f.display && v.setPropertyValue(l, "display", f.display), "hidden" === f.visibility && v.setPropertyValue(l, "visibility", f.visibility)), f.loop !== !0 && (m.queue(l)[1] === d || !/\.velocityQueueEntryFlag/i.test(m.queue(l)[1])) && g(l)) {
                        g(l).isAnimating = !1, g(l).rootPropertyValueCache = {};
                        var n = !1;
                        m.each(v.Lists.transforms3D, function(a, b) {
                            var c = /^scale/.test(b) ? 1 : 0,
                                e = g(l).transformCache[b];
                            g(l).transformCache[b] !== d && new RegExp("^\\(" + c + "[^.]").test(e) && (n = !0, delete g(l).transformCache[b])
                        }), f.mobileHA && (n = !0, delete g(l).transformCache.translate3d), n && v.flushTransformCache(l), v.Values.removeClass(l, "velocity-animating")
                    }
                    if (!b && f.complete && !f.loop && j === k - 1) try {
                        f.complete.call(e, e)
                    } catch (o) {
                        setTimeout(function() {
                            throw o
                        }, 1)
                    }
                    h && f.loop !== !0 && h(e), g(l) && f.loop === !0 && !b && (m.each(g(l).tweensContainer, function(a, b) {
                        /^rotate/.test(a) && 360 === parseFloat(b.endValue) && (b.endValue = 0, b.startValue = 360), /^backgroundPosition/.test(a) && 100 === parseFloat(b.endValue) && "%" === b.unitType && (b.endValue = 0, b.startValue = 100)
                    }), t(l, "reverse", {
                        loop: !0,
                        delay: f.delay
                    })), f.queue !== !1 && m.dequeue(l, f.queue)
                }
                t.State.calls[a] = !1;
                for (var p = 0, q = t.State.calls.length; q > p; p++)
                    if (t.State.calls[p] !== !1) {
                        i = !0;
                        break
                    }
                i === !1 && (t.State.isTicking = !1, delete t.State.calls, t.State.calls = [])
            }
            var m, n = function() {
                    if (c.documentMode) return c.documentMode;
                    for (var a = 7; a > 4; a--) {
                        var b = c.createElement("div");
                        if (b.innerHTML = "<!--[if IE " + a + "]><span></span><![endif]-->", b.getElementsByTagName("span").length) return b = null, a
                    }
                    return d
                }(),
                o = function() {
                    var a = 0;
                    return b.webkitRequestAnimationFrame || b.mozRequestAnimationFrame || function(b) {
                        var c, d = (new Date).getTime();
                        return c = Math.max(0, 16 - (d - a)), a = d + c, setTimeout(function() {
                            b(d + c)
                        }, c)
                    }
                }(),
                p = {
                    isString: function(a) {
                        return "string" == typeof a
                    },
                    isArray: Array.isArray || function(a) {
                        return "[object Array]" === Object.prototype.toString.call(a)
                    },
                    isFunction: function(a) {
                        return "[object Function]" === Object.prototype.toString.call(a)
                    },
                    isNode: function(a) {
                        return a && a.nodeType
                    },
                    isNodeList: function(a) {
                        return "object" == typeof a && /^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(a)) && a.length !== d && (0 === a.length || "object" == typeof a[0] && a[0].nodeType > 0)
                    },
                    isWrapped: function(a) {
                        return a && (a.jquery || b.Zepto && b.Zepto.zepto.isZ(a))
                    },
                    isSVG: function(a) {
                        return b.SVGElement && a instanceof b.SVGElement
                    },
                    isEmptyObject: function(a) {
                        for (var b in a) return !1;
                        return !0
                    }
                },
                q = !1;
            if (a.fn && a.fn.jquery ? (m = a, q = !0) : m = b.Velocity.Utilities, 8 >= n && !q) throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");
            if (7 >= n) return void(jQuery.fn.velocity = jQuery.fn.animate);
            var r = 400,
                s = "swing",
                t = {
                    State: {
                        isMobile: /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),
                        isAndroid: /Android/i.test(navigator.userAgent),
                        isGingerbread: /Android 2\.3\.[3-7]/i.test(navigator.userAgent),
                        isChrome: b.chrome,
                        isFirefox: /Firefox/i.test(navigator.userAgent),
                        prefixElement: c.createElement("div"),
                        prefixMatches: {},
                        scrollAnchor: null,
                        scrollPropertyLeft: null,
                        scrollPropertyTop: null,
                        isTicking: !1,
                        calls: []
                    },
                    CSS: {},
                    Utilities: m,
                    Redirects: {},
                    Easings: {},
                    Promise: b.Promise,
                    defaults: {
                        queue: "",
                        duration: r,
                        easing: s,
                        begin: d,
                        complete: d,
                        progress: d,
                        display: d,
                        visibility: d,
                        loop: !1,
                        delay: !1,
                        mobileHA: !0,
                        _cacheValues: !0
                    },
                    init: function(a) {
                        m.data(a, "velocity", {
                            isSVG: p.isSVG(a),
                            isAnimating: !1,
                            computedStyle: null,
                            tweensContainer: null,
                            rootPropertyValueCache: {},
                            transformCache: {}
                        })
                    },
                    hook: null,
                    mock: !1,
                    version: {
                        major: 1,
                        minor: 2,
                        patch: 2
                    },
                    debug: !1
                };
            b.pageYOffset !== d ? (t.State.scrollAnchor = b, t.State.scrollPropertyLeft = "pageXOffset", t.State.scrollPropertyTop = "pageYOffset") : (t.State.scrollAnchor = c.documentElement || c.body.parentNode || c.body, t.State.scrollPropertyLeft = "scrollLeft", t.State.scrollPropertyTop = "scrollTop");
            var u = function() {
                function a(a) {
                    return -a.tension * a.x - a.friction * a.v
                }

                function b(b, c, d) {
                    var e = {
                        x: b.x + d.dx * c,
                        v: b.v + d.dv * c,
                        tension: b.tension,
                        friction: b.friction
                    };
                    return {
                        dx: e.v,
                        dv: a(e)
                    }
                }

                function c(c, d) {
                    var e = {
                            dx: c.v,
                            dv: a(c)
                        },
                        f = b(c, .5 * d, e),
                        g = b(c, .5 * d, f),
                        h = b(c, d, g),
                        i = 1 / 6 * (e.dx + 2 * (f.dx + g.dx) + h.dx),
                        j = 1 / 6 * (e.dv + 2 * (f.dv + g.dv) + h.dv);
                    return c.x = c.x + i * d, c.v = c.v + j * d, c
                }
                return function d(a, b, e) {
                    var f, g, h, i = {
                            x: -1,
                            v: 0,
                            tension: null,
                            friction: null
                        },
                        j = [0],
                        k = 0,
                        l = 1e-4,
                        m = .016;
                    for (a = parseFloat(a) || 500, b = parseFloat(b) || 20, e = e || null, i.tension = a, i.friction = b, f = null !== e, f ? (k = d(a, b), g = k / e * m) : g = m; h = c(h || i, g), j.push(1 + h.x), k += 16, Math.abs(h.x) > l && Math.abs(h.v) > l;);
                    return f ? function(a) {
                        return j[a * (j.length - 1) | 0]
                    } : k
                }
            }();
            t.Easings = {
                linear: function(a) {
                    return a
                },
                swing: function(a) {
                    return .5 - Math.cos(a * Math.PI) / 2
                },
                spring: function(a) {
                    return 1 - Math.cos(4.5 * a * Math.PI) * Math.exp(6 * -a)
                }
            }, m.each([
                ["ease", [.25, .1, .25, 1]],
                ["ease-in", [.42, 0, 1, 1]],
                ["ease-out", [0, 0, .58, 1]],
                ["ease-in-out", [.42, 0, .58, 1]],
                ["easeInSine", [.47, 0, .745, .715]],
                ["easeOutSine", [.39, .575, .565, 1]],
                ["easeInOutSine", [.445, .05, .55, .95]],
                ["easeInQuad", [.55, .085, .68, .53]],
                ["easeOutQuad", [.25, .46, .45, .94]],
                ["easeInOutQuad", [.455, .03, .515, .955]],
                ["easeInCubic", [.55, .055, .675, .19]],
                ["easeOutCubic", [.215, .61, .355, 1]],
                ["easeInOutCubic", [.645, .045, .355, 1]],
                ["easeInQuart", [.895, .03, .685, .22]],
                ["easeOutQuart", [.165, .84, .44, 1]],
                ["easeInOutQuart", [.77, 0, .175, 1]],
                ["easeInQuint", [.755, .05, .855, .06]],
                ["easeOutQuint", [.23, 1, .32, 1]],
                ["easeInOutQuint", [.86, 0, .07, 1]],
                ["easeInExpo", [.95, .05, .795, .035]],
                ["easeOutExpo", [.19, 1, .22, 1]],
                ["easeInOutExpo", [1, 0, 0, 1]],
                ["easeInCirc", [.6, .04, .98, .335]],
                ["easeOutCirc", [.075, .82, .165, 1]],
                ["easeInOutCirc", [.785, .135, .15, .86]]
            ], function(a, b) {
                t.Easings[b[0]] = i.apply(null, b[1])
            });
            var v = t.CSS = {
                RegEx: {
                    isHex: /^#([A-f\d]{3}){1,2}$/i,
                    valueUnwrap: /^[A-z]+\((.*)\)$/i,
                    wrappedValueAlreadyExtracted: /[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,
                    valueSplit: /([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi
                },
                Lists: {
                    colors: ["fill", "stroke", "stopColor", "color", "backgroundColor", "borderColor", "borderTopColor", "borderRightColor", "borderBottomColor", "borderLeftColor", "outlineColor"],
                    transformsBase: ["translateX", "translateY", "scale", "scaleX", "scaleY", "skewX", "skewY", "rotateZ"],
                    transforms3D: ["transformPerspective", "translateZ", "scaleZ", "rotateX", "rotateY"]
                },
                Hooks: {
                    templates: {
                        textShadow: ["Color X Y Blur", "black 0px 0px 0px"],
                        boxShadow: ["Color X Y Blur Spread", "black 0px 0px 0px 0px"],
                        clip: ["Top Right Bottom Left", "0px 0px 0px 0px"],
                        backgroundPosition: ["X Y", "0% 0%"],
                        transformOrigin: ["X Y Z", "50% 50% 0px"],
                        perspectiveOrigin: ["X Y", "50% 50%"]
                    },
                    registered: {},
                    register: function() {
                        for (var a = 0; a < v.Lists.colors.length; a++) {
                            var b = "color" === v.Lists.colors[a] ? "0 0 0 1" : "255 255 255 1";
                            v.Hooks.templates[v.Lists.colors[a]] = ["Red Green Blue Alpha", b]
                        }
                        var c, d, e;
                        if (n)
                            for (c in v.Hooks.templates) {
                                d = v.Hooks.templates[c], e = d[0].split(" ");
                                var f = d[1].match(v.RegEx.valueSplit);
                                "Color" === e[0] && (e.push(e.shift()), f.push(f.shift()), v.Hooks.templates[c] = [e.join(" "), f.join(" ")])
                            }
                        for (c in v.Hooks.templates) {
                            d = v.Hooks.templates[c], e = d[0].split(" ");
                            for (var a in e) {
                                var g = c + e[a],
                                    h = a;
                                v.Hooks.registered[g] = [c, h]
                            }
                        }
                    },
                    getRoot: function(a) {
                        var b = v.Hooks.registered[a];
                        return b ? b[0] : a
                    },
                    cleanRootPropertyValue: function(a, b) {
                        return v.RegEx.valueUnwrap.test(b) && (b = b.match(v.RegEx.valueUnwrap)[1]), v.Values.isCSSNullValue(b) && (b = v.Hooks.templates[a][1]), b
                    },
                    extractValue: function(a, b) {
                        var c = v.Hooks.registered[a];
                        if (c) {
                            var d = c[0],
                                e = c[1];
                            return b = v.Hooks.cleanRootPropertyValue(d, b), b.toString().match(v.RegEx.valueSplit)[e]
                        }
                        return b
                    },
                    injectValue: function(a, b, c) {
                        var d = v.Hooks.registered[a];
                        if (d) {
                            var e, f, g = d[0],
                                h = d[1];
                            return c = v.Hooks.cleanRootPropertyValue(g, c), e = c.toString().match(v.RegEx.valueSplit), e[h] = b, f = e.join(" ")
                        }
                        return c
                    }
                },
                Normalizations: {
                    registered: {
                        clip: function(a, b, c) {
                            switch (a) {
                                case "name":
                                    return "clip";
                                case "extract":
                                    var d;
                                    return v.RegEx.wrappedValueAlreadyExtracted.test(c) ? d = c : (d = c.toString().match(v.RegEx.valueUnwrap), d = d ? d[1].replace(/,(\s+)?/g, " ") : c), d;
                                case "inject":
                                    return "rect(" + c + ")"
                            }
                        },
                        blur: function(a, b, c) {
                            switch (a) {
                                case "name":
                                    return t.State.isFirefox ? "filter" : "-webkit-filter";
                                case "extract":
                                    var d = parseFloat(c);
                                    if (!d && 0 !== d) {
                                        var e = c.toString().match(/blur\(([0-9]+[A-z]+)\)/i);
                                        d = e ? e[1] : 0
                                    }
                                    return d;
                                case "inject":
                                    return parseFloat(c) ? "blur(" + c + ")" : "none"
                            }
                        },
                        opacity: function(a, b, c) {
                            if (8 >= n) switch (a) {
                                case "name":
                                    return "filter";
                                case "extract":
                                    var d = c.toString().match(/alpha\(opacity=(.*)\)/i);
                                    return c = d ? d[1] / 100 : 1;
                                case "inject":
                                    return b.style.zoom = 1, parseFloat(c) >= 1 ? "" : "alpha(opacity=" + parseInt(100 * parseFloat(c), 10) + ")"
                            } else switch (a) {
                                case "name":
                                    return "opacity";
                                case "extract":
                                    return c;
                                case "inject":
                                    return c
                            }
                        }
                    },
                    register: function() {
                        9 >= n || t.State.isGingerbread || (v.Lists.transformsBase = v.Lists.transformsBase.concat(v.Lists.transforms3D));
                        for (var a = 0; a < v.Lists.transformsBase.length; a++) ! function() {
                            var b = v.Lists.transformsBase[a];
                            v.Normalizations.registered[b] = function(a, c, e) {
                                switch (a) {
                                    case "name":
                                        return "transform";
                                    case "extract":
                                        return g(c) === d || g(c).transformCache[b] === d ? /^scale/i.test(b) ? 1 : 0 : g(c).transformCache[b].replace(/[()]/g, "");
                                    case "inject":
                                        var f = !1;
                                        switch (b.substr(0, b.length - 1)) {
                                            case "translate":
                                                f = !/(%|px|em|rem|vw|vh|\d)$/i.test(e);
                                                break;
                                            case "scal":
                                            case "scale":
                                                t.State.isAndroid && g(c).transformCache[b] === d && 1 > e && (e = 1), f = !/(\d)$/i.test(e);
                                                break;
                                            case "skew":
                                                f = !/(deg|\d)$/i.test(e);
                                                break;
                                            case "rotate":
                                                f = !/(deg|\d)$/i.test(e)
                                        }
                                        return f || (g(c).transformCache[b] = "(" + e + ")"), g(c).transformCache[b]
                                }
                            }
                        }();
                        for (var a = 0; a < v.Lists.colors.length; a++) ! function() {
                            var b = v.Lists.colors[a];
                            v.Normalizations.registered[b] = function(a, c, e) {
                                switch (a) {
                                    case "name":
                                        return b;
                                    case "extract":
                                        var f;
                                        if (v.RegEx.wrappedValueAlreadyExtracted.test(e)) f = e;
                                        else {
                                            var g, h = {
                                                black: "rgb(0, 0, 0)",
                                                blue: "rgb(0, 0, 255)",
                                                gray: "rgb(128, 128, 128)",
                                                green: "rgb(0, 128, 0)",
                                                red: "rgb(255, 0, 0)",
                                                white: "rgb(255, 255, 255)"
                                            };
                                            /^[A-z]+$/i.test(e) ? g = h[e] !== d ? h[e] : h.black : v.RegEx.isHex.test(e) ? g = "rgb(" + v.Values.hexToRgb(e).join(" ") + ")" : /^rgba?\(/i.test(e) || (g = h.black), f = (g || e).toString().match(v.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g, " ")
                                        }
                                        return 8 >= n || 3 !== f.split(" ").length || (f += " 1"), f;
                                    case "inject":
                                        return 8 >= n ? 4 === e.split(" ").length && (e = e.split(/\s+/).slice(0, 3).join(" ")) : 3 === e.split(" ").length && (e += " 1"), (8 >= n ? "rgb" : "rgba") + "(" + e.replace(/\s+/g, ",").replace(/\.(\d)+(?=,)/g, "") + ")"
                                }
                            }
                        }()
                    }
                },
                Names: {
                    camelCase: function(a) {
                        return a.replace(/-(\w)/g, function(a, b) {
                            return b.toUpperCase()
                        })
                    },
                    SVGAttribute: function(a) {
                        var b = "width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";
                        return (n || t.State.isAndroid && !t.State.isChrome) && (b += "|transform"), new RegExp("^(" + b + ")$", "i").test(a)
                    },
                    prefixCheck: function(a) {
                        if (t.State.prefixMatches[a]) return [t.State.prefixMatches[a], !0];
                        for (var b = ["", "Webkit", "Moz", "ms", "O"], c = 0, d = b.length; d > c; c++) {
                            var e;
                            if (e = 0 === c ? a : b[c] + a.replace(/^\w/, function(a) {
                                    return a.toUpperCase()
                                }), p.isString(t.State.prefixElement.style[e])) return t.State.prefixMatches[a] = e, [e, !0]
                        }
                        return [a, !1]
                    }
                },
                Values: {
                    hexToRgb: function(a) {
                        var b, c = /^#?([a-f\d])([a-f\d])([a-f\d])$/i,
                            d = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;
                        return a = a.replace(c, function(a, b, c, d) {
                            return b + b + c + c + d + d
                        }), b = d.exec(a), b ? [parseInt(b[1], 16), parseInt(b[2], 16), parseInt(b[3], 16)] : [0, 0, 0]
                    },
                    isCSSNullValue: function(a) {
                        return 0 == a || /^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(a)
                    },
                    getUnitType: function(a) {
                        return /^(rotate|skew)/i.test(a) ? "deg" : /(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(a) ? "" : "px"
                    },
                    getDisplayType: function(a) {
                        var b = a && a.tagName.toString().toLowerCase();
                        return /^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(b) ? "inline" : /^(li)$/i.test(b) ? "list-item" : /^(tr)$/i.test(b) ? "table-row" : /^(table)$/i.test(b) ? "table" : /^(tbody)$/i.test(b) ? "table-row-group" : "block"
                    },
                    addClass: function(a, b) {
                        a.classList ? a.classList.add(b) : a.className += (a.className.length ? " " : "") + b
                    },
                    removeClass: function(a, b) {
                        a.classList ? a.classList.remove(b) : a.className = a.className.toString().replace(new RegExp("(^|\\s)" + b.split(" ").join("|") + "(\\s|$)", "gi"), " ")
                    }
                },
                getPropertyValue: function(a, c, e, f) {
                    function h(a, c) {
                        function e() {
                            j && v.setPropertyValue(a, "display", "none")
                        }
                        var i = 0;
                        if (8 >= n) i = m.css(a, c);
                        else {
                            var j = !1;
                            if (/^(width|height)$/.test(c) && 0 === v.getPropertyValue(a, "display") && (j = !0, v.setPropertyValue(a, "display", v.Values.getDisplayType(a))), !f) {
                                if ("height" === c && "border-box" !== v.getPropertyValue(a, "boxSizing").toString().toLowerCase()) {
                                    var k = a.offsetHeight - (parseFloat(v.getPropertyValue(a, "borderTopWidth")) || 0) - (parseFloat(v.getPropertyValue(a, "borderBottomWidth")) || 0) - (parseFloat(v.getPropertyValue(a, "paddingTop")) || 0) - (parseFloat(v.getPropertyValue(a, "paddingBottom")) || 0);
                                    return e(), k
                                }
                                if ("width" === c && "border-box" !== v.getPropertyValue(a, "boxSizing").toString().toLowerCase()) {
                                    var l = a.offsetWidth - (parseFloat(v.getPropertyValue(a, "borderLeftWidth")) || 0) - (parseFloat(v.getPropertyValue(a, "borderRightWidth")) || 0) - (parseFloat(v.getPropertyValue(a, "paddingLeft")) || 0) - (parseFloat(v.getPropertyValue(a, "paddingRight")) || 0);
                                    return e(), l
                                }
                            }
                            var o;
                            o = g(a) === d ? b.getComputedStyle(a, null) : g(a).computedStyle ? g(a).computedStyle : g(a).computedStyle = b.getComputedStyle(a, null), "borderColor" === c && (c = "borderTopColor"), i = 9 === n && "filter" === c ? o.getPropertyValue(c) : o[c], ("" === i || null === i) && (i = a.style[c]), e()
                        }
                        if ("auto" === i && /^(top|right|bottom|left)$/i.test(c)) {
                            var p = h(a, "position");
                            ("fixed" === p || "absolute" === p && /top|left/i.test(c)) && (i = m(a).position()[c] + "px")
                        }
                        return i
                    }
                    var i;
                    if (v.Hooks.registered[c]) {
                        var j = c,
                            k = v.Hooks.getRoot(j);
                        e === d && (e = v.getPropertyValue(a, v.Names.prefixCheck(k)[0])), v.Normalizations.registered[k] && (e = v.Normalizations.registered[k]("extract", a, e)), i = v.Hooks.extractValue(j, e)
                    } else if (v.Normalizations.registered[c]) {
                        var l, o;
                        l = v.Normalizations.registered[c]("name", a), "transform" !== l && (o = h(a, v.Names.prefixCheck(l)[0]), v.Values.isCSSNullValue(o) && v.Hooks.templates[c] && (o = v.Hooks.templates[c][1])), i = v.Normalizations.registered[c]("extract", a, o)
                    }
                    if (!/^[\d-]/.test(i))
                        if (g(a) && g(a).isSVG && v.Names.SVGAttribute(c))
                            if (/^(height|width)$/i.test(c)) try {
                                i = a.getBBox()[c]
                            } catch (p) {
                                i = 0
                            } else i = a.getAttribute(c);
                            else i = h(a, v.Names.prefixCheck(c)[0]);
                    return v.Values.isCSSNullValue(i) && (i = 0), t.debug >= 2 && console.log("Get " + c + ": " + i), i
                },
                setPropertyValue: function(a, c, d, e, f) {
                    var h = c;
                    if ("scroll" === c) f.container ? f.container["scroll" + f.direction] = d : "Left" === f.direction ? b.scrollTo(d, f.alternateValue) : b.scrollTo(f.alternateValue, d);
                    else if (v.Normalizations.registered[c] && "transform" === v.Normalizations.registered[c]("name", a)) v.Normalizations.registered[c]("inject", a, d), h = "transform", d = g(a).transformCache[c];
                    else {
                        if (v.Hooks.registered[c]) {
                            var i = c,
                                j = v.Hooks.getRoot(c);
                            e = e || v.getPropertyValue(a, j), d = v.Hooks.injectValue(i, d, e), c = j
                        }
                        if (v.Normalizations.registered[c] && (d = v.Normalizations.registered[c]("inject", a, d), c = v.Normalizations.registered[c]("name", a)), h = v.Names.prefixCheck(c)[0], 8 >= n) try {
                            a.style[h] = d
                        } catch (k) {
                            t.debug && console.log("Browser does not support [" + d + "] for [" + h + "]")
                        } else g(a) && g(a).isSVG && v.Names.SVGAttribute(c) ? a.setAttribute(c, d) : a.style[h] = d;
                        t.debug >= 2 && console.log("Set " + c + " (" + h + "): " + d)
                    }
                    return [h, d]
                },
                flushTransformCache: function(a) {
                    function b(b) {
                        return parseFloat(v.getPropertyValue(a, b))
                    }
                    var c = "";
                    if ((n || t.State.isAndroid && !t.State.isChrome) && g(a).isSVG) {
                        var d = {
                            translate: [b("translateX"), b("translateY")],
                            skewX: [b("skewX")],
                            skewY: [b("skewY")],
                            scale: 1 !== b("scale") ? [b("scale"), b("scale")] : [b("scaleX"), b("scaleY")],
                            rotate: [b("rotateZ"), 0, 0]
                        };
                        m.each(g(a).transformCache, function(a) {
                            /^translate/i.test(a) ? a = "translate" : /^scale/i.test(a) ? a = "scale" : /^rotate/i.test(a) && (a = "rotate"), d[a] && (c += a + "(" + d[a].join(" ") + ") ", delete d[a])
                        })
                    } else {
                        var e, f;
                        m.each(g(a).transformCache, function(b) {
                            return e = g(a).transformCache[b], "transformPerspective" === b ? (f = e, !0) : (9 === n && "rotateZ" === b && (b = "rotate"), void(c += b + e + " "))
                        }), f && (c = "perspective" + f + " " + c)
                    }
                    v.setPropertyValue(a, "transform", c)
                }
            };
            v.Hooks.register(), v.Normalizations.register(), t.hook = function(a, b, c) {
                var e = d;
                return a = f(a), m.each(a, function(a, f) {
                    if (g(f) === d && t.init(f), c === d) e === d && (e = t.CSS.getPropertyValue(f, b));
                    else {
                        var h = t.CSS.setPropertyValue(f, b, c);
                        "transform" === h[0] && t.CSS.flushTransformCache(f), e = h
                    }
                }), e
            };
            var w = function() {
                function a() {
                    return h ? B.promise || null : i
                }

                function e() {
                    function a(a) {
                        function l(a, b) {
                            var c = d,
                                e = d,
                                g = d;
                            return p.isArray(a) ? (c = a[0], !p.isArray(a[1]) && /^[\d-]/.test(a[1]) || p.isFunction(a[1]) || v.RegEx.isHex.test(a[1]) ? g = a[1] : (p.isString(a[1]) && !v.RegEx.isHex.test(a[1]) || p.isArray(a[1])) && (e = b ? a[1] : j(a[1], h.duration), a[2] !== d && (g = a[2]))) : c = a, b || (e = e || h.easing), p.isFunction(c) && (c = c.call(f, y, x)), p.isFunction(g) && (g = g.call(f, y, x)), [c || 0, e, g]
                        }

                        function n(a, b) {
                            var c, d;
                            return d = (b || "0").toString().toLowerCase().replace(/[%A-z]+$/, function(a) {
                                return c = a, ""
                            }), c || (c = v.Values.getUnitType(a)), [d, c]
                        }

                        function r() {
                            var a = {
                                    myParent: f.parentNode || c.body,
                                    position: v.getPropertyValue(f, "position"),
                                    fontSize: v.getPropertyValue(f, "fontSize")
                                },
                                d = a.position === I.lastPosition && a.myParent === I.lastParent,
                                e = a.fontSize === I.lastFontSize;
                            I.lastParent = a.myParent, I.lastPosition = a.position, I.lastFontSize = a.fontSize;
                            var h = 100,
                                i = {};
                            if (e && d) i.emToPx = I.lastEmToPx, i.percentToPxWidth = I.lastPercentToPxWidth, i.percentToPxHeight = I.lastPercentToPxHeight;
                            else {
                                var j = g(f).isSVG ? c.createElementNS("http://www.w3.org/2000/svg", "rect") : c.createElement("div");
                                t.init(j), a.myParent.appendChild(j), m.each(["overflow", "overflowX", "overflowY"], function(a, b) {
                                    t.CSS.setPropertyValue(j, b, "hidden")
                                }), t.CSS.setPropertyValue(j, "position", a.position), t.CSS.setPropertyValue(j, "fontSize", a.fontSize), t.CSS.setPropertyValue(j, "boxSizing", "content-box"), m.each(["minWidth", "maxWidth", "width", "minHeight", "maxHeight", "height"], function(a, b) {
                                    t.CSS.setPropertyValue(j, b, h + "%")
                                }), t.CSS.setPropertyValue(j, "paddingLeft", h + "em"), i.percentToPxWidth = I.lastPercentToPxWidth = (parseFloat(v.getPropertyValue(j, "width", null, !0)) || 1) / h, i.percentToPxHeight = I.lastPercentToPxHeight = (parseFloat(v.getPropertyValue(j, "height", null, !0)) || 1) / h, i.emToPx = I.lastEmToPx = (parseFloat(v.getPropertyValue(j, "paddingLeft")) || 1) / h, a.myParent.removeChild(j)
                            }
                            return null === I.remToPx && (I.remToPx = parseFloat(v.getPropertyValue(c.body, "fontSize")) || 16), null === I.vwToPx && (I.vwToPx = parseFloat(b.innerWidth) / 100, I.vhToPx = parseFloat(b.innerHeight) / 100), i.remToPx = I.remToPx, i.vwToPx = I.vwToPx, i.vhToPx = I.vhToPx, t.debug >= 1 && console.log("Unit ratios: " + JSON.stringify(i), f), i
                        }
                        if (h.begin && 0 === y) try {
                            h.begin.call(o, o)
                        } catch (u) {
                            setTimeout(function() {
                                throw u
                            }, 1)
                        }
                        if ("scroll" === C) {
                            var w, z, A, D = /^x$/i.test(h.axis) ? "Left" : "Top",
                                E = parseFloat(h.offset) || 0;
                            h.container ? p.isWrapped(h.container) || p.isNode(h.container) ? (h.container = h.container[0] || h.container, w = h.container["scroll" + D], A = w + m(f).position()[D.toLowerCase()] + E) : h.container = null : (w = t.State.scrollAnchor[t.State["scrollProperty" + D]], z = t.State.scrollAnchor[t.State["scrollProperty" + ("Left" === D ? "Top" : "Left")]], A = m(f).offset()[D.toLowerCase()] + E), i = {
                                scroll: {
                                    rootPropertyValue: !1,
                                    startValue: w,
                                    currentValue: w,
                                    endValue: A,
                                    unitType: "",
                                    easing: h.easing,
                                    scrollData: {
                                        container: h.container,
                                        direction: D,
                                        alternateValue: z
                                    }
                                },
                                element: f
                            }, t.debug && console.log("tweensContainer (scroll): ", i.scroll, f)
                        } else if ("reverse" === C) {
                            if (!g(f).tweensContainer) return void m.dequeue(f, h.queue);
                            "none" === g(f).opts.display && (g(f).opts.display = "auto"), "hidden" === g(f).opts.visibility && (g(f).opts.visibility = "visible"), g(f).opts.loop = !1, g(f).opts.begin = null, g(f).opts.complete = null, s.easing || delete h.easing, s.duration || delete h.duration, h = m.extend({}, g(f).opts, h);
                            var F = m.extend(!0, {}, g(f).tweensContainer);
                            for (var G in F)
                                if ("element" !== G) {
                                    var H = F[G].startValue;
                                    F[G].startValue = F[G].currentValue = F[G].endValue, F[G].endValue = H, p.isEmptyObject(s) || (F[G].easing = h.easing), t.debug && console.log("reverse tweensContainer (" + G + "): " + JSON.stringify(F[G]), f)
                                }
                            i = F
                        } else if ("start" === C) {
                            var F;
                            g(f).tweensContainer && g(f).isAnimating === !0 && (F = g(f).tweensContainer), m.each(q, function(a, b) {
                                if (RegExp("^" + v.Lists.colors.join("$|^") + "$").test(a)) {
                                    var c = l(b, !0),
                                        e = c[0],
                                        f = c[1],
                                        g = c[2];
                                    if (v.RegEx.isHex.test(e)) {
                                        for (var h = ["Red", "Green", "Blue"], i = v.Values.hexToRgb(e), j = g ? v.Values.hexToRgb(g) : d, k = 0; k < h.length; k++) {
                                            var m = [i[k]];
                                            f && m.push(f), j !== d && m.push(j[k]), q[a + h[k]] = m
                                        }
                                        delete q[a]
                                    }
                                }
                            });
                            for (var K in q) {
                                var L = l(q[K]),
                                    M = L[0],
                                    N = L[1],
                                    O = L[2];
                                K = v.Names.camelCase(K);
                                var P = v.Hooks.getRoot(K),
                                    Q = !1;
                                if (g(f).isSVG || "tween" === P || v.Names.prefixCheck(P)[1] !== !1 || v.Normalizations.registered[P] !== d) {
                                    (h.display !== d && null !== h.display && "none" !== h.display || h.visibility !== d && "hidden" !== h.visibility) && /opacity|filter/.test(K) && !O && 0 !== M && (O = 0), h._cacheValues && F && F[K] ? (O === d && (O = F[K].endValue + F[K].unitType), Q = g(f).rootPropertyValueCache[P]) : v.Hooks.registered[K] ? O === d ? (Q = v.getPropertyValue(f, P), O = v.getPropertyValue(f, K, Q)) : Q = v.Hooks.templates[P][1] : O === d && (O = v.getPropertyValue(f, K));
                                    var R, S, T, U = !1;
                                    if (R = n(K, O), O = R[0], T = R[1], R = n(K, M), M = R[0].replace(/^([+-\/*])=/, function(a, b) {
                                            return U = b, ""
                                        }), S = R[1], O = parseFloat(O) || 0, M = parseFloat(M) || 0, "%" === S && (/^(fontSize|lineHeight)$/.test(K) ? (M /= 100, S = "em") : /^scale/.test(K) ? (M /= 100, S = "") : /(Red|Green|Blue)$/i.test(K) && (M = M / 100 * 255, S = "")), /[\/*]/.test(U)) S = T;
                                    else if (T !== S && 0 !== O)
                                        if (0 === M) S = T;
                                        else {
                                            e = e || r();
                                            var V = /margin|padding|left|right|width|text|word|letter/i.test(K) || /X$/.test(K) || "x" === K ? "x" : "y";
                                            switch (T) {
                                                case "%":
                                                    O *= "x" === V ? e.percentToPxWidth : e.percentToPxHeight;
                                                    break;
                                                case "px":
                                                    break;
                                                default:
                                                    O *= e[T + "ToPx"]
                                            }
                                            switch (S) {
                                                case "%":
                                                    O *= 1 / ("x" === V ? e.percentToPxWidth : e.percentToPxHeight);
                                                    break;
                                                case "px":
                                                    break;
                                                default:
                                                    O *= 1 / e[S + "ToPx"]
                                            }
                                        }
                                    switch (U) {
                                        case "+":
                                            M = O + M;
                                            break;
                                        case "-":
                                            M = O - M;
                                            break;
                                        case "*":
                                            M = O * M;
                                            break;
                                        case "/":
                                            M = O / M
                                    }
                                    i[K] = {
                                        rootPropertyValue: Q,
                                        startValue: O,
                                        currentValue: O,
                                        endValue: M,
                                        unitType: S,
                                        easing: N
                                    }, t.debug && console.log("tweensContainer (" + K + "): " + JSON.stringify(i[K]), f)
                                } else t.debug && console.log("Skipping [" + P + "] due to a lack of browser support.")
                            }
                            i.element = f
                        }
                        i.element && (v.Values.addClass(f, "velocity-animating"), J.push(i), "" === h.queue && (g(f).tweensContainer = i, g(f).opts = h), g(f).isAnimating = !0, y === x - 1 ? (t.State.calls.push([J, o, h, null, B.resolver]), t.State.isTicking === !1 && (t.State.isTicking = !0, k())) : y++)
                    }
                    var e, f = this,
                        h = m.extend({}, t.defaults, s),
                        i = {};
                    switch (g(f) === d && t.init(f), parseFloat(h.delay) && h.queue !== !1 && m.queue(f, h.queue, function(a) {
                        t.velocityQueueEntryFlag = !0, g(f).delayTimer = {
                            setTimeout: setTimeout(a, parseFloat(h.delay)),
                            next: a
                        }
                    }), h.duration.toString().toLowerCase()) {
                        case "fast":
                            h.duration = 200;
                            break;
                        case "normal":
                            h.duration = r;
                            break;
                        case "slow":
                            h.duration = 600;
                            break;
                        default:
                            h.duration = parseFloat(h.duration) || 1
                    }
                    t.mock !== !1 && (t.mock === !0 ? h.duration = h.delay = 1 : (h.duration *= parseFloat(t.mock) || 1, h.delay *= parseFloat(t.mock) || 1)), h.easing = j(h.easing, h.duration), h.begin && !p.isFunction(h.begin) && (h.begin = null), h.progress && !p.isFunction(h.progress) && (h.progress = null), h.complete && !p.isFunction(h.complete) && (h.complete = null), h.display !== d && null !== h.display && (h.display = h.display.toString().toLowerCase(), "auto" === h.display && (h.display = t.CSS.Values.getDisplayType(f))), h.visibility !== d && null !== h.visibility && (h.visibility = h.visibility.toString().toLowerCase()), h.mobileHA = h.mobileHA && t.State.isMobile && !t.State.isGingerbread, h.queue === !1 ? h.delay ? setTimeout(a, h.delay) : a() : m.queue(f, h.queue, function(b, c) {
                        return c === !0 ? (B.promise && B.resolver(o), !0) : (t.velocityQueueEntryFlag = !0, void a(b))
                    }), "" !== h.queue && "fx" !== h.queue || "inprogress" === m.queue(f)[0] || m.dequeue(f)
                }
                var h, i, n, o, q, s, u = arguments[0] && (arguments[0].p || m.isPlainObject(arguments[0].properties) && !arguments[0].properties.names || p.isString(arguments[0].properties));
                if (p.isWrapped(this) ? (h = !1, n = 0, o = this, i = this) : (h = !0, n = 1, o = u ? arguments[0].elements || arguments[0].e : arguments[0]), o = f(o)) {
                    u ? (q = arguments[0].properties || arguments[0].p, s = arguments[0].options || arguments[0].o) : (q = arguments[n], s = arguments[n + 1]);
                    var x = o.length,
                        y = 0;
                    if (!/^(stop|finish)$/i.test(q) && !m.isPlainObject(s)) {
                        var z = n + 1;
                        s = {};
                        for (var A = z; A < arguments.length; A++) p.isArray(arguments[A]) || !/^(fast|normal|slow)$/i.test(arguments[A]) && !/^\d/.test(arguments[A]) ? p.isString(arguments[A]) || p.isArray(arguments[A]) ? s.easing = arguments[A] : p.isFunction(arguments[A]) && (s.complete = arguments[A]) : s.duration = arguments[A]
                    }
                    var B = {
                        promise: null,
                        resolver: null,
                        rejecter: null
                    };
                    h && t.Promise && (B.promise = new t.Promise(function(a, b) {
                        B.resolver = a, B.rejecter = b
                    }));
                    var C;
                    switch (q) {
                        case "scroll":
                            C = "scroll";
                            break;
                        case "reverse":
                            C = "reverse";
                            break;
                        case "finish":
                        case "stop":
                            m.each(o, function(a, b) {
                                g(b) && g(b).delayTimer && (clearTimeout(g(b).delayTimer.setTimeout), g(b).delayTimer.next && g(b).delayTimer.next(), delete g(b).delayTimer)
                            });
                            var D = [];
                            return m.each(t.State.calls, function(a, b) {
                                b && m.each(b[1], function(c, e) {
                                    var f = s === d ? "" : s;
                                    return f === !0 || b[2].queue === f || s === d && b[2].queue === !1 ? void m.each(o, function(c, d) {
                                        d === e && ((s === !0 || p.isString(s)) && (m.each(m.queue(d, p.isString(s) ? s : ""), function(a, b) {
                                            p.isFunction(b) && b(null, !0)
                                        }), m.queue(d, p.isString(s) ? s : "", [])), "stop" === q ? (g(d) && g(d).tweensContainer && f !== !1 && m.each(g(d).tweensContainer, function(a, b) {
                                            b.endValue = b.currentValue
                                        }), D.push(a)) : "finish" === q && (b[2].duration = 1))
                                    }) : !0
                                })
                            }), "stop" === q && (m.each(D, function(a, b) {
                                l(b, !0)
                            }), B.promise && B.resolver(o)), a();
                        default:
                            if (!m.isPlainObject(q) || p.isEmptyObject(q)) {
                                if (p.isString(q) && t.Redirects[q]) {
                                    var E = m.extend({}, s),
                                        F = E.duration,
                                        G = E.delay || 0;
                                    return E.backwards === !0 && (o = m.extend(!0, [], o).reverse()), m.each(o, function(a, b) {
                                        parseFloat(E.stagger) ? E.delay = G + parseFloat(E.stagger) * a : p.isFunction(E.stagger) && (E.delay = G + E.stagger.call(b, a, x)), E.drag && (E.duration = parseFloat(F) || (/^(callout|transition)/.test(q) ? 1e3 : r), E.duration = Math.max(E.duration * (E.backwards ? 1 - a / x : (a + 1) / x), .75 * E.duration, 200)), t.Redirects[q].call(b, b, E || {}, a, x, o, B.promise ? B : d)
                                    }), a()
                                }
                                var H = "Velocity: First argument (" + q + ") was not a property map, a known action, or a registered redirect. Aborting.";
                                return B.promise ? B.rejecter(new Error(H)) : console.log(H), a()
                            }
                            C = "start"
                    }
                    var I = {
                            lastParent: null,
                            lastPosition: null,
                            lastFontSize: null,
                            lastPercentToPxWidth: null,
                            lastPercentToPxHeight: null,
                            lastEmToPx: null,
                            remToPx: null,
                            vwToPx: null,
                            vhToPx: null
                        },
                        J = [];
                    m.each(o, function(a, b) {
                        p.isNode(b) && e.call(b)
                    });
                    var K, E = m.extend({}, t.defaults, s);
                    if (E.loop = parseInt(E.loop), K = 2 * E.loop - 1, E.loop)
                        for (var L = 0; K > L; L++) {
                            var M = {
                                delay: E.delay,
                                progress: E.progress
                            };
                            L === K - 1 && (M.display = E.display, M.visibility = E.visibility, M.complete = E.complete), w(o, "reverse", M)
                        }
                    return a()
                }
            };
            t = m.extend(w, t), t.animate = w;
            var x = b.requestAnimationFrame || o;
            return t.State.isMobile || c.hidden === d || c.addEventListener("visibilitychange", function() {
                c.hidden ? (x = function(a) {
                    return setTimeout(function() {
                        a(!0)
                    }, 16)
                }, k()) : x = b.requestAnimationFrame || o
            }), a.Velocity = t, a !== b && (a.fn.velocity = w, a.fn.velocity.defaults = t.defaults), m.each(["Down", "Up"], function(a, b) {
                t.Redirects["slide" + b] = function(a, c, e, f, g, h) {
                    var i = m.extend({}, c),
                        j = i.begin,
                        k = i.complete,
                        l = {
                            height: "",
                            marginTop: "",
                            marginBottom: "",
                            paddingTop: "",
                            paddingBottom: ""
                        },
                        n = {};
                    i.display === d && (i.display = "Down" === b ? "inline" === t.CSS.Values.getDisplayType(a) ? "inline-block" : "block" : "none"), i.begin = function() {
                        j && j.call(g, g);
                        for (var c in l) {
                            n[c] = a.style[c];
                            var d = t.CSS.getPropertyValue(a, c);
                            l[c] = "Down" === b ? [d, 0] : [0, d]
                        }
                        n.overflow = a.style.overflow, a.style.overflow = "hidden"
                    }, i.complete = function() {
                        for (var b in n) a.style[b] = n[b];
                        k && k.call(g, g), h && h.resolver(g)
                    }, t(a, l, i)
                }
            }), m.each(["In", "Out"], function(a, b) {
                t.Redirects["fade" + b] = function(a, c, e, f, g, h) {
                    var i = m.extend({}, c),
                        j = {
                            opacity: "In" === b ? 1 : 0
                        },
                        k = i.complete;
                    i.complete = e !== f - 1 ? i.begin = null : function() {
                        k && k.call(g, g), h && h.resolver(g)
                    }, i.display === d && (i.display = "In" === b ? "auto" : "none"), t(this, j, i)
                }
            }), t
        }(window.jQuery || window.Zepto || window, window, document)
    })), ! function(a, b, c, d) {
        "use strict";

        function e(a, b, c) {
            return setTimeout(k(a, c), b)
        }

        function f(a, b, c) {
            return Array.isArray(a) ? (g(a, c[b], c), !0) : !1
        }

        function g(a, b, c) {
            var e;
            if (a)
                if (a.forEach) a.forEach(b, c);
                else if (a.length !== d)
                for (e = 0; e < a.length;) b.call(c, a[e], e, a), e++;
            else
                for (e in a) a.hasOwnProperty(e) && b.call(c, a[e], e, a)
        }

        function h(a, b, c) {
            for (var e = Object.keys(b), f = 0; f < e.length;)(!c || c && a[e[f]] === d) && (a[e[f]] = b[e[f]]), f++;
            return a
        }

        function i(a, b) {
            return h(a, b, !0)
        }

        function j(a, b, c) {
            var d, e = b.prototype;
            d = a.prototype = Object.create(e), d.constructor = a, d._super = e, c && h(d, c)
        }

        function k(a, b) {
            return function() {
                return a.apply(b, arguments)
            }
        }

        function l(a, b) {
            return typeof a == ka ? a.apply(b ? b[0] || d : d, b) : a
        }

        function m(a, b) {
            return a === d ? b : a
        }

        function n(a, b, c) {
            g(r(b), function(b) {
                a.addEventListener(b, c, !1)
            })
        }

        function o(a, b, c) {
            g(r(b), function(b) {
                a.removeEventListener(b, c, !1)
            })
        }

        function p(a, b) {
            for (; a;) {
                if (a == b) return !0;
                a = a.parentNode
            }
            return !1
        }

        function q(a, b) {
            return a.indexOf(b) > -1
        }

        function r(a) {
            return a.trim().split(/\s+/g)
        }

        function s(a, b, c) {
            if (a.indexOf && !c) return a.indexOf(b);
            for (var d = 0; d < a.length;) {
                if (c && a[d][c] == b || !c && a[d] === b) return d;
                d++
            }
            return -1
        }

        function t(a) {
            return Array.prototype.slice.call(a, 0)
        }

        function u(a, b, c) {
            for (var d = [], e = [], f = 0; f < a.length;) {
                var g = b ? a[f][b] : a[f];
                s(e, g) < 0 && d.push(a[f]), e[f] = g, f++
            }
            return c && (d = b ? d.sort(function(a, c) {
                return a[b] > c[b]
            }) : d.sort()), d
        }

        function v(a, b) {
            for (var c, e, f = b[0].toUpperCase() + b.slice(1), g = 0; g < ia.length;) {
                if (c = ia[g], e = c ? c + f : b, e in a) return e;
                g++
            }
            return d
        }

        function w() {
            return oa++
        }

        function x(a) {
            var b = a.ownerDocument;
            return b.defaultView || b.parentWindow
        }

        function y(a, b) {
            var c = this;
            this.manager = a, this.callback = b, this.element = a.element, this.target = a.options.inputTarget, this.domHandler = function(b) {
                l(a.options.enable, [a]) && c.handler(b)
            }, this.init()
        }

        function z(a) {
            var b, c = a.options.inputClass;
            return new(b = c ? c : ra ? N : sa ? Q : qa ? S : M)(a, A)
        }

        function A(a, b, c) {
            var d = c.pointers.length,
                e = c.changedPointers.length,
                f = b & ya && 0 === d - e,
                g = b & (Aa | Ba) && 0 === d - e;
            c.isFirst = !!f, c.isFinal = !!g, f && (a.session = {}), c.eventType = b, B(a, c), a.emit("hammer.input", c), a.recognize(c), a.session.prevInput = c
        }

        function B(a, b) {
            var c = a.session,
                d = b.pointers,
                e = d.length;
            c.firstInput || (c.firstInput = E(b)), e > 1 && !c.firstMultiple ? c.firstMultiple = E(b) : 1 === e && (c.firstMultiple = !1);
            var f = c.firstInput,
                g = c.firstMultiple,
                h = g ? g.center : f.center,
                i = b.center = F(d);
            b.timeStamp = na(), b.deltaTime = b.timeStamp - f.timeStamp, b.angle = J(h, i), b.distance = I(h, i), C(c, b), b.offsetDirection = H(b.deltaX, b.deltaY), b.scale = g ? L(g.pointers, d) : 1, b.rotation = g ? K(g.pointers, d) : 0, D(c, b);
            var j = a.element;
            p(b.srcEvent.target, j) && (j = b.srcEvent.target), b.target = j
        }

        function C(a, b) {
            var c = b.center,
                d = a.offsetDelta || {},
                e = a.prevDelta || {},
                f = a.prevInput || {};
            (b.eventType === ya || f.eventType === Aa) && (e = a.prevDelta = {
                x: f.deltaX || 0,
                y: f.deltaY || 0
            }, d = a.offsetDelta = {
                x: c.x,
                y: c.y
            }), b.deltaX = e.x + (c.x - d.x), b.deltaY = e.y + (c.y - d.y)
        }

        function D(a, b) {
            var c, e, f, g, h = a.lastInterval || b,
                i = b.timeStamp - h.timeStamp;
            if (b.eventType != Ba && (i > xa || h.velocity === d)) {
                var j = h.deltaX - b.deltaX,
                    k = h.deltaY - b.deltaY,
                    l = G(i, j, k);
                e = l.x, f = l.y, c = ma(l.x) > ma(l.y) ? l.x : l.y, g = H(j, k), a.lastInterval = b
            } else c = h.velocity, e = h.velocityX, f = h.velocityY, g = h.direction;
            b.velocity = c, b.velocityX = e, b.velocityY = f, b.direction = g
        }

        function E(a) {
            for (var b = [], c = 0; c < a.pointers.length;) b[c] = {
                clientX: la(a.pointers[c].clientX),
                clientY: la(a.pointers[c].clientY)
            }, c++;
            return {
                timeStamp: na(),
                pointers: b,
                center: F(b),
                deltaX: a.deltaX,
                deltaY: a.deltaY
            }
        }

        function F(a) {
            var b = a.length;
            if (1 === b) return {
                x: la(a[0].clientX),
                y: la(a[0].clientY)
            };
            for (var c = 0, d = 0, e = 0; b > e;) c += a[e].clientX, d += a[e].clientY, e++;
            return {
                x: la(c / b),
                y: la(d / b)
            }
        }

        function G(a, b, c) {
            return {
                x: b / a || 0,
                y: c / a || 0
            }
        }

        function H(a, b) {
            return a === b ? Ca : ma(a) >= ma(b) ? a > 0 ? Da : Ea : b > 0 ? Fa : Ga
        }

        function I(a, b, c) {
            c || (c = Ka);
            var d = b[c[0]] - a[c[0]],
                e = b[c[1]] - a[c[1]];
            return Math.sqrt(d * d + e * e)
        }

        function J(a, b, c) {
            c || (c = Ka);
            var d = b[c[0]] - a[c[0]],
                e = b[c[1]] - a[c[1]];
            return 180 * Math.atan2(e, d) / Math.PI
        }

        function K(a, b) {
            return J(b[1], b[0], La) - J(a[1], a[0], La)
        }

        function L(a, b) {
            return I(b[0], b[1], La) / I(a[0], a[1], La)
        }

        function M() {
            this.evEl = Na, this.evWin = Oa, this.allow = !0, this.pressed = !1, y.apply(this, arguments)
        }

        function N() {
            this.evEl = Ra, this.evWin = Sa, y.apply(this, arguments), this.store = this.manager.session.pointerEvents = []
        }

        function O() {
            this.evTarget = Ua, this.evWin = Va, this.started = !1, y.apply(this, arguments)
        }

        function P(a, b) {
            var c = t(a.touches),
                d = t(a.changedTouches);
            return b & (Aa | Ba) && (c = u(c.concat(d), "identifier", !0)), [c, d]
        }

        function Q() {
            this.evTarget = Xa, this.targetIds = {}, y.apply(this, arguments)
        }

        function R(a, b) {
            var c = t(a.touches),
                d = this.targetIds;
            if (b & (ya | za) && 1 === c.length) return d[c[0].identifier] = !0, [c, c];
            var e, f, g = t(a.changedTouches),
                h = [],
                i = this.target;
            if (f = c.filter(function(a) {
                    return p(a.target, i)
                }), b === ya)
                for (e = 0; e < f.length;) d[f[e].identifier] = !0, e++;
            for (e = 0; e < g.length;) d[g[e].identifier] && h.push(g[e]), b & (Aa | Ba) && delete d[g[e].identifier], e++;
            return h.length ? [u(f.concat(h), "identifier", !0), h] : void 0
        }

        function S() {
            y.apply(this, arguments);
            var a = k(this.handler, this);
            this.touch = new Q(this.manager, a), this.mouse = new M(this.manager, a)
        }

        function T(a, b) {
            this.manager = a, this.set(b)
        }

        function U(a) {
            if (q(a, bb)) return bb;
            var b = q(a, cb),
                c = q(a, db);
            return b && c ? cb + " " + db : b || c ? b ? cb : db : q(a, ab) ? ab : _a
        }

        function V(a) {
            this.id = w(), this.manager = null, this.options = i(a || {}, this.defaults), this.options.enable = m(this.options.enable, !0), this.state = eb, this.simultaneous = {}, this.requireFail = []
        }

        function W(a) {
            return a & jb ? "cancel" : a & hb ? "end" : a & gb ? "move" : a & fb ? "start" : ""
        }

        function X(a) {
            return a == Ga ? "down" : a == Fa ? "up" : a == Da ? "left" : a == Ea ? "right" : ""
        }

        function Y(a, b) {
            var c = b.manager;
            return c ? c.get(a) : a
        }

        function Z() {
            V.apply(this, arguments)
        }

        function $() {
            Z.apply(this, arguments), this.pX = null, this.pY = null
        }

        function _() {
            Z.apply(this, arguments)
        }

        function aa() {
            V.apply(this, arguments), this._timer = null, this._input = null
        }

        function ba() {
            Z.apply(this, arguments)
        }

        function ca() {
            Z.apply(this, arguments)
        }

        function da() {
            V.apply(this, arguments), this.pTime = !1, this.pCenter = !1, this._timer = null, this._input = null, this.count = 0
        }

        function ea(a, b) {
            return b = b || {}, b.recognizers = m(b.recognizers, ea.defaults.preset), new fa(a, b)
        }

        function fa(a, b) {
            b = b || {}, this.options = i(b, ea.defaults), this.options.inputTarget = this.options.inputTarget || a, this.handlers = {}, this.session = {}, this.recognizers = [], this.element = a, this.input = z(this), this.touchAction = new T(this, this.options.touchAction), ga(this, !0), g(b.recognizers, function(a) {
                var b = this.add(new a[0](a[1]));
                a[2] && b.recognizeWith(a[2]), a[3] && b.requireFailure(a[3])
            }, this)
        }

        function ga(a, b) {
            var c = a.element;
            g(a.options.cssProps, function(a, d) {
                c.style[v(c.style, d)] = b ? a : ""
            })
        }

        function ha(a, c) {
            var d = b.createEvent("Event");
            d.initEvent(a, !0, !0), d.gesture = c, c.target.dispatchEvent(d)
        }
        var ia = ["", "webkit", "moz", "MS", "ms", "o"],
            ja = b.createElement("div"),
            ka = "function",
            la = Math.round,
            ma = Math.abs,
            na = Date.now,
            oa = 1,
            pa = /mobile|tablet|ip(ad|hone|od)|android/i,
            qa = "ontouchstart" in a,
            ra = v(a, "PointerEvent") !== d,
            sa = qa && pa.test(navigator.userAgent),
            ta = "touch",
            ua = "pen",
            va = "mouse",
            wa = "kinect",
            xa = 25,
            ya = 1,
            za = 2,
            Aa = 4,
            Ba = 8,
            Ca = 1,
            Da = 2,
            Ea = 4,
            Fa = 8,
            Ga = 16,
            Ha = Da | Ea,
            Ia = Fa | Ga,
            Ja = Ha | Ia,
            Ka = ["x", "y"],
            La = ["clientX", "clientY"];
        y.prototype = {
            handler: function() {},
            init: function() {
                this.evEl && n(this.element, this.evEl, this.domHandler), this.evTarget && n(this.target, this.evTarget, this.domHandler), this.evWin && n(x(this.element), this.evWin, this.domHandler)
            },
            destroy: function() {
                this.evEl && o(this.element, this.evEl, this.domHandler), this.evTarget && o(this.target, this.evTarget, this.domHandler), this.evWin && o(x(this.element), this.evWin, this.domHandler)
            }
        };
        var Ma = {
                mousedown: ya,
                mousemove: za,
                mouseup: Aa
            },
            Na = "mousedown",
            Oa = "mousemove mouseup";
        j(M, y, {
            handler: function(a) {
                var b = Ma[a.type];
                b & ya && 0 === a.button && (this.pressed = !0), b & za && 1 !== a.which && (b = Aa), this.pressed && this.allow && (b & Aa && (this.pressed = !1), this.callback(this.manager, b, {
                    pointers: [a],
                    changedPointers: [a],
                    pointerType: va,
                    srcEvent: a
                }))
            }
        });
        var Pa = {
                pointerdown: ya,
                pointermove: za,
                pointerup: Aa,
                pointercancel: Ba,
                pointerout: Ba
            },
            Qa = {
                2: ta,
                3: ua,
                4: va,
                5: wa
            },
            Ra = "pointerdown",
            Sa = "pointermove pointerup pointercancel";
        a.MSPointerEvent && (Ra = "MSPointerDown", Sa = "MSPointerMove MSPointerUp MSPointerCancel"), j(N, y, {
            handler: function(a) {
                var b = this.store,
                    c = !1,
                    d = a.type.toLowerCase().replace("ms", ""),
                    e = Pa[d],
                    f = Qa[a.pointerType] || a.pointerType,
                    g = f == ta,
                    h = s(b, a.pointerId, "pointerId");
                e & ya && (0 === a.button || g) ? 0 > h && (b.push(a), h = b.length - 1) : e & (Aa | Ba) && (c = !0), 0 > h || (b[h] = a, this.callback(this.manager, e, {
                    pointers: b,
                    changedPointers: [a],
                    pointerType: f,
                    srcEvent: a
                }), c && b.splice(h, 1))
            }
        });
        var Ta = {
                touchstart: ya,
                touchmove: za,
                touchend: Aa,
                touchcancel: Ba
            },
            Ua = "touchstart",
            Va = "touchstart touchmove touchend touchcancel";
        j(O, y, {
            handler: function(a) {
                var b = Ta[a.type];
                if (b === ya && (this.started = !0), this.started) {
                    var c = P.call(this, a, b);
                    b & (Aa | Ba) && 0 === c[0].length - c[1].length && (this.started = !1), this.callback(this.manager, b, {
                        pointers: c[0],
                        changedPointers: c[1],
                        pointerType: ta,
                        srcEvent: a
                    })
                }
            }
        });
        var Wa = {
                touchstart: ya,
                touchmove: za,
                touchend: Aa,
                touchcancel: Ba
            },
            Xa = "touchstart touchmove touchend touchcancel";
        j(Q, y, {
            handler: function(a) {
                var b = Wa[a.type],
                    c = R.call(this, a, b);
                c && this.callback(this.manager, b, {
                    pointers: c[0],
                    changedPointers: c[1],
                    pointerType: ta,
                    srcEvent: a
                })
            }
        }), j(S, y, {
            handler: function(a, b, c) {
                var d = c.pointerType == ta,
                    e = c.pointerType == va;
                if (d) this.mouse.allow = !1;
                else if (e && !this.mouse.allow) return;
                b & (Aa | Ba) && (this.mouse.allow = !0), this.callback(a, b, c)
            },
            destroy: function() {
                this.touch.destroy(), this.mouse.destroy()
            }
        });
        var Ya = v(ja.style, "touchAction"),
            Za = Ya !== d,
            $a = "compute",
            _a = "auto",
            ab = "manipulation",
            bb = "none",
            cb = "pan-x",
            db = "pan-y";
        T.prototype = {
            set: function(a) {
                a == $a && (a = this.compute()), Za && (this.manager.element.style[Ya] = a), this.actions = a.toLowerCase().trim()
            },
            update: function() {
                this.set(this.manager.options.touchAction)
            },
            compute: function() {
                var a = [];
                return g(this.manager.recognizers, function(b) {
                    l(b.options.enable, [b]) && (a = a.concat(b.getTouchAction()))
                }), U(a.join(" "))
            },
            preventDefaults: function(a) {
                if (!Za) {
                    var b = a.srcEvent,
                        c = a.offsetDirection;
                    if (this.manager.session.prevented) return void b.preventDefault();
                    var d = this.actions,
                        e = q(d, bb),
                        f = q(d, db),
                        g = q(d, cb);
                    return e || f && c & Ha || g && c & Ia ? this.preventSrc(b) : void 0
                }
            },
            preventSrc: function(a) {
                this.manager.session.prevented = !0, a.preventDefault()
            }
        };
        var eb = 1,
            fb = 2,
            gb = 4,
            hb = 8,
            ib = hb,
            jb = 16,
            kb = 32;
        V.prototype = {
            defaults: {},
            set: function(a) {
                return h(this.options, a), this.manager && this.manager.touchAction.update(), this
            },
            recognizeWith: function(a) {
                if (f(a, "recognizeWith", this)) return this;
                var b = this.simultaneous;
                return a = Y(a, this), b[a.id] || (b[a.id] = a, a.recognizeWith(this)), this
            },
            dropRecognizeWith: function(a) {
                return f(a, "dropRecognizeWith", this) ? this : (a = Y(a, this), delete this.simultaneous[a.id], this)
            },
            requireFailure: function(a) {
                if (f(a, "requireFailure", this)) return this;
                var b = this.requireFail;
                return a = Y(a, this), -1 === s(b, a) && (b.push(a), a.requireFailure(this)), this
            },
            dropRequireFailure: function(a) {
                if (f(a, "dropRequireFailure", this)) return this;
                a = Y(a, this);
                var b = s(this.requireFail, a);
                return b > -1 && this.requireFail.splice(b, 1), this
            },
            hasRequireFailures: function() {
                return this.requireFail.length > 0
            },
            canRecognizeWith: function(a) {
                return !!this.simultaneous[a.id]
            },
            emit: function(a) {
                function b(b) {
                    c.manager.emit(c.options.event + (b ? W(d) : ""), a)
                }
                var c = this,
                    d = this.state;
                hb > d && b(!0), b(), d >= hb && b(!0)
            },
            tryEmit: function(a) {
                return this.canEmit() ? this.emit(a) : void(this.state = kb)
            },
            canEmit: function() {
                for (var a = 0; a < this.requireFail.length;) {
                    if (!(this.requireFail[a].state & (kb | eb))) return !1;
                    a++
                }
                return !0
            },
            recognize: function(a) {
                var b = h({}, a);
                return l(this.options.enable, [this, b]) ? (this.state & (ib | jb | kb) && (this.state = eb), this.state = this.process(b), void(this.state & (fb | gb | hb | jb) && this.tryEmit(b))) : (this.reset(), void(this.state = kb))
            },
            process: function() {},
            getTouchAction: function() {},
            reset: function() {}
        }, j(Z, V, {
            defaults: {
                pointers: 1
            },
            attrTest: function(a) {
                var b = this.options.pointers;
                return 0 === b || a.pointers.length === b
            },
            process: function(a) {
                var b = this.state,
                    c = a.eventType,
                    d = b & (fb | gb),
                    e = this.attrTest(a);
                return d && (c & Ba || !e) ? b | jb : d || e ? c & Aa ? b | hb : b & fb ? b | gb : fb : kb
            }
        }), j($, Z, {
            defaults: {
                event: "pan",
                threshold: 10,
                pointers: 1,
                direction: Ja
            },
            getTouchAction: function() {
                var a = this.options.direction,
                    b = [];
                return a & Ha && b.push(db), a & Ia && b.push(cb), b
            },
            directionTest: function(a) {
                var b = this.options,
                    c = !0,
                    d = a.distance,
                    e = a.direction,
                    f = a.deltaX,
                    g = a.deltaY;
                return e & b.direction || (b.direction & Ha ? (e = 0 === f ? Ca : 0 > f ? Da : Ea, c = f != this.pX, d = Math.abs(a.deltaX)) : (e = 0 === g ? Ca : 0 > g ? Fa : Ga, c = g != this.pY, d = Math.abs(a.deltaY))), a.direction = e, c && d > b.threshold && e & b.direction
            },
            attrTest: function(a) {
                return Z.prototype.attrTest.call(this, a) && (this.state & fb || !(this.state & fb) && this.directionTest(a))
            },
            emit: function(a) {
                this.pX = a.deltaX, this.pY = a.deltaY;
                var b = X(a.direction);
                b && this.manager.emit(this.options.event + b, a), this._super.emit.call(this, a)
            }
        }), j(_, Z, {
            defaults: {
                event: "pinch",
                threshold: 0,
                pointers: 2
            },
            getTouchAction: function() {
                return [bb]
            },
            attrTest: function(a) {
                return this._super.attrTest.call(this, a) && (Math.abs(a.scale - 1) > this.options.threshold || this.state & fb)
            },
            emit: function(a) {
                if (this._super.emit.call(this, a), 1 !== a.scale) {
                    var b = a.scale < 1 ? "in" : "out";
                    this.manager.emit(this.options.event + b, a)
                }
            }
        }), j(aa, V, {
            defaults: {
                event: "press",
                pointers: 1,
                time: 500,
                threshold: 5
            },
            getTouchAction: function() {
                return [_a]
            },
            process: function(a) {
                var b = this.options,
                    c = a.pointers.length === b.pointers,
                    d = a.distance < b.threshold,
                    f = a.deltaTime > b.time;
                if (this._input = a, !d || !c || a.eventType & (Aa | Ba) && !f) this.reset();
                else if (a.eventType & ya) this.reset(), this._timer = e(function() {
                    this.state = ib, this.tryEmit()
                }, b.time, this);
                else if (a.eventType & Aa) return ib;
                return kb
            },
            reset: function() {
                clearTimeout(this._timer)
            },
            emit: function(a) {
                this.state === ib && (a && a.eventType & Aa ? this.manager.emit(this.options.event + "up", a) : (this._input.timeStamp = na(), this.manager.emit(this.options.event, this._input)))
            }
        }), j(ba, Z, {
            defaults: {
                event: "rotate",
                threshold: 0,
                pointers: 2
            },
            getTouchAction: function() {
                return [bb]
            },
            attrTest: function(a) {
                return this._super.attrTest.call(this, a) && (Math.abs(a.rotation) > this.options.threshold || this.state & fb)
            }
        }), j(ca, Z, {
            defaults: {
                event: "swipe",
                threshold: 10,
                velocity: .65,
                direction: Ha | Ia,
                pointers: 1
            },
            getTouchAction: function() {
                return $.prototype.getTouchAction.call(this)
            },
            attrTest: function(a) {
                var b, c = this.options.direction;
                return c & (Ha | Ia) ? b = a.velocity : c & Ha ? b = a.velocityX : c & Ia && (b = a.velocityY), this._super.attrTest.call(this, a) && c & a.direction && a.distance > this.options.threshold && ma(b) > this.options.velocity && a.eventType & Aa
            },
            emit: function(a) {
                var b = X(a.direction);
                b && this.manager.emit(this.options.event + b, a), this.manager.emit(this.options.event, a)
            }
        }), j(da, V, {
            defaults: {
                event: "tap",
                pointers: 1,
                taps: 1,
                interval: 300,
                time: 250,
                threshold: 2,
                posThreshold: 10
            },
            getTouchAction: function() {
                return [ab]
            },
            process: function(a) {
                var b = this.options,
                    c = a.pointers.length === b.pointers,
                    d = a.distance < b.threshold,
                    f = a.deltaTime < b.time;
                if (this.reset(), a.eventType & ya && 0 === this.count) return this.failTimeout();
                if (d && f && c) {
                    if (a.eventType != Aa) return this.failTimeout();
                    var g = this.pTime ? a.timeStamp - this.pTime < b.interval : !0,
                        h = !this.pCenter || I(this.pCenter, a.center) < b.posThreshold;
                    this.pTime = a.timeStamp, this.pCenter = a.center, h && g ? this.count += 1 : this.count = 1, this._input = a;
                    var i = this.count % b.taps;
                    if (0 === i) return this.hasRequireFailures() ? (this._timer = e(function() {
                        this.state = ib, this.tryEmit()
                    }, b.interval, this), fb) : ib
                }
                return kb
            },
            failTimeout: function() {
                return this._timer = e(function() {
                    this.state = kb
                }, this.options.interval, this), kb
            },
            reset: function() {
                clearTimeout(this._timer)
            },
            emit: function() {
                this.state == ib && (this._input.tapCount = this.count, this.manager.emit(this.options.event, this._input))
            }
        }), ea.VERSION = "2.0.4", ea.defaults = {
            domEvents: !1,
            touchAction: $a,
            enable: !0,
            inputTarget: null,
            inputClass: null,
            preset: [
                [ba, {
                    enable: !1
                }],
                [_, {
                        enable: !1
                    },
                    ["rotate"]
                ],
                [ca, {
                    direction: Ha
                }],
                [$, {
                        direction: Ha
                    },
                    ["swipe"]
                ],
                [da],
                [da, {
                        event: "doubletap",
                        taps: 2
                    },
                    ["tap"]
                ],
                [aa]
            ],
            cssProps: {
                userSelect: "default",
                touchSelect: "none",
                touchCallout: "none",
                contentZooming: "none",
                userDrag: "none",
                tapHighlightColor: "rgba(0,0,0,0)"
            }
        };
        var lb = 1,
            mb = 2;
        fa.prototype = {
            set: function(a) {
                return h(this.options, a), a.touchAction && this.touchAction.update(), a.inputTarget && (this.input.destroy(), this.input.target = a.inputTarget, this.input.init()), this
            },
            stop: function(a) {
                this.session.stopped = a ? mb : lb
            },
            recognize: function(a) {
                var b = this.session;
                if (!b.stopped) {
                    this.touchAction.preventDefaults(a);
                    var c, d = this.recognizers,
                        e = b.curRecognizer;
                    (!e || e && e.state & ib) && (e = b.curRecognizer = null);
                    for (var f = 0; f < d.length;) c = d[f], b.stopped === mb || e && c != e && !c.canRecognizeWith(e) ? c.reset() : c.recognize(a), !e && c.state & (fb | gb | hb) && (e = b.curRecognizer = c), f++
                }
            },
            get: function(a) {
                if (a instanceof V) return a;
                for (var b = this.recognizers, c = 0; c < b.length; c++)
                    if (b[c].options.event == a) return b[c];
                return null
            },
            add: function(a) {
                if (f(a, "add", this)) return this;
                var b = this.get(a.options.event);
                return b && this.remove(b), this.recognizers.push(a), a.manager = this, this.touchAction.update(), a
            },
            remove: function(a) {
                if (f(a, "remove", this)) return this;
                var b = this.recognizers;
                return a = this.get(a), b.splice(s(b, a), 1), this.touchAction.update(), this
            },
            on: function(a, b) {
                var c = this.handlers;
                return g(r(a), function(a) {
                    c[a] = c[a] || [], c[a].push(b)
                }), this
            },
            off: function(a, b) {
                var c = this.handlers;
                return g(r(a), function(a) {
                    b ? c[a].splice(s(c[a], b), 1) : delete c[a]
                }), this
            },
            emit: function(a, b) {
                this.options.domEvents && ha(a, b);
                var c = this.handlers[a] && this.handlers[a].slice();
                if (c && c.length) {
                    b.type = a, b.preventDefault = function() {
                        b.srcEvent.preventDefault()
                    };
                    for (var d = 0; d < c.length;) c[d](b), d++
                }
            },
            destroy: function() {
                this.element && ga(this, !1), this.handlers = {}, this.session = {}, this.input.destroy(), this.element = null
            }
        }, h(ea, {
            INPUT_START: ya,
            INPUT_MOVE: za,
            INPUT_END: Aa,
            INPUT_CANCEL: Ba,
            STATE_POSSIBLE: eb,
            STATE_BEGAN: fb,
            STATE_CHANGED: gb,
            STATE_ENDED: hb,
            STATE_RECOGNIZED: ib,
            STATE_CANCELLED: jb,
            STATE_FAILED: kb,
            DIRECTION_NONE: Ca,
            DIRECTION_LEFT: Da,
            DIRECTION_RIGHT: Ea,
            DIRECTION_UP: Fa,
            DIRECTION_DOWN: Ga,
            DIRECTION_HORIZONTAL: Ha,
            DIRECTION_VERTICAL: Ia,
            DIRECTION_ALL: Ja,
            Manager: fa,
            Input: y,
            TouchAction: T,
            TouchInput: Q,
            MouseInput: M,
            PointerEventInput: N,
            TouchMouseInput: S,
            SingleTouchInput: O,
            Recognizer: V,
            AttrRecognizer: Z,
            Tap: da,
            Pan: $,
            Swipe: ca,
            Pinch: _,
            Rotate: ba,
            Press: aa,
            on: n,
            off: o,
            each: g,
            merge: i,
            extend: h,
            inherit: j,
            bindFn: k,
            prefixed: v
        }), typeof define == ka && define.amd ? define(function() {
            return ea
        }) : "undefined" != typeof module && module.exports ? module.exports = ea : a[c] = ea
    }(window, document, "Hammer"),
    function(a) {
        "function" == typeof define && define.amd ? define(["jquery", "hammerjs"], a) : "object" == typeof exports ? a(require("jquery"), require("hammerjs")) : a(jQuery, Hammer)
    }(function(a, b) {
        function c(c, d) {
            var e = a(c);
            e.data("hammer") || e.data("hammer", new b(e[0], d))
        }
        a.fn.hammer = function(a) {
            return this.each(function() {
                c(this, a)
            })
        }, b.Manager.prototype.emit = function(b) {
            return function(c, d) {
                b.call(this, c, d), a(this.element).trigger({
                    type: c,
                    gesture: d
                })
            }
        }(b.Manager.prototype.emit)
    }),
    function(a) {
        a.Package ? Materialize = {} : a.Materialize = {}
    }(window), Materialize.guid = function() {
        function a() {
            return Math.floor(65536 * (1 + Math.random())).toString(16).substring(1)
        }
        return function() {
            return a() + a() + "-" + a() + "-" + a() + "-" + a() + "-" + a() + a() + a()
        }
    }(), Materialize.elementOrParentIsFixed = function(a) {
        var b = $(a),
            c = b.add(b.parents()),
            d = !1;
        return c.each(function() {
            return "fixed" === $(this).css("position") ? (d = !0, !1) : void 0
        }), d
    };
var Vel;
Vel = $ ? $.Velocity : jQuery ? jQuery.Velocity : Velocity,
    function(a) {
        a.fn.collapsible = function(b) {
            var c = {
                accordion: void 0
            };
            return b = a.extend(c, b), this.each(function() {
                function c(b) {
                    h = g.find("> li > .collapsible-header"), b.hasClass("active") ? b.parent().addClass("active") : b.parent().removeClass("active"), b.parent().hasClass("active") ? b.siblings(".collapsible-body").stop(!0, !1).slideDown({
                        duration: 350,
                        easing: "easeOutQuart",
                        queue: !1,
                        complete: function() {
                            a(this).css("height", "")
                        }
                    }) : b.siblings(".collapsible-body").stop(!0, !1).slideUp({
                        duration: 350,
                        easing: "easeOutQuart",
                        queue: !1,
                        complete: function() {
                            a(this).css("height", "")
                        }
                    }), h.not(b).removeClass("active").parent().removeClass("active"), h.not(b).parent().children(".collapsible-body").stop(!0, !1).slideUp({
                        duration: 350,
                        easing: "easeOutQuart",
                        queue: !1,
                        complete: function() {
                            a(this).css("height", "")
                        }
                    })
                }

                function d(b) {
                    b.hasClass("active") ? b.parent().addClass("active") : b.parent().removeClass("active"), b.parent().hasClass("active") ? b.siblings(".collapsible-body").stop(!0, !1).slideDown({
                        duration: 350,
                        easing: "easeOutQuart",
                        queue: !1,
                        complete: function() {
                            a(this).css("height", "")
                        }
                    }) : b.siblings(".collapsible-body").stop(!0, !1).slideUp({
                        duration: 350,
                        easing: "easeOutQuart",
                        queue: !1,
                        complete: function() {
                            a(this).css("height", "")
                        }
                    })
                }

                function e(a) {
                    var b = f(a);
                    return b.length > 0
                }

                function f(a) {
                    return a.closest("li > .collapsible-header")
                }
                var g = a(this),
                    h = a(this).find("> li > .collapsible-header"),
                    i = g.data("collapsible");
                g.off("click.collapse", "> li > .collapsible-header"), h.off("click.collapse"), g.on("click.collapse", "> li > .collapsible-header", function(g) {
                    var h = a(this),
                        j = a(g.target);
                    e(j) && (j = f(j)), j.toggleClass("active"), b.accordion || "accordion" === i || void 0 === i ? c(j) : (d(j), h.hasClass("active") && d(h))
                });
                var h = g.find("> li > .collapsible-header");
                b.accordion || "accordion" === i || void 0 === i ? c(h.filter(".active").first()) : h.filter(".active").each(function() {
                    d(a(this))
                })
            })
        }, a(document).ready(function() {
            a(".collapsible").collapsible()
        })
    }(jQuery),
    function(a) {
        a.fn.scrollTo = function(b) {
            return a(this).scrollTop(a(this).scrollTop() - a(this).offset().top + a(b).offset().top), this
        }, a.fn.dropdown = function(b) {
            var c = {
                inDuration: 300,
                outDuration: 225,
                constrain_width: !0,
                hover: !1,
                gutter: 0,
                belowOrigin: !1,
                alignment: "left"
            };
            this.each(function() {
                function d() {
                    void 0 !== g.data("induration") && (h.inDuration = g.data("inDuration")), void 0 !== g.data("outduration") && (h.outDuration = g.data("outDuration")), void 0 !== g.data("constrainwidth") && (h.constrain_width = g.data("constrainwidth")), void 0 !== g.data("hover") && (h.hover = g.data("hover")), void 0 !== g.data("gutter") && (h.gutter = g.data("gutter")), void 0 !== g.data("beloworigin") && (h.belowOrigin = g.data("beloworigin")), void 0 !== g.data("alignment") && (h.alignment = g.data("alignment"))
                }

                function e(b) {
                    "focus" === b && (i = !0), d(), j.addClass("active"), g.addClass("active"), h.constrain_width === !0 ? j.css("width", g.outerWidth()) : j.css("white-space", "nowrap");
                    var c, e = window.innerHeight,
                        f = g.innerHeight(),
                        k = g.offset().left,
                        l = g.offset().top - a(window).scrollTop(),
                        m = h.alignment,
                        n = 0;
                    if (h.belowOrigin === !0 && (n = f), k + j.innerWidth() > a(window).width() ? m = "right" : k - j.innerWidth() + g.innerWidth() < 0 && (m = "left"), l + j.innerHeight() > e)
                        if (l + f - j.innerHeight() < 0) {
                            var o = e - l - n;
                            j.css("max-height", o)
                        } else n || (n += f), n -= j.innerHeight();
                    if ("left" === m) c = h.gutter, leftPosition = g.position().left + c;
                    else if ("right" === m) {
                        var p = g.position().left + g.outerWidth() - j.outerWidth();
                        c = -h.gutter, leftPosition = p + c
                    }
                    j.css({
                        position: "absolute",
                        top: g.position().top + n,
                        left: leftPosition
                    }), j.stop(!0, !0).css("opacity", 0).slideDown({
                        queue: !1,
                        duration: h.inDuration,
                        easing: "easeOutCubic",
                        complete: function() {
                            a(this).css("height", "")
                        }
                    }).animate({
                        opacity: 1
                    }, {
                        queue: !1,
                        duration: h.inDuration,
                        easing: "easeOutSine"
                    })
                }

                function f() {
                    i = !1, j.fadeOut(h.outDuration), j.removeClass("active"), g.removeClass("active"), setTimeout(function() {
                        j.css("max-height", "")
                    }, h.outDuration)
                }
                var g = a(this),
                    h = a.extend({}, c, b),
                    i = !1,
                    j = a("#" + g.attr("data-activates"));
                if (d(), g.after(j), h.hover) {
                    var k = !1;
                    g.unbind("click." + g.attr("id")), g.on("mouseenter", function(a) {
                        k === !1 && (e(), k = !0)
                    }), g.on("mouseleave", function(b) {
                        var c = b.toElement || b.relatedTarget;
                        a(c).closest(".dropdown-content").is(j) || (j.stop(!0, !0), f(), k = !1)
                    }), j.on("mouseleave", function(b) {
                        var c = b.toElement || b.relatedTarget;
                        a(c).closest(".dropdown-button").is(g) || (j.stop(!0, !0), f(), k = !1)
                    })
                } else g.unbind("click." + g.attr("id")), g.bind("click." + g.attr("id"), function(b) {
                    i || (g[0] != b.currentTarget || g.hasClass("active") || 0 !== a(b.target).closest(".dropdown-content").length ? g.hasClass("active") && (f(), a(document).unbind("click." + j.attr("id") + " touchstart." + j.attr("id"))) : (b.preventDefault(), e("click")), j.hasClass("active") && a(document).bind("click." + j.attr("id") + " touchstart." + j.attr("id"), function(b) {
                        j.is(b.target) || g.is(b.target) || g.find(b.target).length || (f(), a(document).unbind("click." + j.attr("id") + " touchstart." + j.attr("id")))
                    }))
                });
                g.on("open", function(a, b) {
                    e(b)
                }), g.on("close", f)
            })
        }, a(document).ready(function() {
            a(".dropdown-button").dropdown()
        })
    }(jQuery),
    function(a) {
        var b = 0,
            c = 0,
            d = function() {
                return c++, "materialize-lean-overlay-" + c
            };
        a.fn.extend({
            openModal: function(c) {
                a("body").css("overflow", "hidden");
                var e = {
                        opacity: .5,
                        in_duration: 350,
                        out_duration: 250,
                        ready: void 0,
                        complete: void 0,
                        dismissible: !0,
                        starting_top: "4%"
                    },
                    f = d(),
                    g = a(this),
                    h = a('<div class="lean-overlay"></div>'),
                    i = ++b;
                h.attr("id", f).css("z-index", 1e3 + 2 * i), g.data("overlay-id", f).css("z-index", 1e3 + 2 * i + 1), a("body").append(h), c = a.extend(e, c), c.dismissible && (h.click(function() {
                    g.closeModal(c)
                }), a(document).on("keyup.leanModal" + f, function(a) {
                    27 === a.keyCode && g.closeModal(c)
                })), g.find(".modal-close").on("click.close", function(a) {
                    g.closeModal(c)
                }), h.css({
                    display: "block",
                    opacity: 0
                }), g.css({
                    display: "block",
                    opacity: 0
                }), h.velocity({
                    opacity: c.opacity
                }, {
                    duration: c.in_duration,
                    queue: !1,
                    ease: "easeOutCubic"
                }), g.data("associated-overlay", h[0]), g.hasClass("bottom-sheet") ? g.velocity({
                    bottom: "0",
                    opacity: 1
                }, {
                    duration: c.in_duration,
                    queue: !1,
                    ease: "easeOutCubic",
                    complete: function() {
                        "function" == typeof c.ready && c.ready()
                    }
                }) : (a.Velocity.hook(g, "scaleX", .7), g.css({
                    top: c.starting_top
                }), g.velocity({
                    top: "10%",
                    opacity: 1,
                    scaleX: "1"
                }, {
                    duration: c.in_duration,
                    queue: !1,
                    ease: "easeOutCubic",
                    complete: function() {
                        "function" == typeof c.ready && c.ready()
                    }
                }))
            }
        }), a.fn.extend({
            closeModal: function(c) {
                var d = {
                        out_duration: 250,
                        complete: void 0
                    },
                    e = a(this),
                    f = e.data("overlay-id"),
                    g = a("#" + f);
                c = a.extend(d, c), a("body").css("overflow", ""), e.find(".modal-close").off("click.close"), a(document).off("keyup.leanModal" + f), g.velocity({
                    opacity: 0
                }, {
                    duration: c.out_duration,
                    queue: !1,
                    ease: "easeOutQuart"
                }), e.hasClass("bottom-sheet") ? e.velocity({
                    bottom: "-100%",
                    opacity: 0
                }, {
                    duration: c.out_duration,
                    queue: !1,
                    ease: "easeOutCubic",
                    complete: function() {
                        g.css({
                            display: "none"
                        }), "function" == typeof c.complete && c.complete(), g.remove(), b--
                    }
                }) : e.velocity({
                    top: c.starting_top,
                    opacity: 0,
                    scaleX: .7
                }, {
                    duration: c.out_duration,
                    complete: function() {
                        a(this).css("display", "none"), "function" == typeof c.complete && c.complete(), g.remove(), b--
                    }
                })
            }
        }), a.fn.extend({
            leanModal: function(b) {
                return this.each(function() {
                    var c = {
                            starting_top: "4%"
                        },
                        d = a.extend(c, b);
                    a(this).click(function(b) {
                        d.starting_top = (a(this).offset().top - a(window).scrollTop()) / 1.15;
                        var c = a(this).attr("href") || "#" + a(this).data("target");
                        a(c).openModal(d), b.preventDefault()
                    })
                })
            }
        })
    }(jQuery),
    function(a) {
        a.fn.materialbox = function() {
            return this.each(function() {
                function b() {
                    f = !1;
                    var b = i.parent(".material-placeholder"),
                        d = (window.innerWidth, window.innerHeight, i.data("width")),
                        g = i.data("height");
                    i.velocity("stop", !0), a("#materialbox-overlay").velocity("stop", !0), a(".materialbox-caption").velocity("stop", !0), a("#materialbox-overlay").velocity({
                        opacity: 0
                    }, {
                        duration: h,
                        queue: !1,
                        easing: "easeOutQuad",
                        complete: function() {
                            e = !1, a(this).remove()
                        }
                    }), i.velocity({
                        width: d,
                        height: g,
                        left: 0,
                        top: 0
                    }, {
                        duration: h,
                        queue: !1,
                        easing: "easeOutQuad"
                    }), a(".materialbox-caption").velocity({
                        opacity: 0
                    }, {
                        duration: h,
                        queue: !1,
                        easing: "easeOutQuad",
                        complete: function() {
                            b.css({
                                height: "",
                                width: "",
                                position: "",
                                top: "",
                                left: ""
                            }), i.css({
                                height: "",
                                top: "",
                                left: "",
                                width: "",
                                "max-width": "",
                                position: "",
                                "z-index": ""
                            }), i.removeClass("active"), f = !0, a(this).remove(), c.css("overflow", "")
                        }
                    })
                }
                if (!a(this).hasClass("initialized")) {
                    a(this).addClass("initialized");
                    var c, d, e = !1,
                        f = !0,
                        g = 275,
                        h = 200,
                        i = a(this),
                        j = a("<div></div>").addClass("material-placeholder");
                    i.wrap(j), i.on("click", function() {
                        var h = i.parent(".material-placeholder"),
                            j = window.innerWidth,
                            k = window.innerHeight,
                            l = i.width(),
                            m = i.height();
                        if (f === !1) return b(), !1;
                        if (e && f === !0) return b(), !1;
                        f = !1, i.addClass("active"), e = !0, h.css({
                            width: h[0].getBoundingClientRect().width,
                            height: h[0].getBoundingClientRect().height,
                            position: "relative",
                            top: 0,
                            left: 0
                        }), c = void 0, d = h[0].parentNode;
                        for (; null !== d && !a(d).is(document);) {
                            var n = a(d);
                            "hidden" === n.css("overflow") && (n.css("overflow", "visible"), c = void 0 === c ? n : c.add(n)), d = d.parentNode
                        }
                        i.css({
                            position: "absolute",
                            "z-index": 1e3
                        }).data("width", l).data("height", m);
                        var o = a('<div id="materialbox-overlay"></div>').css({
                            opacity: 0
                        }).click(function() {
                            f === !0 && b()
                        });
                        if (a("body").append(o), o.velocity({
                                opacity: 1
                            }, {
                                duration: g,
                                queue: !1,
                                easing: "easeOutQuad"
                            }), "" !== i.data("caption")) {
                            var p = a('<div class="materialbox-caption"></div>');
                            p.text(i.data("caption")), a("body").append(p), p.css({
                                display: "inline"
                            }), p.velocity({
                                opacity: 1
                            }, {
                                duration: g,
                                queue: !1,
                                easing: "easeOutQuad"
                            })
                        }
                        var q = 0,
                            r = l / j,
                            s = m / k,
                            t = 0,
                            u = 0;
                        r > s ? (q = m / l, t = .9 * j, u = .9 * j * q) : (q = l / m, t = .9 * k * q, u = .9 * k), i.hasClass("responsive-img") ? i.velocity({
                            "max-width": t,
                            width: l
                        }, {
                            duration: 0,
                            queue: !1,
                            complete: function() {
                                i.css({
                                    left: 0,
                                    top: 0
                                }).velocity({
                                    height: u,
                                    width: t,
                                    left: a(document).scrollLeft() + j / 2 - i.parent(".material-placeholder").offset().left - t / 2,
                                    top: a(document).scrollTop() + k / 2 - i.parent(".material-placeholder").offset().top - u / 2
                                }, {
                                    duration: g,
                                    queue: !1,
                                    easing: "easeOutQuad",
                                    complete: function() {
                                        f = !0
                                    }
                                })
                            }
                        }) : i.css("left", 0).css("top", 0).velocity({
                            height: u,
                            width: t,
                            left: a(document).scrollLeft() + j / 2 - i.parent(".material-placeholder").offset().left - t / 2,
                            top: a(document).scrollTop() + k / 2 - i.parent(".material-placeholder").offset().top - u / 2
                        }, {
                            duration: g,
                            queue: !1,
                            easing: "easeOutQuad",
                            complete: function() {
                                f = !0
                            }
                        })
                    }), a(window).scroll(function() {
                        e && b()
                    }), a(document).keyup(function(a) {
                        27 === a.keyCode && f === !0 && e && b()
                    })
                }
            })
        }, a(document).ready(function() {
            a(".materialboxed").materialbox()
        })
    }(jQuery),
    function(a) {
        a.fn.parallax = function() {
            var b = a(window).width();
            return this.each(function(c) {
                function d(c) {
                    var d;
                    d = 601 > b ? e.height() > 0 ? e.height() : e.children("img").height() : e.height() > 0 ? e.height() : 500;
                    var f = e.children("img").first(),
                        g = f.height(),
                        h = g - d,
                        i = e.offset().top + d,
                        j = e.offset().top,
                        k = a(window).scrollTop(),
                        l = window.innerHeight,
                        m = k + l,
                        n = (m - j) / (d + l),
                        o = Math.round(h * n);
                    c && f.css("display", "block"), i > k && k + l > j && f.css("transform", "translate3D(-50%," + o + "px, 0)")
                }
                var e = a(this);
                e.addClass("parallax"), e.children("img").one("load", function() {
                    d(!0)
                }).each(function() {
                    this.complete && a(this).load()
                }), a(window).scroll(function() {
                    b = a(window).width(), d(!1)
                }), a(window).resize(function() {
                    b = a(window).width(), d(!1)
                })
            })
        }
    }(jQuery),
    function(a) {
        var b = {
            init: function() {
                return this.each(function() {
                    var b = a(this);
                    a(window).width();
                    b.width("100%");
                    var c, d, e = b.find("li.tab a"),
                        f = b.width(),
                        g = b.find("li").first().outerWidth(),
                        h = 0;
                    c = a(e.filter('[href="' + location.hash + '"]')), 0 === c.length && (c = a(this).find("li.tab a.active").first()), 0 === c.length && (c = a(this).find("li.tab a").first()), c.addClass("active"), h = e.index(c), 0 > h && (h = 0), d = a(c[0].hash), b.append('<div class="indicator"></div>');
                    var i = b.find(".indicator");
                    b.is(":visible") && (i.css({
                        right: f - (h + 1) * g
                    }), i.css({
                        left: h * g
                    })), a(window).resize(function() {
                        f = b.width(), g = b.find("li").first().outerWidth(), 0 > h && (h = 0), 0 !== g && 0 !== f && (i.css({
                            right: f - (h + 1) * g
                        }), i.css({
                            left: h * g
                        }))
                    }), e.not(c).each(function() {
                        a(this.hash).hide()
                    }), b.on("click", "a", function(j) {
                        if (a(this).parent().hasClass("disabled")) return void j.preventDefault();
                        f = b.width(), g = b.find("li").first().outerWidth(), c.removeClass("active"), d.hide(), c = a(this), d = a(this.hash), e = b.find("li.tab a"), c.addClass("active");
                        var k = h;
                        h = e.index(a(this)), 0 > h && (h = 0), d.show(), h - k >= 0 ? (i.velocity({
                            right: f - (h + 1) * g
                        }, {
                            duration: 300,
                            queue: !1,
                            easing: "easeOutQuad"
                        }), i.velocity({
                            left: h * g
                        }, {
                            duration: 300,
                            queue: !1,
                            easing: "easeOutQuad",
                            delay: 90
                        })) : (i.velocity({
                            left: h * g
                        }, {
                            duration: 300,
                            queue: !1,
                            easing: "easeOutQuad"
                        }), i.velocity({
                            right: f - (h + 1) * g
                        }, {
                            duration: 300,
                            queue: !1,
                            easing: "easeOutQuad",
                            delay: 90
                        })), j.preventDefault()
                    })
                })
            },
            select_tab: function(a) {
                this.find('a[href="#' + a + '"]').trigger("click")
            }
        };
        a.fn.tabs = function(c) {
            return b[c] ? b[c].apply(this, Array.prototype.slice.call(arguments, 1)) : "object" != typeof c && c ? void a.error("Method " + c + " does not exist on jQuery.tooltip") : b.init.apply(this, arguments)
        }, a(document).ready(function() {
            a("ul.tabs").tabs()
        })
    }(jQuery),
    function(a) {
        a.fn.tooltip = function(c) {
            var d = 5,
                e = {
                    delay: 350
                };
            return "remove" === c ? (this.each(function() {
                a("#" + a(this).attr("data-tooltip-id")).remove(), a(this).off("mouseenter.tooltip mouseleave.tooltip")
            }), !1) : (c = a.extend(e, c), this.each(function() {
                var e = Materialize.guid(),
                    f = a(this);
                f.attr("data-tooltip-id", e);
                var g = a("<span></span>").text(f.attr("data-tooltip")),
                    h = a("<div></div>");
                h.addClass("material-tooltip").append(g).appendTo(a("body")).attr("id", e);
                var i = a("<div></div>").addClass("backdrop");
                i.appendTo(h), i.css({
                    top: 0,
                    left: 0
                }), f.off("mouseenter.tooltip mouseleave.tooltip");
                var j, k = !1;
                f.on({
                    "mouseenter.tooltip": function(a) {
                        var e = f.attr("data-delay");
                        e = void 0 === e || "" === e ? c.delay : e, j = setTimeout(function() {
                            k = !0, h.velocity("stop"), i.velocity("stop"), h.css({
                                display: "block",
                                left: "0px",
                                top: "0px"
                            }), h.children("span").text(f.attr("data-tooltip"));
                            var a, c, e, g = f.outerWidth(),
                                j = f.outerHeight(),
                                l = f.attr("data-position"),
                                m = h.outerHeight(),
                                n = h.outerWidth(),
                                o = "0px",
                                p = "0px",
                                q = 8;
                            "top" === l ? (a = f.offset().top - m - d, c = f.offset().left + g / 2 - n / 2, e = b(c, a, n, m), o = "-10px", i.css({
                                borderRadius: "14px 14px 0 0",
                                transformOrigin: "50% 90%",
                                marginTop: m,
                                marginLeft: n / 2 - i.width() / 2
                            })) : "left" === l ? (a = f.offset().top + j / 2 - m / 2, c = f.offset().left - n - d, e = b(c, a, n, m), p = "-10px", i.css({
                                width: "14px",
                                height: "14px",
                                borderRadius: "14px 0 0 14px",
                                transformOrigin: "95% 50%",
                                marginTop: m / 2,
                                marginLeft: n
                            })) : "right" === l ? (a = f.offset().top + j / 2 - m / 2, c = f.offset().left + g + d, e = b(c, a, n, m), p = "+10px", i.css({
                                width: "14px",
                                height: "14px",
                                borderRadius: "0 14px 14px 0",
                                transformOrigin: "5% 50%",
                                marginTop: m / 2,
                                marginLeft: "0px"
                            })) : (a = f.offset().top + f.outerHeight() + d, c = f.offset().left + g / 2 - n / 2, e = b(c, a, n, m), o = "+10px", i.css({
                                marginLeft: n / 2 - i.width() / 2
                            })), h.css({
                                top: e.y,
                                left: e.x
                            }), q = n / 8, 8 > q && (q = 8), ("right" === l || "left" === l) && (q = n / 10, 6 > q && (q = 6)), h.velocity({
                                marginTop: o,
                                marginLeft: p
                            }, {
                                duration: 350,
                                queue: !1
                            }).velocity({
                                opacity: 1
                            }, {
                                duration: 300,
                                delay: 50,
                                queue: !1
                            }), i.css({
                                display: "block"
                            }).velocity({
                                opacity: 1
                            }, {
                                duration: 55,
                                delay: 0,
                                queue: !1
                            }).velocity({
                                scale: q
                            }, {
                                duration: 300,
                                delay: 0,
                                queue: !1,
                                easing: "easeInOutQuad"
                            })
                        }, e)
                    },
                    "mouseleave.tooltip": function() {
                        k = !1, clearTimeout(j), setTimeout(function() {
                            1 != k && (h.velocity({
                                opacity: 0,
                                marginTop: 0,
                                marginLeft: 0
                            }, {
                                duration: 225,
                                queue: !1
                            }), i.velocity({
                                opacity: 0,
                                scale: 1
                            }, {
                                duration: 225,
                                queue: !1,
                                complete: function() {
                                    i.css("display", "none"), h.css("display", "none"), k = !1
                                }
                            }))
                        }, 225)
                    }
                })
            }))
        };
        var b = function(b, c, d, e) {
            var f = b,
                g = c;
            return 0 > f ? f = 4 : f + d > window.innerWidth && (f -= f + d - window.innerWidth), 0 > g ? g = 4 : g + e > window.innerHeight + a(window).scrollTop && (g -= g + e - window.innerHeight), {
                x: f,
                y: g
            }
        };
        a(document).ready(function() {
            a(".tooltipped").tooltip()
        })
    }(jQuery),
    function(a) {
        "use strict";

        function b(a) {
            return null !== a && a === a.window
        }

        function c(a) {
            return b(a) ? a : 9 === a.nodeType && a.defaultView
        }

        function d(a) {
            var b, d, e = {
                    top: 0,
                    left: 0
                },
                f = a && a.ownerDocument;
            return b = f.documentElement, "undefined" != typeof a.getBoundingClientRect && (e = a.getBoundingClientRect()), d = c(f), {
                top: e.top + d.pageYOffset - b.clientTop,
                left: e.left + d.pageXOffset - b.clientLeft
            }
        }

        function e(a) {
            var b = "";
            for (var c in a) a.hasOwnProperty(c) && (b += c + ":" + a[c] + ";");
            return b
        }

        function f(a) {
            if (k.allowEvent(a) === !1) return null;
            for (var b = null, c = a.target || a.srcElement; null !== c.parentElement;) {
                if (!(c instanceof SVGElement || -1 === c.className.indexOf("waves-effect"))) {
                    b = c;
                    break
                }
                if (c.classList.contains("waves-effect")) {
                    b = c;
                    break
                }
                c = c.parentElement
            }
            return b
        }

        function g(b) {
            var c = f(b);
            null !== c && (j.show(b, c), "ontouchstart" in a && (c.addEventListener("touchend", j.hide, !1), c.addEventListener("touchcancel", j.hide, !1)), c.addEventListener("mouseup", j.hide, !1), c.addEventListener("mouseleave", j.hide, !1))
        }
        var h = h || {},
            i = document.querySelectorAll.bind(document),
            j = {
                duration: 750,
                show: function(a, b) {
                    if (2 === a.button) return !1;
                    var c = b || this,
                        f = document.createElement("div");
                    f.className = "waves-ripple", c.appendChild(f);
                    var g = d(c),
                        h = a.pageY - g.top,
                        i = a.pageX - g.left,
                        k = "scale(" + c.clientWidth / 100 * 10 + ")";
                    "touches" in a && (h = a.touches[0].pageY - g.top, i = a.touches[0].pageX - g.left), f.setAttribute("data-hold", Date.now()), f.setAttribute("data-scale", k), f.setAttribute("data-x", i), f.setAttribute("data-y", h);
                    var l = {
                        top: h + "px",
                        left: i + "px"
                    };
                    f.className = f.className + " waves-notransition", f.setAttribute("style", e(l)), f.className = f.className.replace("waves-notransition", ""), l["-webkit-transform"] = k, l["-moz-transform"] = k, l["-ms-transform"] = k, l["-o-transform"] = k, l.transform = k, l.opacity = "1", l["-webkit-transition-duration"] = j.duration + "ms", l["-moz-transition-duration"] = j.duration + "ms", l["-o-transition-duration"] = j.duration + "ms", l["transition-duration"] = j.duration + "ms", l["-webkit-transition-timing-function"] = "cubic-bezier(0.250, 0.460, 0.450, 0.940)", l["-moz-transition-timing-function"] = "cubic-bezier(0.250, 0.460, 0.450, 0.940)", l["-o-transition-timing-function"] = "cubic-bezier(0.250, 0.460, 0.450, 0.940)", l["transition-timing-function"] = "cubic-bezier(0.250, 0.460, 0.450, 0.940)", f.setAttribute("style", e(l))
                },
                hide: function(a) {
                    k.touchup(a);
                    var b = this,
                        c = (1.4 * b.clientWidth, null),
                        d = b.getElementsByClassName("waves-ripple");
                    if (!(d.length > 0)) return !1;
                    c = d[d.length - 1];
                    var f = c.getAttribute("data-x"),
                        g = c.getAttribute("data-y"),
                        h = c.getAttribute("data-scale"),
                        i = Date.now() - Number(c.getAttribute("data-hold")),
                        l = 350 - i;
                    0 > l && (l = 0), setTimeout(function() {
                        var a = {
                            top: g + "px",
                            left: f + "px",
                            opacity: "0",
                            "-webkit-transition-duration": j.duration + "ms",
                            "-moz-transition-duration": j.duration + "ms",
                            "-o-transition-duration": j.duration + "ms",
                            "transition-duration": j.duration + "ms",
                            "-webkit-transform": h,
                            "-moz-transform": h,
                            "-ms-transform": h,
                            "-o-transform": h,
                            transform: h
                        };
                        c.setAttribute("style", e(a)), setTimeout(function() {
                            try {
                                b.removeChild(c)
                            } catch (a) {
                                return !1
                            }
                        }, j.duration)
                    }, l)
                },
                wrapInput: function(a) {
                    for (var b = 0; b < a.length; b++) {
                        var c = a[b];
                        if ("input" === c.tagName.toLowerCase()) {
                            var d = c.parentNode;
                            if ("i" === d.tagName.toLowerCase() && -1 !== d.className.indexOf("waves-effect")) continue;
                            var e = document.createElement("i");
                            e.className = c.className + " waves-input-wrapper";
                            var f = c.getAttribute("style");
                            f || (f = ""), e.setAttribute("style", f), c.className = "waves-button-input", c.removeAttribute("style"), d.replaceChild(e, c), e.appendChild(c)
                        }
                    }
                }
            },
            k = {
                touches: 0,
                allowEvent: function(a) {
                    var b = !0;
                    return "touchstart" === a.type ? k.touches += 1 : "touchend" === a.type || "touchcancel" === a.type ? setTimeout(function() {
                        k.touches > 0 && (k.touches -= 1)
                    }, 500) : "mousedown" === a.type && k.touches > 0 && (b = !1), b
                },
                touchup: function(a) {
                    k.allowEvent(a)
                }
            };
        h.displayEffect = function(b) {
            b = b || {}, "duration" in b && (j.duration = b.duration), j.wrapInput(i(".waves-effect")), "ontouchstart" in a && document.body.addEventListener("touchstart", g, !1), document.body.addEventListener("mousedown", g, !1)
        }, h.attach = function(b) {
            "input" === b.tagName.toLowerCase() && (j.wrapInput([b]), b = b.parentElement), "ontouchstart" in a && b.addEventListener("touchstart", g, !1), b.addEventListener("mousedown", g, !1)
        }, a.Waves = h, document.addEventListener("DOMContentLoaded", function() {
            h.displayEffect()
        }, !1)
    }(window), Materialize.toast = function(a, b, c, d) {
        function e(a) {
            var b = document.createElement("div");
            if (b.classList.add("toast"), c)
                for (var e = c.split(" "), f = 0, g = e.length; g > f; f++) b.classList.add(e[f]);
            ("object" == typeof HTMLElement ? a instanceof HTMLElement : a && "object" == typeof a && null !== a && 1 === a.nodeType && "string" == typeof a.nodeName) ? b.appendChild(a): a instanceof jQuery ? b.appendChild(a[0]) : b.innerHTML = a;
            var h = new Hammer(b, {
                prevent_default: !1
            });
            return h.on("pan", function(a) {
                var c = a.deltaX,
                    d = 80;
                b.classList.contains("panning") || b.classList.add("panning");
                var e = 1 - Math.abs(c / d);
                0 > e && (e = 0), Vel(b, {
                    left: c,
                    opacity: e
                }, {
                    duration: 50,
                    queue: !1,
                    easing: "easeOutQuad"
                })
            }), h.on("panend", function(a) {
                var c = a.deltaX,
                    e = 80;
                Math.abs(c) > e ? Vel(b, {
                    marginTop: "-40px"
                }, {
                    duration: 375,
                    easing: "easeOutExpo",
                    queue: !1,
                    complete: function() {
                        "function" == typeof d && d(), b.parentNode.removeChild(b)
                    }
                }) : (b.classList.remove("panning"), Vel(b, {
                    left: 0,
                    opacity: 1
                }, {
                    duration: 300,
                    easing: "easeOutExpo",
                    queue: !1
                }))
            }), b
        }
        c = c || "";
        var f = document.getElementById("toast-container");
        null === f && (f = document.createElement("div"), f.id = "toast-container", document.body.appendChild(f));
        var g = e(a);
        a && f.appendChild(g), g.style.top = "35px", g.style.opacity = 0, Vel(g, {
            top: "0px",
            opacity: 1
        }, {
            duration: 300,
            easing: "easeOutCubic",
            queue: !1
        });
        var h = b,
            i = setInterval(function() {
                null === g.parentNode && window.clearInterval(i), g.classList.contains("panning") || (h -= 20), 0 >= h && (Vel(g, {
                    opacity: 0,
                    marginTop: "-40px"
                }, {
                    duration: 375,
                    easing: "easeOutExpo",
                    queue: !1,
                    complete: function() {
                        "function" == typeof d && d(), this[0].parentNode.removeChild(this[0])
                    }
                }), window.clearInterval(i))
            }, 20)
    },
    function(a) {
        var b = {
            init: function(b) {
                var c = {
                    menuWidth: 240,
                    edge: "left",
                    closeOnClick: !1
                };
                b = a.extend(c, b), a(this).each(function() {
                    function c(c) {
                        g = !1, h = !1, a("body").css("overflow", ""), a("#sidenav-overlay").velocity({
                            opacity: 0
                        }, {
                            duration: 200,
                            queue: !1,
                            easing: "easeOutQuad",
                            complete: function() {
                                a(this).remove()
                            }
                        }), "left" === b.edge ? (f.css({
                            width: "",
                            right: "",
                            left: "0"
                        }), e.velocity({
                            left: -1 * (b.menuWidth + 10)
                        }, {
                            duration: 200,
                            queue: !1,
                            easing: "easeOutCubic",
                            complete: function() {
                                c === !0 && (e.removeAttr("style"), e.css("width", b.menuWidth))
                            }
                        })) : (f.css({
                            width: "",
                            right: "0",
                            left: ""
                        }), e.velocity({
                            right: -1 * (b.menuWidth + 10)
                        }, {
                            duration: 200,
                            queue: !1,
                            easing: "easeOutCubic",
                            complete: function() {
                                c === !0 && (e.removeAttr("style"), e.css("width", b.menuWidth))
                            }
                        }))
                    }
                    var d = a(this),
                        e = a("#" + d.attr("data-activates"));
                    240 != b.menuWidth && e.css("width", b.menuWidth);
                    var f = a('<div class="drag-target"></div>');
                    a("body").append(f), "left" == b.edge ? (e.css("left", -1 * (b.menuWidth + 10)), f.css({
                        left: 0
                    })) : (e.addClass("right-aligned").css("right", -1 * (b.menuWidth + 10)).css("left", ""), f.css({
                        right: 0
                    })), e.hasClass("fixed") && window.innerWidth > 992 && e.css("left", 0), e.hasClass("fixed") && a(window).resize(function() {
                        window.innerWidth > 992 ? 0 !== a("#sidenav-overlay").css("opacity") && h ? c(!0) : (e.removeAttr("style"), e.css("width", b.menuWidth)) : h === !1 && ("left" === b.edge ? e.css("left", -1 * (b.menuWidth + 10)) : e.css("right", -1 * (b.menuWidth + 10)))
                    }), b.closeOnClick === !0 && e.on("click.itemclick", "a:not(.collapsible-header)", function() {
                        c()
                    });
                    var g = !1,
                        h = !1;
                    f.on("click", function() {
                        c()
                    }), f.hammer({
                        prevent_default: !1
                    }).bind("pan", function(d) {
                        if ("touch" == d.gesture.pointerType) {
                            var f = (d.gesture.direction, d.gesture.center.x);
                            d.gesture.center.y, d.gesture.velocityX;
                            if (a("body").css("overflow", "hidden"), 0 === a("#sidenav-overlay").length) {
                                var g = a('<div id="sidenav-overlay"></div>');
                                g.css("opacity", 0).click(function() {
                                    c()
                                }), a("body").append(g)
                            }
                            if ("left" === b.edge && (f > b.menuWidth ? f = b.menuWidth : 0 > f && (f = 0)), "left" === b.edge) f < b.menuWidth / 2 ? h = !1 : f >= b.menuWidth / 2 && (h = !0), e.css("left", f - b.menuWidth);
                            else {
                                f < window.innerWidth - b.menuWidth / 2 ? h = !0 : f >= window.innerWidth - b.menuWidth / 2 && (h = !1);
                                var i = -1 * (f - b.menuWidth / 2);
                                i > 0 && (i = 0), e.css("right", i)
                            }
                            var j;
                            "left" === b.edge ? (j = f / b.menuWidth, a("#sidenav-overlay").velocity({
                                opacity: j
                            }, {
                                duration: 50,
                                queue: !1,
                                easing: "easeOutQuad"
                            })) : (j = Math.abs((f - window.innerWidth) / b.menuWidth), a("#sidenav-overlay").velocity({
                                opacity: j
                            }, {
                                duration: 50,
                                queue: !1,
                                easing: "easeOutQuad"
                            }))
                        }
                    }).bind("panend", function(c) {
                        if ("touch" == c.gesture.pointerType) {
                            var d = c.gesture.velocityX;
                            g = !1, "left" === b.edge ? h && .3 >= d || -.5 > d ? (e.velocity({
                                left: 0
                            }, {
                                duration: 300,
                                queue: !1,
                                easing: "easeOutQuad"
                            }), a("#sidenav-overlay").velocity({
                                opacity: 1
                            }, {
                                duration: 50,
                                queue: !1,
                                easing: "easeOutQuad"
                            }), f.css({
                                width: "50%",
                                right: 0,
                                left: ""
                            })) : (!h || d > .3) && (a("body").css("overflow", ""), e.velocity({
                                left: -1 * (b.menuWidth + 10)
                            }, {
                                duration: 200,
                                queue: !1,
                                easing: "easeOutQuad"
                            }), a("#sidenav-overlay").velocity({
                                opacity: 0
                            }, {
                                duration: 200,
                                queue: !1,
                                easing: "easeOutQuad",
                                complete: function() {
                                    a(this).remove()
                                }
                            }), f.css({
                                width: "10px",
                                right: "",
                                left: 0
                            })) : h && d >= -.3 || d > .5 ? (e.velocity({
                                right: 0
                            }, {
                                duration: 300,
                                queue: !1,
                                easing: "easeOutQuad"
                            }), a("#sidenav-overlay").velocity({
                                opacity: 1
                            }, {
                                duration: 50,
                                queue: !1,
                                easing: "easeOutQuad"
                            }), f.css({
                                width: "50%",
                                right: "",
                                left: 0
                            })) : (!h || -.3 > d) && (a("body").css("overflow", ""), e.velocity({
                                right: -1 * (b.menuWidth + 10)
                            }, {
                                duration: 200,
                                queue: !1,
                                easing: "easeOutQuad"
                            }), a("#sidenav-overlay").velocity({
                                opacity: 0
                            }, {
                                duration: 200,
                                queue: !1,
                                easing: "easeOutQuad",
                                complete: function() {
                                    a(this).remove()
                                }
                            }), f.css({
                                width: "10px",
                                right: 0,
                                left: ""
                            }))
                        }
                    }), d.click(function() {
                        if (h === !0) h = !1, g = !1, c();
                        else {
                            a("body").css("overflow", "hidden"), a("body").append(f), "left" === b.edge ? (f.css({
                                width: "50%",
                                right: 0,
                                left: ""
                            }), e.velocity({
                                left: 0
                            }, {
                                duration: 300,
                                queue: !1,
                                easing: "easeOutQuad"
                            })) : (f.css({
                                width: "50%",
                                right: "",
                                left: 0
                            }), e.velocity({
                                right: 0
                            }, {
                                duration: 300,
                                queue: !1,
                                easing: "easeOutQuad"
                            }), e.css("left", ""));
                            var d = a('<div id="sidenav-overlay"></div>');
                            d.css("opacity", 0).click(function() {
                                h = !1, g = !1, c(), d.velocity({
                                    opacity: 0
                                }, {
                                    duration: 300,
                                    queue: !1,
                                    easing: "easeOutQuad",
                                    complete: function() {
                                        a(this).remove()
                                    }
                                })
                            }), a("body").append(d), d.velocity({
                                opacity: 1
                            }, {
                                duration: 300,
                                queue: !1,
                                easing: "easeOutQuad",
                                complete: function() {
                                    h = !0, g = !1
                                }
                            })
                        }
                        return !1
                    })
                })
            },
            show: function() {
                this.trigger("click")
            },
            hide: function() {
                a("#sidenav-overlay").trigger("click")
            }
        };
        a.fn.sideNav = function(c) {
            return b[c] ? b[c].apply(this, Array.prototype.slice.call(arguments, 1)) : "object" != typeof c && c ? void a.error("Method " + c + " does not exist on jQuery.sideNav") : b.init.apply(this, arguments)
        }
    }(jQuery),
    function(a) {
        function b(b, c, d, e) {
            var f = a();
            return a.each(g, function(a, g) {
                if (g.height() > 0) {
                    var h = g.offset().top,
                        i = g.offset().left,
                        j = i + g.width(),
                        k = h + g.height(),
                        l = !(i > c || e > j || h > d || b > k);
                    l && f.push(g)
                }
            }), f
        }

        function c() {
            ++j;
            var c = f.scrollTop(),
                d = f.scrollLeft(),
                e = d + f.width(),
                g = c + f.height(),
                i = b(c + k.top + 200, e + k.right, g + k.bottom, d + k.left);
            a.each(i, function(a, b) {
                var c = b.data("scrollSpy:ticks");
                "number" != typeof c && b.triggerHandler("scrollSpy:enter"), b.data("scrollSpy:ticks", j)
            }), a.each(h, function(a, b) {
                var c = b.data("scrollSpy:ticks");
                "number" == typeof c && c !== j && (b.triggerHandler("scrollSpy:exit"), b.data("scrollSpy:ticks", null))
            }), h = i
        }

        function d() {
            f.trigger("scrollSpy:winSize")
        }

        function e(a, b, c) {
            var d, e, f, g = null,
                h = 0;
            c || (c = {});
            var i = function() {
                h = c.leading === !1 ? 0 : l(), g = null, f = a.apply(d, e), d = e = null
            };
            return function() {
                var j = l();
                h || c.leading !== !1 || (h = j);
                var k = b - (j - h);
                return d = this, e = arguments, 0 >= k ? (clearTimeout(g), g = null, h = j, f = a.apply(d, e), d = e = null) : g || c.trailing === !1 || (g = setTimeout(i, k)), f
            }
        }
        var f = a(window),
            g = [],
            h = [],
            i = !1,
            j = 0,
            k = {
                top: 0,
                right: 0,
                bottom: 0,
                left: 0
            },
            l = Date.now || function() {
                return (new Date).getTime()
            };
        a.scrollSpy = function(b, d) {
            var h = [];
            b = a(b), b.each(function(b, c) {
                g.push(a(c)), a(c).data("scrollSpy:id", b), a("a[href=#" + a(c).attr("id") + "]").click(function(b) {
                    b.preventDefault();
                    var c = a(this.hash).offset().top + 1;
                    a("html, body").animate({
                        scrollTop: c - 200
                    }, {
                        duration: 400,
                        queue: !1,
                        easing: "easeOutCubic"
                    })
                })
            }), d = d || {
                throttle: 100
            }, k.top = d.offsetTop || 0, k.right = d.offsetRight || 0, k.bottom = d.offsetBottom || 0, k.left = d.offsetLeft || 0;
            var j = e(c, d.throttle || 100),
                l = function() {
                    a(document).ready(j)
                };
            return i || (f.on("scroll", l), f.on("resize", l), i = !0), setTimeout(l, 0), b.on("scrollSpy:enter", function() {
                h = a.grep(h, function(a) {
                    return 0 != a.height()
                });
                var b = a(this);
                h[0] ? (a("a[href=#" + h[0].attr("id") + "]").removeClass("active"), b.data("scrollSpy:id") < h[0].data("scrollSpy:id") ? h.unshift(a(this)) : h.push(a(this))) : h.push(a(this)), a("a[href=#" + h[0].attr("id") + "]").addClass("active")
            }), b.on("scrollSpy:exit", function() {
                if (h = a.grep(h, function(a) {
                        return 0 != a.height()
                    }), h[0]) {
                    a("a[href=#" + h[0].attr("id") + "]").removeClass("active");
                    var b = a(this);
                    h = a.grep(h, function(a) {
                        return a.attr("id") != b.attr("id")
                    }), h[0] && a("a[href=#" + h[0].attr("id") + "]").addClass("active")
                }
            }), b
        }, a.winSizeSpy = function(b) {
            return a.winSizeSpy = function() {
                return f
            }, b = b || {
                throttle: 100
            }, f.on("resize", e(d, b.throttle || 100))
        }, a.fn.scrollSpy = function(b) {
            return a.scrollSpy(a(this), b)
        }
    }(jQuery),
    function(a) {
        a(document).ready(function() {
            function b(b) {
                var c = b.css("font-family"),
                    e = b.css("font-size");
                e && d.css("font-size", e), c && d.css("font-family", c), "off" === b.attr("wrap") && d.css("overflow-wrap", "normal").css("white-space", "pre"), d.text(b.val() + "\n");
                var f = d.html().replace(/\n/g, "<br>");
                d.html(f), b.is(":visible") ? d.css("width", b.width()) : d.css("width", a(window).width() / 2), b.css("height", d.height())
            }
            Materialize.updateTextFields = function() {
                var b = "input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], textarea";
                a(b).each(function(b, c) {
                    a(c).val().length > 0 || c.autofocus || void 0 !== a(this).attr("placeholder") || a(c)[0].validity.badInput === !0 ? a(this).siblings("label, i").addClass("active") : a(this).siblings("label, i").removeClass("active")
                })
            };
            var c = "input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], textarea";
            a(document).on("change", c, function() {
                (0 !== a(this).val().length || void 0 !== a(this).attr("placeholder")) && a(this).siblings("label").addClass("active"), validate_field(a(this))
            }), a(document).ready(function() {
                Materialize.updateTextFields()
            }), a(document).on("reset", function(b) {
                var d = a(b.target);
                d.is("form") && (d.find(c).removeClass("valid").removeClass("invalid"), d.find(c).each(function() {
                    "" === a(this).attr("value") && a(this).siblings("label, i").removeClass("active")
                }), d.find("select.initialized").each(function() {
                    var a = d.find("option[selected]").text();
                    d.siblings("input.select-dropdown").val(a)
                }))
            }), a(document).on("focus", c, function() {
                a(this).siblings("label, i").addClass("active")
            }), a(document).on("blur", c, function() {
                var b = a(this);
                0 === b.val().length && b[0].validity.badInput !== !0 && void 0 === b.attr("placeholder") && b.siblings("label, i").removeClass("active"), 0 === b.val().length && b[0].validity.badInput !== !0 && void 0 !== b.attr("placeholder") && b.siblings("i").removeClass("active"), validate_field(b)
            }), window.validate_field = function(a) {
                var b = void 0 !== a.attr("length"),
                    c = parseInt(a.attr("length")),
                    d = a.val().length;
                0 === a.val().length && a[0].validity.badInput === !1 ? a.hasClass("validate") && (a.removeClass("valid"), a.removeClass("invalid")) : a.hasClass("validate") && (a.is(":valid") && b && c >= d || a.is(":valid") && !b ? (a.removeClass("invalid"), a.addClass("valid")) : (a.removeClass("valid"), a.addClass("invalid")))
            };
            var d = a(".hiddendiv").first();
            d.length || (d = a('<div class="hiddendiv common"></div>'), a("body").append(d));
            var e = ".materialize-textarea";
            a(e).each(function() {
                var c = a(this);
                c.val().length && b(c)
            }), a("body").on("keyup keydown autoresize", e, function() {
                b(a(this))
            }), a(document).on("change", '.file-field input[type="file"]', function() {
                for (var b = a(this).closest(".file-field"), c = b.find("input.file-path"), d = a(this)[0].files, e = [], f = 0; f < d.length; f++) e.push(d[f].name);
                c.val(e.join(", ")), c.trigger("change")
            });
            var f, g = "input[type=range]",
                h = !1;
            a(g).each(function() {
                var b = a('<span class="thumb"><span class="value"></span></span>');
                a(this).after(b)
            });
            var i = ".range-field";
            a(document).on("change", g, function(b) {
                var c = a(this).siblings(".thumb");
                c.find(".value").html(a(this).val())
            }), a(document).on("input mousedown touchstart", g, function(b) {
                var c = a(this).siblings(".thumb"),
                    d = a(this).outerWidth();
                c.length <= 0 && (c = a('<span class="thumb"><span class="value"></span></span>'), a(this).after(c)), c.find(".value").html(a(this).val()), h = !0, a(this).addClass("active"), c.hasClass("active") || c.velocity({
                    height: "30px",
                    width: "30px",
                    top: "-20px",
                    marginLeft: "-15px"
                }, {
                    duration: 300,
                    easing: "easeOutExpo"
                }), "input" !== b.type && (f = void 0 === b.pageX || null === b.pageX ? b.originalEvent.touches[0].pageX - a(this).offset().left : b.pageX - a(this).offset().left, 0 > f ? f = 0 : f > d && (f = d), c.addClass("active").css("left", f)), c.find(".value").html(a(this).val())
            }), a(document).on("mouseup touchend", i, function() {
                h = !1, a(this).removeClass("active")
            }), a(document).on("mousemove touchmove", i, function(b) {
                var c, d = a(this).children(".thumb");
                if (h) {
                    d.hasClass("active") || d.velocity({
                        height: "30px",
                        width: "30px",
                        top: "-20px",
                        marginLeft: "-15px"
                    }, {
                        duration: 300,
                        easing: "easeOutExpo"
                    }), c = void 0 === b.pageX || null === b.pageX ? b.originalEvent.touches[0].pageX - a(this).offset().left : b.pageX - a(this).offset().left;
                    var e = a(this).outerWidth();
                    0 > c ? c = 0 : c > e && (c = e), d.addClass("active").css("left", c), d.find(".value").html(d.siblings(g).val())
                }
            }), a(document).on("mouseout touchleave", i, function() {
                if (!h) {
                    var b = a(this).children(".thumb");
                    b.hasClass("active") && b.velocity({
                        height: "0",
                        width: "0",
                        top: "10px",
                        marginLeft: "-6px"
                    }, {
                        duration: 100
                    }), b.removeClass("active")
                }
            })
        }), a.fn.material_select = function(b) {
            function c(a, b, c) {
                var e = a.indexOf(b),
                    f = -1 === e;
                return f ? a.push(b) : a.splice(e, 1), c.siblings("ul.dropdown-content").find("li").eq(b).toggleClass("active"), c.find("option").eq(b).prop("selected", f), d(a, c), f
            }

            function d(a, b) {
                for (var c = "", d = 0, e = a.length; e > d; d++) {
                    var f = b.find("option").eq(a[d]).text();
                    c += 0 === d ? f : ", " + f
                }
                "" === c && (c = b.find("option:disabled").eq(0).text()), b.siblings("input.select-dropdown").val(c)
            }
            a(this).each(function() {
                var d = a(this);
                if (!d.hasClass("browser-default")) {
                    var e = d.attr("multiple") ? !0 : !1,
                        f = d.data("select-id");
                    if (f && (d.parent().find("span.caret").remove(), d.parent().find("input").remove(), d.unwrap(), a("ul#select-options-" + f).remove()), "destroy" === b) return void d.data("select-id", null).removeClass("initialized");
                    var g = Materialize.guid();
                    d.data("select-id", g);
                    var h = a('<div class="select-wrapper"></div>');
                    h.addClass(d.attr("class"));
                    var i = a('<ul id="select-options-' + g + '" class="dropdown-content select-dropdown ' + (e ? "multiple-select-dropdown" : "") + '"></ul>'),
                        j = d.children("option, optgroup"),
                        k = [],
                        l = !1,
                        m = d.find("option:selected").html() || d.find("option:first").html() || "",
                        n = function(b, c, d) {
                            var e = c.is(":disabled") ? "disabled " : "",
                                f = c.data("icon"),
                                g = c.attr("class");
                            if (f) {
                                var h = "";
                                return g && (h = ' class="' + g + '"'), "multiple" === d ? i.append(a('<li class="' + e + '"><img src="' + f + '"' + h + '><span><input type="checkbox"' + e + "/><label></label>" + c.html() + "</span></li>")) : i.append(a('<li class="' + e + '"><img src="' + f + '"' + h + "><span>" + c.html() + "</span></li>")), !0
                            }
                            "multiple" === d ? i.append(a('<li class="' + e + '"><span><input type="checkbox"' + e + "/><label></label>" + c.html() + "</span></li>")) : i.append(a('<li class="' + e + '"><span>' + c.html() + "</span></li>"))
                        };
                    j.length && j.each(function() {
                        if (a(this).is("option")) e ? n(d, a(this), "multiple") : n(d, a(this));
                        else if (a(this).is("optgroup")) {
                            var b = a(this).children("option");
                            i.append(a('<li class="optgroup"><span>' + a(this).attr("label") + "</span></li>")), b.each(function() {
                                n(d, a(this))
                            })
                        }
                    }), i.find("li:not(.optgroup)").each(function(f) {
                        a(this).click(function(g) {
                            if (!a(this).hasClass("disabled") && !a(this).hasClass("optgroup")) {
                                var h = !0;
                                e ? (a('input[type="checkbox"]', this).prop("checked", function(a, b) {
                                    return !b
                                }), h = c(k, a(this).index(), d), q.trigger("focus")) : (i.find("li").removeClass("active"), a(this).toggleClass("active"), q.val(a(this).text())), activateOption(i, a(this)), d.find("option").eq(f).prop("selected", h), d.trigger("change"), "undefined" != typeof b && b()
                            }
                            g.stopPropagation()
                        })
                    }), d.wrap(h);
                    var o = a('<span class="caret">&#9660;</span>');
                    d.is(":disabled") && o.addClass("disabled");
                    var p = m.replace(/"/g, "&quot;"),
                        q = a('<input type="text" class="select-dropdown" readonly="true" ' + (d.is(":disabled") ? "disabled" : "") + ' data-activates="select-options-' + g + '" value="' + p + '"/>');
                    d.before(q), q.before(o), q.after(i), d.is(":disabled") || q.dropdown({
                        hover: !1,
                        closeOnClick: !1
                    }), d.attr("tabindex") && a(q[0]).attr("tabindex", d.attr("tabindex")), d.addClass("initialized"), q.on({
                        focus: function() {
                            if (a("ul.select-dropdown").not(i[0]).is(":visible") && a("input.select-dropdown").trigger("close"), !i.is(":visible")) {
                                a(this).trigger("open", ["focus"]);
                                var b = a(this).val(),
                                    c = i.find("li").filter(function() {
                                        return a(this).text().toLowerCase() === b.toLowerCase()
                                    })[0];
                                activateOption(i, c)
                            }
                        },
                        click: function(a) {
                            a.stopPropagation()
                        }
                    }), q.on("blur", function() {
                        e || a(this).trigger("close"), i.find("li.selected").removeClass("selected")
                    }), i.hover(function() {
                        l = !0
                    }, function() {
                        l = !1
                    }), a(window).on({
                        click: function() {
                            e && (l || q.trigger("close"))
                        }
                    }), e && d.find("option:selected:not(:disabled)").each(function() {
                        var b = a(this).index();
                        c(k, b, d), i.find("li").eq(b).find(":checkbox").prop("checked", !0)
                    }), activateOption = function(b, c) {
                        if (c) {
                            b.find("li.selected").removeClass("selected");
                            var d = a(c);
                            d.addClass("selected"), i.scrollTo(d)
                        }
                    };
                    var r = [],
                        s = function(b) {
                            if (9 == b.which) return void q.trigger("close");
                            if (40 == b.which && !i.is(":visible")) return void q.trigger("open");
                            if (13 != b.which || i.is(":visible")) {
                                b.preventDefault();
                                var c = String.fromCharCode(b.which).toLowerCase(),
                                    d = [9, 13, 27, 38, 40];
                                if (c && -1 === d.indexOf(b.which)) {
                                    r.push(c);
                                    var f = r.join(""),
                                        g = i.find("li").filter(function() {
                                            return 0 === a(this).text().toLowerCase().indexOf(f)
                                        })[0];
                                    g && activateOption(i, g)
                                }
                                if (13 == b.which) {
                                    var h = i.find("li.selected:not(.disabled)")[0];
                                    h && (a(h).trigger("click"), e || q.trigger("close"))
                                }
                                40 == b.which && (g = i.find("li.selected").length ? i.find("li.selected").next("li:not(.disabled)")[0] : i.find("li:not(.disabled)")[0], activateOption(i, g)), 27 == b.which && q.trigger("close"), 38 == b.which && (g = i.find("li.selected").prev("li:not(.disabled)")[0], g && activateOption(i, g)), setTimeout(function() {
                                    r = []
                                }, 1e3)
                            }
                        };
                    q.on("keydown", s)
                }
            })
        }
    }(jQuery),
    function(a) {
        var b = {
            init: function(b) {
                var c = {
                    indicators: !0,
                    height: 400,
                    transition: 500,
                    interval: 6e3
                };
                return b = a.extend(c, b), this.each(function() {
                    function c(a, b) {
                        a.hasClass("center-align") ? a.velocity({
                            opacity: 0,
                            translateY: -100
                        }, {
                            duration: b,
                            queue: !1
                        }) : a.hasClass("right-align") ? a.velocity({
                            opacity: 0,
                            translateX: 100
                        }, {
                            duration: b,
                            queue: !1
                        }) : a.hasClass("left-align") && a.velocity({
                            opacity: 0,
                            translateX: -100
                        }, {
                            duration: b,
                            queue: !1
                        })
                    }

                    function d(a) {
                        a >= j.length ? a = 0 : 0 > a && (a = j.length - 1), k = i.find(".active").index(), k != a && (e = j.eq(k), $caption = e.find(".caption"), e.removeClass("active"), e.velocity({
                            opacity: 0
                        }, {
                            duration: b.transition,
                            queue: !1,
                            easing: "easeOutQuad",
                            complete: function() {
                                j.not(".active").velocity({
                                    opacity: 0,
                                    translateX: 0,
                                    translateY: 0
                                }, {
                                    duration: 0,
                                    queue: !1
                                })
                            }
                        }), c($caption, b.transition), b.indicators && f.eq(k).removeClass("active"), j.eq(a).velocity({
                            opacity: 1
                        }, {
                            duration: b.transition,
                            queue: !1,
                            easing: "easeOutQuad"
                        }), j.eq(a).find(".caption").velocity({
                            opacity: 1,
                            translateX: 0,
                            translateY: 0
                        }, {
                            duration: b.transition,
                            delay: b.transition,
                            queue: !1,
                            easing: "easeOutQuad"
                        }), j.eq(a).addClass("active"), b.indicators && f.eq(a).addClass("active"))
                    }
                    var e, f, g, h = a(this),
                        i = h.find("ul.slides").first(),
                        j = i.find("li"),
                        k = i.find(".active").index(); - 1 != k && (e = j.eq(k)), h.hasClass("fullscreen") || (b.indicators ? h.height(b.height + 40) : h.height(b.height), i.height(b.height)), j.find(".caption").each(function() {
                        c(a(this), 0)
                    }), j.find("img").each(function() {
                        var b = "data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";
                        a(this).attr("src") !== b && (a(this).css("background-image", "url(" + a(this).attr("src") + ")"), a(this).attr("src", b))
                    }), b.indicators && (f = a('<ul class="indicators"></ul>'), j.each(function(c) {
                        var e = a('<li class="indicator-item"></li>');
                        e.click(function() {
                            var c = i.parent(),
                                e = c.find(a(this)).index();
                            d(e), clearInterval(g), g = setInterval(function() {
                                k = i.find(".active").index(), j.length == k + 1 ? k = 0 : k += 1, d(k)
                            }, b.transition + b.interval)
                        }), f.append(e)
                    }), h.append(f), f = h.find("ul.indicators").find("li.indicator-item")), e ? e.show() : (j.first().addClass("active").velocity({
                        opacity: 1
                    }, {
                        duration: b.transition,
                        queue: !1,
                        easing: "easeOutQuad"
                    }), k = 0, e = j.eq(k), b.indicators && f.eq(k).addClass("active")), e.find("img").each(function() {
                        e.find(".caption").velocity({
                            opacity: 1,
                            translateX: 0,
                            translateY: 0
                        }, {
                            duration: b.transition,
                            queue: !1,
                            easing: "easeOutQuad"
                        })
                    }), g = setInterval(function() {
                        k = i.find(".active").index(), d(k + 1)
                    }, b.transition + b.interval);
                    var l = !1,
                        m = !1,
                        n = !1;
                    h.hammer({
                        prevent_default: !1
                    }).bind("pan", function(a) {
                        if ("touch" === a.gesture.pointerType) {
                            clearInterval(g);
                            var b = a.gesture.direction,
                                c = a.gesture.deltaX,
                                d = a.gesture.velocityX;
                            $curr_slide = i.find(".active"), $curr_slide.velocity({
                                translateX: c
                            }, {
                                duration: 50,
                                queue: !1,
                                easing: "easeOutQuad"
                            }), 4 === b && (c > h.innerWidth() / 2 || -.65 > d) ? n = !0 : 2 === b && (c < -1 * h.innerWidth() / 2 || d > .65) && (m = !0);
                            var e;
                            m && (e = $curr_slide.next(), 0 === e.length && (e = j.first()), e.velocity({
                                opacity: 1
                            }, {
                                duration: 300,
                                queue: !1,
                                easing: "easeOutQuad"
                            })), n && (e = $curr_slide.prev(), 0 === e.length && (e = j.last()), e.velocity({
                                opacity: 1
                            }, {
                                duration: 300,
                                queue: !1,
                                easing: "easeOutQuad"
                            }))
                        }
                    }).bind("panend", function(a) {
                        "touch" === a.gesture.pointerType && ($curr_slide = i.find(".active"), l = !1, curr_index = i.find(".active").index(), n || m ? m ? (d(curr_index + 1), $curr_slide.velocity({
                            translateX: -1 * h.innerWidth()
                        }, {
                            duration: 300,
                            queue: !1,
                            easing: "easeOutQuad",
                            complete: function() {
                                $curr_slide.velocity({
                                    opacity: 0,
                                    translateX: 0
                                }, {
                                    duration: 0,
                                    queue: !1
                                })
                            }
                        })) : n && (d(curr_index - 1), $curr_slide.velocity({
                            translateX: h.innerWidth()
                        }, {
                            duration: 300,
                            queue: !1,
                            easing: "easeOutQuad",
                            complete: function() {
                                $curr_slide.velocity({
                                    opacity: 0,
                                    translateX: 0
                                }, {
                                    duration: 0,
                                    queue: !1
                                })
                            }
                        })) : $curr_slide.velocity({
                            translateX: 0
                        }, {
                            duration: 300,
                            queue: !1,
                            easing: "easeOutQuad"
                        }), m = !1, n = !1, clearInterval(g), g = setInterval(function() {
                            k = i.find(".active").index(), j.length == k + 1 ? k = 0 : k += 1, d(k)
                        }, b.transition + b.interval))
                    }), h.on("sliderPause", function() {
                        clearInterval(g)
                    }), h.on("sliderStart", function() {
                        clearInterval(g), g = setInterval(function() {
                            k = i.find(".active").index(), j.length == k + 1 ? k = 0 : k += 1, d(k)
                        }, b.transition + b.interval)
                    }), h.on("sliderNext", function() {
                        k = i.find(".active").index(), d(k + 1)
                    }), h.on("sliderPrev", function() {
                        k = i.find(".active").index(), d(k - 1)
                    })
                })
            },
            pause: function() {
                a(this).trigger("sliderPause")
            },
            start: function() {
                a(this).trigger("sliderStart")
            },
            next: function() {
                a(this).trigger("sliderNext")
            },
            prev: function() {
                a(this).trigger("sliderPrev")
            }
        };
        a.fn.slider = function(c) {
            return b[c] ? b[c].apply(this, Array.prototype.slice.call(arguments, 1)) : "object" != typeof c && c ? void a.error("Method " + c + " does not exist on jQuery.tooltip") : b.init.apply(this, arguments)
        }
    }(jQuery),
    function(a) {
        a(document).ready(function() {
            a(document).on("click.card", ".card", function(b) {
                a(this).find("> .card-reveal").length && (a(b.target).is(a(".card-reveal .card-title")) || a(b.target).is(a(".card-reveal .card-title i")) ? a(this).find(".card-reveal").velocity({
                    translateY: 0
                }, {
                    duration: 225,
                    queue: !1,
                    easing: "easeInOutQuad",
                    complete: function() {
                        a(this).css({
                            display: "none"
                        })
                    }
                }) : (a(b.target).is(a(".card .activator")) || a(b.target).is(a(".card .activator i"))) && (a(b.target).closest(".card").css("overflow", "hidden"), a(this).find(".card-reveal").css({
                    display: "block"
                }).velocity("stop", !1).velocity({
                    translateY: "-100%"
                }, {
                    duration: 300,
                    queue: !1,
                    easing: "easeInOutQuad"
                }))), a(".card-reveal").closest(".card").css("overflow", "hidden")
            })
        })
    }(jQuery),
    function(a) {
        a(document).ready(function() {
            a(document).on("click.chip", ".chip .material-icons", function(b) {
                a(this).parent().remove()
            })
        })
    }(jQuery),
    function(a) {
        a(document).ready(function() {
            a.fn.pushpin = function(b) {
                var c = {
                    top: 0,
                    bottom: 1 / 0,
                    offset: 0
                };
                return b = a.extend(c, b), $index = 0, this.each(function() {
                    function c(a) {
                        a.removeClass("pin-top"), a.removeClass("pinned"), a.removeClass("pin-bottom")
                    }

                    function d(d, e) {
                        d.each(function() {
                            b.top <= e && b.bottom >= e && !a(this).hasClass("pinned") && (c(a(this)), a(this).css("top", b.offset), a(this).addClass("pinned")), e < b.top && !a(this).hasClass("pin-top") && (c(a(this)), a(this).css("top", 0), a(this).addClass("pin-top")), e > b.bottom && !a(this).hasClass("pin-bottom") && (c(a(this)), a(this).addClass("pin-bottom"), a(this).css("top", b.bottom - g))
                        })
                    }
                    var e = Materialize.guid(),
                        f = a(this),
                        g = a(this).offset().top;
                    d(f, a(window).scrollTop()), a(window).on("scroll." + e, function() {
                        var c = a(window).scrollTop() + b.offset;
                        d(f, c)
                    })
                })
            }
        })
    }(jQuery),
    function(a) {
        a(document).ready(function() {
            a.fn.reverse = [].reverse, a(document).on("mouseenter.fixedActionBtn", ".fixed-action-btn:not(.click-to-toggle)", function(c) {
                var d = a(this);
                b(d)
            }), a(document).on("mouseleave.fixedActionBtn", ".fixed-action-btn:not(.click-to-toggle)", function(b) {
                var d = a(this);
                c(d)
            }), a(document).on("click.fixedActionBtn", ".fixed-action-btn.click-to-toggle > a", function(d) {
                var e = a(this),
                    f = e.parent();
                f.hasClass("active") ? c(f) : b(f)
            })
        }), a.fn.extend({
            openFAB: function() {
                b(a(this))
            },
            closeFAB: function() {
                c(a(this))
            }
        });
        var b = function(b) {
                if ($this = b, $this.hasClass("active") === !1) {
                    var c, d, e = $this.hasClass("horizontal");
                    e === !0 ? d = 40 : c = 40, $this.addClass("active"), $this.find("ul .btn-floating").velocity({
                        scaleY: ".4",
                        scaleX: ".4",
                        translateY: c + "px",
                        translateX: d + "px"
                    }, {
                        duration: 0
                    });
                    var f = 0;
                    $this.find("ul .btn-floating").reverse().each(function() {
                        a(this).velocity({
                            opacity: "1",
                            scaleX: "1",
                            scaleY: "1",
                            translateY: "0",
                            translateX: "0"
                        }, {
                            duration: 80,
                            delay: f
                        }), f += 40
                    })
                }
            },
            c = function(a) {
                $this = a;
                var b, c, d = $this.hasClass("horizontal");
                d === !0 ? c = 40 : b = 40, $this.removeClass("active");
                $this.find("ul .btn-floating").velocity("stop", !0), $this.find("ul .btn-floating").velocity({
                    opacity: "0",
                    scaleX: ".4",
                    scaleY: ".4",
                    translateY: b + "px",
                    translateX: c + "px"
                }, {
                    duration: 80
                })
            }
    }(jQuery),
    function(a) {
        Materialize.fadeInImage = function(b) {
            var c = a(b);
            c.css({
                opacity: 0
            }), a(c).velocity({
                opacity: 1
            }, {
                duration: 650,
                queue: !1,
                easing: "easeOutSine"
            }), a(c).velocity({
                opacity: 1
            }, {
                duration: 1300,
                queue: !1,
                easing: "swing",
                step: function(b, c) {
                    c.start = 100;
                    var d = b / 100,
                        e = 150 - (100 - b) / 1.75;
                    100 > e && (e = 100), b >= 0 && a(this).css({
                        "-webkit-filter": "grayscale(" + d + ")brightness(" + e + "%)",
                        filter: "grayscale(" + d + ")brightness(" + e + "%)"
                    })
                }
            })
        }, Materialize.showStaggeredList = function(b) {
            var c = 0;
            a(b).find("li").velocity({
                translateX: "-100px"
            }, {
                duration: 0
            }), a(b).find("li").each(function() {
                a(this).velocity({
                    opacity: "1",
                    translateX: "0"
                }, {
                    duration: 800,
                    delay: c,
                    easing: [60, 10]
                }), c += 120
            })
        }, a(document).ready(function() {
            var b = !1,
                c = !1;
            a(".dismissable").each(function() {
                a(this).hammer({
                    prevent_default: !1
                }).bind("pan", function(d) {
                    if ("touch" === d.gesture.pointerType) {
                        var e = a(this),
                            f = d.gesture.direction,
                            g = d.gesture.deltaX,
                            h = d.gesture.velocityX;
                        e.velocity({
                            translateX: g
                        }, {
                            duration: 50,
                            queue: !1,
                            easing: "easeOutQuad"
                        }), 4 === f && (g > e.innerWidth() / 2 || -.75 > h) && (b = !0), 2 === f && (g < -1 * e.innerWidth() / 2 || h > .75) && (c = !0)
                    }
                }).bind("panend", function(d) {
                    if (Math.abs(d.gesture.deltaX) < a(this).innerWidth() / 2 && (c = !1, b = !1), "touch" === d.gesture.pointerType) {
                        var e = a(this);
                        if (b || c) {
                            var f;
                            f = b ? e.innerWidth() : -1 * e.innerWidth(), e.velocity({
                                translateX: f
                            }, {
                                duration: 100,
                                queue: !1,
                                easing: "easeOutQuad",
                                complete: function() {
                                    e.css("border", "none"), e.velocity({
                                        height: 0,
                                        padding: 0
                                    }, {
                                        duration: 200,
                                        queue: !1,
                                        easing: "easeOutQuad",
                                        complete: function() {
                                            e.remove()
                                        }
                                    })
                                }
                            })
                        } else e.velocity({
                            translateX: 0
                        }, {
                            duration: 100,
                            queue: !1,
                            easing: "easeOutQuad"
                        });
                        b = !1, c = !1
                    }
                })
            })
        })
    }(jQuery),
    function(a) {
        Materialize.scrollFire = function(a) {
            var b = !1;
            window.addEventListener("scroll", function() {
                b = !0
            }), setInterval(function() {
                if (b) {
                    b = !1;
                    for (var c = window.pageYOffset + window.innerHeight, d = 0; d < a.length; d++) {
                        var e = a[d],
                            f = e.selector,
                            g = e.offset,
                            h = e.callback,
                            i = document.querySelector(f);
                        if (null !== i) {
                            var j = i.getBoundingClientRect().top + window.pageYOffset;
                            if (c > j + g && e.done !== !0) {
                                var k = new Function(h);
                                k(), e.done = !0
                            }
                        }
                    }
                }
            }, 100)
        }
    }(jQuery),
    function(a) {
        "function" == typeof define && define.amd ? define("picker", ["jquery"], a) : "object" == typeof exports ? module.exports = a(require("jquery")) : this.Picker = a(jQuery)
    }(function(a) {
        function b(f, g, i, l) {
            function m() {
                return b._.node("div", b._.node("div", b._.node("div", b._.node("div", y.component.nodes(t.open), v.box), v.wrap), v.frame), v.holder)
            }

            function n() {
                w.data(g, y).addClass(v.input).attr("tabindex", -1).val(w.data("value") ? y.get("select", u.format) : f.value), u.editable || w.on("focus." + t.id + " click." + t.id, function(a) {
                    a.preventDefault(), y.$root[0].focus()
                }).on("keydown." + t.id, q), e(f, {
                    haspopup: !0,
                    expanded: !1,
                    readonly: !1,
                    owns: f.id + "_root"
                })
            }

            function o() {
                y.$root.on({
                    keydown: q,
                    focusin: function(a) {
                        y.$root.removeClass(v.focused), a.stopPropagation()
                    },
                    "mousedown click": function(b) {
                        var c = b.target;
                        c != y.$root.children()[0] && (b.stopPropagation(), "mousedown" != b.type || a(c).is("input, select, textarea, button, option") || (b.preventDefault(), y.$root[0].focus()))
                    }
                }).on({
                    focus: function() {
                        w.addClass(v.target)
                    },
                    blur: function() {
                        w.removeClass(v.target)
                    }
                }).on("focus.toOpen", r).on("click", "[data-pick], [data-nav], [data-clear], [data-close]", function() {
                    var b = a(this),
                        c = b.data(),
                        d = b.hasClass(v.navDisabled) || b.hasClass(v.disabled),
                        e = h();
                    e = e && (e.type || e.href), (d || e && !a.contains(y.$root[0], e)) && y.$root[0].focus(), !d && c.nav ? y.set("highlight", y.component.item.highlight, {
                        nav: c.nav
                    }) : !d && "pick" in c ? y.set("select", c.pick) : c.clear ? y.clear().close(!0) : c.close && y.close(!0)
                }), e(y.$root[0], "hidden", !0)
            }

            function p() {
                var b;
                u.hiddenName === !0 ? (b = f.name, f.name = "") : (b = ["string" == typeof u.hiddenPrefix ? u.hiddenPrefix : "", "string" == typeof u.hiddenSuffix ? u.hiddenSuffix : "_submit"], b = b[0] + f.name + b[1]), y._hidden = a('<input type=hidden name="' + b + '"' + (w.data("value") || f.value ? ' value="' + y.get("select", u.formatSubmit) + '"' : "") + ">")[0], w.on("change." + t.id, function() {
                    y._hidden.value = f.value ? y.get("select", u.formatSubmit) : ""
                }), u.container ? a(u.container).append(y._hidden) : w.after(y._hidden)
            }

            function q(a) {
                var b = a.keyCode,
                    c = /^(8|46)$/.test(b);
                return 27 == b ? (y.close(), !1) : void((32 == b || c || !t.open && y.component.key[b]) && (a.preventDefault(), a.stopPropagation(), c ? y.clear().close() : y.open()))
            }

            function r(a) {
                a.stopPropagation(), "focus" == a.type && y.$root.addClass(v.focused), y.open()
            }
            if (!f) return b;
            var s = !1,
                t = {
                    id: f.id || "P" + Math.abs(~~(Math.random() * new Date))
                },
                u = i ? a.extend(!0, {}, i.defaults, l) : l || {},
                v = a.extend({}, b.klasses(), u.klass),
                w = a(f),
                x = function() {
                    return this.start()
                },
                y = x.prototype = {
                    constructor: x,
                    $node: w,
                    start: function() {
                        return t && t.start ? y : (t.methods = {}, t.start = !0, t.open = !1, t.type = f.type, f.autofocus = f == h(), f.readOnly = !u.editable, f.id = f.id || t.id, "text" != f.type && (f.type = "text"), y.component = new i(y, u), y.$root = a(b._.node("div", m(), v.picker, 'id="' + f.id + '_root" tabindex="0"')), o(), u.formatSubmit && p(), n(), u.container ? a(u.container).append(y.$root) : w.after(y.$root), y.on({
                            start: y.component.onStart,
                            render: y.component.onRender,
                            stop: y.component.onStop,
                            open: y.component.onOpen,
                            close: y.component.onClose,
                            set: y.component.onSet
                        }).on({
                            start: u.onStart,
                            render: u.onRender,
                            stop: u.onStop,
                            open: u.onOpen,
                            close: u.onClose,
                            set: u.onSet
                        }), s = c(y.$root.children()[0]), f.autofocus && y.open(), y.trigger("start").trigger("render"))
                    },
                    render: function(a) {
                        return a ? y.$root.html(m()) : y.$root.find("." + v.box).html(y.component.nodes(t.open)), y.trigger("render")
                    },
                    stop: function() {
                        return t.start ? (y.close(), y._hidden && y._hidden.parentNode.removeChild(y._hidden), y.$root.remove(), w.removeClass(v.input).removeData(g), setTimeout(function() {
                            w.off("." + t.id)
                        }, 0), f.type = t.type, f.readOnly = !1, y.trigger("stop"), t.methods = {}, t.start = !1, y) : y
                    },
                    open: function(c) {
                        return t.open ? y : (w.addClass(v.active), e(f, "expanded", !0), setTimeout(function() {
                            y.$root.addClass(v.opened), e(y.$root[0], "hidden", !1)
                        }, 0), c !== !1 && (t.open = !0, s && k.css("overflow", "hidden").css("padding-right", "+=" + d()), y.$root[0].focus(), j.on("click." + t.id + " focusin." + t.id, function(a) {
                            var b = a.target;
                            b != f && b != document && 3 != a.which && y.close(b === y.$root.children()[0])
                        }).on("keydown." + t.id, function(c) {
                            var d = c.keyCode,
                                e = y.component.key[d],
                                f = c.target;
                            27 == d ? y.close(!0) : f != y.$root[0] || !e && 13 != d ? a.contains(y.$root[0], f) && 13 == d && (c.preventDefault(), f.click()) : (c.preventDefault(), e ? b._.trigger(y.component.key.go, y, [b._.trigger(e)]) : y.$root.find("." + v.highlighted).hasClass(v.disabled) || y.set("select", y.component.item.highlight).close())
                        })), y.trigger("open"))
                    },
                    close: function(a) {
                        return a && (y.$root.off("focus.toOpen")[0].focus(), setTimeout(function() {
                            y.$root.on("focus.toOpen", r)
                        }, 0)), w.removeClass(v.active), e(f, "expanded", !1), setTimeout(function() {
                            y.$root.removeClass(v.opened + " " + v.focused), e(y.$root[0], "hidden", !0)
                        }, 0), t.open ? (t.open = !1, s && k.css("overflow", "").css("padding-right", "-=" + d()), j.off("." + t.id), y.trigger("close")) : y
                    },
                    clear: function(a) {
                        return y.set("clear", null, a)
                    },
                    set: function(b, c, d) {
                        var e, f, g = a.isPlainObject(b),
                            h = g ? b : {};
                        if (d = g && a.isPlainObject(c) ? c : d || {}, b) {
                            g || (h[b] = c);
                            for (e in h) f = h[e], e in y.component.item && (void 0 === f && (f = null), y.component.set(e, f, d)), ("select" == e || "clear" == e) && w.val("clear" == e ? "" : y.get(e, u.format)).trigger("change");
                            y.render()
                        }
                        return d.muted ? y : y.trigger("set", h)
                    },
                    get: function(a, c) {
                        if (a = a || "value", null != t[a]) return t[a];
                        if ("valueSubmit" == a) {
                            if (y._hidden) return y._hidden.value;
                            a = "value"
                        }
                        if ("value" == a) return f.value;
                        if (a in y.component.item) {
                            if ("string" == typeof c) {
                                var d = y.component.get(a);
                                return d ? b._.trigger(y.component.formats.toString, y.component, [c, d]) : ""
                            }
                            return y.component.get(a)
                        }
                    },
                    on: function(b, c, d) {
                        var e, f, g = a.isPlainObject(b),
                            h = g ? b : {};
                        if (b) {
                            g || (h[b] = c);
                            for (e in h) f = h[e], d && (e = "_" + e), t.methods[e] = t.methods[e] || [], t.methods[e].push(f)
                        }
                        return y
                    },
                    off: function() {
                        var a, b, c = arguments;
                        for (a = 0, namesCount = c.length; a < namesCount; a += 1) b = c[a], b in t.methods && delete t.methods[b];
                        return y
                    },
                    trigger: function(a, c) {
                        var d = function(a) {
                            var d = t.methods[a];
                            d && d.map(function(a) {
                                b._.trigger(a, y, [c])
                            })
                        };
                        return d("_" + a), d(a), y
                    }
                };
            return new x
        }

        function c(a) {
            var b, c = "position";
            return a.currentStyle ? b = a.currentStyle[c] : window.getComputedStyle && (b = getComputedStyle(a)[c]), "fixed" == b
        }

        function d() {
            if (k.height() <= i.height()) return 0;
            var b = a('<div style="visibility:hidden;width:100px" />').appendTo("body"),
                c = b[0].offsetWidth;
            b.css("overflow", "scroll");
            var d = a('<div style="width:100%" />').appendTo(b),
                e = d[0].offsetWidth;
            return b.remove(), c - e
        }

        function e(b, c, d) {
            if (a.isPlainObject(c))
                for (var e in c) f(b, e, c[e]);
            else f(b, c, d)
        }

        function f(a, b, c) {
            a.setAttribute(("role" == b ? "" : "aria-") + b, c)
        }

        function g(b, c) {
            a.isPlainObject(b) || (b = {
                attribute: c
            }), c = "";
            for (var d in b) {
                var e = ("role" == d ? "" : "aria-") + d,
                    f = b[d];
                c += null == f ? "" : e + '="' + b[d] + '"'
            }
            return c
        }

        function h() {
            try {
                return document.activeElement
            } catch (a) {}
        }
        var i = a(window),
            j = a(document),
            k = a(document.documentElement);
        return b.klasses = function(a) {
            return a = a || "picker", {
                picker: a,
                opened: a + "--opened",
                focused: a + "--focused",
                input: a + "__input",
                active: a + "__input--active",
                target: a + "__input--target",
                holder: a + "__holder",
                frame: a + "__frame",
                wrap: a + "__wrap",
                box: a + "__box"
            }
        }, b._ = {
            group: function(a) {
                for (var c, d = "", e = b._.trigger(a.min, a); e <= b._.trigger(a.max, a, [e]); e += a.i) c = b._.trigger(a.item, a, [e]), d += b._.node(a.node, c[0], c[1], c[2]);
                return d
            },
            node: function(b, c, d, e) {
                return c ? (c = a.isArray(c) ? c.join("") : c, d = d ? ' class="' + d + '"' : "", e = e ? " " + e : "", "<" + b + d + e + ">" + c + "</" + b + ">") : ""
            },
            lead: function(a) {
                return (10 > a ? "0" : "") + a
            },
            trigger: function(a, b, c) {
                return "function" == typeof a ? a.apply(b, c || []) : a
            },
            digits: function(a) {
                return /\d/.test(a[1]) ? 2 : 1
            },
            isDate: function(a) {
                return {}.toString.call(a).indexOf("Date") > -1 && this.isInteger(a.getDate())
            },
            isInteger: function(a) {
                return {}.toString.call(a).indexOf("Number") > -1 && a % 1 === 0
            },
            ariaAttr: g
        }, b.extend = function(c, d) {
            a.fn[c] = function(e, f) {
                var g = this.data(c);
                return "picker" == e ? g : g && "string" == typeof e ? b._.trigger(g[e], g, [f]) : this.each(function() {
                    var f = a(this);
                    f.data(c) || new b(this, c, d, e)
                })
            }, a.fn[c].defaults = d.defaults
        }, b
    }),
    function(a) {
        "function" == typeof define && define.amd ? define(["picker", "jquery"], a) : "object" == typeof exports ? module.exports = a(require("./picker.js"), require("jquery")) : a(Picker, jQuery)
    }(function(a, b) {
        function c(a, b) {
            var c = this,
                d = a.$node[0],
                e = d.value,
                f = a.$node.data("value"),
                g = f || e,
                h = f ? b.formatSubmit : b.format,
                i = function() {
                    return d.currentStyle ? "rtl" == d.currentStyle.direction : "rtl" == getComputedStyle(a.$root[0]).direction
                };
            c.settings = b, c.$node = a.$node, c.queue = {
                min: "measure create",
                max: "measure create",
                now: "now create",
                select: "parse create validate",
                highlight: "parse navigate create validate",
                view: "parse create validate viewset",
                disable: "deactivate",
                enable: "activate"
            }, c.item = {}, c.item.clear = null, c.item.disable = (b.disable || []).slice(0), c.item.enable = - function(a) {
                return a[0] === !0 ? a.shift() : -1
            }(c.item.disable), c.set("min", b.min).set("max", b.max).set("now"), g ? c.set("select", g, {
                format: h
            }) : c.set("select", null).set("highlight", c.item.now), c.key = {
                40: 7,
                38: -7,
                39: function() {
                    return i() ? -1 : 1
                },
                37: function() {
                    return i() ? 1 : -1
                },
                go: function(a) {
                    var b = c.item.highlight,
                        d = new Date(b.year, b.month, b.date + a);
                    c.set("highlight", d, {
                        interval: a
                    }), this.render()
                }
            }, a.on("render", function() {
                a.$root.find("." + b.klass.selectMonth).on("change", function() {
                    var c = this.value;
                    c && (a.set("highlight", [a.get("view").year, c, a.get("highlight").date]), a.$root.find("." + b.klass.selectMonth).trigger("focus"))
                }), a.$root.find("." + b.klass.selectYear).on("change", function() {
                    var c = this.value;
                    c && (a.set("highlight", [c, a.get("view").month, a.get("highlight").date]), a.$root.find("." + b.klass.selectYear).trigger("focus"))
                })
            }, 1).on("open", function() {
                var d = "";
                c.disabled(c.get("now")) && (d = ":not(." + b.klass.buttonToday + ")"), a.$root.find("button" + d + ", select").attr("disabled", !1)
            }, 1).on("close", function() {
                a.$root.find("button, select").attr("disabled", !0)
            }, 1)
        }
        var d = 7,
            e = 6,
            f = a._;
        c.prototype.set = function(a, b, c) {
            var d = this,
                e = d.item;
            return null === b ? ("clear" == a && (a = "select"), e[a] = b, d) : (e["enable" == a ? "disable" : "flip" == a ? "enable" : a] = d.queue[a].split(" ").map(function(e) {
                return b = d[e](a, b, c)
            }).pop(), "select" == a ? d.set("highlight", e.select, c) : "highlight" == a ? d.set("view", e.highlight, c) : a.match(/^(flip|min|max|disable|enable)$/) && (e.select && d.disabled(e.select) && d.set("select", e.select, c), e.highlight && d.disabled(e.highlight) && d.set("highlight", e.highlight, c)), d)
        }, c.prototype.get = function(a) {
            return this.item[a]
        }, c.prototype.create = function(a, c, d) {
            var e, g = this;
            return c = void 0 === c ? a : c, c == -(1 / 0) || c == 1 / 0 ? e = c : b.isPlainObject(c) && f.isInteger(c.pick) ? c = c.obj : b.isArray(c) ? (c = new Date(c[0], c[1], c[2]), c = f.isDate(c) ? c : g.create().obj) : c = f.isInteger(c) || f.isDate(c) ? g.normalize(new Date(c), d) : g.now(a, c, d), {
                year: e || c.getFullYear(),
                month: e || c.getMonth(),
                date: e || c.getDate(),
                day: e || c.getDay(),
                obj: e || c,
                pick: e || c.getTime()
            }
        }, c.prototype.createRange = function(a, c) {
            var d = this,
                e = function(a) {
                    return a === !0 || b.isArray(a) || f.isDate(a) ? d.create(a) : a
                };
            return f.isInteger(a) || (a = e(a)), f.isInteger(c) || (c = e(c)), f.isInteger(a) && b.isPlainObject(c) ? a = [c.year, c.month, c.date + a] : f.isInteger(c) && b.isPlainObject(a) && (c = [a.year, a.month, a.date + c]), {
                from: e(a),
                to: e(c)
            }
        }, c.prototype.withinRange = function(a, b) {
            return a = this.createRange(a.from, a.to), b.pick >= a.from.pick && b.pick <= a.to.pick
        }, c.prototype.overlapRanges = function(a, b) {
            var c = this;
            return a = c.createRange(a.from, a.to), b = c.createRange(b.from, b.to), c.withinRange(a, b.from) || c.withinRange(a, b.to) || c.withinRange(b, a.from) || c.withinRange(b, a.to)
        }, c.prototype.now = function(a, b, c) {
            return b = new Date, c && c.rel && b.setDate(b.getDate() + c.rel), this.normalize(b, c)
        }, c.prototype.navigate = function(a, c, d) {
            var e, f, g, h, i = b.isArray(c),
                j = b.isPlainObject(c),
                k = this.item.view;
            if (i || j) {
                for (j ? (f = c.year, g = c.month, h = c.date) : (f = +c[0], g = +c[1], h = +c[2]), d && d.nav && k && k.month !== g && (f = k.year, g = k.month), e = new Date(f, g + (d && d.nav ? d.nav : 0), 1), f = e.getFullYear(), g = e.getMonth(); new Date(f, g, h).getMonth() !== g;) h -= 1;
                c = [f, g, h]
            }
            return c
        }, c.prototype.normalize = function(a) {
            return a.setHours(0, 0, 0, 0), a
        }, c.prototype.measure = function(a, b) {
            var c = this;
            return b ? "string" == typeof b ? b = c.parse(a, b) : f.isInteger(b) && (b = c.now(a, b, {
                rel: b
            })) : b = "min" == a ? -(1 / 0) : 1 / 0, b
        }, c.prototype.viewset = function(a, b) {
            return this.create([b.year, b.month, 1])
        }, c.prototype.validate = function(a, c, d) {
            var e, g, h, i, j = this,
                k = c,
                l = d && d.interval ? d.interval : 1,
                m = -1 === j.item.enable,
                n = j.item.min,
                o = j.item.max,
                p = m && j.item.disable.filter(function(a) {
                    if (b.isArray(a)) {
                        var d = j.create(a).pick;
                        d < c.pick ? e = !0 : d > c.pick && (g = !0)
                    }
                    return f.isInteger(a)
                }).length;
            if ((!d || !d.nav) && (!m && j.disabled(c) || m && j.disabled(c) && (p || e || g) || !m && (c.pick <= n.pick || c.pick >= o.pick)))
                for (m && !p && (!g && l > 0 || !e && 0 > l) && (l *= -1); j.disabled(c) && (Math.abs(l) > 1 && (c.month < k.month || c.month > k.month) && (c = k, l = l > 0 ? 1 : -1), c.pick <= n.pick ? (h = !0, l = 1, c = j.create([n.year, n.month, n.date + (c.pick === n.pick ? 0 : -1)])) : c.pick >= o.pick && (i = !0, l = -1, c = j.create([o.year, o.month, o.date + (c.pick === o.pick ? 0 : 1)])), !h || !i);) c = j.create([c.year, c.month, c.date + l]);
            return c
        }, c.prototype.disabled = function(a) {
            var c = this,
                d = c.item.disable.filter(function(d) {
                    return f.isInteger(d) ? a.day === (c.settings.firstDay ? d : d - 1) % 7 : b.isArray(d) || f.isDate(d) ? a.pick === c.create(d).pick : b.isPlainObject(d) ? c.withinRange(d, a) : void 0
                });
            return d = d.length && !d.filter(function(a) {
                return b.isArray(a) && "inverted" == a[3] || b.isPlainObject(a) && a.inverted
            }).length, -1 === c.item.enable ? !d : d || a.pick < c.item.min.pick || a.pick > c.item.max.pick
        }, c.prototype.parse = function(a, b, c) {
            var d = this,
                e = {};
            return b && "string" == typeof b ? (c && c.format || (c = c || {}, c.format = d.settings.format), d.formats.toArray(c.format).map(function(a) {
                var c = d.formats[a],
                    g = c ? f.trigger(c, d, [b, e]) : a.replace(/^!/, "").length;
                c && (e[a] = b.substr(0, g)), b = b.substr(g)
            }), [e.yyyy || e.yy, +(e.mm || e.m) - 1, e.dd || e.d]) : b
        }, c.prototype.formats = function() {
            function a(a, b, c) {
                var d = a.match(/\w+/)[0];
                return c.mm || c.m || (c.m = b.indexOf(d) + 1), d.length
            }

            function b(a) {
                return a.match(/\w+/)[0].length
            }
            return {
                d: function(a, b) {
                    return a ? f.digits(a) : b.date
                },
                dd: function(a, b) {
                    return a ? 2 : f.lead(b.date)
                },
                ddd: function(a, c) {
                    return a ? b(a) : this.settings.weekdaysShort[c.day]
                },
                dddd: function(a, c) {
                    return a ? b(a) : this.settings.weekdaysFull[c.day]
                },
                m: function(a, b) {
                    return a ? f.digits(a) : b.month + 1
                },
                mm: function(a, b) {
                    return a ? 2 : f.lead(b.month + 1)
                },
                mmm: function(b, c) {
                    var d = this.settings.monthsShort;
                    return b ? a(b, d, c) : d[c.month]
                },
                mmmm: function(b, c) {
                    var d = this.settings.monthsFull;
                    return b ? a(b, d, c) : d[c.month]
                },
                yy: function(a, b) {
                    return a ? 2 : ("" + b.year).slice(2)
                },
                yyyy: function(a, b) {
                    return a ? 4 : b.year
                },
                toArray: function(a) {
                    return a.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g)
                },
                toString: function(a, b) {
                    var c = this;
                    return c.formats.toArray(a).map(function(a) {
                        return f.trigger(c.formats[a], c, [0, b]) || a.replace(/^!/, "")
                    }).join("")
                }
            }
        }(), c.prototype.isDateExact = function(a, c) {
            var d = this;
            return f.isInteger(a) && f.isInteger(c) || "boolean" == typeof a && "boolean" == typeof c ? a === c : (f.isDate(a) || b.isArray(a)) && (f.isDate(c) || b.isArray(c)) ? d.create(a).pick === d.create(c).pick : b.isPlainObject(a) && b.isPlainObject(c) ? d.isDateExact(a.from, c.from) && d.isDateExact(a.to, c.to) : !1
        }, c.prototype.isDateOverlap = function(a, c) {
            var d = this,
                e = d.settings.firstDay ? 1 : 0;
            return f.isInteger(a) && (f.isDate(c) || b.isArray(c)) ? (a = a % 7 + e, a === d.create(c).day + 1) : f.isInteger(c) && (f.isDate(a) || b.isArray(a)) ? (c = c % 7 + e, c === d.create(a).day + 1) : b.isPlainObject(a) && b.isPlainObject(c) ? d.overlapRanges(a, c) : !1
        }, c.prototype.flipEnable = function(a) {
            var b = this.item;
            b.enable = a || (-1 == b.enable ? 1 : -1)
        }, c.prototype.deactivate = function(a, c) {
            var d = this,
                e = d.item.disable.slice(0);
            return "flip" == c ? d.flipEnable() : c === !1 ? (d.flipEnable(1), e = []) : c === !0 ? (d.flipEnable(-1), e = []) : c.map(function(a) {
                for (var c, g = 0; g < e.length; g += 1)
                    if (d.isDateExact(a, e[g])) {
                        c = !0;
                        break
                    }
                c || (f.isInteger(a) || f.isDate(a) || b.isArray(a) || b.isPlainObject(a) && a.from && a.to) && e.push(a)
            }), e
        }, c.prototype.activate = function(a, c) {
            var d = this,
                e = d.item.disable,
                g = e.length;
            return "flip" == c ? d.flipEnable() : c === !0 ? (d.flipEnable(1), e = []) : c === !1 ? (d.flipEnable(-1), e = []) : c.map(function(a) {
                var c, h, i, j;
                for (i = 0; g > i; i += 1) {
                    if (h = e[i], d.isDateExact(h, a)) {
                        c = e[i] = null, j = !0;
                        break
                    }
                    if (d.isDateOverlap(h, a)) {
                        b.isPlainObject(a) ? (a.inverted = !0, c = a) : b.isArray(a) ? (c = a, c[3] || c.push("inverted")) : f.isDate(a) && (c = [a.getFullYear(), a.getMonth(), a.getDate(), "inverted"]);
                        break
                    }
                }
                if (c)
                    for (i = 0; g > i; i += 1)
                        if (d.isDateExact(e[i], a)) {
                            e[i] = null;
                            break
                        }
                if (j)
                    for (i = 0; g > i; i += 1)
                        if (d.isDateOverlap(e[i], a)) {
                            e[i] = null;
                            break
                        }
                c && e.push(c)
            }), e.filter(function(a) {
                return null != a
            })
        }, c.prototype.nodes = function(a) {
            var b = this,
                c = b.settings,
                g = b.item,
                h = g.now,
                i = g.select,
                j = g.highlight,
                k = g.view,
                l = g.disable,
                m = g.min,
                n = g.max,
                o = function(a, b) {
                    return c.firstDay && (a.push(a.shift()), b.push(b.shift())), f.node("thead", f.node("tr", f.group({
                        min: 0,
                        max: d - 1,
                        i: 1,
                        node: "th",
                        item: function(d) {
                            return [a[d], c.klass.weekdays, 'scope=col title="' + b[d] + '"']
                        }
                    })))
                }((c.showWeekdaysFull ? c.weekdaysFull : c.weekdaysLetter).slice(0), c.weekdaysFull.slice(0)),
                p = function(a) {
                    return f.node("div", " ", c.klass["nav" + (a ? "Next" : "Prev")] + (a && k.year >= n.year && k.month >= n.month || !a && k.year <= m.year && k.month <= m.month ? " " + c.klass.navDisabled : ""), "data-nav=" + (a || -1) + " " + f.ariaAttr({
                        role: "button",
                        controls: b.$node[0].id + "_table"
                    }) + ' title="' + (a ? c.labelMonthNext : c.labelMonthPrev) + '"')
                },
                q = function(d) {
                    var e = c.showMonthsShort ? c.monthsShort : c.monthsFull;
                    return "short_months" == d && (e = c.monthsShort), c.selectMonths && void 0 == d ? f.node("select", f.group({
                        min: 0,
                        max: 11,
                        i: 1,
                        node: "option",
                        item: function(a) {
                            return [e[a], 0, "value=" + a + (k.month == a ? " selected" : "") + (k.year == m.year && a < m.month || k.year == n.year && a > n.month ? " disabled" : "")]
                        }
                    }), c.klass.selectMonth + " browser-default", (a ? "" : "disabled") + " " + f.ariaAttr({
                        controls: b.$node[0].id + "_table"
                    }) + ' title="' + c.labelMonthSelect + '"') : "short_months" == d ? null != i ? f.node("div", e[i.month]) : f.node("div", e[k.month]) : f.node("div", e[k.month], c.klass.month)
                },
                r = function(d) {
                    var e = k.year,
                        g = c.selectYears === !0 ? 5 : ~~(c.selectYears / 2);
                    if (g) {
                        var h = m.year,
                            i = n.year,
                            j = e - g,
                            l = e + g;
                        if (h > j && (l += h - j, j = h), l > i) {
                            var o = j - h,
                                p = l - i;
                            j -= o > p ? p : o, l = i
                        }
                        if (c.selectYears && void 0 == d) return f.node("select", f.group({
                            min: j,
                            max: l,
                            i: 1,
                            node: "option",
                            item: function(a) {
                                return [a, 0, "value=" + a + (e == a ? " selected" : "")]
                            }
                        }), c.klass.selectYear + " browser-default", (a ? "" : "disabled") + " " + f.ariaAttr({
                            controls: b.$node[0].id + "_table"
                        }) + ' title="' + c.labelYearSelect + '"')
                    }
                    return "raw" == d ? f.node("div", e) : f.node("div", e, c.klass.year)
                };
            return createDayLabel = function() {
                return null != i ? f.node("div", i.date) : f.node("div", h.date)
            }, createWeekdayLabel = function() {
                var a;
                a = null != i ? i.day : h.day;
                var b = c.weekdaysFull[a];
                return b
            }, f.node("div", f.node("div", createWeekdayLabel(), "picker__weekday-display") + f.node("div", q("short_months"), c.klass.month_display) + f.node("div", createDayLabel(), c.klass.day_display) + f.node("div", r("raw"), c.klass.year_display), c.klass.date_display) + f.node("div", f.node("div", (c.selectYears ? q() + r() : q() + r()) + p() + p(1), c.klass.header) + f.node("table", o + f.node("tbody", f.group({
                min: 0,
                max: e - 1,
                i: 1,
                node: "tr",
                item: function(a) {
                    var e = c.firstDay && 0 === b.create([k.year, k.month, 1]).day ? -7 : 0;
                    return [f.group({
                        min: d * a - k.day + e + 1,
                        max: function() {
                            return this.min + d - 1
                        },
                        i: 1,
                        node: "td",
                        item: function(a) {
                            a = b.create([k.year, k.month, a + (c.firstDay ? 1 : 0)]);
                            var d = i && i.pick == a.pick,
                                e = j && j.pick == a.pick,
                                g = l && b.disabled(a) || a.pick < m.pick || a.pick > n.pick,
                                o = f.trigger(b.formats.toString, b, [c.format, a]);
                            return [f.node("div", a.date, function(b) {
                                return b.push(k.month == a.month ? c.klass.infocus : c.klass.outfocus), h.pick == a.pick && b.push(c.klass.now), d && b.push(c.klass.selected), e && b.push(c.klass.highlighted), g && b.push(c.klass.disabled), b.join(" ")
                            }([c.klass.day]), "data-pick=" + a.pick + " " + f.ariaAttr({
                                role: "gridcell",
                                label: o,
                                selected: d && b.$node.val() === o ? !0 : null,
                                activedescendant: e ? !0 : null,
                                disabled: g ? !0 : null
                            })), "", f.ariaAttr({
                                role: "presentation"
                            })]
                        }
                    })]
                }
            })), c.klass.table, 'id="' + b.$node[0].id + '_table" ' + f.ariaAttr({
                role: "grid",
                controls: b.$node[0].id,
                readonly: !0
            })), c.klass.calendar_container) + f.node("div", f.node("button", c.today, "btn-flat picker__today", "type=button data-pick=" + h.pick + (a && !b.disabled(h) ? "" : " disabled") + " " + f.ariaAttr({
                controls: b.$node[0].id
            })) + f.node("button", c.clear, "btn-flat picker__clear", "type=button data-clear=1" + (a ? "" : " disabled") + " " + f.ariaAttr({
                controls: b.$node[0].id
            })) + f.node("button", c.close, "btn-flat picker__close", "type=button data-close=true " + (a ? "" : " disabled") + " " + f.ariaAttr({
                controls: b.$node[0].id
            })), c.klass.footer)
        }, c.defaults = function(a) {
            return {
                labelMonthNext: "Next month",
                labelMonthPrev: "Previous month",
                labelMonthSelect: "Select a month",
                labelYearSelect: "Select a year",
                monthsFull: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
                monthsShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
                weekdaysFull: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
                weekdaysShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
                weekdaysLetter: ["S", "M", "T", "W", "T", "F", "S"],
                today: "Today",
                clear: "Clear",
                close: "Close",
                format: "d mmmm, yyyy",
                klass: {
                    table: a + "table",
                    header: a + "header",
                    date_display: a + "date-display",
                    day_display: a + "day-display",
                    month_display: a + "month-display",
                    year_display: a + "year-display",
                    calendar_container: a + "calendar-container",
                    navPrev: a + "nav--prev",
                    navNext: a + "nav--next",
                    navDisabled: a + "nav--disabled",
                    month: a + "month",
                    year: a + "year",
                    selectMonth: a + "select--month",
                    selectYear: a + "select--year",
                    weekdays: a + "weekday",
                    day: a + "day",
                    disabled: a + "day--disabled",
                    selected: a + "day--selected",
                    highlighted: a + "day--highlighted",
                    now: a + "day--today",
                    infocus: a + "day--infocus",
                    outfocus: a + "day--outfocus",
                    footer: a + "footer",
                    buttonClear: a + "button--clear",
                    buttonToday: a + "button--today",
                    buttonClose: a + "button--close"
                }
            }
        }(a.klasses().picker + "__"), a.extend("pickadate", c)
    }),
    function(a) {
        function b() {
            var b = +a(this).attr("length"),
                c = +a(this).val().length,
                d = b >= c;
            a(this).parent().find('span[class="character-counter"]').html(c + "/" + b), e(d, a(this))
        }

        function c(b) {
            var c = a("<span/>").addClass("character-counter").css("float", "right").css("font-size", "12px").css("height", 1);
            b.parent().append(c)
        }

        function d() {
            a(this).parent().find('span[class="character-counter"]').html("")
        }

        function e(a, b) {
            var c = b.hasClass("invalid");
            a && c ? b.removeClass("invalid") : a || c || (b.removeClass("valid"), b.addClass("invalid"))
        }
        a.fn.characterCounter = function() {
            return this.each(function() {
                var e = void 0 !== a(this).attr("length");
                e && (a(this).on("input", b), a(this).on("focus", b), a(this).on("blur", d), c(a(this)))
            })
        }, a(document).ready(function() {
            a("input, textarea").characterCounter()
        })
    }(jQuery),
    function(a) {
        var b = {
            init: function(b) {
                var c = {
                    time_constant: 200,
                    dist: -100,
                    shift: 0,
                    padding: 0,
                    full_width: !1
                };
                return b = a.extend(c, b), this.each(function() {
                    function c() {
                        "undefined" != typeof window.ontouchstart && (F[0].addEventListener("touchstart", k), F[0].addEventListener("touchmove", l), F[0].addEventListener("touchend", m)), F[0].addEventListener("mousedown", k), F[0].addEventListener("mousemove", l), F[0].addEventListener("mouseup", m), F[0].addEventListener("click", j)
                    }

                    function d(a) {
                        return a.targetTouches && a.targetTouches.length >= 1 ? a.targetTouches[0].clientX : a.clientX
                    }

                    function e(a) {
                        return a.targetTouches && a.targetTouches.length >= 1 ? a.targetTouches[0].clientY : a.clientY
                    }

                    function f(a) {
                        return a >= s ? a % s : 0 > a ? f(s + a % s) : a
                    }

                    function g(a) {
                        var c, d, e, g, h, i, j;
                        for (o = "number" == typeof a ? a : o, p = Math.floor((o + r / 2) / r), e = o - p * r, g = 0 > e ? 1 : -1, h = -g * e * 2 / r, b.full_width ? j = "translateX(0)" : (j = "translateX(" + (F[0].clientWidth - item_width) / 2 + "px) ", j += "translateY(" + (F[0].clientHeight - item_width) / 2 + "px)"), i = n[f(p)], i.style[z] = j + " translateX(" + -e / 2 + "px) translateX(" + g * b.shift * h * c + "px) translateZ(" + b.dist * h + "px)", i.style.zIndex = 0, b.full_width ? tweenedOpacity = 1 : tweenedOpacity = 1 - .2 * h, i.style.opacity = tweenedOpacity, d = s >> 1, c = 1; d >= c; ++c) b.full_width ? (zTranslation = b.dist, tweenedOpacity = c === d && 0 > e ? 1 - h : 1) : (zTranslation = b.dist * (2 * c + h * g), tweenedOpacity = 1 - .2 * (2 * c + h * g)), i = n[f(p + c)], i.style[z] = j + " translateX(" + (b.shift + (r * c - e) / 2) + "px) translateZ(" + zTranslation + "px)", i.style.zIndex = -c, i.style.opacity = tweenedOpacity, b.full_width ? (zTranslation = b.dist, tweenedOpacity = c === d && e > 0 ? 1 - h : 1) : (zTranslation = b.dist * (2 * c - h * g), tweenedOpacity = 1 - .2 * (2 * c - h * g)), i = n[f(p - c)], i.style[z] = j + " translateX(" + (-b.shift + (-r * c - e) / 2) + "px) translateZ(" + zTranslation + "px)", i.style.zIndex = -c, i.style.opacity = tweenedOpacity;
                        i = n[f(p)], i.style[z] = j + " translateX(" + -e / 2 + "px) translateX(" + g * b.shift * h + "px) translateZ(" + b.dist * h + "px)", i.style.zIndex = 0, b.full_width ? tweenedOpacity = 1 : tweenedOpacity = 1 - .2 * h,
                            i.style.opacity = tweenedOpacity
                    }

                    function h() {
                        var a, b, c, d;
                        a = Date.now(), b = a - B, B = a, c = o - A, A = o, d = 1e3 * c / (1 + b), x = .8 * d + .2 * x
                    }

                    function i() {
                        var a, c;
                        v && (a = Date.now() - B, c = v * Math.exp(-a / b.time_constant), c > 2 || -2 > c ? (g(w - c), requestAnimationFrame(i)) : g(w))
                    }

                    function j(c) {
                        if (D) return c.preventDefault(), c.stopPropagation(), !1;
                        if (!b.full_width) {
                            var d = a(c.target).closest(".carousel-item").index(),
                                e = p % s - d;
                            0 > e ? Math.abs(e + s) < Math.abs(e) && (e += s) : e > 0 && Math.abs(e - s) < e && (e -= s), 0 > e ? a(this).trigger("carouselNext", [Math.abs(e)]) : e > 0 && a(this).trigger("carouselPrev", [e])
                        }
                    }

                    function k(a) {
                        q = !0, D = !1, E = !1, t = d(a), u = e(a), x = v = 0, A = o, B = Date.now(), clearInterval(C), C = setInterval(h, 100)
                    }

                    function l(a) {
                        var b, c, f;
                        if (q)
                            if (b = d(a), y = e(a), c = t - b, f = Math.abs(u - y), 30 > f && !E)(c > 2 || -2 > c) && (D = !0, t = b, g(o + c));
                            else {
                                if (D) return a.preventDefault(), a.stopPropagation(), !1;
                                E = !0
                            }
                        return D ? (a.preventDefault(), a.stopPropagation(), !1) : void 0
                    }

                    function m(a) {
                        return q = !1, clearInterval(C), w = o, (x > 10 || -10 > x) && (v = .9 * x, w = o + v), w = Math.round(w / r) * r, v = w - o, B = Date.now(), requestAnimationFrame(i), a.preventDefault(), a.stopPropagation(), !1
                    }
                    var n, o, p, q, r, s, t, u, v, w, x, z, A, B, C, D, E, F = a(this);
                    return F.hasClass("initialized") ? !0 : (b.full_width && (b.dist = 0, imageHeight = F.find(".carousel-item img").first().load(function() {
                        F.css("height", a(this).height())
                    })), F.addClass("initialized"), q = !1, o = w = 0, n = [], item_width = F.find(".carousel-item").first().innerWidth(), r = 2 * item_width + b.padding, F.find(".carousel-item").each(function() {
                        n.push(a(this)[0])
                    }), s = n.length, z = "transform", ["webkit", "Moz", "O", "ms"].every(function(a) {
                        var b = a + "Transform";
                        return "undefined" != typeof document.body.style[b] ? (z = b, !1) : !0
                    }), window.onresize = g, c(), g(o), a(this).on("carouselNext", function(a, b) {
                        void 0 === b && (b = 1), w = o + r * b, o !== w && (v = w - o, B = Date.now(), requestAnimationFrame(i))
                    }), void a(this).on("carouselPrev", function(a, b) {
                        void 0 === b && (b = 1), w = o - r * b, o !== w && (v = w - o, B = Date.now(), requestAnimationFrame(i))
                    }))
                })
            },
            next: function(b) {
                a(this).trigger("carouselNext", [b])
            },
            prev: function(b) {
                a(this).trigger("carouselPrev", [b])
            }
        };
        a.fn.carousel = function(c) {
            return b[c] ? b[c].apply(this, Array.prototype.slice.call(arguments, 1)) : "object" != typeof c && c ? void a.error("Method " + c + " does not exist on jQuery.carousel") : b.init.apply(this, arguments)
        }
    }(jQuery);
// Create a network
var nodes = null;
var edges = null;
var network = null;
var options = null;
var data = null;
var container = document.getElementById('network');

var nombre = Array.prototype.slice.call(document.getElementsByClassName('nombre'));
var descripO = Array.prototype.slice.call(document.getElementsByClassName('descripO'));
var logo = Array.prototype.slice.call(document.getElementsByClassName('logo'));
var banner = Array.prototype.slice.call(document.getElementsByClassName('banner'));
var organizaciones = nombre.map(function(nombre) { return nombre.value; });
var descripcionesO = descripO.map(function(descripO) { return descripO.value; });
var logoO = logo.map(function(logo) { return logo.value; });
var bannerO = banner.map(function(banner) { return banner.value; });

var org1 = Array.prototype.slice.call(document.getElementsByClassName('org1'));
var org2 = Array.prototype.slice.call(document.getElementsByClassName('org2'));
var descripC = Array.prototype.slice.call(document.getElementsByClassName('descripC'));
var bannerC = Array.prototype.slice.call(document.getElementsByClassName('bannerC'));
var orgs1 = org1.map(function(org1) { return org1.value; });
var orgs2 = org2.map(function(org2) { return org2.value; });
var descripcionesC = descripC.map(function(descripC) { return descripC.value; });
var bannersC = bannerC.map(function(bannerC) { return bannerC.value; });

var nomC = Array.prototype.slice.call(document.getElementsByClassName('nomC'));
var tituloC = Array.prototype.slice.call(document.getElementsByClassName('tituloC'));
var urlC = Array.prototype.slice.call(document.getElementsByClassName('urlC'));
var uploadC = Array.prototype.slice.call(document.getElementsByClassName('uploadC'));
var nomsC = nomC.map(function(nomC) { return nomC.value; });
var titulosC = tituloC.map(function(tituloC) { return tituloC.value; });
var urlsC = urlC.map(function(urlC) { return urlC.value; });
var uploadsC = uploadC.map(function(uploadC) { return uploadC.value; });

var nomO = Array.prototype.slice.call(document.getElementsByClassName('nomO'));
var tituloO = Array.prototype.slice.call(document.getElementsByClassName('tituloO'));
var urlO = Array.prototype.slice.call(document.getElementsByClassName('urlO'));
var uploadO = Array.prototype.slice.call(document.getElementsByClassName('uploadO'));
var nomsO = nomO.map(function(nomO) { return nomO.value; });
var titulosO = tituloO.map(function(tituloO) { return tituloO.value; });
var urlsO = urlO.map(function(urlO) { return urlO.value; });
var uploadsO = uploadO.map(function(uploadO) { return uploadO.value; });

// InfoCard - Animacin de entrada
var infoCard = $('.node-info');
var nodeNumber = $("#nodeNumber");
var orgDescripcion = $("#orgDescripcion");
var orgRecurso = $("#orgRecurso");
var descripcion = $("#descripcion");
var recursos = $("#recursos");

data = getScaleFreeNetwork(organizaciones.length);
network = new vis.Network(container, data, options);

network.on('selectNode', showInfoCard);
network.on('deselectNode', hideInfoCard);
network.on('selectEdge', showInfoCard);
network.on('deselectEdge', hideInfoCard);

function showInfoCard(params) {
  var pNodo = params.nodes[0];
  var pArco = params.edges[0];
  var pos;
  var newHTML = [];
   
  infoCard.removeClass('hidden fadeOutDown');
  infoCard.addClass('fadeInUp');
  
  if (pNodo === undefined){
    orgDescripcion.html(orgs1[pArco] + " y " + orgs2[pArco]);  
    descripcion.html(descripcionesC[pArco]);
    orgRecurso.html(orgs1[pArco] + " y " + orgs2[pArco]);
    document.getElementById("logos").src = bannersC[pArco];
    newHTML.push('<br/><br/><br/>');
    for (pos=0;pos<(nomsC.length);pos++){ 
      if((orgs1[pArco] + " + " + orgs2[pArco]) == nomsC[pos]){
        if(urlsC[pos] != ""){
          newHTML.push('<a href=' + urlsC[pos] + '>' + titulosC[pos] + '</a>' + '<br>');
        } 
        if(uploadC[pos].defaultValue != "missing.png"){
          newHTML.push('<a href=' + uploadC[pos].defaultValue + '>' + titulosC[pos] + '</a>' + '<br>');
        }
      }
      recursos.html(newHTML.join(""));
    }
    
  }else{
    orgDescripcion.html(organizaciones[pNodo]);  
    descripcion.html(descripcionesO[pNodo]);
    orgRecurso.html(organizaciones[pNodo]);
    document.getElementById("logos").src = bannerO[pNodo];
    newHTML.push('<br/><br/><br/>');
    for (pos=0;pos<(nomsO.length);pos++){ 
      if((organizaciones[pNodo]) == nomsO[pos]){
        if(urlsO[pos] != ""){
          newHTML.push('<a href=' + urlsO[pos] + '>' + titulosO[pos] + '</a>' + '<br>');
        } 
        if(uploadO[pos].defaultValue != "missing.png"){
          newHTML.push('<a href=' + uploadO[pos].defaultValue + '>' + titulosO[pos] + '</a>' + '<br>');
        }
      }
      recursos.html(newHTML.join(""));
    }
  }
}

function hideInfoCard() {
  infoCard.removeClass('hidden fadeInUp');
  infoCard.addClass('fadeOutDown');  
  nodeNumber.html('');
}

function getScaleFreeNetwork(nodeCount) {
  var DIR = 'img/';
  var pos;
  options = {
  height: '100%',
  width: '100%',
  interaction: {
    tooltipDelay: 100,
    hover: false
  },
  nodes: {
          borderWidth:4,
          size:30,
        color: {
            border: '#222222',
            background: '#666666'
          },
          font:{color:'#eeeeee'}
        },
        edges: {
          color: 'lightgray'
        }
};
  if(nodes == null)
    nodes = [];
  for (pos=0;pos<(organizaciones.length);pos++){ 
   	nodes.push( {id: pos,  shape: 'circularImage', image:logoO[pos] , label:organizaciones[pos] });
  }

  if(edges == null)
    edges = [];
  for (pos=0;pos<(orgs1.length);pos++){ 
    var o1 = nodes.map(function(x) {return x.label; }).indexOf(orgs1[pos]);
    var o2 = nodes.map(function(x) {return x.label; }).indexOf(orgs2[pos]);
   	edges.push( {id: pos,from: o1, to: o2} );
   	
  }

  return {
    nodes: nodes,
    edges: edges
  };
}
;
/*!
 *	kl-Animated
 *	Uses greensock
 *		- CSSPlugin
 *		- EasePack
 *		- TimelineMax
 *		- TweenLite	
 * 
 */


/*!
 * VERSION: 1.18.1
 * DATE: 2015-12-11
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2015, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */

var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(a,b){var c,d,e,f,g=function(){a.call(this,"css"),this._overwriteProps.length=0,this.setRatio=g.prototype.setRatio},h=_gsScope._gsDefine.globals,i={},j=g.prototype=new a("css");j.constructor=g,g.version="1.18.1",g.API=2,g.defaultTransformPerspective=0,g.defaultSkewType="compensated",g.defaultSmoothOrigin=!0,j="px",g.suffixMap={top:j,right:j,bottom:j,left:j,width:j,height:j,fontSize:j,padding:j,margin:j,perspective:j,lineHeight:""};var k,l,m,n,o,p,q=/(?:\d|\-\d|\.\d|\-\.\d)+/g,r=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,s=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,t=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,u=/(?:\d|\-|\+|=|#|\.)*/g,v=/opacity *= *([^)]*)/i,w=/opacity:([^;]*)/i,x=/alpha\(opacity *=.+?\)/i,y=/^(rgb|hsl)/,z=/([A-Z])/g,A=/-([a-z])/gi,B=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,C=function(a,b){return b.toUpperCase()},D=/(?:Left|Right|Width)/i,E=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,F=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,G=/,(?=[^\)]*(?:\(|$))/gi,H=Math.PI/180,I=180/Math.PI,J={},K=document,L=function(a){return K.createElementNS?K.createElementNS("http://www.w3.org/1999/xhtml",a):K.createElement(a)},M=L("div"),N=L("img"),O=g._internals={_specialProps:i},P=navigator.userAgent,Q=function(){var a=P.indexOf("Android"),b=L("a");return m=-1!==P.indexOf("Safari")&&-1===P.indexOf("Chrome")&&(-1===a||Number(P.substr(a+8,1))>3),o=m&&Number(P.substr(P.indexOf("Version/")+8,1))<6,n=-1!==P.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(P)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(P))&&(p=parseFloat(RegExp.$1)),b?(b.style.cssText="top:1px;opacity:.55;",/^0.55/.test(b.style.opacity)):!1}(),R=function(a){return v.test("string"==typeof a?a:(a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100:1},S=function(a){window.console&&console.log(a)},T="",U="",V=function(a,b){b=b||M;var c,d,e=b.style;if(void 0!==e[a])return a;for(a=a.charAt(0).toUpperCase()+a.substr(1),c=["O","Moz","ms","Ms","Webkit"],d=5;--d>-1&&void 0===e[c[d]+a];);return d>=0?(U=3===d?"ms":c[d],T="-"+U.toLowerCase()+"-",U+a):null},W=K.defaultView?K.defaultView.getComputedStyle:function(){},X=g.getStyle=function(a,b,c,d,e){var f;return Q||"opacity"!==b?(!d&&a.style[b]?f=a.style[b]:(c=c||W(a))?f=c[b]||c.getPropertyValue(b)||c.getPropertyValue(b.replace(z,"-$1").toLowerCase()):a.currentStyle&&(f=a.currentStyle[b]),null==e||f&&"none"!==f&&"auto"!==f&&"auto auto"!==f?f:e):R(a)},Y=O.convertToPixels=function(a,c,d,e,f){if("px"===e||!e)return d;if("auto"===e||!d)return 0;var h,i,j,k=D.test(c),l=a,m=M.style,n=0>d;if(n&&(d=-d),"%"===e&&-1!==c.indexOf("border"))h=d/100*(k?a.clientWidth:a.clientHeight);else{if(m.cssText="border:0 solid red;position:"+X(a,"position")+";line-height:0;","%"!==e&&l.appendChild&&"v"!==e.charAt(0)&&"rem"!==e)m[k?"borderLeftWidth":"borderTopWidth"]=d+e;else{if(l=a.parentNode||K.body,i=l._gsCache,j=b.ticker.frame,i&&k&&i.time===j)return i.width*d/100;m[k?"width":"height"]=d+e}l.appendChild(M),h=parseFloat(M[k?"offsetWidth":"offsetHeight"]),l.removeChild(M),k&&"%"===e&&g.cacheWidths!==!1&&(i=l._gsCache=l._gsCache||{},i.time=j,i.width=h/d*100),0!==h||f||(h=Y(a,c,d,e,!0))}return n?-h:h},Z=O.calculateOffset=function(a,b,c){if("absolute"!==X(a,"position",c))return 0;var d="left"===b?"Left":"Top",e=X(a,"margin"+d,c);return a["offset"+d]-(Y(a,b,parseFloat(e),e.replace(u,""))||0)},$=function(a,b){var c,d,e,f={};if(b=b||W(a,null))if(c=b.length)for(;--c>-1;)e=b[c],(-1===e.indexOf("-transform")||za===e)&&(f[e.replace(A,C)]=b.getPropertyValue(e));else for(c in b)(-1===c.indexOf("Transform")||ya===c)&&(f[c]=b[c]);else if(b=a.currentStyle||a.style)for(c in b)"string"==typeof c&&void 0===f[c]&&(f[c.replace(A,C)]=b[c]);return Q||(f.opacity=R(a)),d=La(a,b,!1),f.rotation=d.rotation,f.skewX=d.skewX,f.scaleX=d.scaleX,f.scaleY=d.scaleY,f.x=d.x,f.y=d.y,Ba&&(f.z=d.z,f.rotationX=d.rotationX,f.rotationY=d.rotationY,f.scaleZ=d.scaleZ),f.filters&&delete f.filters,f},_=function(a,b,c,d,e){var f,g,h,i={},j=a.style;for(g in c)"cssText"!==g&&"length"!==g&&isNaN(g)&&(b[g]!==(f=c[g])||e&&e[g])&&-1===g.indexOf("Origin")&&("number"==typeof f||"string"==typeof f)&&(i[g]="auto"!==f||"left"!==g&&"top"!==g?""!==f&&"auto"!==f&&"none"!==f||"string"!=typeof b[g]||""===b[g].replace(t,"")?f:0:Z(a,g),void 0!==j[g]&&(h=new oa(j,g,j[g],h)));if(d)for(g in d)"className"!==g&&(i[g]=d[g]);return{difs:i,firstMPT:h}},aa={width:["Left","Right"],height:["Top","Bottom"]},ba=["marginLeft","marginRight","marginTop","marginBottom"],ca=function(a,b,c){var d=parseFloat("width"===b?a.offsetWidth:a.offsetHeight),e=aa[b],f=e.length;for(c=c||W(a,null);--f>-1;)d-=parseFloat(X(a,"padding"+e[f],c,!0))||0,d-=parseFloat(X(a,"border"+e[f]+"Width",c,!0))||0;return d},da=function(a,b){if("contain"===a||"auto"===a||"auto auto"===a)return a+" ";(null==a||""===a)&&(a="0 0");var c=a.split(" "),d=-1!==a.indexOf("left")?"0%":-1!==a.indexOf("right")?"100%":c[0],e=-1!==a.indexOf("top")?"0%":-1!==a.indexOf("bottom")?"100%":c[1];return null==e?e="center"===d?"50%":"0":"center"===e&&(e="50%"),("center"===d||isNaN(parseFloat(d))&&-1===(d+"").indexOf("="))&&(d="50%"),a=d+" "+e+(c.length>2?" "+c[2]:""),b&&(b.oxp=-1!==d.indexOf("%"),b.oyp=-1!==e.indexOf("%"),b.oxr="="===d.charAt(1),b.oyr="="===e.charAt(1),b.ox=parseFloat(d.replace(t,"")),b.oy=parseFloat(e.replace(t,"")),b.v=a),b||a},ea=function(a,b){return"string"==typeof a&&"="===a.charAt(1)?parseInt(a.charAt(0)+"1",10)*parseFloat(a.substr(2)):parseFloat(a)-parseFloat(b)},fa=function(a,b){return null==a?b:"string"==typeof a&&"="===a.charAt(1)?parseInt(a.charAt(0)+"1",10)*parseFloat(a.substr(2))+b:parseFloat(a)},ga=function(a,b,c,d){var e,f,g,h,i,j=1e-6;return null==a?h=b:"number"==typeof a?h=a:(e=360,f=a.split("_"),i="="===a.charAt(1),g=(i?parseInt(a.charAt(0)+"1",10)*parseFloat(f[0].substr(2)):parseFloat(f[0]))*(-1===a.indexOf("rad")?1:I)-(i?0:b),f.length&&(d&&(d[c]=b+g),-1!==a.indexOf("short")&&(g%=e,g!==g%(e/2)&&(g=0>g?g+e:g-e)),-1!==a.indexOf("_cw")&&0>g?g=(g+9999999999*e)%e-(g/e|0)*e:-1!==a.indexOf("ccw")&&g>0&&(g=(g-9999999999*e)%e-(g/e|0)*e)),h=b+g),j>h&&h>-j&&(h=0),h},ha={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ia=function(a,b,c){return a=0>a?a+1:a>1?a-1:a,255*(1>6*a?b+(c-b)*a*6:.5>a?c:2>3*a?b+(c-b)*(2/3-a)*6:b)+.5|0},ja=g.parseColor=function(a,b){var c,d,e,f,g,h,i,j,k,l,m;if(a)if("number"==typeof a)c=[a>>16,a>>8&255,255&a];else{if(","===a.charAt(a.length-1)&&(a=a.substr(0,a.length-1)),ha[a])c=ha[a];else if("#"===a.charAt(0))4===a.length&&(d=a.charAt(1),e=a.charAt(2),f=a.charAt(3),a="#"+d+d+e+e+f+f),a=parseInt(a.substr(1),16),c=[a>>16,a>>8&255,255&a];else if("hsl"===a.substr(0,3))if(c=m=a.match(q),b){if(-1!==a.indexOf("="))return a.match(r)}else g=Number(c[0])%360/360,h=Number(c[1])/100,i=Number(c[2])/100,e=.5>=i?i*(h+1):i+h-i*h,d=2*i-e,c.length>3&&(c[3]=Number(a[3])),c[0]=ia(g+1/3,d,e),c[1]=ia(g,d,e),c[2]=ia(g-1/3,d,e);else c=a.match(q)||ha.transparent;c[0]=Number(c[0]),c[1]=Number(c[1]),c[2]=Number(c[2]),c.length>3&&(c[3]=Number(c[3]))}else c=ha.black;return b&&!m&&(d=c[0]/255,e=c[1]/255,f=c[2]/255,j=Math.max(d,e,f),k=Math.min(d,e,f),i=(j+k)/2,j===k?g=h=0:(l=j-k,h=i>.5?l/(2-j-k):l/(j+k),g=j===d?(e-f)/l+(f>e?6:0):j===e?(f-d)/l+2:(d-e)/l+4,g*=60),c[0]=g+.5|0,c[1]=100*h+.5|0,c[2]=100*i+.5|0),c},ka=function(a,b){var c,d,e,f=a.match(la)||[],g=0,h=f.length?"":a;for(c=0;c<f.length;c++)d=f[c],e=a.substr(g,a.indexOf(d,g)-g),g+=e.length+d.length,d=ja(d,b),3===d.length&&d.push(1),h+=e+(b?"hsla("+d[0]+","+d[1]+"%,"+d[2]+"%,"+d[3]:"rgba("+d.join(","))+")";return h},la="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(j in ha)la+="|"+j+"\\b";la=new RegExp(la+")","gi"),g.colorStringFilter=function(a){var b,c=a[0]+a[1];la.lastIndex=0,la.test(c)&&(b=-1!==c.indexOf("hsl(")||-1!==c.indexOf("hsla("),a[0]=ka(a[0],b),a[1]=ka(a[1],b))},b.defaultStringFilter||(b.defaultStringFilter=g.colorStringFilter);var ma=function(a,b,c,d){if(null==a)return function(a){return a};var e,f=b?(a.match(la)||[""])[0]:"",g=a.split(f).join("").match(s)||[],h=a.substr(0,a.indexOf(g[0])),i=")"===a.charAt(a.length-1)?")":"",j=-1!==a.indexOf(" ")?" ":",",k=g.length,l=k>0?g[0].replace(q,""):"";return k?e=b?function(a){var b,m,n,o;if("number"==typeof a)a+=l;else if(d&&G.test(a)){for(o=a.replace(G,"|").split("|"),n=0;n<o.length;n++)o[n]=e(o[n]);return o.join(",")}if(b=(a.match(la)||[f])[0],m=a.split(b).join("").match(s)||[],n=m.length,k>n--)for(;++n<k;)m[n]=c?m[(n-1)/2|0]:g[n];return h+m.join(j)+j+b+i+(-1!==a.indexOf("inset")?" inset":"")}:function(a){var b,f,m;if("number"==typeof a)a+=l;else if(d&&G.test(a)){for(f=a.replace(G,"|").split("|"),m=0;m<f.length;m++)f[m]=e(f[m]);return f.join(",")}if(b=a.match(s)||[],m=b.length,k>m--)for(;++m<k;)b[m]=c?b[(m-1)/2|0]:g[m];return h+b.join(j)+i}:function(a){return a}},na=function(a){return a=a.split(","),function(b,c,d,e,f,g,h){var i,j=(c+"").split(" ");for(h={},i=0;4>i;i++)h[a[i]]=j[i]=j[i]||j[(i-1)/2>>0];return e.parse(b,h,f,g)}},oa=(O._setPluginRatio=function(a){this.plugin.setRatio(a);for(var b,c,d,e,f,g=this.data,h=g.proxy,i=g.firstMPT,j=1e-6;i;)b=h[i.v],i.r?b=Math.round(b):j>b&&b>-j&&(b=0),i.t[i.p]=b,i=i._next;if(g.autoRotate&&(g.autoRotate.rotation=h.rotation),1===a||0===a)for(i=g.firstMPT,f=1===a?"e":"b";i;){if(c=i.t,c.type){if(1===c.type){for(e=c.xs0+c.s+c.xs1,d=1;d<c.l;d++)e+=c["xn"+d]+c["xs"+(d+1)];c[f]=e}}else c[f]=c.s+c.xs0;i=i._next}},function(a,b,c,d,e){this.t=a,this.p=b,this.v=c,this.r=e,d&&(d._prev=this,this._next=d)}),pa=(O._parseToProxy=function(a,b,c,d,e,f){var g,h,i,j,k,l=d,m={},n={},o=c._transform,p=J;for(c._transform=null,J=b,d=k=c.parse(a,b,d,e),J=p,f&&(c._transform=o,l&&(l._prev=null,l._prev&&(l._prev._next=null)));d&&d!==l;){if(d.type<=1&&(h=d.p,n[h]=d.s+d.c,m[h]=d.s,f||(j=new oa(d,"s",h,j,d.r),d.c=0),1===d.type))for(g=d.l;--g>0;)i="xn"+g,h=d.p+"_"+i,n[h]=d.data[i],m[h]=d[i],f||(j=new oa(d,i,h,j,d.rxp[i]));d=d._next}return{proxy:m,end:n,firstMPT:j,pt:k}},O.CSSPropTween=function(a,b,d,e,g,h,i,j,k,l,m){this.t=a,this.p=b,this.s=d,this.c=e,this.n=i||b,a instanceof pa||f.push(this.n),this.r=j,this.type=h||0,k&&(this.pr=k,c=!0),this.b=void 0===l?d:l,this.e=void 0===m?d+e:m,g&&(this._next=g,g._prev=this)}),qa=function(a,b,c,d,e,f){var g=new pa(a,b,c,d-c,e,-1,f);return g.b=c,g.e=g.xs0=d,g},ra=g.parseComplex=function(a,b,c,d,e,f,g,h,i,j){c=c||f||"",g=new pa(a,b,0,0,g,j?2:1,null,!1,h,c,d),d+="";var l,m,n,o,p,s,t,u,v,w,x,y,z,A=c.split(", ").join(",").split(" "),B=d.split(", ").join(",").split(" "),C=A.length,D=k!==!1;for((-1!==d.indexOf(",")||-1!==c.indexOf(","))&&(A=A.join(" ").replace(G,", ").split(" "),B=B.join(" ").replace(G,", ").split(" "),C=A.length),C!==B.length&&(A=(f||"").split(" "),C=A.length),g.plugin=i,g.setRatio=j,la.lastIndex=0,l=0;C>l;l++)if(o=A[l],p=B[l],u=parseFloat(o),u||0===u)g.appendXtra("",u,ea(p,u),p.replace(r,""),D&&-1!==p.indexOf("px"),!0);else if(e&&la.test(o))y=","===p.charAt(p.length-1)?"),":")",z=-1!==p.indexOf("hsl")&&Q,o=ja(o,z),p=ja(p,z),v=o.length+p.length>6,v&&!Q&&0===p[3]?(g["xs"+g.l]+=g.l?" transparent":"transparent",g.e=g.e.split(B[l]).join("transparent")):(Q||(v=!1),z?g.appendXtra(v?"hsla(":"hsl(",o[0],ea(p[0],o[0]),",",!1,!0).appendXtra("",o[1],ea(p[1],o[1]),"%,",!1).appendXtra("",o[2],ea(p[2],o[2]),v?"%,":"%"+y,!1):g.appendXtra(v?"rgba(":"rgb(",o[0],p[0]-o[0],",",!0,!0).appendXtra("",o[1],p[1]-o[1],",",!0).appendXtra("",o[2],p[2]-o[2],v?",":y,!0),v&&(o=o.length<4?1:o[3],g.appendXtra("",o,(p.length<4?1:p[3])-o,y,!1))),la.lastIndex=0;else if(s=o.match(q)){if(t=p.match(r),!t||t.length!==s.length)return g;for(n=0,m=0;m<s.length;m++)x=s[m],w=o.indexOf(x,n),g.appendXtra(o.substr(n,w-n),Number(x),ea(t[m],x),"",D&&"px"===o.substr(w+x.length,2),0===m),n=w+x.length;g["xs"+g.l]+=o.substr(n)}else g["xs"+g.l]+=g.l?" "+p:p;if(-1!==d.indexOf("=")&&g.data){for(y=g.xs0+g.data.s,l=1;l<g.l;l++)y+=g["xs"+l]+g.data["xn"+l];g.e=y+g["xs"+l]}return g.l||(g.type=-1,g.xs0=g.e),g.xfirst||g},sa=9;for(j=pa.prototype,j.l=j.pr=0;--sa>0;)j["xn"+sa]=0,j["xs"+sa]="";j.xs0="",j._next=j._prev=j.xfirst=j.data=j.plugin=j.setRatio=j.rxp=null,j.appendXtra=function(a,b,c,d,e,f){var g=this,h=g.l;return g["xs"+h]+=f&&h?" "+a:a||"",c||0===h||g.plugin?(g.l++,g.type=g.setRatio?2:1,g["xs"+g.l]=d||"",h>0?(g.data["xn"+h]=b+c,g.rxp["xn"+h]=e,g["xn"+h]=b,g.plugin||(g.xfirst=new pa(g,"xn"+h,b,c,g.xfirst||g,0,g.n,e,g.pr),g.xfirst.xs0=0),g):(g.data={s:b+c},g.rxp={},g.s=b,g.c=c,g.r=e,g)):(g["xs"+h]+=b+(d||""),g)};var ta=function(a,b){b=b||{},this.p=b.prefix?V(a)||a:a,i[a]=i[this.p]=this,this.format=b.formatter||ma(b.defaultValue,b.color,b.collapsible,b.multi),b.parser&&(this.parse=b.parser),this.clrs=b.color,this.multi=b.multi,this.keyword=b.keyword,this.dflt=b.defaultValue,this.pr=b.priority||0},ua=O._registerComplexSpecialProp=function(a,b,c){"object"!=typeof b&&(b={parser:c});var d,e,f=a.split(","),g=b.defaultValue;for(c=c||[g],d=0;d<f.length;d++)b.prefix=0===d&&b.prefix,b.defaultValue=c[d]||g,e=new ta(f[d],b)},va=function(a){if(!i[a]){var b=a.charAt(0).toUpperCase()+a.substr(1)+"Plugin";ua(a,{parser:function(a,c,d,e,f,g,j){var k=h.com.greensock.plugins[b];return k?(k._cssRegister(),i[d].parse(a,c,d,e,f,g,j)):(S("Error: "+b+" js file not loaded."),f)}})}};j=ta.prototype,j.parseComplex=function(a,b,c,d,e,f){var g,h,i,j,k,l,m=this.keyword;if(this.multi&&(G.test(c)||G.test(b)?(h=b.replace(G,"|").split("|"),i=c.replace(G,"|").split("|")):m&&(h=[b],i=[c])),i){for(j=i.length>h.length?i.length:h.length,g=0;j>g;g++)b=h[g]=h[g]||this.dflt,c=i[g]=i[g]||this.dflt,m&&(k=b.indexOf(m),l=c.indexOf(m),k!==l&&(-1===l?h[g]=h[g].split(m).join(""):-1===k&&(h[g]+=" "+m)));b=h.join(", "),c=i.join(", ")}return ra(a,this.p,b,c,this.clrs,this.dflt,d,this.pr,e,f)},j.parse=function(a,b,c,d,f,g,h){return this.parseComplex(a.style,this.format(X(a,this.p,e,!1,this.dflt)),this.format(b),f,g)},g.registerSpecialProp=function(a,b,c){ua(a,{parser:function(a,d,e,f,g,h,i){var j=new pa(a,e,0,0,g,2,e,!1,c);return j.plugin=h,j.setRatio=b(a,d,f._tween,e),j},priority:c})},g.useSVGTransformAttr=m||n;var wa,xa="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),ya=V("transform"),za=T+"transform",Aa=V("transformOrigin"),Ba=null!==V("perspective"),Ca=O.Transform=function(){this.perspective=parseFloat(g.defaultTransformPerspective)||0,this.force3D=g.defaultForce3D!==!1&&Ba?g.defaultForce3D||"auto":!1},Da=window.SVGElement,Ea=function(a,b,c){var d,e=K.createElementNS("http://www.w3.org/2000/svg",a),f=/([a-z])([A-Z])/g;for(d in c)e.setAttributeNS(null,d.replace(f,"$1-$2").toLowerCase(),c[d]);return b.appendChild(e),e},Fa=K.documentElement,Ga=function(){var a,b,c,d=p||/Android/i.test(P)&&!window.chrome;return K.createElementNS&&!d&&(a=Ea("svg",Fa),b=Ea("rect",a,{width:100,height:50,x:100}),c=b.getBoundingClientRect().width,b.style[Aa]="50% 50%",b.style[ya]="scaleX(0.5)",d=c===b.getBoundingClientRect().width&&!(n&&Ba),Fa.removeChild(a)),d}(),Ha=function(a,b,c,d,e){var f,h,i,j,k,l,m,n,o,p,q,r,s,t,u=a._gsTransform,v=Ka(a,!0);u&&(s=u.xOrigin,t=u.yOrigin),(!d||(f=d.split(" ")).length<2)&&(m=a.getBBox(),b=da(b).split(" "),f=[(-1!==b[0].indexOf("%")?parseFloat(b[0])/100*m.width:parseFloat(b[0]))+m.x,(-1!==b[1].indexOf("%")?parseFloat(b[1])/100*m.height:parseFloat(b[1]))+m.y]),c.xOrigin=j=parseFloat(f[0]),c.yOrigin=k=parseFloat(f[1]),d&&v!==Ja&&(l=v[0],m=v[1],n=v[2],o=v[3],p=v[4],q=v[5],r=l*o-m*n,h=j*(o/r)+k*(-n/r)+(n*q-o*p)/r,i=j*(-m/r)+k*(l/r)-(l*q-m*p)/r,j=c.xOrigin=f[0]=h,k=c.yOrigin=f[1]=i),u&&(e||e!==!1&&g.defaultSmoothOrigin!==!1?(h=j-s,i=k-t,u.xOffset+=h*v[0]+i*v[2]-h,u.yOffset+=h*v[1]+i*v[3]-i):u.xOffset=u.yOffset=0),a.setAttribute("data-svg-origin",f.join(" "))},Ia=function(a){return!!(Da&&"function"==typeof a.getBBox&&a.getCTM&&(!a.parentNode||a.parentNode.getBBox&&a.parentNode.getCTM))},Ja=[1,0,0,1,0,0],Ka=function(a,b){var c,d,e,f,g,h=a._gsTransform||new Ca,i=1e5;if(ya?d=X(a,za,null,!0):a.currentStyle&&(d=a.currentStyle.filter.match(E),d=d&&4===d.length?[d[0].substr(4),Number(d[2].substr(4)),Number(d[1].substr(4)),d[3].substr(4),h.x||0,h.y||0].join(","):""),c=!d||"none"===d||"matrix(1, 0, 0, 1, 0, 0)"===d,(h.svg||a.getBBox&&Ia(a))&&(c&&-1!==(a.style[ya]+"").indexOf("matrix")&&(d=a.style[ya],c=0),e=a.getAttribute("transform"),c&&e&&(-1!==e.indexOf("matrix")?(d=e,c=0):-1!==e.indexOf("translate")&&(d="matrix(1,0,0,1,"+e.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",c=0))),c)return Ja;for(e=(d||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[],sa=e.length;--sa>-1;)f=Number(e[sa]),e[sa]=(g=f-(f|=0))?(g*i+(0>g?-.5:.5)|0)/i+f:f;return b&&e.length>6?[e[0],e[1],e[4],e[5],e[12],e[13]]:e},La=O.getTransform=function(a,c,d,f){if(a._gsTransform&&d&&!f)return a._gsTransform;var h,i,j,k,l,m,n=d?a._gsTransform||new Ca:new Ca,o=n.scaleX<0,p=2e-5,q=1e5,r=Ba?parseFloat(X(a,Aa,c,!1,"0 0 0").split(" ")[2])||n.zOrigin||0:0,s=parseFloat(g.defaultTransformPerspective)||0;if(n.svg=!(!a.getBBox||!Ia(a)),n.svg&&(Ha(a,X(a,Aa,e,!1,"50% 50%")+"",n,a.getAttribute("data-svg-origin")),wa=g.useSVGTransformAttr||Ga),h=Ka(a),h!==Ja){if(16===h.length){var t,u,v,w,x,y=h[0],z=h[1],A=h[2],B=h[3],C=h[4],D=h[5],E=h[6],F=h[7],G=h[8],H=h[9],J=h[10],K=h[12],L=h[13],M=h[14],N=h[11],O=Math.atan2(E,J);n.zOrigin&&(M=-n.zOrigin,K=G*M-h[12],L=H*M-h[13],M=J*M+n.zOrigin-h[14]),n.rotationX=O*I,O&&(w=Math.cos(-O),x=Math.sin(-O),t=C*w+G*x,u=D*w+H*x,v=E*w+J*x,G=C*-x+G*w,H=D*-x+H*w,J=E*-x+J*w,N=F*-x+N*w,C=t,D=u,E=v),O=Math.atan2(-A,J),n.rotationY=O*I,O&&(w=Math.cos(-O),x=Math.sin(-O),t=y*w-G*x,u=z*w-H*x,v=A*w-J*x,H=z*x+H*w,J=A*x+J*w,N=B*x+N*w,y=t,z=u,A=v),O=Math.atan2(z,y),n.rotation=O*I,O&&(w=Math.cos(-O),x=Math.sin(-O),y=y*w+C*x,u=z*w+D*x,D=z*-x+D*w,E=A*-x+E*w,z=u),n.rotationX&&Math.abs(n.rotationX)+Math.abs(n.rotation)>359.9&&(n.rotationX=n.rotation=0,n.rotationY=180-n.rotationY),n.scaleX=(Math.sqrt(y*y+z*z)*q+.5|0)/q,n.scaleY=(Math.sqrt(D*D+H*H)*q+.5|0)/q,n.scaleZ=(Math.sqrt(E*E+J*J)*q+.5|0)/q,n.skewX=0,n.perspective=N?1/(0>N?-N:N):0,n.x=K,n.y=L,n.z=M,n.svg&&(n.x-=n.xOrigin-(n.xOrigin*y-n.yOrigin*C),n.y-=n.yOrigin-(n.yOrigin*z-n.xOrigin*D))}else if((!Ba||f||!h.length||n.x!==h[4]||n.y!==h[5]||!n.rotationX&&!n.rotationY)&&(void 0===n.x||"none"!==X(a,"display",c))){var P=h.length>=6,Q=P?h[0]:1,R=h[1]||0,S=h[2]||0,T=P?h[3]:1;n.x=h[4]||0,n.y=h[5]||0,j=Math.sqrt(Q*Q+R*R),k=Math.sqrt(T*T+S*S),l=Q||R?Math.atan2(R,Q)*I:n.rotation||0,m=S||T?Math.atan2(S,T)*I+l:n.skewX||0,Math.abs(m)>90&&Math.abs(m)<270&&(o?(j*=-1,m+=0>=l?180:-180,l+=0>=l?180:-180):(k*=-1,m+=0>=m?180:-180)),n.scaleX=j,n.scaleY=k,n.rotation=l,n.skewX=m,Ba&&(n.rotationX=n.rotationY=n.z=0,n.perspective=s,n.scaleZ=1),n.svg&&(n.x-=n.xOrigin-(n.xOrigin*Q+n.yOrigin*S),n.y-=n.yOrigin-(n.xOrigin*R+n.yOrigin*T))}n.zOrigin=r;for(i in n)n[i]<p&&n[i]>-p&&(n[i]=0)}return d&&(a._gsTransform=n,n.svg&&(wa&&a.style[ya]?b.delayedCall(.001,function(){Pa(a.style,ya)}):!wa&&a.getAttribute("transform")&&b.delayedCall(.001,function(){a.removeAttribute("transform")}))),n},Ma=function(a){var b,c,d=this.data,e=-d.rotation*H,f=e+d.skewX*H,g=1e5,h=(Math.cos(e)*d.scaleX*g|0)/g,i=(Math.sin(e)*d.scaleX*g|0)/g,j=(Math.sin(f)*-d.scaleY*g|0)/g,k=(Math.cos(f)*d.scaleY*g|0)/g,l=this.t.style,m=this.t.currentStyle;if(m){c=i,i=-j,j=-c,b=m.filter,l.filter="";var n,o,q=this.t.offsetWidth,r=this.t.offsetHeight,s="absolute"!==m.position,t="progid:DXImageTransform.Microsoft.Matrix(M11="+h+", M12="+i+", M21="+j+", M22="+k,w=d.x+q*d.xPercent/100,x=d.y+r*d.yPercent/100;if(null!=d.ox&&(n=(d.oxp?q*d.ox*.01:d.ox)-q/2,o=(d.oyp?r*d.oy*.01:d.oy)-r/2,w+=n-(n*h+o*i),x+=o-(n*j+o*k)),s?(n=q/2,o=r/2,t+=", Dx="+(n-(n*h+o*i)+w)+", Dy="+(o-(n*j+o*k)+x)+")"):t+=", sizingMethod='auto expand')",-1!==b.indexOf("DXImageTransform.Microsoft.Matrix(")?l.filter=b.replace(F,t):l.filter=t+" "+b,(0===a||1===a)&&1===h&&0===i&&0===j&&1===k&&(s&&-1===t.indexOf("Dx=0, Dy=0")||v.test(b)&&100!==parseFloat(RegExp.$1)||-1===b.indexOf(b.indexOf("Alpha"))&&l.removeAttribute("filter")),!s){var y,z,A,B=8>p?1:-1;for(n=d.ieOffsetX||0,o=d.ieOffsetY||0,d.ieOffsetX=Math.round((q-((0>h?-h:h)*q+(0>i?-i:i)*r))/2+w),d.ieOffsetY=Math.round((r-((0>k?-k:k)*r+(0>j?-j:j)*q))/2+x),sa=0;4>sa;sa++)z=ba[sa],y=m[z],c=-1!==y.indexOf("px")?parseFloat(y):Y(this.t,z,parseFloat(y),y.replace(u,""))||0,A=c!==d[z]?2>sa?-d.ieOffsetX:-d.ieOffsetY:2>sa?n-d.ieOffsetX:o-d.ieOffsetY,l[z]=(d[z]=Math.round(c-A*(0===sa||2===sa?1:B)))+"px"}}},Na=O.set3DTransformRatio=O.setTransformRatio=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,o,p,q,r,s,t,u,v,w,x,y,z=this.data,A=this.t.style,B=z.rotation,C=z.rotationX,D=z.rotationY,E=z.scaleX,F=z.scaleY,G=z.scaleZ,I=z.x,J=z.y,K=z.z,L=z.svg,M=z.perspective,N=z.force3D;if(((1===a||0===a)&&"auto"===N&&(this.tween._totalTime===this.tween._totalDuration||!this.tween._totalTime)||!N)&&!K&&!M&&!D&&!C&&1===G||wa&&L||!Ba)return void(B||z.skewX||L?(B*=H,x=z.skewX*H,y=1e5,b=Math.cos(B)*E,e=Math.sin(B)*E,c=Math.sin(B-x)*-F,f=Math.cos(B-x)*F,x&&"simple"===z.skewType&&(s=Math.tan(x),s=Math.sqrt(1+s*s),c*=s,f*=s,z.skewY&&(b*=s,e*=s)),L&&(I+=z.xOrigin-(z.xOrigin*b+z.yOrigin*c)+z.xOffset,J+=z.yOrigin-(z.xOrigin*e+z.yOrigin*f)+z.yOffset,wa&&(z.xPercent||z.yPercent)&&(p=this.t.getBBox(),I+=.01*z.xPercent*p.width,J+=.01*z.yPercent*p.height),p=1e-6,p>I&&I>-p&&(I=0),p>J&&J>-p&&(J=0)),u=(b*y|0)/y+","+(e*y|0)/y+","+(c*y|0)/y+","+(f*y|0)/y+","+I+","+J+")",L&&wa?this.t.setAttribute("transform","matrix("+u):A[ya]=(z.xPercent||z.yPercent?"translate("+z.xPercent+"%,"+z.yPercent+"%) matrix(":"matrix(")+u):A[ya]=(z.xPercent||z.yPercent?"translate("+z.xPercent+"%,"+z.yPercent+"%) matrix(":"matrix(")+E+",0,0,"+F+","+I+","+J+")");if(n&&(p=1e-4,p>E&&E>-p&&(E=G=2e-5),p>F&&F>-p&&(F=G=2e-5),!M||z.z||z.rotationX||z.rotationY||(M=0)),B||z.skewX)B*=H,q=b=Math.cos(B),r=e=Math.sin(B),z.skewX&&(B-=z.skewX*H,q=Math.cos(B),r=Math.sin(B),"simple"===z.skewType&&(s=Math.tan(z.skewX*H),s=Math.sqrt(1+s*s),q*=s,r*=s,z.skewY&&(b*=s,e*=s))),c=-r,f=q;else{if(!(D||C||1!==G||M||L))return void(A[ya]=(z.xPercent||z.yPercent?"translate("+z.xPercent+"%,"+z.yPercent+"%) translate3d(":"translate3d(")+I+"px,"+J+"px,"+K+"px)"+(1!==E||1!==F?" scale("+E+","+F+")":""));b=f=1,c=e=0}j=1,d=g=h=i=k=l=0,m=M?-1/M:0,o=z.zOrigin,p=1e-6,v=",",w="0",B=D*H,B&&(q=Math.cos(B),r=Math.sin(B),h=-r,k=m*-r,d=b*r,g=e*r,j=q,m*=q,b*=q,e*=q),B=C*H,B&&(q=Math.cos(B),r=Math.sin(B),s=c*q+d*r,t=f*q+g*r,i=j*r,l=m*r,d=c*-r+d*q,g=f*-r+g*q,j*=q,m*=q,c=s,f=t),1!==G&&(d*=G,g*=G,j*=G,m*=G),1!==F&&(c*=F,f*=F,i*=F,l*=F),1!==E&&(b*=E,e*=E,h*=E,k*=E),(o||L)&&(o&&(I+=d*-o,J+=g*-o,K+=j*-o+o),L&&(I+=z.xOrigin-(z.xOrigin*b+z.yOrigin*c)+z.xOffset,J+=z.yOrigin-(z.xOrigin*e+z.yOrigin*f)+z.yOffset),p>I&&I>-p&&(I=w),p>J&&J>-p&&(J=w),p>K&&K>-p&&(K=0)),u=z.xPercent||z.yPercent?"translate("+z.xPercent+"%,"+z.yPercent+"%) matrix3d(":"matrix3d(",u+=(p>b&&b>-p?w:b)+v+(p>e&&e>-p?w:e)+v+(p>h&&h>-p?w:h),u+=v+(p>k&&k>-p?w:k)+v+(p>c&&c>-p?w:c)+v+(p>f&&f>-p?w:f),C||D||1!==G?(u+=v+(p>i&&i>-p?w:i)+v+(p>l&&l>-p?w:l)+v+(p>d&&d>-p?w:d),u+=v+(p>g&&g>-p?w:g)+v+(p>j&&j>-p?w:j)+v+(p>m&&m>-p?w:m)+v):u+=",0,0,0,0,1,0,",u+=I+v+J+v+K+v+(M?1+-K/M:1)+")",A[ya]=u};j=Ca.prototype,j.x=j.y=j.z=j.skewX=j.skewY=j.rotation=j.rotationX=j.rotationY=j.zOrigin=j.xPercent=j.yPercent=j.xOffset=j.yOffset=0,j.scaleX=j.scaleY=j.scaleZ=1,ua("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(a,b,c,d,f,h,i){if(d._lastParsedTransform===i)return f;d._lastParsedTransform=i;var j,k,l,m,n,o,p,q,r,s,t=a._gsTransform,u=a.style,v=1e-6,w=xa.length,x=i,y={},z="transformOrigin";if(i.display?(m=X(a,"display"),u.display="block",j=La(a,e,!0,i.parseTransform),u.display=m):j=La(a,e,!0,i.parseTransform),d._transform=j,"string"==typeof x.transform&&ya)m=M.style,m[ya]=x.transform,m.display="block",m.position="absolute",K.body.appendChild(M),k=La(M,null,!1),K.body.removeChild(M),k.perspective||(k.perspective=j.perspective),null!=x.xPercent&&(k.xPercent=fa(x.xPercent,j.xPercent)),null!=x.yPercent&&(k.yPercent=fa(x.yPercent,j.yPercent));else if("object"==typeof x){if(k={scaleX:fa(null!=x.scaleX?x.scaleX:x.scale,j.scaleX),scaleY:fa(null!=x.scaleY?x.scaleY:x.scale,j.scaleY),scaleZ:fa(x.scaleZ,j.scaleZ),x:fa(x.x,j.x),y:fa(x.y,j.y),z:fa(x.z,j.z),xPercent:fa(x.xPercent,j.xPercent),yPercent:fa(x.yPercent,j.yPercent),perspective:fa(x.transformPerspective,j.perspective)},q=x.directionalRotation,null!=q)if("object"==typeof q)for(m in q)x[m]=q[m];else x.rotation=q;"string"==typeof x.x&&-1!==x.x.indexOf("%")&&(k.x=0,k.xPercent=fa(x.x,j.xPercent)),"string"==typeof x.y&&-1!==x.y.indexOf("%")&&(k.y=0,k.yPercent=fa(x.y,j.yPercent)),k.rotation=ga("rotation"in x?x.rotation:"shortRotation"in x?x.shortRotation+"_short":"rotationZ"in x?x.rotationZ:j.rotation,j.rotation,"rotation",y),Ba&&(k.rotationX=ga("rotationX"in x?x.rotationX:"shortRotationX"in x?x.shortRotationX+"_short":j.rotationX||0,j.rotationX,"rotationX",y),k.rotationY=ga("rotationY"in x?x.rotationY:"shortRotationY"in x?x.shortRotationY+"_short":j.rotationY||0,j.rotationY,"rotationY",y)),k.skewX=null==x.skewX?j.skewX:ga(x.skewX,j.skewX),k.skewY=null==x.skewY?j.skewY:ga(x.skewY,j.skewY),(l=k.skewY-j.skewY)&&(k.skewX+=l,k.rotation+=l)}for(Ba&&null!=x.force3D&&(j.force3D=x.force3D,p=!0),j.skewType=x.skewType||j.skewType||g.defaultSkewType,o=j.force3D||j.z||j.rotationX||j.rotationY||k.z||k.rotationX||k.rotationY||k.perspective,o||null==x.scale||(k.scaleZ=1);--w>-1;)c=xa[w],n=k[c]-j[c],(n>v||-v>n||null!=x[c]||null!=J[c])&&(p=!0,f=new pa(j,c,j[c],n,f),c in y&&(f.e=y[c]),f.xs0=0,f.plugin=h,d._overwriteProps.push(f.n));return n=x.transformOrigin,j.svg&&(n||x.svgOrigin)&&(r=j.xOffset,s=j.yOffset,Ha(a,da(n),k,x.svgOrigin,x.smoothOrigin),f=qa(j,"xOrigin",(t?j:k).xOrigin,k.xOrigin,f,z),f=qa(j,"yOrigin",(t?j:k).yOrigin,k.yOrigin,f,z),(r!==j.xOffset||s!==j.yOffset)&&(f=qa(j,"xOffset",t?r:j.xOffset,j.xOffset,f,z),f=qa(j,"yOffset",t?s:j.yOffset,j.yOffset,f,z)),n=wa?null:"0px 0px"),(n||Ba&&o&&j.zOrigin)&&(ya?(p=!0,c=Aa,n=(n||X(a,c,e,!1,"50% 50%"))+"",f=new pa(u,c,0,0,f,-1,z),f.b=u[c],f.plugin=h,Ba?(m=j.zOrigin,n=n.split(" "),j.zOrigin=(n.length>2&&(0===m||"0px"!==n[2])?parseFloat(n[2]):m)||0,f.xs0=f.e=n[0]+" "+(n[1]||"50%")+" 0px",f=new pa(j,"zOrigin",0,0,f,-1,f.n),f.b=m,f.xs0=f.e=j.zOrigin):f.xs0=f.e=n):da(n+"",j)),p&&(d._transformType=j.svg&&wa||!o&&3!==this._transformType?2:3),f},prefix:!0}),ua("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),ua("borderRadius",{defaultValue:"0px",parser:function(a,b,c,f,g,h){b=this.format(b);var i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],z=a.style;for(q=parseFloat(a.offsetWidth),r=parseFloat(a.offsetHeight),i=b.split(" "),j=0;j<y.length;j++)this.p.indexOf("border")&&(y[j]=V(y[j])),m=l=X(a,y[j],e,!1,"0px"),-1!==m.indexOf(" ")&&(l=m.split(" "),m=l[0],l=l[1]),n=k=i[j],o=parseFloat(m),t=m.substr((o+"").length),u="="===n.charAt(1),u?(p=parseInt(n.charAt(0)+"1",10),n=n.substr(2),p*=parseFloat(n),s=n.substr((p+"").length-(0>p?1:0))||""):(p=parseFloat(n),s=n.substr((p+"").length)),""===s&&(s=d[c]||t),s!==t&&(v=Y(a,"borderLeft",o,t),w=Y(a,"borderTop",o,t),"%"===s?(m=v/q*100+"%",l=w/r*100+"%"):"em"===s?(x=Y(a,"borderLeft",1,"em"),m=v/x+"em",l=w/x+"em"):(m=v+"px",l=w+"px"),u&&(n=parseFloat(m)+p+s,k=parseFloat(l)+p+s)),g=ra(z,y[j],m+" "+l,n+" "+k,!1,"0px",g);return g},prefix:!0,formatter:ma("0px 0px 0px 0px",!1,!0)}),ua("backgroundPosition",{defaultValue:"0 0",parser:function(a,b,c,d,f,g){var h,i,j,k,l,m,n="background-position",o=e||W(a,null),q=this.format((o?p?o.getPropertyValue(n+"-x")+" "+o.getPropertyValue(n+"-y"):o.getPropertyValue(n):a.currentStyle.backgroundPositionX+" "+a.currentStyle.backgroundPositionY)||"0 0"),r=this.format(b);if(-1!==q.indexOf("%")!=(-1!==r.indexOf("%"))&&(m=X(a,"backgroundImage").replace(B,""),m&&"none"!==m)){for(h=q.split(" "),i=r.split(" "),N.setAttribute("src",m),j=2;--j>-1;)q=h[j],k=-1!==q.indexOf("%"),k!==(-1!==i[j].indexOf("%"))&&(l=0===j?a.offsetWidth-N.width:a.offsetHeight-N.height,h[j]=k?parseFloat(q)/100*l+"px":parseFloat(q)/l*100+"%");q=h.join(" ")}return this.parseComplex(a.style,q,r,f,g)},formatter:da}),ua("backgroundSize",{defaultValue:"0 0",formatter:da}),ua("perspective",{defaultValue:"0px",prefix:!0}),ua("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),ua("transformStyle",{prefix:!0}),ua("backfaceVisibility",{prefix:!0}),ua("userSelect",{prefix:!0}),ua("margin",{parser:na("marginTop,marginRight,marginBottom,marginLeft")}),ua("padding",{parser:na("paddingTop,paddingRight,paddingBottom,paddingLeft")}),ua("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(a,b,c,d,f,g){var h,i,j;return 9>p?(i=a.currentStyle,j=8>p?" ":",",h="rect("+i.clipTop+j+i.clipRight+j+i.clipBottom+j+i.clipLeft+")",b=this.format(b).split(",").join(j)):(h=this.format(X(a,this.p,e,!1,this.dflt)),b=this.format(b)),this.parseComplex(a.style,h,b,f,g)}}),ua("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),ua("autoRound,strictUnits",{parser:function(a,b,c,d,e){return e}}),ua("border",{defaultValue:"0px solid #000",parser:function(a,b,c,d,f,g){return this.parseComplex(a.style,this.format(X(a,"borderTopWidth",e,!1,"0px")+" "+X(a,"borderTopStyle",e,!1,"solid")+" "+X(a,"borderTopColor",e,!1,"#000")),this.format(b),f,g)},color:!0,formatter:function(a){var b=a.split(" ");return b[0]+" "+(b[1]||"solid")+" "+(a.match(la)||["#000"])[0]}}),ua("borderWidth",{parser:na("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),ua("float,cssFloat,styleFloat",{parser:function(a,b,c,d,e,f){var g=a.style,h="cssFloat"in g?"cssFloat":"styleFloat";return new pa(g,h,0,0,e,-1,c,!1,0,g[h],b)}});var Oa=function(a){var b,c=this.t,d=c.filter||X(this.data,"filter")||"",e=this.s+this.c*a|0;100===e&&(-1===d.indexOf("atrix(")&&-1===d.indexOf("radient(")&&-1===d.indexOf("oader(")?(c.removeAttribute("filter"),b=!X(this.data,"filter")):(c.filter=d.replace(x,""),b=!0)),b||(this.xn1&&(c.filter=d=d||"alpha(opacity="+e+")"),-1===d.indexOf("pacity")?0===e&&this.xn1||(c.filter=d+" alpha(opacity="+e+")"):c.filter=d.replace(v,"opacity="+e))};ua("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(a,b,c,d,f,g){var h=parseFloat(X(a,"opacity",e,!1,"1")),i=a.style,j="autoAlpha"===c;return"string"==typeof b&&"="===b.charAt(1)&&(b=("-"===b.charAt(0)?-1:1)*parseFloat(b.substr(2))+h),j&&1===h&&"hidden"===X(a,"visibility",e)&&0!==b&&(h=0),Q?f=new pa(i,"opacity",h,b-h,f):(f=new pa(i,"opacity",100*h,100*(b-h),f),f.xn1=j?1:0,i.zoom=1,f.type=2,f.b="alpha(opacity="+f.s+")",f.e="alpha(opacity="+(f.s+f.c)+")",f.data=a,f.plugin=g,f.setRatio=Oa),j&&(f=new pa(i,"visibility",0,0,f,-1,null,!1,0,0!==h?"inherit":"hidden",0===b?"hidden":"inherit"),f.xs0="inherit",d._overwriteProps.push(f.n),d._overwriteProps.push(c)),f}});var Pa=function(a,b){b&&(a.removeProperty?(("ms"===b.substr(0,2)||"webkit"===b.substr(0,6))&&(b="-"+b),a.removeProperty(b.replace(z,"-$1").toLowerCase())):a.removeAttribute(b))},Qa=function(a){if(this.t._gsClassPT=this,1===a||0===a){this.t.setAttribute("class",0===a?this.b:this.e);for(var b=this.data,c=this.t.style;b;)b.v?c[b.p]=b.v:Pa(c,b.p),b=b._next;1===a&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};ua("className",{parser:function(a,b,d,f,g,h,i){var j,k,l,m,n,o=a.getAttribute("class")||"",p=a.style.cssText;if(g=f._classNamePT=new pa(a,d,0,0,g,2),
g.setRatio=Qa,g.pr=-11,c=!0,g.b=o,k=$(a,e),l=a._gsClassPT){for(m={},n=l.data;n;)m[n.p]=1,n=n._next;l.setRatio(1)}return a._gsClassPT=g,g.e="="!==b.charAt(1)?b:o.replace(new RegExp("\\s*\\b"+b.substr(2)+"\\b"),"")+("+"===b.charAt(0)?" "+b.substr(2):""),a.setAttribute("class",g.e),j=_(a,k,$(a),i,m),a.setAttribute("class",o),g.data=j.firstMPT,a.style.cssText=p,g=g.xfirst=f.parse(a,j.difs,g,h)}});var Ra=function(a){if((1===a||0===a)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var b,c,d,e,f,g=this.t.style,h=i.transform.parse;if("all"===this.e)g.cssText="",e=!0;else for(b=this.e.split(" ").join("").split(","),d=b.length;--d>-1;)c=b[d],i[c]&&(i[c].parse===h?e=!0:c="transformOrigin"===c?Aa:i[c].p),Pa(g,c);e&&(Pa(g,ya),f=this.t._gsTransform,f&&(f.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(ua("clearProps",{parser:function(a,b,d,e,f){return f=new pa(a,d,0,0,f,2),f.setRatio=Ra,f.e=b,f.pr=-10,f.data=e._tween,c=!0,f}}),j="bezier,throwProps,physicsProps,physics2D".split(","),sa=j.length;sa--;)va(j[sa]);j=g.prototype,j._firstPT=j._lastParsedTransform=j._transform=null,j._onInitTween=function(a,b,h){if(!a.nodeType)return!1;this._target=a,this._tween=h,this._vars=b,k=b.autoRound,c=!1,d=b.suffixMap||g.suffixMap,e=W(a,""),f=this._overwriteProps;var j,n,p,q,r,s,t,u,v,x=a.style;if(l&&""===x.zIndex&&(j=X(a,"zIndex",e),("auto"===j||""===j)&&this._addLazySet(x,"zIndex",0)),"string"==typeof b&&(q=x.cssText,j=$(a,e),x.cssText=q+";"+b,j=_(a,j,$(a)).difs,!Q&&w.test(b)&&(j.opacity=parseFloat(RegExp.$1)),b=j,x.cssText=q),b.className?this._firstPT=n=i.className.parse(a,b.className,"className",this,null,null,b):this._firstPT=n=this.parse(a,b,null),this._transformType){for(v=3===this._transformType,ya?m&&(l=!0,""===x.zIndex&&(t=X(a,"zIndex",e),("auto"===t||""===t)&&this._addLazySet(x,"zIndex",0)),o&&this._addLazySet(x,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(v?"visible":"hidden"))):x.zoom=1,p=n;p&&p._next;)p=p._next;u=new pa(a,"transform",0,0,null,2),this._linkCSSP(u,null,p),u.setRatio=ya?Na:Ma,u.data=this._transform||La(a,e,!0),u.tween=h,u.pr=-1,f.pop()}if(c){for(;n;){for(s=n._next,p=q;p&&p.pr>n.pr;)p=p._next;(n._prev=p?p._prev:r)?n._prev._next=n:q=n,(n._next=p)?p._prev=n:r=n,n=s}this._firstPT=q}return!0},j.parse=function(a,b,c,f){var g,h,j,l,m,n,o,p,q,r,s=a.style;for(g in b)n=b[g],h=i[g],h?c=h.parse(a,n,g,this,c,f,b):(m=X(a,g,e)+"",q="string"==typeof n,"color"===g||"fill"===g||"stroke"===g||-1!==g.indexOf("Color")||q&&y.test(n)?(q||(n=ja(n),n=(n.length>3?"rgba(":"rgb(")+n.join(",")+")"),c=ra(s,g,m,n,!0,"transparent",c,0,f)):!q||-1===n.indexOf(" ")&&-1===n.indexOf(",")?(j=parseFloat(m),o=j||0===j?m.substr((j+"").length):"",(""===m||"auto"===m)&&("width"===g||"height"===g?(j=ca(a,g,e),o="px"):"left"===g||"top"===g?(j=Z(a,g,e),o="px"):(j="opacity"!==g?0:1,o="")),r=q&&"="===n.charAt(1),r?(l=parseInt(n.charAt(0)+"1",10),n=n.substr(2),l*=parseFloat(n),p=n.replace(u,"")):(l=parseFloat(n),p=q?n.replace(u,""):""),""===p&&(p=g in d?d[g]:o),n=l||0===l?(r?l+j:l)+p:b[g],o!==p&&""!==p&&(l||0===l)&&j&&(j=Y(a,g,j,o),"%"===p?(j/=Y(a,g,100,"%")/100,b.strictUnits!==!0&&(m=j+"%")):"em"===p||"rem"===p||"vw"===p||"vh"===p?j/=Y(a,g,1,p):"px"!==p&&(l=Y(a,g,l,p),p="px"),r&&(l||0===l)&&(n=l+j+p)),r&&(l+=j),!j&&0!==j||!l&&0!==l?void 0!==s[g]&&(n||n+""!="NaN"&&null!=n)?(c=new pa(s,g,l||j||0,0,c,-1,g,!1,0,m,n),c.xs0="none"!==n||"display"!==g&&-1===g.indexOf("Style")?n:m):S("invalid "+g+" tween value: "+b[g]):(c=new pa(s,g,j,l-j,c,0,g,k!==!1&&("px"===p||"zIndex"===g),0,m,n),c.xs0=p)):c=ra(s,g,m,n,!0,null,c,0,f)),f&&c&&!c.plugin&&(c.plugin=f);return c},j.setRatio=function(a){var b,c,d,e=this._firstPT,f=1e-6;if(1!==a||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(a||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;e;){if(b=e.c*a+e.s,e.r?b=Math.round(b):f>b&&b>-f&&(b=0),e.type)if(1===e.type)if(d=e.l,2===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2;else if(3===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3;else if(4===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3+e.xn3+e.xs4;else if(5===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3+e.xn3+e.xs4+e.xn4+e.xs5;else{for(c=e.xs0+b+e.xs1,d=1;d<e.l;d++)c+=e["xn"+d]+e["xs"+(d+1)];e.t[e.p]=c}else-1===e.type?e.t[e.p]=e.xs0:e.setRatio&&e.setRatio(a);else e.t[e.p]=b+e.xs0;e=e._next}else for(;e;)2!==e.type?e.t[e.p]=e.b:e.setRatio(a),e=e._next;else for(;e;){if(2!==e.type)if(e.r&&-1!==e.type)if(b=Math.round(e.s+e.c),e.type){if(1===e.type){for(d=e.l,c=e.xs0+b+e.xs1,d=1;d<e.l;d++)c+=e["xn"+d]+e["xs"+(d+1)];e.t[e.p]=c}}else e.t[e.p]=b+e.xs0;else e.t[e.p]=e.e;else e.setRatio(a);e=e._next}},j._enableTransforms=function(a){this._transform=this._transform||La(this._target,e,!0),this._transformType=this._transform.svg&&wa||!a&&3!==this._transformType?2:3};var Sa=function(a){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};j._addLazySet=function(a,b,c){var d=this._firstPT=new pa(a,b,0,0,this._firstPT,2);d.e=c,d.setRatio=Sa,d.data=this},j._linkCSSP=function(a,b,c,d){return a&&(b&&(b._prev=a),a._next&&(a._next._prev=a._prev),a._prev?a._prev._next=a._next:this._firstPT===a&&(this._firstPT=a._next,d=!0),c?c._next=a:d||null!==this._firstPT||(this._firstPT=a),a._next=b,a._prev=c),a},j._kill=function(b){var c,d,e,f=b;if(b.autoAlpha||b.alpha){f={};for(d in b)f[d]=b[d];f.opacity=1,f.autoAlpha&&(f.visibility=1)}return b.className&&(c=this._classNamePT)&&(e=c.xfirst,e&&e._prev?this._linkCSSP(e._prev,c._next,e._prev._prev):e===this._firstPT&&(this._firstPT=c._next),c._next&&this._linkCSSP(c._next,c._next._next,e._prev),this._classNamePT=null),a.prototype._kill.call(this,f)};var Ta=function(a,b,c){var d,e,f,g;if(a.slice)for(e=a.length;--e>-1;)Ta(a[e],b,c);else for(d=a.childNodes,e=d.length;--e>-1;)f=d[e],g=f.type,f.style&&(b.push($(f)),c&&c.push(f)),1!==g&&9!==g&&11!==g||!f.childNodes.length||Ta(f,b,c)};return g.cascadeTo=function(a,c,d){var e,f,g,h,i=b.to(a,c,d),j=[i],k=[],l=[],m=[],n=b._internals.reservedProps;for(a=i._targets||i.target,Ta(a,k,m),i.render(c,!0,!0),Ta(a,l),i.render(0,!0,!0),i._enabled(!0),e=m.length;--e>-1;)if(f=_(m[e],k[e],l[e]),f.firstMPT){f=f.difs;for(g in d)n[g]&&(f[g]=d[g]);h={};for(g in f)h[g]=k[e][g];j.push(b.fromTo(m[e],c,h,f))}return j},a.activate([g]),g},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(a){"use strict";var b=function(){return(_gsScope.GreenSockGlobals||_gsScope)[a]};"function"==typeof define&&define.amd?define(["TweenLite"],b):"undefined"!=typeof module&&module.exports&&(require("../TweenLite.js"),module.exports=b())}("CSSPlugin");

/*!
 * VERSION: beta 1.15.2
 * DATE: 2015-01-27
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2015, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("easing.Back",["easing.Ease"],function(a){var b,c,d,e=_gsScope.GreenSockGlobals||_gsScope,f=e.com.greensock,g=2*Math.PI,h=Math.PI/2,i=f._class,j=function(b,c){var d=i("easing."+b,function(){},!0),e=d.prototype=new a;return e.constructor=d,e.getRatio=c,d},k=a.register||function(){},l=function(a,b,c,d,e){var f=i("easing."+a,{easeOut:new b,easeIn:new c,easeInOut:new d},!0);return k(f,a),f},m=function(a,b,c){this.t=a,this.v=b,c&&(this.next=c,c.prev=this,this.c=c.v-b,this.gap=c.t-a)},n=function(b,c){var d=i("easing."+b,function(a){this._p1=a||0===a?a:1.70158,this._p2=1.525*this._p1},!0),e=d.prototype=new a;return e.constructor=d,e.getRatio=c,e.config=function(a){return new d(a)},d},o=l("Back",n("BackOut",function(a){return(a-=1)*a*((this._p1+1)*a+this._p1)+1}),n("BackIn",function(a){return a*a*((this._p1+1)*a-this._p1)}),n("BackInOut",function(a){return(a*=2)<1?.5*a*a*((this._p2+1)*a-this._p2):.5*((a-=2)*a*((this._p2+1)*a+this._p2)+2)})),p=i("easing.SlowMo",function(a,b,c){b=b||0===b?b:.7,null==a?a=.7:a>1&&(a=1),this._p=1!==a?b:0,this._p1=(1-a)/2,this._p2=a,this._p3=this._p1+this._p2,this._calcEnd=c===!0},!0),q=p.prototype=new a;return q.constructor=p,q.getRatio=function(a){var b=a+(.5-a)*this._p;return a<this._p1?this._calcEnd?1-(a=1-a/this._p1)*a:b-(a=1-a/this._p1)*a*a*a*b:a>this._p3?this._calcEnd?1-(a=(a-this._p3)/this._p1)*a:b+(a-b)*(a=(a-this._p3)/this._p1)*a*a*a:this._calcEnd?1:b},p.ease=new p(.7,.7),q.config=p.config=function(a,b,c){return new p(a,b,c)},b=i("easing.SteppedEase",function(a){a=a||1,this._p1=1/a,this._p2=a+1},!0),q=b.prototype=new a,q.constructor=b,q.getRatio=function(a){return 0>a?a=0:a>=1&&(a=.999999999),(this._p2*a>>0)*this._p1},q.config=b.config=function(a){return new b(a)},c=i("easing.RoughEase",function(b){b=b||{};for(var c,d,e,f,g,h,i=b.taper||"none",j=[],k=0,l=0|(b.points||20),n=l,o=b.randomize!==!1,p=b.clamp===!0,q=b.template instanceof a?b.template:null,r="number"==typeof b.strength?.4*b.strength:.4;--n>-1;)c=o?Math.random():1/l*n,d=q?q.getRatio(c):c,"none"===i?e=r:"out"===i?(f=1-c,e=f*f*r):"in"===i?e=c*c*r:.5>c?(f=2*c,e=f*f*.5*r):(f=2*(1-c),e=f*f*.5*r),o?d+=Math.random()*e-.5*e:n%2?d+=.5*e:d-=.5*e,p&&(d>1?d=1:0>d&&(d=0)),j[k++]={x:c,y:d};for(j.sort(function(a,b){return a.x-b.x}),h=new m(1,1,null),n=l;--n>-1;)g=j[n],h=new m(g.x,g.y,h);this._prev=new m(0,0,0!==h.t?h:h.next)},!0),q=c.prototype=new a,q.constructor=c,q.getRatio=function(a){var b=this._prev;if(a>b.t){for(;b.next&&a>=b.t;)b=b.next;b=b.prev}else for(;b.prev&&a<=b.t;)b=b.prev;return this._prev=b,b.v+(a-b.t)/b.gap*b.c},q.config=function(a){return new c(a)},c.ease=new c,l("Bounce",j("BounceOut",function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}),j("BounceIn",function(a){return(a=1-a)<1/2.75?1-7.5625*a*a:2/2.75>a?1-(7.5625*(a-=1.5/2.75)*a+.75):2.5/2.75>a?1-(7.5625*(a-=2.25/2.75)*a+.9375):1-(7.5625*(a-=2.625/2.75)*a+.984375)}),j("BounceInOut",function(a){var b=.5>a;return a=b?1-2*a:2*a-1,a=1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375,b?.5*(1-a):.5*a+.5})),l("Circ",j("CircOut",function(a){return Math.sqrt(1-(a-=1)*a)}),j("CircIn",function(a){return-(Math.sqrt(1-a*a)-1)}),j("CircInOut",function(a){return(a*=2)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)})),d=function(b,c,d){var e=i("easing."+b,function(a,b){this._p1=a>=1?a:1,this._p2=(b||d)/(1>a?a:1),this._p3=this._p2/g*(Math.asin(1/this._p1)||0),this._p2=g/this._p2},!0),f=e.prototype=new a;return f.constructor=e,f.getRatio=c,f.config=function(a,b){return new e(a,b)},e},l("Elastic",d("ElasticOut",function(a){return this._p1*Math.pow(2,-10*a)*Math.sin((a-this._p3)*this._p2)+1},.3),d("ElasticIn",function(a){return-(this._p1*Math.pow(2,10*(a-=1))*Math.sin((a-this._p3)*this._p2))},.3),d("ElasticInOut",function(a){return(a*=2)<1?-.5*(this._p1*Math.pow(2,10*(a-=1))*Math.sin((a-this._p3)*this._p2)):this._p1*Math.pow(2,-10*(a-=1))*Math.sin((a-this._p3)*this._p2)*.5+1},.45)),l("Expo",j("ExpoOut",function(a){return 1-Math.pow(2,-10*a)}),j("ExpoIn",function(a){return Math.pow(2,10*(a-1))-.001}),j("ExpoInOut",function(a){return(a*=2)<1?.5*Math.pow(2,10*(a-1)):.5*(2-Math.pow(2,-10*(a-1)))})),l("Sine",j("SineOut",function(a){return Math.sin(a*h)}),j("SineIn",function(a){return-Math.cos(a*h)+1}),j("SineInOut",function(a){return-.5*(Math.cos(Math.PI*a)-1)})),i("easing.EaseLookup",{find:function(b){return a.map[b]}},!0),k(e.SlowMo,"SlowMo","ease,"),k(c,"RoughEase","ease,"),k(b,"SteppedEase","ease,"),o},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()();

/*!
 * VERSION: 1.18.1
 * DATE: 2015-12-10
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2015, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(a,b,c){var d=function(b){a.call(this,b),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},e=1e-10,f=b._internals,g=f.lazyTweens,h=f.lazyRender,i=new c(null,null,1,0),j=d.prototype=new a;return j.constructor=d,j.kill()._gc=!1,d.version="1.18.1",j.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),a.prototype.invalidate.call(this)},j.addCallback=function(a,c,d,e){return this.add(b.delayedCall(0,a,d,e),c)},j.removeCallback=function(a,b){if(a)if(null==b)this._kill(null,a);else for(var c=this.getTweensOf(a,!1),d=c.length,e=this._parseTimeOrLabel(b);--d>-1;)c[d]._startTime===e&&c[d]._enabled(!1,!1);return this},j.removePause=function(b){return this.removeCallback(a._internals.pauseCallback,b)},j.tweenTo=function(a,c){c=c||{};var d,e,f,g={ease:i,useFrames:this.usesFrames(),immediateRender:!1};for(e in c)g[e]=c[e];return g.time=this._parseTimeOrLabel(a),d=Math.abs(Number(g.time)-this._time)/this._timeScale||.001,f=new b(this,d,g),g.onStart=function(){f.target.paused(!0),f.vars.time!==f.target.time()&&d===f.duration()&&f.duration(Math.abs(f.vars.time-f.target.time())/f.target._timeScale),c.onStart&&f._callback("onStart")},f},j.tweenFromTo=function(a,b,c){c=c||{},a=this._parseTimeOrLabel(a),c.startAt={onComplete:this.seek,onCompleteParams:[a],callbackScope:this},c.immediateRender=c.immediateRender!==!1;var d=this.tweenTo(b,c);return d.duration(Math.abs(d.vars.time-a)/this._timeScale||.001)},j.render=function(a,b,c){this._gc&&this._enabled(!0,!1);var d,f,i,j,k,l,m,n,o=this._dirty?this.totalDuration():this._totalDuration,p=this._duration,q=this._time,r=this._totalTime,s=this._startTime,t=this._timeScale,u=this._rawPrevTime,v=this._paused,w=this._cycle;if(a>=o-1e-7)this._locked||(this._totalTime=o,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(f=!0,j="onComplete",k=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=a&&a>=-1e-7||0>u||u===e)&&u!==a&&this._first&&(k=!0,u>e&&(j="onReverseComplete"))),this._rawPrevTime=this._duration||!b||a||this._rawPrevTime===a?a:e,this._yoyo&&0!==(1&this._cycle)?this._time=a=0:(this._time=p,a=p+1e-4);else if(1e-7>a)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==q||0===p&&u!==e&&(u>0||0>a&&u>=0)&&!this._locked)&&(j="onReverseComplete",f=this._reversed),0>a)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(k=f=!0,j="onReverseComplete"):u>=0&&this._first&&(k=!0),this._rawPrevTime=a;else{if(this._rawPrevTime=p||!b||a||this._rawPrevTime===a?a:e,0===a&&f)for(d=this._first;d&&0===d._startTime;)d._duration||(f=!1),d=d._next;a=0,this._initted||(k=!0)}else if(0===p&&0>u&&(k=!0),this._time=this._rawPrevTime=a,this._locked||(this._totalTime=a,0!==this._repeat&&(l=p+this._repeatDelay,this._cycle=this._totalTime/l>>0,0!==this._cycle&&this._cycle===this._totalTime/l&&this._cycle--,this._time=this._totalTime-this._cycle*l,this._yoyo&&0!==(1&this._cycle)&&(this._time=p-this._time),this._time>p?(this._time=p,a=p+1e-4):this._time<0?this._time=a=0:a=this._time)),this._hasPause&&!this._forcingPlayhead&&!b){if(a=this._time,a>=q)for(d=this._first;d&&d._startTime<=a&&!m;)d._duration||"isPause"!==d.data||d.ratio||0===d._startTime&&0===this._rawPrevTime||(m=d),d=d._next;else for(d=this._last;d&&d._startTime>=a&&!m;)d._duration||"isPause"===d.data&&d._rawPrevTime>0&&(m=d),d=d._prev;m&&(this._time=a=m._startTime,this._totalTime=a+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==w&&!this._locked){var x=this._yoyo&&0!==(1&w),y=x===(this._yoyo&&0!==(1&this._cycle)),z=this._totalTime,A=this._cycle,B=this._rawPrevTime,C=this._time;if(this._totalTime=w*p,this._cycle<w?x=!x:this._totalTime+=p,this._time=q,this._rawPrevTime=0===p?u-1e-4:u,this._cycle=w,this._locked=!0,q=x?0:p,this.render(q,b,0===p),b||this._gc||this.vars.onRepeat&&this._callback("onRepeat"),q!==this._time)return;if(y&&(q=x?p+1e-4:-1e-4,this.render(q,!0,!1)),this._locked=!1,this._paused&&!v)return;this._time=C,this._totalTime=z,this._cycle=A,this._rawPrevTime=B}if(!(this._time!==q&&this._first||c||k||m))return void(r!==this._totalTime&&this._onUpdate&&(b||this._callback("onUpdate")));if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==r&&a>0&&(this._active=!0),0===r&&this.vars.onStart&&0!==this._totalTime&&(b||this._callback("onStart")),n=this._time,n>=q)for(d=this._first;d&&(i=d._next,n===this._time&&(!this._paused||v));)(d._active||d._startTime<=this._time&&!d._paused&&!d._gc)&&(m===d&&this.pause(),d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)),d=i;else for(d=this._last;d&&(i=d._prev,n===this._time&&(!this._paused||v));){if(d._active||d._startTime<=q&&!d._paused&&!d._gc){if(m===d){for(m=d._prev;m&&m.endTime()>this._time;)m.render(m._reversed?m.totalDuration()-(a-m._startTime)*m._timeScale:(a-m._startTime)*m._timeScale,b,c),m=m._prev;m=null,this.pause()}d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)}d=i}this._onUpdate&&(b||(g.length&&h(),this._callback("onUpdate"))),j&&(this._locked||this._gc||(s===this._startTime||t!==this._timeScale)&&(0===this._time||o>=this.totalDuration())&&(f&&(g.length&&h(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[j]&&this._callback(j)))},j.getActive=function(a,b,c){null==a&&(a=!0),null==b&&(b=!0),null==c&&(c=!1);var d,e,f=[],g=this.getChildren(a,b,c),h=0,i=g.length;for(d=0;i>d;d++)e=g[d],e.isActive()&&(f[h++]=e);return f},j.getLabelAfter=function(a){a||0!==a&&(a=this._time);var b,c=this.getLabelsArray(),d=c.length;for(b=0;d>b;b++)if(c[b].time>a)return c[b].name;return null},j.getLabelBefore=function(a){null==a&&(a=this._time);for(var b=this.getLabelsArray(),c=b.length;--c>-1;)if(b[c].time<a)return b[c].name;return null},j.getLabelsArray=function(){var a,b=[],c=0;for(a in this._labels)b[c++]={time:this._labels[a],name:a};return b.sort(function(a,b){return a.time-b.time}),b},j.progress=function(a,b){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-a:a)+this._cycle*(this._duration+this._repeatDelay),b):this._time/this.duration()},j.totalProgress=function(a,b){return arguments.length?this.totalTime(this.totalDuration()*a,b):this._totalTime/this.totalDuration()},j.totalDuration=function(b){return arguments.length?-1!==this._repeat&&b?this.timeScale(this.totalDuration()/b):this:(this._dirty&&(a.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},j.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),a>this._duration&&(a=this._duration),this._yoyo&&0!==(1&this._cycle)?a=this._duration-a+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(a+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(a,b)):this._time},j.repeat=function(a){return arguments.length?(this._repeat=a,this._uncache(!0)):this._repeat},j.repeatDelay=function(a){return arguments.length?(this._repeatDelay=a,this._uncache(!0)):this._repeatDelay},j.yoyo=function(a){return arguments.length?(this._yoyo=a,this):this._yoyo},j.currentLabel=function(a){return arguments.length?this.seek(a,!0):this.getLabelBefore(this._time+1e-8)},d},!0),_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(a,b,c){var d=function(a){b.call(this,a),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var c,d,e=this.vars;for(d in e)c=e[d],i(c)&&-1!==c.join("").indexOf("{self}")&&(e[d]=this._swapSelfInParams(c));i(e.tweens)&&this.add(e.tweens,0,e.align,e.stagger)},e=1e-10,f=c._internals,g=d._internals={},h=f.isSelector,i=f.isArray,j=f.lazyTweens,k=f.lazyRender,l=_gsScope._gsDefine.globals,m=function(a){var b,c={};for(b in a)c[b]=a[b];return c},n=function(a,b,c){var d,e,f=a.cycle;for(d in f)e=f[d],a[d]="function"==typeof e?e.call(b[c],c):e[c%e.length];delete a.cycle},o=g.pauseCallback=function(){},p=function(a){var b,c=[],d=a.length;for(b=0;b!==d;c.push(a[b++]));return c},q=d.prototype=new b;return d.version="1.18.1",q.constructor=d,q.kill()._gc=q._forcingPlayhead=q._hasPause=!1,q.to=function(a,b,d,e){var f=d.repeat&&l.TweenMax||c;return b?this.add(new f(a,b,d),e):this.set(a,d,e)},q.from=function(a,b,d,e){return this.add((d.repeat&&l.TweenMax||c).from(a,b,d),e)},q.fromTo=function(a,b,d,e,f){var g=e.repeat&&l.TweenMax||c;return b?this.add(g.fromTo(a,b,d,e),f):this.set(a,e,f)},q.staggerTo=function(a,b,e,f,g,i,j,k){var l,o,q=new d({onComplete:i,onCompleteParams:j,callbackScope:k,smoothChildTiming:this.smoothChildTiming}),r=e.cycle;for("string"==typeof a&&(a=c.selector(a)||a),a=a||[],h(a)&&(a=p(a)),f=f||0,0>f&&(a=p(a),a.reverse(),f*=-1),o=0;o<a.length;o++)l=m(e),l.startAt&&(l.startAt=m(l.startAt),l.startAt.cycle&&n(l.startAt,a,o)),r&&n(l,a,o),q.to(a[o],b,l,o*f);return this.add(q,g)},q.staggerFrom=function(a,b,c,d,e,f,g,h){return c.immediateRender=0!=c.immediateRender,c.runBackwards=!0,this.staggerTo(a,b,c,d,e,f,g,h)},q.staggerFromTo=function(a,b,c,d,e,f,g,h,i){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,this.staggerTo(a,b,d,e,f,g,h,i)},q.call=function(a,b,d,e){return this.add(c.delayedCall(0,a,b,d),e)},q.set=function(a,b,d){return d=this._parseTimeOrLabel(d,0,!0),null==b.immediateRender&&(b.immediateRender=d===this._time&&!this._paused),this.add(new c(a,0,b),d)},d.exportRoot=function(a,b){a=a||{},null==a.smoothChildTiming&&(a.smoothChildTiming=!0);var e,f,g=new d(a),h=g._timeline;for(null==b&&(b=!0),h._remove(g,!0),g._startTime=0,g._rawPrevTime=g._time=g._totalTime=h._time,e=h._first;e;)f=e._next,b&&e instanceof c&&e.target===e.vars.onComplete||g.add(e,e._startTime-e._delay),e=f;return h.add(g,0),g},q.add=function(e,f,g,h){var j,k,l,m,n,o;if("number"!=typeof f&&(f=this._parseTimeOrLabel(f,0,!0,e)),!(e instanceof a)){if(e instanceof Array||e&&e.push&&i(e)){for(g=g||"normal",h=h||0,j=f,k=e.length,l=0;k>l;l++)i(m=e[l])&&(m=new d({tweens:m})),this.add(m,j),"string"!=typeof m&&"function"!=typeof m&&("sequence"===g?j=m._startTime+m.totalDuration()/m._timeScale:"start"===g&&(m._startTime-=m.delay())),j+=h;return this._uncache(!0)}if("string"==typeof e)return this.addLabel(e,f);if("function"!=typeof e)throw"Cannot add "+e+" into the timeline; it is not a tween, timeline, function, or string.";e=c.delayedCall(0,e)}if(b.prototype.add.call(this,e,f),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(n=this,o=n.rawTime()>e._startTime;n._timeline;)o&&n._timeline.smoothChildTiming?n.totalTime(n._totalTime,!0):n._gc&&n._enabled(!0,!1),n=n._timeline;return this},q.remove=function(b){if(b instanceof a){this._remove(b,!1);var c=b._timeline=b.vars.useFrames?a._rootFramesTimeline:a._rootTimeline;return b._startTime=(b._paused?b._pauseTime:c._time)-(b._reversed?b.totalDuration()-b._totalTime:b._totalTime)/b._timeScale,this}if(b instanceof Array||b&&b.push&&i(b)){for(var d=b.length;--d>-1;)this.remove(b[d]);return this}return"string"==typeof b?this.removeLabel(b):this.kill(null,b)},q._remove=function(a,c){b.prototype._remove.call(this,a,c);var d=this._last;return d?this._time>d._startTime+d._totalDuration/d._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},q.append=function(a,b){return this.add(a,this._parseTimeOrLabel(null,b,!0,a))},q.insert=q.insertMultiple=function(a,b,c,d){return this.add(a,b||0,c,d)},q.appendMultiple=function(a,b,c,d){return this.add(a,this._parseTimeOrLabel(null,b,!0,a),c,d)},q.addLabel=function(a,b){return this._labels[a]=this._parseTimeOrLabel(b),this},q.addPause=function(a,b,d,e){var f=c.delayedCall(0,o,d,e||this);return f.vars.onComplete=f.vars.onReverseComplete=b,f.data="isPause",this._hasPause=!0,this.add(f,a)},q.removeLabel=function(a){return delete this._labels[a],this},q.getLabelTime=function(a){return null!=this._labels[a]?this._labels[a]:-1},q._parseTimeOrLabel=function(b,c,d,e){var f;if(e instanceof a&&e.timeline===this)this.remove(e);else if(e&&(e instanceof Array||e.push&&i(e)))for(f=e.length;--f>-1;)e[f]instanceof a&&e[f].timeline===this&&this.remove(e[f]);if("string"==typeof c)return this._parseTimeOrLabel(c,d&&"number"==typeof b&&null==this._labels[c]?b-this.duration():0,d);if(c=c||0,"string"!=typeof b||!isNaN(b)&&null==this._labels[b])null==b&&(b=this.duration());else{if(f=b.indexOf("="),-1===f)return null==this._labels[b]?d?this._labels[b]=this.duration()+c:c:this._labels[b]+c;c=parseInt(b.charAt(f-1)+"1",10)*Number(b.substr(f+1)),b=f>1?this._parseTimeOrLabel(b.substr(0,f-1),0,d):this.duration()}return Number(b)+c},q.seek=function(a,b){return this.totalTime("number"==typeof a?a:this._parseTimeOrLabel(a),b!==!1)},q.stop=function(){return this.paused(!0)},q.gotoAndPlay=function(a,b){return this.play(a,b)},q.gotoAndStop=function(a,b){return this.pause(a,b)},q.render=function(a,b,c){this._gc&&this._enabled(!0,!1);var d,f,g,h,i,l,m,n=this._dirty?this.totalDuration():this._totalDuration,o=this._time,p=this._startTime,q=this._timeScale,r=this._paused;if(a>=n-1e-7)this._totalTime=this._time=n,this._reversed||this._hasPausedChild()||(f=!0,h="onComplete",i=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=a&&a>=-1e-7||this._rawPrevTime<0||this._rawPrevTime===e)&&this._rawPrevTime!==a&&this._first&&(i=!0,this._rawPrevTime>e&&(h="onReverseComplete"))),this._rawPrevTime=this._duration||!b||a||this._rawPrevTime===a?a:e,a=n+1e-4;else if(1e-7>a)if(this._totalTime=this._time=0,(0!==o||0===this._duration&&this._rawPrevTime!==e&&(this._rawPrevTime>0||0>a&&this._rawPrevTime>=0))&&(h="onReverseComplete",f=this._reversed),0>a)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(i=f=!0,h="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(i=!0),this._rawPrevTime=a;else{if(this._rawPrevTime=this._duration||!b||a||this._rawPrevTime===a?a:e,0===a&&f)for(d=this._first;d&&0===d._startTime;)d._duration||(f=!1),d=d._next;a=0,this._initted||(i=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!b){if(a>=o)for(d=this._first;d&&d._startTime<=a&&!l;)d._duration||"isPause"!==d.data||d.ratio||0===d._startTime&&0===this._rawPrevTime||(l=d),d=d._next;else for(d=this._last;d&&d._startTime>=a&&!l;)d._duration||"isPause"===d.data&&d._rawPrevTime>0&&(l=d),d=d._prev;l&&(this._time=a=l._startTime,this._totalTime=a+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=a}if(this._time!==o&&this._first||c||i||l){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==o&&a>0&&(this._active=!0),0===o&&this.vars.onStart&&0!==this._time&&(b||this._callback("onStart")),m=this._time,m>=o)for(d=this._first;d&&(g=d._next,m===this._time&&(!this._paused||r));)(d._active||d._startTime<=m&&!d._paused&&!d._gc)&&(l===d&&this.pause(),d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)),d=g;else for(d=this._last;d&&(g=d._prev,m===this._time&&(!this._paused||r));){if(d._active||d._startTime<=o&&!d._paused&&!d._gc){if(l===d){for(l=d._prev;l&&l.endTime()>this._time;)l.render(l._reversed?l.totalDuration()-(a-l._startTime)*l._timeScale:(a-l._startTime)*l._timeScale,b,c),l=l._prev;l=null,this.pause()}d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)}d=g}this._onUpdate&&(b||(j.length&&k(),this._callback("onUpdate"))),h&&(this._gc||(p===this._startTime||q!==this._timeScale)&&(0===this._time||n>=this.totalDuration())&&(f&&(j.length&&k(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[h]&&this._callback(h)))}},q._hasPausedChild=function(){for(var a=this._first;a;){if(a._paused||a instanceof d&&a._hasPausedChild())return!0;a=a._next}return!1},q.getChildren=function(a,b,d,e){e=e||-9999999999;for(var f=[],g=this._first,h=0;g;)g._startTime<e||(g instanceof c?b!==!1&&(f[h++]=g):(d!==!1&&(f[h++]=g),a!==!1&&(f=f.concat(g.getChildren(!0,b,d)),h=f.length))),g=g._next;return f},q.getTweensOf=function(a,b){var d,e,f=this._gc,g=[],h=0;for(f&&this._enabled(!0,!0),d=c.getTweensOf(a),e=d.length;--e>-1;)(d[e].timeline===this||b&&this._contains(d[e]))&&(g[h++]=d[e]);return f&&this._enabled(!1,!0),g},q.recent=function(){return this._recent},q._contains=function(a){for(var b=a.timeline;b;){if(b===this)return!0;b=b.timeline}return!1},q.shiftChildren=function(a,b,c){c=c||0;for(var d,e=this._first,f=this._labels;e;)e._startTime>=c&&(e._startTime+=a),e=e._next;if(b)for(d in f)f[d]>=c&&(f[d]+=a);return this._uncache(!0)},q._kill=function(a,b){if(!a&&!b)return this._enabled(!1,!1);for(var c=b?this.getTweensOf(b):this.getChildren(!0,!0,!1),d=c.length,e=!1;--d>-1;)c[d]._kill(a,b)&&(e=!0);return e},q.clear=function(a){var b=this.getChildren(!1,!0,!0),c=b.length;for(this._time=this._totalTime=0;--c>-1;)b[c]._enabled(!1,!1);return a!==!1&&(this._labels={}),this._uncache(!0)},q.invalidate=function(){for(var b=this._first;b;)b.invalidate(),b=b._next;return a.prototype.invalidate.call(this)},q._enabled=function(a,c){if(a===this._gc)for(var d=this._first;d;)d._enabled(a,!0),d=d._next;return b.prototype._enabled.call(this,a,c)},q.totalTime=function(b,c,d){this._forcingPlayhead=!0;var e=a.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,e},q.duration=function(a){return arguments.length?(0!==this.duration()&&0!==a&&this.timeScale(this._duration/a),this):(this._dirty&&this.totalDuration(),this._duration)},q.totalDuration=function(a){if(!arguments.length){if(this._dirty){for(var b,c,d=0,e=this._last,f=999999999999;e;)b=e._prev,e._dirty&&e.totalDuration(),e._startTime>f&&this._sortChildren&&!e._paused?this.add(e,e._startTime-e._delay):f=e._startTime,e._startTime<0&&!e._paused&&(d-=e._startTime,this._timeline.smoothChildTiming&&(this._startTime+=e._startTime/this._timeScale),this.shiftChildren(-e._startTime,!1,-9999999999),f=0),c=e._startTime+e._totalDuration/e._timeScale,c>d&&(d=c),e=b;this._duration=this._totalDuration=d,this._dirty=!1}return this._totalDuration}return a&&this.totalDuration()?this.timeScale(this._totalDuration/a):this},q.paused=function(b){if(!b)for(var c=this._first,d=this._time;c;)c._startTime===d&&"isPause"===c.data&&(c._rawPrevTime=0),c=c._next;return a.prototype.paused.apply(this,arguments)},q.usesFrames=function(){for(var b=this._timeline;b._timeline;)b=b._timeline;return b===a._rootFramesTimeline},q.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},d},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(a){"use strict";var b=function(){return(_gsScope.GreenSockGlobals||_gsScope)[a]};"function"==typeof define&&define.amd?define(["TweenLite"],b):"undefined"!=typeof module&&module.exports&&(require("./TweenLite.js"),module.exports=b())}("TimelineMax");


/*!
 * VERSION: 1.18.0
 * DATE: 2015-09-03
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2015, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
(function(t,e){"use strict";var i=t.GreenSockGlobals=t.GreenSockGlobals||t;if(!i.TweenLite){var s,r,n,a,o,l=function(t){var e,s=t.split("."),r=i;for(e=0;s.length>e;e++)r[s[e]]=r=r[s[e]]||{};return r},h=l("com.greensock"),_=1e-10,u=function(t){var e,i=[],s=t.length;for(e=0;e!==s;i.push(t[e++]));return i},f=function(){},c=function(){var t=Object.prototype.toString,e=t.call([]);return function(i){return null!=i&&(i instanceof Array||"object"==typeof i&&!!i.push&&t.call(i)===e)}}(),m={},p=function(s,r,n,a){this.sc=m[s]?m[s].sc:[],m[s]=this,this.gsClass=null,this.func=n;var o=[];this.check=function(h){for(var _,u,f,c,d,v=r.length,g=v;--v>-1;)(_=m[r[v]]||new p(r[v],[])).gsClass?(o[v]=_.gsClass,g--):h&&_.sc.push(this);if(0===g&&n)for(u=("com.greensock."+s).split("."),f=u.pop(),c=l(u.join("."))[f]=this.gsClass=n.apply(n,o),a&&(i[f]=c,d="undefined"!=typeof module&&module.exports,!d&&"function"==typeof define&&define.amd?define((t.GreenSockAMDPath?t.GreenSockAMDPath+"/":"")+s.split(".").pop(),[],function(){return c}):s===e&&d&&(module.exports=c)),v=0;this.sc.length>v;v++)this.sc[v].check()},this.check(!0)},d=t._gsDefine=function(t,e,i,s){return new p(t,e,i,s)},v=h._class=function(t,e,i){return e=e||function(){},d(t,[],function(){return e},i),e};d.globals=i;var g=[0,0,1,1],T=[],y=v("easing.Ease",function(t,e,i,s){this._func=t,this._type=i||0,this._power=s||0,this._params=e?g.concat(e):g},!0),w=y.map={},P=y.register=function(t,e,i,s){for(var r,n,a,o,l=e.split(","),_=l.length,u=(i||"easeIn,easeOut,easeInOut").split(",");--_>-1;)for(n=l[_],r=s?v("easing."+n,null,!0):h.easing[n]||{},a=u.length;--a>-1;)o=u[a],w[n+"."+o]=w[o+n]=r[o]=t.getRatio?t:t[o]||new t};for(n=y.prototype,n._calcEnd=!1,n.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,s=1===e?1-t:2===e?t:.5>t?2*t:2*(1-t);return 1===i?s*=s:2===i?s*=s*s:3===i?s*=s*s*s:4===i&&(s*=s*s*s*s),1===e?1-s:2===e?s:.5>t?s/2:1-s/2},s=["Linear","Quad","Cubic","Quart","Quint,Strong"],r=s.length;--r>-1;)n=s[r]+",Power"+r,P(new y(null,null,1,r),n,"easeOut",!0),P(new y(null,null,2,r),n,"easeIn"+(0===r?",easeNone":"")),P(new y(null,null,3,r),n,"easeInOut");w.linear=h.easing.Linear.easeIn,w.swing=h.easing.Quad.easeInOut;var b=v("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});n=b.prototype,n.addEventListener=function(t,e,i,s,r){r=r||0;var n,l,h=this._listeners[t],_=0;for(null==h&&(this._listeners[t]=h=[]),l=h.length;--l>-1;)n=h[l],n.c===e&&n.s===i?h.splice(l,1):0===_&&r>n.pr&&(_=l+1);h.splice(_,0,{c:e,s:i,up:s,pr:r}),this!==a||o||a.wake()},n.removeEventListener=function(t,e){var i,s=this._listeners[t];if(s)for(i=s.length;--i>-1;)if(s[i].c===e)return s.splice(i,1),void 0},n.dispatchEvent=function(t){var e,i,s,r=this._listeners[t];if(r)for(e=r.length,i=this._eventTarget;--e>-1;)s=r[e],s&&(s.up?s.c.call(s.s||i,{type:t,target:i}):s.c.call(s.s||i))};var k=t.requestAnimationFrame,A=t.cancelAnimationFrame,S=Date.now||function(){return(new Date).getTime()},x=S();for(s=["ms","moz","webkit","o"],r=s.length;--r>-1&&!k;)k=t[s[r]+"RequestAnimationFrame"],A=t[s[r]+"CancelAnimationFrame"]||t[s[r]+"CancelRequestAnimationFrame"];v("Ticker",function(t,e){var i,s,r,n,l,h=this,u=S(),c=e!==!1&&k,m=500,p=33,d="tick",v=function(t){var e,a,o=S()-x;o>m&&(u+=o-p),x+=o,h.time=(x-u)/1e3,e=h.time-l,(!i||e>0||t===!0)&&(h.frame++,l+=e+(e>=n?.004:n-e),a=!0),t!==!0&&(r=s(v)),a&&h.dispatchEvent(d)};b.call(h),h.time=h.frame=0,h.tick=function(){v(!0)},h.lagSmoothing=function(t,e){m=t||1/_,p=Math.min(e,m,0)},h.sleep=function(){null!=r&&(c&&A?A(r):clearTimeout(r),s=f,r=null,h===a&&(o=!1))},h.wake=function(){null!==r?h.sleep():h.frame>10&&(x=S()-m+5),s=0===i?f:c&&k?k:function(t){return setTimeout(t,0|1e3*(l-h.time)+1)},h===a&&(o=!0),v(2)},h.fps=function(t){return arguments.length?(i=t,n=1/(i||60),l=this.time+n,h.wake(),void 0):i},h.useRAF=function(t){return arguments.length?(h.sleep(),c=t,h.fps(i),void 0):c},h.fps(t),setTimeout(function(){c&&5>h.frame&&h.useRAF(!1)},1500)}),n=h.Ticker.prototype=new h.events.EventDispatcher,n.constructor=h.Ticker;var R=v("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=e.immediateRender===!0,this.data=e.data,this._reversed=e.reversed===!0,H){o||a.wake();var i=this.vars.useFrames?K:H;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});a=R.ticker=new h.Ticker,n=R.prototype,n._dirty=n._gc=n._initted=n._paused=!1,n._totalTime=n._time=0,n._rawPrevTime=-1,n._next=n._last=n._onUpdate=n._timeline=n.timeline=null,n._paused=!1;var C=function(){o&&S()-x>2e3&&a.wake(),setTimeout(C,2e3)};C(),n.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},n.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},n.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},n.seek=function(t,e){return this.totalTime(Number(t),e!==!1)},n.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,e!==!1,!0)},n.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},n.render=function(){},n.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},n.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime())>=i&&i+this.totalDuration()/this._timeScale>t},n._enabled=function(t,e){return o||a.wake(),this._gc=!t,this._active=this.isActive(),e!==!0&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},n._kill=function(){return this._enabled(!1,!1)},n.kill=function(t,e){return this._kill(t,e),this},n._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},n._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();--e>-1;)"{self}"===t[e]&&(i[e]=this);return i},n._callback=function(t){var e=this.vars;e[t].apply(e[t+"Scope"]||e.callbackScope||this,e[t+"Params"]||T)},n.eventCallback=function(t,e,i,s){if("on"===(t||"").substr(0,2)){var r=this.vars;if(1===arguments.length)return r[t];null==e?delete r[t]:(r[t]=e,r[t+"Params"]=c(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,r[t+"Scope"]=s),"onUpdate"===t&&(this._onUpdate=e)}return this},n.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},n.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},n.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},n.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},n.totalTime=function(t,e,i){if(o||a.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>t&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var s=this._totalDuration,r=this._timeline;if(t>s&&!i&&(t=s),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?s-t:t)/this._timeScale,r._dirty||this._uncache(!1),r._timeline)for(;r._timeline;)r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==t||0===this._duration)&&(z.length&&V(),this.render(t,e,!1),z.length&&V())}return this},n.progress=n.totalProgress=function(t,e){var i=this.duration();return arguments.length?this.totalTime(i*t,e):i?this._time/i:this.ratio},n.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},n.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},n.timeScale=function(t){if(!arguments.length)return this._timeScale;if(t=t||_,this._timeline&&this._timeline.smoothChildTiming){var e=this._pauseTime,i=e||0===e?e:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/t}return this._timeScale=t,this._uncache(!1)},n.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},n.paused=function(t){if(!arguments.length)return this._paused;var e,i,s=this._timeline;return t!=this._paused&&s&&(o||t||a.wake(),e=s.rawTime(),i=e-this._pauseTime,!t&&s.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==i&&this._initted&&this.duration()&&(e=s.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,this.render(e,e===this._totalTime,!0))),this._gc&&!t&&this._enabled(!0,!1),this};var D=v("core.SimpleTimeline",function(t){R.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});n=D.prototype=new R,n.constructor=D,n.kill()._gc=!1,n._first=n._last=n._recent=null,n._sortChildren=!1,n.add=n.insert=function(t,e){var i,s;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),i=this._last,this._sortChildren)for(s=t._startTime;i&&i._startTime>s;)i=i._prev;return i?(t._next=i._next,i._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=i,this._recent=t,this._timeline&&this._uncache(!0),this},n._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},n.render=function(t,e,i){var s,r=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;r;)s=r._next,(r._active||t>=r._startTime&&!r._paused)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)),r=s},n.rawTime=function(){return o||a.wake(),this._totalTime};var I=v("TweenLite",function(e,i,s){if(R.call(this,i,s),this.render=I.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:I.selector(e)||e;var r,n,a,o=e.jquery||e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType),l=this.vars.overwrite;if(this._overwrite=l=null==l?$[I.defaultOverwrite]:"number"==typeof l?l>>0:$[l],(o||e instanceof Array||e.push&&c(e))&&"number"!=typeof e[0])for(this._targets=a=u(e),this._propLookup=[],this._siblings=[],r=0;a.length>r;r++)n=a[r],n?"string"!=typeof n?n.length&&n!==t&&n[0]&&(n[0]===t||n[0].nodeType&&n[0].style&&!n.nodeType)?(a.splice(r--,1),this._targets=a=a.concat(u(n))):(this._siblings[r]=W(n,this,!1),1===l&&this._siblings[r].length>1&&Y(n,this,null,1,this._siblings[r])):(n=a[r--]=I.selector(n),"string"==typeof n&&a.splice(r+1,1)):a.splice(r--,1);else this._propLookup={},this._siblings=W(e,this,!1),1===l&&this._siblings.length>1&&Y(e,this,null,1,this._siblings);(this.vars.immediateRender||0===i&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-_,this.render(-this._delay))},!0),E=function(e){return e&&e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType)},O=function(t,e){var i,s={};for(i in t)M[i]||i in e&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!Q[i]||Q[i]&&Q[i]._autoCSS)||(s[i]=t[i],delete t[i]);t.css=s};n=I.prototype=new R,n.constructor=I,n.kill()._gc=!1,n.ratio=0,n._firstPT=n._targets=n._overwrittenProps=n._startAt=null,n._notifyPluginsOfEnabled=n._lazy=!1,I.version="1.18.0",I.defaultEase=n._ease=new y(null,null,1,1),I.defaultOverwrite="auto",I.ticker=a,I.autoSleep=120,I.lagSmoothing=function(t,e){a.lagSmoothing(t,e)},I.selector=t.$||t.jQuery||function(e){var i=t.$||t.jQuery;return i?(I.selector=i,i(e)):"undefined"==typeof document?e:document.querySelectorAll?document.querySelectorAll(e):document.getElementById("#"===e.charAt(0)?e.substr(1):e)};var z=[],F={},L=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,N=function(t){for(var e,i=this._firstPT,s=1e-6;i;)e=i.blob?t?this.join(""):this.start:i.c*t+i.s,i.r?e=Math.round(e):s>e&&e>-s&&(e=0),i.f?i.fp?i.t[i.p](i.fp,e):i.t[i.p](e):i.t[i.p]=e,i=i._next},U=function(t,e,i,s){var r,n,a,o,l,h,_,u=[t,e],f=0,c="",m=0;for(u.start=t,i&&(i(u),t=u[0],e=u[1]),u.length=0,r=t.match(L)||[],n=e.match(L)||[],s&&(s._next=null,s.blob=1,u._firstPT=s),l=n.length,o=0;l>o;o++)_=n[o],h=e.substr(f,e.indexOf(_,f)-f),c+=h||!o?h:",",f+=h.length,m?m=(m+1)%5:"rgba("===h.substr(-5)&&(m=1),_===r[o]||o>=r.length?c+=_:(c&&(u.push(c),c=""),a=parseFloat(r[o]),u.push(a),u._firstPT={_next:u._firstPT,t:u,p:u.length-1,s:a,c:("="===_.charAt(1)?parseInt(_.charAt(0)+"1",10)*parseFloat(_.substr(2)):parseFloat(_)-a)||0,f:0,r:m&&4>m}),f+=_.length;return c+=e.substr(f),c&&u.push(c),u.setRatio=N,u},j=function(t,e,i,s,r,n,a,o){var l,h,_="get"===i?t[e]:i,u=typeof t[e],f="string"==typeof s&&"="===s.charAt(1),c={t:t,p:e,s:_,f:"function"===u,pg:0,n:r||e,r:n,pr:0,c:f?parseInt(s.charAt(0)+"1",10)*parseFloat(s.substr(2)):parseFloat(s)-_||0};return"number"!==u&&("function"===u&&"get"===i&&(h=e.indexOf("set")||"function"!=typeof t["get"+e.substr(3)]?e:"get"+e.substr(3),c.s=_=a?t[h](a):t[h]()),"string"==typeof _&&(a||isNaN(_))?(c.fp=a,l=U(_,s,o||I.defaultStringFilter,c),c={t:l,p:"setRatio",s:0,c:1,f:2,pg:0,n:r||e,pr:0}):f||(c.c=parseFloat(s)-parseFloat(_)||0)),c.c?((c._next=this._firstPT)&&(c._next._prev=c),this._firstPT=c,c):void 0},G=I._internals={isArray:c,isSelector:E,lazyTweens:z,blobDif:U},Q=I._plugins={},q=G.tweenLookup={},B=0,M=G.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1},$={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},K=R._rootFramesTimeline=new D,H=R._rootTimeline=new D,J=30,V=G.lazyRender=function(){var t,e=z.length;for(F={};--e>-1;)t=z[e],t&&t._lazy!==!1&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);z.length=0};H._startTime=a.time,K._startTime=a.frame,H._active=K._active=!0,setTimeout(V,1),R._updateRoot=I.render=function(){var t,e,i;if(z.length&&V(),H.render((a.time-H._startTime)*H._timeScale,!1,!1),K.render((a.frame-K._startTime)*K._timeScale,!1,!1),z.length&&V(),a.frame>=J){J=a.frame+(parseInt(I.autoSleep,10)||120);for(i in q){for(e=q[i].tweens,t=e.length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete q[i]}if(i=H._first,(!i||i._paused)&&I.autoSleep&&!K._first&&1===a._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||a.sleep()}}},a.addEventListener("tick",R._updateRoot);var W=function(t,e,i){var s,r,n=t._gsTweenID;if(q[n||(t._gsTweenID=n="t"+B++)]||(q[n]={target:t,tweens:[]}),e&&(s=q[n].tweens,s[r=s.length]=e,i))for(;--r>-1;)s[r]===e&&s.splice(r,1);return q[n].tweens},X=function(t,e,i,s){var r,n,a=t.vars.onOverwrite;return a&&(r=a(t,e,i,s)),a=I.onOverwrite,a&&(n=a(t,e,i,s)),r!==!1&&n!==!1},Y=function(t,e,i,s,r){var n,a,o,l;if(1===s||s>=4){for(l=r.length,n=0;l>n;n++)if((o=r[n])!==e)o._gc||o._kill(null,t,e)&&(a=!0);else if(5===s)break;return a}var h,u=e._startTime+_,f=[],c=0,m=0===e._duration;for(n=r.length;--n>-1;)(o=r[n])===e||o._gc||o._paused||(o._timeline!==e._timeline?(h=h||Z(e,0,m),0===Z(o,h,m)&&(f[c++]=o)):u>=o._startTime&&o._startTime+o.totalDuration()/o._timeScale>u&&((m||!o._initted)&&2e-10>=u-o._startTime||(f[c++]=o)));for(n=c;--n>-1;)if(o=f[n],2===s&&o._kill(i,t,e)&&(a=!0),2!==s||!o._firstPT&&o._initted){if(2!==s&&!X(o,e))continue;o._enabled(!1,!1)&&(a=!0)}return a},Z=function(t,e,i){for(var s=t._timeline,r=s._timeScale,n=t._startTime;s._timeline;){if(n+=s._startTime,r*=s._timeScale,s._paused)return-100;s=s._timeline}return n/=r,n>e?n-e:i&&n===e||!t._initted&&2*_>n-e?_:(n+=t.totalDuration()/t._timeScale/r)>e+_?0:n-e-_};n._init=function(){var t,e,i,s,r,n=this.vars,a=this._overwrittenProps,o=this._duration,l=!!n.immediateRender,h=n.ease;if(n.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),r={};for(s in n.startAt)r[s]=n.startAt[s];if(r.overwrite=!1,r.immediateRender=!0,r.lazy=l&&n.lazy!==!1,r.startAt=r.delay=null,this._startAt=I.to(this.target,0,r),l)if(this._time>0)this._startAt=null;else if(0!==o)return}else if(n.runBackwards&&0!==o)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(l=!1),i={};for(s in n)M[s]&&"autoCSS"!==s||(i[s]=n[s]);if(i.overwrite=0,i.data="isFromStart",i.lazy=l&&n.lazy!==!1,i.immediateRender=l,this._startAt=I.to(this.target,0,i),l){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=h=h?h instanceof y?h:"function"==typeof h?new y(h,n.easeParams):w[h]||I.defaultEase:I.defaultEase,n.easeParams instanceof Array&&h.config&&(this._ease=h.config.apply(h,n.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(t=this._targets.length;--t>-1;)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],a?a[t]:null)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,a);if(e&&I._onPluginEvent("_onInitAllProps",this),a&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),n.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=n.onUpdate,this._initted=!0},n._initProps=function(e,i,s,r){var n,a,o,l,h,_;if(null==e)return!1;F[e._gsTweenID]&&V(),this.vars.css||e.style&&e!==t&&e.nodeType&&Q.css&&this.vars.autoCSS!==!1&&O(this.vars,e);for(n in this.vars)if(_=this.vars[n],M[n])_&&(_ instanceof Array||_.push&&c(_))&&-1!==_.join("").indexOf("{self}")&&(this.vars[n]=_=this._swapSelfInParams(_,this));else if(Q[n]&&(l=new Q[n])._onInitTween(e,this.vars[n],this)){for(this._firstPT=h={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:1,n:n,pg:1,pr:l._priority},a=l._overwriteProps.length;--a>-1;)i[l._overwriteProps[a]]=this._firstPT;(l._priority||l._onInitAllProps)&&(o=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0),h._next&&(h._next._prev=h)}else i[n]=j.call(this,e,n,"get",_,n,0,null,this.vars.stringFilter);return r&&this._kill(r,e)?this._initProps(e,i,s,r):this._overwrite>1&&this._firstPT&&s.length>1&&Y(e,this,i,this._overwrite,s)?(this._kill(i,e),this._initProps(e,i,s,r)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(F[e._gsTweenID]=!0),o)},n.render=function(t,e,i){var s,r,n,a,o=this._time,l=this._duration,h=this._rawPrevTime;if(t>=l)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(s=!0,r="onComplete",i=i||this._timeline.autoRemoveChildren),0===l&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(0===t||0>h||h===_&&"isPause"!==this.data)&&h!==t&&(i=!0,h>_&&(r="onReverseComplete")),this._rawPrevTime=a=!e||t||h===t?t:_);else if(1e-7>t)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==o||0===l&&h>0)&&(r="onReverseComplete",s=this._reversed),0>t&&(this._active=!1,0===l&&(this._initted||!this.vars.lazy||i)&&(h>=0&&(h!==_||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=a=!e||t||h===t?t:_)),this._initted||(i=!0);else if(this._totalTime=this._time=t,this._easeType){var u=t/l,f=this._easeType,c=this._easePower;(1===f||3===f&&u>=.5)&&(u=1-u),3===f&&(u*=2),1===c?u*=u:2===c?u*=u*u:3===c?u*=u*u*u:4===c&&(u*=u*u*u*u),this.ratio=1===f?1-u:2===f?u:.5>t/l?u/2:1-u/2}else this.ratio=this._ease.getRatio(t/l);if(this._time!==o||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=o,this._rawPrevTime=h,z.push(this),this._lazy=[t,e],void 0;this._time&&!s?this.ratio=this._ease.getRatio(this._time/l):s&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==o&&t>=0&&(this._active=!0),0===o&&(this._startAt&&(t>=0?this._startAt.render(t,e,i):r||(r="_dummyGS")),this.vars.onStart&&(0!==this._time||0===l)&&(e||this._callback("onStart"))),n=this._firstPT;n;)n.f?n.t[n.p](n.c*this.ratio+n.s):n.t[n.p]=n.c*this.ratio+n.s,n=n._next;this._onUpdate&&(0>t&&this._startAt&&t!==-1e-4&&this._startAt.render(t,e,i),e||(this._time!==o||s)&&this._callback("onUpdate")),r&&(!this._gc||i)&&(0>t&&this._startAt&&!this._onUpdate&&t!==-1e-4&&this._startAt.render(t,e,i),s&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this._callback(r),0===l&&this._rawPrevTime===_&&a!==_&&(this._rawPrevTime=0))}},n._kill=function(t,e,i){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:I.selector(e)||e;var s,r,n,a,o,l,h,_,u,f=i&&this._time&&i._startTime===this._startTime&&this._timeline===i._timeline;if((c(e)||E(e))&&"number"!=typeof e[0])for(s=e.length;--s>-1;)this._kill(t,e[s],i)&&(l=!0);else{if(this._targets){for(s=this._targets.length;--s>-1;)if(e===this._targets[s]){o=this._propLookup[s]||{},this._overwrittenProps=this._overwrittenProps||[],r=this._overwrittenProps[s]=t?this._overwrittenProps[s]||{}:"all";break}}else{if(e!==this.target)return!1;o=this._propLookup,r=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(o){if(h=t||o,_=t!==r&&"all"!==r&&t!==o&&("object"!=typeof t||!t._tempKill),i&&(I.onOverwrite||this.vars.onOverwrite)){for(n in h)o[n]&&(u||(u=[]),u.push(n));if((u||!t)&&!X(this,i,e,u))return!1}for(n in h)(a=o[n])&&(f&&(a.f?a.t[a.p](a.s):a.t[a.p]=a.s,l=!0),a.pg&&a.t._kill(h)&&(l=!0),a.pg&&0!==a.t._overwriteProps.length||(a._prev?a._prev._next=a._next:a===this._firstPT&&(this._firstPT=a._next),a._next&&(a._next._prev=a._prev),a._next=a._prev=null),delete o[n]),_&&(r[n]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return l},n.invalidate=function(){return this._notifyPluginsOfEnabled&&I._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],R.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-_,this.render(-this._delay)),this},n._enabled=function(t,e){if(o||a.wake(),t&&this._gc){var i,s=this._targets;if(s)for(i=s.length;--i>-1;)this._siblings[i]=W(s[i],this,!0);else this._siblings=W(this.target,this,!0)}return R.prototype._enabled.call(this,t,e),this._notifyPluginsOfEnabled&&this._firstPT?I._onPluginEvent(t?"_onEnable":"_onDisable",this):!1},I.to=function(t,e,i){return new I(t,e,i)},I.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new I(t,e,i)},I.fromTo=function(t,e,i,s){return s.startAt=i,s.immediateRender=0!=s.immediateRender&&0!=i.immediateRender,new I(t,e,s)},I.delayedCall=function(t,e,i,s,r){return new I(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:s,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,lazy:!1,useFrames:r,overwrite:0})},I.set=function(t,e){return new I(t,0,e)},I.getTweensOf=function(t,e){if(null==t)return[];t="string"!=typeof t?t:I.selector(t)||t;var i,s,r,n;if((c(t)||E(t))&&"number"!=typeof t[0]){for(i=t.length,s=[];--i>-1;)s=s.concat(I.getTweensOf(t[i],e));for(i=s.length;--i>-1;)for(n=s[i],r=i;--r>-1;)n===s[r]&&s.splice(i,1)}else for(s=W(t).concat(),i=s.length;--i>-1;)(s[i]._gc||e&&!s[i].isActive())&&s.splice(i,1);return s},I.killTweensOf=I.killDelayedCallsTo=function(t,e,i){"object"==typeof e&&(i=e,e=!1);for(var s=I.getTweensOf(t,e),r=s.length;--r>-1;)s[r]._kill(i,t)};var te=v("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=te.prototype},!0);if(n=te.prototype,te.version="1.18.0",te.API=2,n._firstPT=null,n._addTween=j,n.setRatio=N,n._kill=function(t){var e,i=this._overwriteProps,s=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;--e>-1;)null!=t[i[e]]&&i.splice(e,1);for(;s;)null!=t[s.n]&&(s._next&&(s._next._prev=s._prev),s._prev?(s._prev._next=s._next,s._prev=null):this._firstPT===s&&(this._firstPT=s._next)),s=s._next;return!1},n._roundProps=function(t,e){for(var i=this._firstPT;i;)(t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")])&&(i.r=e),i=i._next},I._onPluginEvent=function(t,e){var i,s,r,n,a,o=e._firstPT;if("_onInitAllProps"===t){for(;o;){for(a=o._next,s=r;s&&s.pr>o.pr;)s=s._next;(o._prev=s?s._prev:n)?o._prev._next=o:r=o,(o._next=s)?s._prev=o:n=o,o=a}o=e._firstPT=r}for(;o;)o.pg&&"function"==typeof o.t[t]&&o.t[t]()&&(i=!0),o=o._next;return i},te.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===te.API&&(Q[(new t[e])._propName]=t[e]);return!0},d.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,s=t.priority||0,r=t.overwriteProps,n={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},a=v("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){te.call(this,i,s),this._overwriteProps=r||[]},t.global===!0),o=a.prototype=new te(i);o.constructor=a,a.API=t.API;for(e in n)"function"==typeof t[e]&&(o[n[e]]=t[e]);return a.version=t.version,te.activate([a]),a},s=t._gsQueue){for(r=0;s.length>r;r++)s[r]();for(n in m)m[n].func||t.console.log("GSAP encountered missing dependency: com.greensock."+n)}o=!1}})("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenLite");
// ====================================================
//   KL-Animate v1.1
//   author: Klerith
//   support page: http://codecanyon.net/user/klerith
// ====================================================

// Add the only css line that we need
document.write("<style>.klanimate{visibility:hidden}</style>");

(function(){

(function (factory) {
  if (typeof define == 'function' && define.amd) {
    // AMD
    define(['jquery'], factory);
  } else if (typeof exports === 'object') {
    // Node, CommonJS
    module.exports = factory(require('jquery'));
  } else {
      // Browser globals
    factory(jQuery);
  }
}(function ($) {
  var inviewObjects = {}, viewportSize, viewportOffset,
      d = document, w = window, documentElement = d.documentElement, expando = $.expando, timer;

  $.event.special.inview = {
    add: function(data) {
      inviewObjects[data.guid + "-" + this[expando]] = { data: data, $element: $(this) };

      // Use setInterval in order to also make sure this captures elements within
      // "overflow:scroll" elements or elements that appeared in the dom tree due to
      // dom manipulation and reflow
      // old: $(window).scroll(checkInView);
      //
      // By the way, iOS (iPad, iPhone, ...) seems to not execute, or at least delays
      // intervals while the user scrolls. Therefore the inview event might fire a bit late there
      //
      // Don't waste cycles with an interval until we get at least one element that
      // has bound to the inview event.
      if (!timer && !$.isEmptyObject(inviewObjects)) {
         timer = setInterval(checkInView, 250);
      }
    },

    remove: function(data) {
      try { delete inviewObjects[data.guid + "-" + this[expando]]; } catch(e) {}

      // Clear interval when we no longer have any elements listening
      if ($.isEmptyObject(inviewObjects)) {
         clearInterval(timer);
         timer = null;
      }
    }
  };

  function getViewportSize() {
    var mode, domObject, size = { height: w.innerHeight, width: w.innerWidth };

    // if this is correct then return it. iPad has compat Mode, so will
    // go into check clientHeight/clientWidth (which has the wrong value).
    if (!size.height) {
      mode = d.compatMode;
      if (mode || !$.support.boxModel) { // IE, Gecko
        domObject = mode === 'CSS1Compat' ?
          documentElement : // Standards
          d.body; // Quirks
        size = {
          height: domObject.clientHeight,
          width:  domObject.clientWidth
        };
      }
    }

    return size;
  }

  function getViewportOffset() {
    return {
      top:  w.pageYOffset || documentElement.scrollTop   || d.body.scrollTop,
      left: w.pageXOffset || documentElement.scrollLeft  || d.body.scrollLeft
    };
  }

  function checkInView() {
    var $elements = [], elementsLength, i = 0;

    $.each(inviewObjects, function(i, inviewObject) {
      var selector  = inviewObject.data.selector,
          $element  = inviewObject.$element;
      $elements.push(selector ? $element.find(selector) : $element);
    });

    elementsLength = $elements.length;
    if (elementsLength) {
      viewportSize   = viewportSize   || getViewportSize();
      viewportOffset = viewportOffset || getViewportOffset();

      for (; i<elementsLength; i++) {
        // Ignore elements that are not in the DOM tree
        if (!$.contains(documentElement, $elements[i][0])) {
          continue;
        }

        var $element      = $($elements[i]),
            elementSize   = { height: $element.height(), width: $element.width() },
            elementOffset = $element.offset(),
            inView        = $element.data('inview'),
            visiblePartX,
            visiblePartY,
            visiblePartsMerged;

        // Don't ask me why because I haven't figured out yet:
        // viewportOffset and viewportSize are sometimes suddenly null in Firefox 5.
        // Even though it sounds weird:
        // It seems that the execution of this function is interferred by the onresize/onscroll event
        // where viewportOffset and viewportSize are unset
        if (!viewportOffset || !viewportSize) {
          return;
        }

        if (elementOffset.top + elementSize.height > viewportOffset.top &&
            elementOffset.top < viewportOffset.top + viewportSize.height &&
            elementOffset.left + elementSize.width > viewportOffset.left &&
            elementOffset.left < viewportOffset.left + viewportSize.width) {
          visiblePartX = (viewportOffset.left > elementOffset.left ?
            'right' : (viewportOffset.left + viewportSize.width) < (elementOffset.left + elementSize.width) ?
            'left' : 'both');
          visiblePartY = (viewportOffset.top > elementOffset.top ?
            'bottom' : (viewportOffset.top + viewportSize.height) < (elementOffset.top + elementSize.height) ?
            'top' : 'both');
          visiblePartsMerged = visiblePartX + "-" + visiblePartY;
          if (!inView || inView !== visiblePartsMerged) {
            $element.data('inview', visiblePartsMerged).trigger('inview', [true, visiblePartX, visiblePartY]);
          }
        } else if (inView) {
          $element.data('inview', false).trigger('inview', [false]);
        }
      }
    }
  }

  $(w).bind("scroll resize scrollstop", function() {
    viewportSize = viewportOffset = null;
  });

  // IE < 9 scrolls to focused elements without firing the "scroll" event
  if (!documentElement.addEventListener && documentElement.attachEvent) {
    documentElement.attachEvent("onfocusin", function() {
      viewportOffset = null;
    });
  }
}));


// kick the event to pick up any elements already in view.
// note however, this only works if the plugin is included after the elements are bound to 'inview'
$(function () {
    // $(window).scroll();
});


$.klAnimate = function( settings ){

	settings = $.extend({
		animation: "fadeIn",
		delay    : 0,
		rotation : 0,
		visible  : 0,
		scale    : 1,
		duration : 1,
		x : 0,
		y : 0,
    repeat: 0

	},settings)

	$(window).scroll();


	// $('.klanimate').bind('inview', function(e, isInView, visiblePartX, visiblePartY) {
	$(".klanimate").each(function(){

    $(this).bind('inview', function(e, isInView, visiblePartX, visiblePartY) {

        var elem = $(this);

        if (elem.data('inviewtimer')) {
          clearTimeout(elem.data('inviewtimer'));
          elem.removeData('inviewtimer');
        }

        klAnimate( $(this), settings );

        if (isInView) {


          elem.data('inviewtimer', setTimeout(function() {


            if (visiblePartY == 'top') {
              elem.data('seenTop', true);
            } else if (visiblePartY == 'bottom') {
              elem.data('seenBottom', true);
            } else {
              elem.data('seenTop', true);
              elem.data('seenBottom', true);
            }

            if (elem.data('seenTop') && elem.data('seenBottom')) {
              elem.unbind('inview');
             
            }
          }, 1000));
        }


    	});
  });

};


function klAnimate( $elem, settings ){
	
	if( $elem.data("done") === undefined ){
		$elem.attr("data-done","1");
	}else{
		return;
	}

	// ======== Attributes
	var animation = ( $elem.data("animation") !== undefined ) ? $elem.data("animation") : settings.animation;
	var delay     = ( $elem.data("delay") !== undefined ) ? $elem.data("delay") : settings.delay;
	var rotation  = ( $elem.data("rotation") !== undefined ) ? $elem.data("rotation") : settings.rotation;
	var visible   = ( $elem.data("visible") !== undefined ) ? $elem.data("visible") : settings.visible;
	var scale     = ( $elem.data("scale") !== undefined ) ? $elem.data("scale") : settings.scale;
  var duration  = ( $elem.data("duration") !== undefined ) ? $elem.data("duration") : settings.duration;
	var repeat    = ( $elem.data("repeat") !== undefined ) ? $elem.data("repeat") : settings.repeat;
	


	var x = ( $elem.data("x") !== undefined ) ? $elem.data("x") : 0;
	var y = ( $elem.data("y") !== undefined ) ? $elem.data("y") : 0;

	if( visible == "1" ){
		$elem.css({
			visibility: "visible"
		});
	}else{
		$elem.css({
			visibility: "visible",
			opacity: 0
		});
	}

	switch( animation ){
		case "elastic":
			animation = "Elastic.easeOut.config(1, 0.5)";
		break;

		case "bounce":
			animation = "Bounce.easeOut";
		break;

		case "slowmo":
			animation = "SlowMo.ease.config(0.7, 0.7, false)";
		break;

		case "circle":
			animation = "Circ.easeOut";
		break;

		case "back":
			animation = "Back.easeOut.config(2)";
		break;

		default:
			animation = "Power2.easeOut";
		break;

	}

  var tl1 = new TimelineMax();
  var tl2 = new TimelineMax({ repeat:repeat, yoyo:true }); //{repeat:-1, yoyo:true}

  tl1.to( $elem, duration, { opacity: 1, delay:delay } );

  setTimeout(function() {

    if( repeat != -1){

      tl2.to( $elem, duration, { rotation:rotation, ease: eval(animation) })
         .from( $elem, duration, { x:x, y:y, ease: eval(animation) }, "-="+duration)
         .from( $elem, duration, { scale: scale }, "-="+duration);

    }else{

      tl2.from( $elem, duration, { rotation:rotation, ease: eval(animation) })
         .from( $elem, duration, { x:x, y:y, ease: eval(animation) }, "-="+duration)
         .from( $elem, duration, { scale: scale }, "-="+duration);
    }


  }, delay * 1000 );

 //  var tl = new TimelineMax();
	// var tl2 = new TimelineMax();

	// tl.to( $elem, duration, { opacity: 1, delay:delay } )
	//   .to( $elem, duration, { rotation:rotation, ease: eval(animation) }, "-="+duration)
	//   .from( $elem, duration, { x:x, y:y, ease: eval(animation) }, "-="+duration)
	//   .from( $elem, duration, { scale: scale }, "-="+duration);


	if( $elem.data("number") !== undefined ){
		klAnimateNumber( $elem );
	}


}

function klAnimateNumber( $elem ){

	var toNumber = $elem.data("number");
	if( isNaN(toNumber) ){
		return;
	}

	var timer   = ( $elem.data("timer") !== undefined ) ? $elem.data("timer") : 2;
	var initial = ( $elem.data("initial") !== undefined ) ? $elem.data("initial") : 0;
	
	if( $elem.data("color") !== undefined ){
		var tl = new TimelineLite();
			tl.to( $elem, timer, { color: $elem.data("color") } );
	}

	timer *= 1000;
	// Animate the element's value from x to y:
	  $({newValue: initial }).animate({newValue: toNumber}, {
	      duration: timer,
	      easing:'swing',
	      step: function() { 
	          $elem.text(klSeparateNumberComa(Math.round(this.newValue)));
	      }
	  });	 
}

function klSeparateNumberComa(val){
    while (/(\d+)(\d{3})/.test(val.toString())){
      val = val.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g, "$1,");
    }
    return val;
}


})();
document.write("<style>.klanimate{visibility:hidden}</style>");(function(){(function(factory){if(typeof define=="function"&&define.amd){define(["jquery"],factory)}else{if(typeof exports==="object"){module.exports=factory(require("jquery"))}else{factory(jQuery)}}}(function($){var inviewObjects={},viewportSize,viewportOffset,d=document,w=window,documentElement=d.documentElement,expando=$.expando,timer;$.event.special.inview={add:function(data){inviewObjects[data.guid+"-"+this[expando]]={data:data,$element:$(this)};if(!timer&&!$.isEmptyObject(inviewObjects)){timer=setInterval(checkInView,250)}},remove:function(data){try{delete inviewObjects[data.guid+"-"+this[expando]]}catch(e){}if($.isEmptyObject(inviewObjects)){clearInterval(timer);timer=null}}};function getViewportSize(){var mode,domObject,size={height:w.innerHeight,width:w.innerWidth};if(!size.height){mode=d.compatMode;if(mode||!$.support.boxModel){domObject=mode==="CSS1Compat"?documentElement:d.body;size={height:domObject.clientHeight,width:domObject.clientWidth}}}return size}function getViewportOffset(){return{top:w.pageYOffset||documentElement.scrollTop||d.body.scrollTop,left:w.pageXOffset||documentElement.scrollLeft||d.body.scrollLeft}}function checkInView(){var $elements=[],elementsLength,i=0;$.each(inviewObjects,function(i,inviewObject){var selector=inviewObject.data.selector,$element=inviewObject.$element;$elements.push(selector?$element.find(selector):$element)});elementsLength=$elements.length;if(elementsLength){viewportSize=viewportSize||getViewportSize();viewportOffset=viewportOffset||getViewportOffset();for(;i<elementsLength;i++){if(!$.contains(documentElement,$elements[i][0])){continue}var $element=$($elements[i]),elementSize={height:$element.height(),width:$element.width()},elementOffset=$element.offset(),inView=$element.data("inview"),visiblePartX,visiblePartY,visiblePartsMerged;if(!viewportOffset||!viewportSize){return}if(elementOffset.top+elementSize.height>viewportOffset.top&&elementOffset.top<viewportOffset.top+viewportSize.height&&elementOffset.left+elementSize.width>viewportOffset.left&&elementOffset.left<viewportOffset.left+viewportSize.width){visiblePartX=(viewportOffset.left>elementOffset.left?"right":(viewportOffset.left+viewportSize.width)<(elementOffset.left+elementSize.width)?"left":"both");visiblePartY=(viewportOffset.top>elementOffset.top?"bottom":(viewportOffset.top+viewportSize.height)<(elementOffset.top+elementSize.height)?"top":"both");visiblePartsMerged=visiblePartX+"-"+visiblePartY;if(!inView||inView!==visiblePartsMerged){$element.data("inview",visiblePartsMerged).trigger("inview",[true,visiblePartX,visiblePartY])}}else{if(inView){$element.data("inview",false).trigger("inview",[false])}}}}}$(w).bind("scroll resize scrollstop",function(){viewportSize=viewportOffset=null});if(!documentElement.addEventListener&&documentElement.attachEvent){documentElement.attachEvent("onfocusin",function(){viewportOffset=null})}}));$(function(){});$.klAnimate=function(settings){settings=$.extend({animation:"fadeIn",delay:0,rotation:0,visible:0,scale:1,duration:1,x:0,y:0,repeat:0},settings);$(window).scroll();$(".klanimate").each(function(){$(this).bind("inview",function(e,isInView,visiblePartX,visiblePartY){var elem=$(this);if(elem.data("inviewtimer")){clearTimeout(elem.data("inviewtimer"));elem.removeData("inviewtimer")}klAnimate($(this),settings);if(isInView){elem.data("inviewtimer",setTimeout(function(){if(visiblePartY=="top"){elem.data("seenTop",true)}else{if(visiblePartY=="bottom"){elem.data("seenBottom",true)}else{elem.data("seenTop",true);elem.data("seenBottom",true)}}if(elem.data("seenTop")&&elem.data("seenBottom")){elem.unbind("inview")}},1000))}})})};function klAnimate($elem,settings){if($elem.data("done")===undefined){$elem.attr("data-done","1")}else{return}var animation=($elem.data("animation")!==undefined)?$elem.data("animation"):settings.animation;var delay=($elem.data("delay")!==undefined)?$elem.data("delay"):settings.delay;var rotation=($elem.data("rotation")!==undefined)?$elem.data("rotation"):settings.rotation;var visible=($elem.data("visible")!==undefined)?$elem.data("visible"):settings.visible;var scale=($elem.data("scale")!==undefined)?$elem.data("scale"):settings.scale;var duration=($elem.data("duration")!==undefined)?$elem.data("duration"):settings.duration;var repeat=($elem.data("repeat")!==undefined)?$elem.data("repeat"):settings.repeat;var x=($elem.data("x")!==undefined)?$elem.data("x"):0;var y=($elem.data("y")!==undefined)?$elem.data("y"):0;if(visible=="1"){$elem.css({visibility:"visible"})}else{$elem.css({visibility:"visible",opacity:0})}switch(animation){case"elastic":animation="Elastic.easeOut.config(1, 0.5)";break;case"bounce":animation="Bounce.easeOut";break;case"slowmo":animation="SlowMo.ease.config(0.7, 0.7, false)";break;case"circle":animation="Circ.easeOut";break;case"back":animation="Back.easeOut.config(2)";break;default:animation="Power2.easeOut";break}var tl1=new TimelineMax();var tl2=new TimelineMax({repeat:repeat,yoyo:true});tl1.to($elem,duration,{opacity:1,delay:delay});setTimeout(function(){if(repeat!=-1){tl2.to($elem,duration,{rotation:rotation,ease:eval(animation)}).from($elem,duration,{x:x,y:y,ease:eval(animation)},"-="+duration).from($elem,duration,{scale:scale},"-="+duration)}else{tl2.from($elem,duration,{rotation:rotation,ease:eval(animation)}).from($elem,duration,{x:x,y:y,ease:eval(animation)},"-="+duration).from($elem,duration,{scale:scale},"-="+duration)}},delay*1000);if($elem.data("number")!==undefined){klAnimateNumber($elem)}}function klAnimateNumber($elem){var toNumber=$elem.data("number");if(isNaN(toNumber)){return}var timer=($elem.data("timer")!==undefined)?$elem.data("timer"):2;var initial=($elem.data("initial")!==undefined)?$elem.data("initial"):0;if($elem.data("color")!==undefined){var tl=new TimelineLite();tl.to($elem,timer,{color:$elem.data("color")})}timer*=1000;$({newValue:initial}).animate({newValue:toNumber},{duration:timer,easing:"swing",step:function(){$elem.text(klSeparateNumberComa(Math.round(this.newValue)))}})}function klSeparateNumberComa(val){while(/(\d+)(\d{3})/.test(val.toString())){val=val.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")}return val}})();

"use strict";
! function(t, e) {
    "object" == typeof exports && "object" == typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define([], e) : "object" == typeof exports ? exports.vis = e() : t.vis = e()
}(this, function() {
    return function(t) {
        function e(o) {
            if (i[o]) return i[o].exports;
            var n = i[o] = {
                exports: {},
                id: o,
                loaded: !1
            };
            return t[o].call(n.exports, n, n.exports, e), n.loaded = !0, n.exports
        }
        var i = {};
        return e.m = t, e.c = i, e.p = "", e(0)
    }([function(t, e, i) {
        var o = i(1);
        o.extend(e, i(7)), o.extend(e, i(24)), o.extend(e, i(60))
    }, function(t, e, i) {
        var o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            } : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol ? "symbol" : typeof t
            },
            n = i(2),
            s = i(6);
        e.isNumber = function(t) {
            return t instanceof Number || "number" == typeof t
        }, e.recursiveDOMDelete = function(t) {
            if (t)
                for (; t.hasChildNodes() === !0;) e.recursiveDOMDelete(t.firstChild), t.removeChild(t.firstChild)
        }, e.giveRange = function(t, e, i, o) {
            if (e == t) return .5;
            var n = 1 / (e - t);
            return Math.max(0, (o - t) * n)
        }, e.isString = function(t) {
            return t instanceof String || "string" == typeof t
        }, e.isDate = function(t) {
            if (t instanceof Date) return !0;
            if (e.isString(t)) {
                var i = r.exec(t);
                if (i) return !0;
                if (!isNaN(Date.parse(t))) return !0
            }
            return !1
        }, e.randomUUID = function() {
            return s.v4()
        }, e.assignAllKeys = function(t, e) {
            for (var i in t) t.hasOwnProperty(i) && "object" !== o(t[i]) && (t[i] = e)
        }, e.fillIfDefined = function(t, i) {
            var n = arguments.length <= 2 || void 0 === arguments[2] ? !1 : arguments[2];
            for (var s in t) void 0 !== i[s] && ("object" !== o(i[s]) ? void 0 !== i[s] && null !== i[s] || void 0 === t[s] || n !== !0 ? t[s] = i[s] : delete t[s] : "object" === o(t[s]) && e.fillIfDefined(t[s], i[s], n))
        }, e.protoExtend = function(t, e) {
            for (var i = 1; i < arguments.length; i++) {
                var o = arguments[i];
                for (var n in o) t[n] = o[n]
            }
            return t
        }, e.extend = function(t, e) {
            for (var i = 1; i < arguments.length; i++) {
                var o = arguments[i];
                for (var n in o) o.hasOwnProperty(n) && (t[n] = o[n])
            }
            return t
        }, e.selectiveExtend = function(t, e, i) {
            if (!Array.isArray(t)) throw new Error("Array with property names expected as first argument");
            for (var o = 2; o < arguments.length; o++)
                for (var n = arguments[o], s = 0; s < t.length; s++) {
                    var r = t[s];
                    n.hasOwnProperty(r) && (e[r] = n[r])
                }
            return e
        }, e.selectiveDeepExtend = function(t, i, o) {
            var n = arguments.length <= 3 || void 0 === arguments[3] ? !1 : arguments[3];
            if (Array.isArray(o)) throw new TypeError("Arrays are not supported by deepExtend");
            for (var s = 2; s < arguments.length; s++)
                for (var r = arguments[s], a = 0; a < t.length; a++) {
                    var h = t[a];
                    if (r.hasOwnProperty(h))
                        if (o[h] && o[h].constructor === Object) void 0 === i[h] && (i[h] = {}), i[h].constructor === Object ? e.deepExtend(i[h], o[h], !1, n) : null === o[h] && void 0 !== i[h] && n === !0 ? delete i[h] : i[h] = o[h];
                        else {
                            if (Array.isArray(o[h])) throw new TypeError("Arrays are not supported by deepExtend");
                            null === o[h] && void 0 !== i[h] && n === !0 ? delete i[h] : i[h] = o[h]
                        }
                }
            return i
        }, e.selectiveNotDeepExtend = function(t, i, o) {
            var n = arguments.length <= 3 || void 0 === arguments[3] ? !1 : arguments[3];
            if (Array.isArray(o)) throw new TypeError("Arrays are not supported by deepExtend");
            for (var s in o)
                if (o.hasOwnProperty(s) && -1 == t.indexOf(s))
                    if (o[s] && o[s].constructor === Object) void 0 === i[s] && (i[s] = {}), i[s].constructor === Object ? e.deepExtend(i[s], o[s]) : null === o[s] && void 0 !== i[s] && n === !0 ? delete i[s] : i[s] = o[s];
                    else if (Array.isArray(o[s])) {
                i[s] = [];
                for (var r = 0; r < o[s].length; r++) i[s].push(o[s][r])
            } else null === o[s] && void 0 !== i[s] && n === !0 ? delete i[s] : i[s] = o[s];
            return i
        }, e.deepExtend = function(t, i, o, n) {
            for (var s in i)
                if (i.hasOwnProperty(s) || o === !0)
                    if (i[s] && i[s].constructor === Object) void 0 === t[s] && (t[s] = {}), t[s].constructor === Object ? e.deepExtend(t[s], i[s], o) : null === i[s] && void 0 !== t[s] && n === !0 ? delete t[s] : t[s] = i[s];
                    else if (Array.isArray(i[s])) {
                t[s] = [];
                for (var r = 0; r < i[s].length; r++) t[s].push(i[s][r])
            } else null === i[s] && void 0 !== t[s] && n === !0 ? delete t[s] : t[s] = i[s];
            return t
        }, e.equalArray = function(t, e) {
            if (t.length != e.length) return !1;
            for (var i = 0, o = t.length; o > i; i++)
                if (t[i] != e[i]) return !1;
            return !0
        }, e.convert = function(t, i) {
            var o;
            if (void 0 !== t) {
                if (null === t) return null;
                if (!i) return t;
                if ("string" != typeof i && !(i instanceof String)) throw new Error("Type must be a string");
                switch (i) {
                    case "boolean":
                    case "Boolean":
                        return Boolean(t);
                    case "number":
                    case "Number":
                        return Number(t.valueOf());
                    case "string":
                    case "String":
                        return String(t);
                    case "Date":
                        if (e.isNumber(t)) return new Date(t);
                        if (t instanceof Date) return new Date(t.valueOf());
                        if (n.isMoment(t)) return new Date(t.valueOf());
                        if (e.isString(t)) return o = r.exec(t), o ? new Date(Number(o[1])) : n(t).toDate();
                        throw new Error("Cannot convert object of type " + e.getType(t) + " to type Date");
                    case "Moment":
                        if (e.isNumber(t)) return n(t);
                        if (t instanceof Date) return n(t.valueOf());
                        if (n.isMoment(t)) return n(t);
                        if (e.isString(t)) return o = r.exec(t), n(o ? Number(o[1]) : t);
                        throw new Error("Cannot convert object of type " + e.getType(t) + " to type Date");
                    case "ISODate":
                        if (e.isNumber(t)) return new Date(t);
                        if (t instanceof Date) return t.toISOString();
                        if (n.isMoment(t)) return t.toDate().toISOString();
                        if (e.isString(t)) return o = r.exec(t), o ? new Date(Number(o[1])).toISOString() : new Date(t).toISOString();
                        throw new Error("Cannot convert object of type " + e.getType(t) + " to type ISODate");
                    case "ASPDate":
                        if (e.isNumber(t)) return "/Date(" + t + ")/";
                        if (t instanceof Date) return "/Date(" + t.valueOf() + ")/";
                        if (e.isString(t)) {
                            o = r.exec(t);
                            var s;
                            return s = o ? new Date(Number(o[1])).valueOf() : new Date(t).valueOf(), "/Date(" + s + ")/"
                        }
                        throw new Error("Cannot convert object of type " + e.getType(t) + " to type ASPDate");
                    default:
                        throw new Error('Unknown type "' + i + '"')
                }
            }
        };
        var r = /^\/?Date\((\-?\d+)/i;
        e.getType = function(t) {
            var e = "undefined" == typeof t ? "undefined" : o(t);
            return "object" == e ? null === t ? "null" : t instanceof Boolean ? "Boolean" : t instanceof Number ? "Number" : t instanceof String ? "String" : Array.isArray(t) ? "Array" : t instanceof Date ? "Date" : "Object" : "number" == e ? "Number" : "boolean" == e ? "Boolean" : "string" == e ? "String" : void 0 === e ? "undefined" : e
        }, e.copyAndExtendArray = function(t, e) {
            for (var i = [], o = 0; o < t.length; o++) i.push(t[o]);
            return i.push(e), i
        }, e.copyArray = function(t) {
            for (var e = [], i = 0; i < t.length; i++) e.push(t[i]);
            return e
        }, e.getAbsoluteLeft = function(t) {
            return t.getBoundingClientRect().left
        }, e.getAbsoluteRight = function(t) {
            return t.getBoundingClientRect().right
        }, e.getAbsoluteTop = function(t) {
            return t.getBoundingClientRect().top
        }, e.addClassName = function(t, e) {
            var i = t.className.split(" "); - 1 == i.indexOf(e) && (i.push(e), t.className = i.join(" "))
        }, e.removeClassName = function(t, e) {
            var i = t.className.split(" "),
                o = i.indexOf(e); - 1 != o && (i.splice(o, 1), t.className = i.join(" "))
        }, e.forEach = function(t, e) {
            var i, o;
            if (Array.isArray(t))
                for (i = 0, o = t.length; o > i; i++) e(t[i], i, t);
            else
                for (i in t) t.hasOwnProperty(i) && e(t[i], i, t)
        }, e.toArray = function(t) {
            var e = [];
            for (var i in t) t.hasOwnProperty(i) && e.push(t[i]);
            return e
        }, e.updateProperty = function(t, e, i) {
            return t[e] !== i ? (t[e] = i, !0) : !1
        }, e.throttle = function(t, e) {
            var i = null,
                o = !1;
            return function n() {
                i ? o = !0 : (o = !1, t(), i = setTimeout(function() {
                    i = null, o && n()
                }, e))
            }
        }, e.addEventListener = function(t, e, i, o) {
            t.addEventListener ? (void 0 === o && (o = !1), "mousewheel" === e && navigator.userAgent.indexOf("Firefox") >= 0 && (e = "DOMMouseScroll"), t.addEventListener(e, i, o)) : t.attachEvent("on" + e, i)
        }, e.removeEventListener = function(t, e, i, o) {
            t.removeEventListener ? (void 0 === o && (o = !1), "mousewheel" === e && navigator.userAgent.indexOf("Firefox") >= 0 && (e = "DOMMouseScroll"), t.removeEventListener(e, i, o)) : t.detachEvent("on" + e, i)
        }, e.preventDefault = function(t) {
            t || (t = window.event), t.preventDefault ? t.preventDefault() : t.returnValue = !1
        }, e.getTarget = function(t) {
            t || (t = window.event);
            var e;
            return t.target ? e = t.target : t.srcElement && (e = t.srcElement), void 0 != e.nodeType && 3 == e.nodeType && (e = e.parentNode), e
        }, e.hasParent = function(t, e) {
            for (var i = t; i;) {
                if (i === e) return !0;
                i = i.parentNode
            }
            return !1
        }, e.option = {}, e.option.asBoolean = function(t, e) {
            return "function" == typeof t && (t = t()), null != t ? 0 != t : e || null
        }, e.option.asNumber = function(t, e) {
            return "function" == typeof t && (t = t()), null != t ? Number(t) || e || null : e || null
        }, e.option.asString = function(t, e) {
            return "function" == typeof t && (t = t()), null != t ? String(t) : e || null
        }, e.option.asSize = function(t, i) {
            return "function" == typeof t && (t = t()), e.isString(t) ? t : e.isNumber(t) ? t + "px" : i || null
        }, e.option.asElement = function(t, e) {
            return "function" == typeof t && (t = t()), t || e || null
        }, e.hexToRGB = function(t) {
            var e = /^#?([a-f\d])([a-f\d])([a-f\d])$/i;
            t = t.replace(e, function(t, e, i, o) {
                return e + e + i + i + o + o
            });
            var i = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);
            return i ? {
                r: parseInt(i[1], 16),
                g: parseInt(i[2], 16),
                b: parseInt(i[3], 16)
            } : null
        }, e.overrideOpacity = function(t, i) {
            if (-1 != t.indexOf("rgba")) return t;
            if (-1 != t.indexOf("rgb")) {
                var o = t.substr(t.indexOf("(") + 1).replace(")", "").split(",");
                return "rgba(" + o[0] + "," + o[1] + "," + o[2] + "," + i + ")"
            }
            var o = e.hexToRGB(t);
            return null == o ? t : "rgba(" + o.r + "," + o.g + "," + o.b + "," + i + ")"
        }, e.RGBToHex = function(t, e, i) {
            return "#" + ((1 << 24) + (t << 16) + (e << 8) + i).toString(16).slice(1)
        }, e.parseColor = function(t) {
            var i;
            if (e.isString(t) === !0) {
                if (e.isValidRGB(t) === !0) {
                    var o = t.substr(4).substr(0, t.length - 5).split(",").map(function(t) {
                        return parseInt(t)
                    });
                    t = e.RGBToHex(o[0], o[1], o[2])
                }
                if (e.isValidHex(t) === !0) {
                    var n = e.hexToHSV(t),
                        s = {
                            h: n.h,
                            s: .8 * n.s,
                            v: Math.min(1, 1.02 * n.v)
                        },
                        r = {
                            h: n.h,
                            s: Math.min(1, 1.25 * n.s),
                            v: .8 * n.v
                        },
                        a = e.HSVToHex(r.h, r.s, r.v),
                        h = e.HSVToHex(s.h, s.s, s.v);
                    i = {
                        background: t,
                        border: a,
                        highlight: {
                            background: h,
                            border: a
                        },
                        hover: {
                            background: h,
                            border: a
                        }
                    }
                } else i = {
                    background: t,
                    border: t,
                    highlight: {
                        background: t,
                        border: t
                    },
                    hover: {
                        background: t,
                        border: t
                    }
                }
            } else i = {}, i.background = t.background || void 0, i.border = t.border || void 0, e.isString(t.highlight) ? i.highlight = {
                border: t.highlight,
                background: t.highlight
            } : (i.highlight = {}, i.highlight.background = t.highlight && t.highlight.background || void 0, i.highlight.border = t.highlight && t.highlight.border || void 0), e.isString(t.hover) ? i.hover = {
                border: t.hover,
                background: t.hover
            } : (i.hover = {}, i.hover.background = t.hover && t.hover.background || void 0, i.hover.border = t.hover && t.hover.border || void 0);
            return i
        }, e.RGBToHSV = function(t, e, i) {
            t /= 255, e /= 255, i /= 255;
            var o = Math.min(t, Math.min(e, i)),
                n = Math.max(t, Math.max(e, i));
            if (o == n) return {
                h: 0,
                s: 0,
                v: o
            };
            var s = t == o ? e - i : i == o ? t - e : i - t,
                r = t == o ? 3 : i == o ? 1 : 5,
                a = 60 * (r - s / (n - o)) / 360,
                h = (n - o) / n,
                d = n;
            return {
                h: a,
                s: h,
                v: d
            }
        };
        var a = {
            split: function(t) {
                var e = {};
                return t.split(";").forEach(function(t) {
                    if ("" != t.trim()) {
                        var i = t.split(":"),
                            o = i[0].trim(),
                            n = i[1].trim();
                        e[o] = n
                    }
                }), e
            },
            join: function(t) {
                return Object.keys(t).map(function(e) {
                    return e + ": " + t[e]
                }).join("; ")
            }
        };
        e.addCssText = function(t, i) {
            var o = a.split(t.style.cssText),
                n = a.split(i),
                s = e.extend(o, n);
            t.style.cssText = a.join(s)
        }, e.removeCssText = function(t, e) {
            var i = a.split(t.style.cssText),
                o = a.split(e);
            for (var n in o) o.hasOwnProperty(n) && delete i[n];
            t.style.cssText = a.join(i)
        }, e.HSVToRGB = function(t, e, i) {
            var o, n, s, r = Math.floor(6 * t),
                a = 6 * t - r,
                h = i * (1 - e),
                d = i * (1 - a * e),
                l = i * (1 - (1 - a) * e);
            switch (r % 6) {
                case 0:
                    o = i, n = l, s = h;
                    break;
                case 1:
                    o = d, n = i, s = h;
                    break;
                case 2:
                    o = h, n = i, s = l;
                    break;
                case 3:
                    o = h, n = d, s = i;
                    break;
                case 4:
                    o = l, n = h, s = i;
                    break;
                case 5:
                    o = i, n = h, s = d
            }
            return {
                r: Math.floor(255 * o),
                g: Math.floor(255 * n),
                b: Math.floor(255 * s)
            }
        }, e.HSVToHex = function(t, i, o) {
            var n = e.HSVToRGB(t, i, o);
            return e.RGBToHex(n.r, n.g, n.b)
        }, e.hexToHSV = function(t) {
            var i = e.hexToRGB(t);
            return e.RGBToHSV(i.r, i.g, i.b)
        }, e.isValidHex = function(t) {
            var e = /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t);
            return e
        }, e.isValidRGB = function(t) {
            t = t.replace(" ", "");
            var e = /rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(t);
            return e
        }, e.isValidRGBA = function(t) {
            t = t.replace(" ", "");
            var e = /rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(.{1,3})\)/i.test(t);
            return e
        }, e.selectiveBridgeObject = function(t, i) {
            if ("object" == ("undefined" == typeof i ? "undefined" : o(i))) {
                for (var n = Object.create(i), s = 0; s < t.length; s++) i.hasOwnProperty(t[s]) && "object" == o(i[t[s]]) && (n[t[s]] = e.bridgeObject(i[t[s]]));
                return n
            }
            return null
        }, e.bridgeObject = function(t) {
            if ("object" == ("undefined" == typeof t ? "undefined" : o(t))) {
                var i = Object.create(t);
                for (var n in t) t.hasOwnProperty(n) && "object" == o(t[n]) && (i[n] = e.bridgeObject(t[n]));
                return i
            }
            return null
        }, e.insertSort = function(t, e) {
            for (var i = 0; i < t.length; i++) {
                for (var o = t[i], n = i; n > 0 && e(o, t[n - 1]) < 0; n--) t[n] = t[n - 1];
                t[n] = o
            }
            return t
        }, e.mergeOptions = function(t, e, i) {
            var o = (arguments.length <= 3 || void 0 === arguments[3] ? !1 : arguments[3], arguments.length <= 4 || void 0 === arguments[4] ? {} : arguments[4]);
            if (null === e[i]) t[i] = Object.create(o[i]);
            else if (void 0 !== e[i])
                if ("boolean" == typeof e[i]) t[i].enabled = e[i];
                else {
                    void 0 === e[i].enabled && (t[i].enabled = !0);
                    for (var n in e[i]) e[i].hasOwnProperty(n) && (t[i][n] = e[i][n])
                }
        }, e.binarySearchCustom = function(t, e, i, o) {
            for (var n = 1e4, s = 0, r = 0, a = t.length - 1; a >= r && n > s;) {
                var h = Math.floor((r + a) / 2),
                    d = t[h],
                    l = void 0 === o ? d[i] : d[i][o],
                    c = e(l);
                if (0 == c) return h; - 1 == c ? r = h + 1 : a = h - 1, s++
            }
            return -1
        }, e.binarySearchValue = function(t, e, i, o, n) {
            for (var s, r, a, h, d = 1e4, l = 0, c = 0, u = t.length - 1, n = void 0 != n ? n : function(t, e) {
                    return t == e ? 0 : e > t ? -1 : 1
                }; u >= c && d > l;) {
                if (h = Math.floor(.5 * (u + c)), s = t[Math.max(0, h - 1)][i], r = t[h][i], a = t[Math.min(t.length - 1, h + 1)][i], 0 == n(r, e)) return h;
                if (n(s, e) < 0 && n(r, e) > 0) return "before" == o ? Math.max(0, h - 1) : h;
                if (n(r, e) < 0 && n(a, e) > 0) return "before" == o ? h : Math.min(t.length - 1, h + 1);
                n(r, e) < 0 ? c = h + 1 : u = h - 1, l++
            }
            return -1
        }, e.easingFunctions = {
            linear: function(t) {
                return t
            },
            easeInQuad: function(t) {
                return t * t
            },
            easeOutQuad: function(t) {
                return t * (2 - t)
            },
            easeInOutQuad: function(t) {
                return .5 > t ? 2 * t * t : -1 + (4 - 2 * t) * t
            },
            easeInCubic: function(t) {
                return t * t * t
            },
            easeOutCubic: function(t) {
                return --t * t * t + 1
            },
            easeInOutCubic: function(t) {
                return .5 > t ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1
            },
            easeInQuart: function(t) {
                return t * t * t * t
            },
            easeOutQuart: function(t) {
                return 1 - --t * t * t * t
            },
            easeInOutQuart: function(t) {
                return .5 > t ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t
            },
            easeInQuint: function(t) {
                return t * t * t * t * t
            },
            easeOutQuint: function(t) {
                return 1 + --t * t * t * t * t
            },
            easeInOutQuint: function(t) {
                return .5 > t ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t
            }
        }
    }, function(t, e, i) {
        t.exports = "undefined" != typeof window && window.moment || i(3)
    }, function(t, e, i) {
        (function(t) {
            ! function(e, i) {
                t.exports = i()
            }(this, function() {
                function e() {
                    return ro.apply(null, arguments)
                }

                function i(t) {
                    ro = t
                }

                function o(t) {
                    return t instanceof Array || "[object Array]" === Object.prototype.toString.call(t)
                }

                function n(t) {
                    return t instanceof Date || "[object Date]" === Object.prototype.toString.call(t)
                }

                function s(t, e) {
                    var i, o = [];
                    for (i = 0; i < t.length; ++i) o.push(e(t[i], i));
                    return o
                }

                function r(t, e) {
                    return Object.prototype.hasOwnProperty.call(t, e)
                }

                function a(t, e) {
                    for (var i in e) r(e, i) && (t[i] = e[i]);
                    return r(e, "toString") && (t.toString = e.toString), r(e, "valueOf") && (t.valueOf = e.valueOf), t
                }

                function h(t, e, i, o) {
                    return Lt(t, e, i, o, !0).utc()
                }

                function d() {
                    return {
                        empty: !1,
                        unusedTokens: [],
                        unusedInput: [],
                        overflow: -2,
                        charsLeftOver: 0,
                        nullInput: !1,
                        invalidMonth: null,
                        invalidFormat: !1,
                        userInvalidated: !1,
                        iso: !1,
                        parsedDateParts: [],
                        meridiem: null
                    }
                }

                function l(t) {
                    return null == t._pf && (t._pf = d()), t._pf
                }

                function c(t) {
                    if (null == t._isValid) {
                        var e = l(t),
                            i = ao.call(e.parsedDateParts, function(t) {
                                return null != t
                            });
                        t._isValid = !isNaN(t._d.getTime()) && e.overflow < 0 && !e.empty && !e.invalidMonth && !e.invalidWeekday && !e.nullInput && !e.invalidFormat && !e.userInvalidated && (!e.meridiem || e.meridiem && i), t._strict && (t._isValid = t._isValid && 0 === e.charsLeftOver && 0 === e.unusedTokens.length && void 0 === e.bigHour)
                    }
                    return t._isValid
                }

                function u(t) {
                    var e = h(NaN);
                    return null != t ? a(l(e), t) : l(e).userInvalidated = !0, e
                }

                function p(t) {
                    return void 0 === t
                }

                function f(t, e) {
                    var i, o, n;
                    if (p(e._isAMomentObject) || (t._isAMomentObject = e._isAMomentObject), p(e._i) || (t._i = e._i), p(e._f) || (t._f = e._f), p(e._l) || (t._l = e._l), p(e._strict) || (t._strict = e._strict), p(e._tzm) || (t._tzm = e._tzm), p(e._isUTC) || (t._isUTC = e._isUTC), p(e._offset) || (t._offset = e._offset), p(e._pf) || (t._pf = l(e)), p(e._locale) || (t._locale = e._locale), ho.length > 0)
                        for (i in ho) o = ho[i], n = e[o], p(n) || (t[o] = n);
                    return t
                }

                function m(t) {
                    f(this, t), this._d = new Date(null != t._d ? t._d.getTime() : NaN), lo === !1 && (lo = !0, e.updateOffset(this), lo = !1)
                }

                function v(t) {
                    return t instanceof m || null != t && null != t._isAMomentObject
                }

                function g(t) {
                    return 0 > t ? Math.ceil(t) : Math.floor(t)
                }

                function y(t) {
                    var e = +t,
                        i = 0;
                    return 0 !== e && isFinite(e) && (i = g(e)), i
                }

                function b(t, e, i) {
                    var o, n = Math.min(t.length, e.length),
                        s = Math.abs(t.length - e.length),
                        r = 0;
                    for (o = 0; n > o; o++)(i && t[o] !== e[o] || !i && y(t[o]) !== y(e[o])) && r++;
                    return r + s
                }

                function w(t) {
                    e.suppressDeprecationWarnings === !1 && "undefined" != typeof console && console.warn && console.warn("Deprecation warning: " + t)
                }

                function _(t, i) {
                    var o = !0;
                    return a(function() {
                        return null != e.deprecationHandler && e.deprecationHandler(null, t), o && (w(t + "\nArguments: " + Array.prototype.slice.call(arguments).join(", ") + "\n" + (new Error).stack), o = !1), i.apply(this, arguments)
                    }, i)
                }

                function x(t, i) {
                    null != e.deprecationHandler && e.deprecationHandler(t, i), co[t] || (w(i), co[t] = !0)
                }

                function k(t) {
                    return t instanceof Function || "[object Function]" === Object.prototype.toString.call(t)
                }

                function O(t) {
                    return "[object Object]" === Object.prototype.toString.call(t)
                }

                function M(t) {
                    var e, i;
                    for (i in t) e = t[i], k(e) ? this[i] = e : this["_" + i] = e;
                    this._config = t, this._ordinalParseLenient = new RegExp(this._ordinalParse.source + "|" + /\d{1,2}/.source)
                }

                function D(t, e) {
                    var i, o = a({}, t);
                    for (i in e) r(e, i) && (O(t[i]) && O(e[i]) ? (o[i] = {}, a(o[i], t[i]), a(o[i], e[i])) : null != e[i] ? o[i] = e[i] : delete o[i]);
                    return o
                }

                function S(t) {
                    null != t && this.set(t)
                }

                function C(t) {
                    return t ? t.toLowerCase().replace("_", "-") : t
                }

                function T(t) {
                    for (var e, i, o, n, s = 0; s < t.length;) {
                        for (n = C(t[s]).split("-"), e = n.length, i = C(t[s + 1]), i = i ? i.split("-") : null; e > 0;) {
                            if (o = E(n.slice(0, e).join("-"))) return o;
                            if (i && i.length >= e && b(n, i, !0) >= e - 1) break;
                            e--
                        }
                        s++
                    }
                    return null
                }

                function E(e) {
                    var i = null;
                    if (!mo[e] && "undefined" != typeof t && t && t.exports) try {
                        i = po._abbr, ! function() {
                            var t = new Error('Cannot find module "./locale"');
                            throw t.code = "MODULE_NOT_FOUND", t
                        }(), P(i)
                    } catch (o) {}
                    return mo[e]
                }

                function P(t, e) {
                    var i;
                    return t && (i = p(e) ? R(t) : I(t, e), i && (po = i)), po._abbr
                }

                function I(t, e) {
                    return null !== e ? (e.abbr = t, null != mo[t] ? (x("defineLocaleOverride", "use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale"), e = D(mo[t]._config, e)) : null != e.parentLocale && (null != mo[e.parentLocale] ? e = D(mo[e.parentLocale]._config, e) : x("parentLocaleUndefined", "specified parentLocale is not defined yet")), mo[t] = new S(e), P(t), mo[t]) : (delete mo[t], null)
                }

                function N(t, e) {
                    if (null != e) {
                        var i;
                        null != mo[t] && (e = D(mo[t]._config, e)), i = new S(e), i.parentLocale = mo[t], mo[t] = i, P(t)
                    } else null != mo[t] && (null != mo[t].parentLocale ? mo[t] = mo[t].parentLocale : null != mo[t] && delete mo[t]);
                    return mo[t]
                }

                function R(t) {
                    var e;
                    if (t && t._locale && t._locale._abbr && (t = t._locale._abbr), !t) return po;
                    if (!o(t)) {
                        if (e = E(t)) return e;
                        t = [t]
                    }
                    return T(t)
                }

                function z() {
                    return uo(mo)
                }

                function L(t, e) {
                    var i = t.toLowerCase();
                    vo[i] = vo[i + "s"] = vo[e] = t
                }

                function A(t) {
                    return "string" == typeof t ? vo[t] || vo[t.toLowerCase()] : void 0
                }

                function B(t) {
                    var e, i, o = {};
                    for (i in t) r(t, i) && (e = A(i), e && (o[e] = t[i]));
                    return o
                }

                function F(t, i) {
                    return function(o) {
                        return null != o ? (H(this, t, o), e.updateOffset(this, i), this) : j(this, t)
                    }
                }

                function j(t, e) {
                    return t.isValid() ? t._d["get" + (t._isUTC ? "UTC" : "") + e]() : NaN
                }

                function H(t, e, i) {
                    t.isValid() && t._d["set" + (t._isUTC ? "UTC" : "") + e](i)
                }

                function W(t, e) {
                    var i;
                    if ("object" == typeof t)
                        for (i in t) this.set(i, t[i]);
                    else if (t = A(t), k(this[t])) return this[t](e);
                    return this
                }

                function Y(t, e, i) {
                    var o = "" + Math.abs(t),
                        n = e - o.length,
                        s = t >= 0;
                    return (s ? i ? "+" : "" : "-") + Math.pow(10, Math.max(0, n)).toString().substr(1) + o
                }

                function G(t, e, i, o) {
                    var n = o;
                    "string" == typeof o && (n = function() {
                        return this[o]()
                    }), t && (wo[t] = n), e && (wo[e[0]] = function() {
                        return Y(n.apply(this, arguments), e[1], e[2])
                    }), i && (wo[i] = function() {
                        return this.localeData().ordinal(n.apply(this, arguments), t)
                    })
                }

                function V(t) {
                    return t.match(/\[[\s\S]/) ? t.replace(/^\[|\]$/g, "") : t.replace(/\\/g, "")
                }

                function U(t) {
                    var e, i, o = t.match(go);
                    for (e = 0, i = o.length; i > e; e++) wo[o[e]] ? o[e] = wo[o[e]] : o[e] = V(o[e]);
                    return function(e) {
                        var n, s = "";
                        for (n = 0; i > n; n++) s += o[n] instanceof Function ? o[n].call(e, t) : o[n];
                        return s
                    }
                }

                function q(t, e) {
                    return t.isValid() ? (e = X(e, t.localeData()), bo[e] = bo[e] || U(e), bo[e](t)) : t.localeData().invalidDate()
                }

                function X(t, e) {
                    function i(t) {
                        return e.longDateFormat(t) || t
                    }
                    var o = 5;
                    for (yo.lastIndex = 0; o >= 0 && yo.test(t);) t = t.replace(yo, i), yo.lastIndex = 0, o -= 1;
                    return t
                }

                function Z(t, e, i) {
                    Bo[t] = k(e) ? e : function(t, o) {
                        return t && i ? i : e
                    }
                }

                function K(t, e) {
                    return r(Bo, t) ? Bo[t](e._strict, e._locale) : new RegExp(J(t))
                }

                function J(t) {
                    return Q(t.replace("\\", "").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function(t, e, i, o, n) {
                        return e || i || o || n
                    }))
                }

                function Q(t) {
                    return t.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&")
                }

                function $(t, e) {
                    var i, o = e;
                    for ("string" == typeof t && (t = [t]), "number" == typeof e && (o = function(t, i) {
                            i[e] = y(t)
                        }), i = 0; i < t.length; i++) Fo[t[i]] = o
                }

                function tt(t, e) {
                    $(t, function(t, i, o, n) {
                        o._w = o._w || {}, e(t, o._w, o, n)
                    })
                }

                function et(t, e, i) {
                    null != e && r(Fo, t) && Fo[t](e, i._a, i, t)
                }

                function it(t, e) {
                    return new Date(Date.UTC(t, e + 1, 0)).getUTCDate()
                }

                function ot(t, e) {
                    return o(this._months) ? this._months[t.month()] : this._months[Zo.test(e) ? "format" : "standalone"][t.month()]
                }

                function nt(t, e) {
                    return o(this._monthsShort) ? this._monthsShort[t.month()] : this._monthsShort[Zo.test(e) ? "format" : "standalone"][t.month()]
                }

                function st(t, e, i) {
                    var o, n, s, r = t.toLocaleLowerCase();
                    if (!this._monthsParse)
                        for (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = [], o = 0; 12 > o; ++o) s = h([2e3, o]), this._shortMonthsParse[o] = this.monthsShort(s, "").toLocaleLowerCase(), this._longMonthsParse[o] = this.months(s, "").toLocaleLowerCase();
                    return i ? "MMM" === e ? (n = fo.call(this._shortMonthsParse, r), -1 !== n ? n : null) : (n = fo.call(this._longMonthsParse, r), -1 !== n ? n : null) : "MMM" === e ? (n = fo.call(this._shortMonthsParse, r), -1 !== n ? n : (n = fo.call(this._longMonthsParse, r), -1 !== n ? n : null)) : (n = fo.call(this._longMonthsParse, r), -1 !== n ? n : (n = fo.call(this._shortMonthsParse, r), -1 !== n ? n : null))
                }

                function rt(t, e, i) {
                    var o, n, s;
                    if (this._monthsParseExact) return st.call(this, t, e, i);
                    for (this._monthsParse || (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = []), o = 0; 12 > o; o++) {
                        if (n = h([2e3, o]), i && !this._longMonthsParse[o] && (this._longMonthsParse[o] = new RegExp("^" + this.months(n, "").replace(".", "") + "$", "i"), this._shortMonthsParse[o] = new RegExp("^" + this.monthsShort(n, "").replace(".", "") + "$", "i")), i || this._monthsParse[o] || (s = "^" + this.months(n, "") + "|^" + this.monthsShort(n, ""), this._monthsParse[o] = new RegExp(s.replace(".", ""), "i")), i && "MMMM" === e && this._longMonthsParse[o].test(t)) return o;
                        if (i && "MMM" === e && this._shortMonthsParse[o].test(t)) return o;
                        if (!i && this._monthsParse[o].test(t)) return o
                    }
                }

                function at(t, e) {
                    var i;
                    if (!t.isValid()) return t;
                    if ("string" == typeof e)
                        if (/^\d+$/.test(e)) e = y(e);
                        else if (e = t.localeData().monthsParse(e), "number" != typeof e) return t;
                    return i = Math.min(t.date(), it(t.year(), e)), t._d["set" + (t._isUTC ? "UTC" : "") + "Month"](e, i), t
                }

                function ht(t) {
                    return null != t ? (at(this, t), e.updateOffset(this, !0), this) : j(this, "Month")
                }

                function dt() {
                    return it(this.year(), this.month())
                }

                function lt(t) {
                    return this._monthsParseExact ? (r(this, "_monthsRegex") || ut.call(this), t ? this._monthsShortStrictRegex : this._monthsShortRegex) : this._monthsShortStrictRegex && t ? this._monthsShortStrictRegex : this._monthsShortRegex
                }

                function ct(t) {
                    return this._monthsParseExact ? (r(this, "_monthsRegex") || ut.call(this), t ? this._monthsStrictRegex : this._monthsRegex) : this._monthsStrictRegex && t ? this._monthsStrictRegex : this._monthsRegex
                }

                function ut() {
                    function t(t, e) {
                        return e.length - t.length
                    }
                    var e, i, o = [],
                        n = [],
                        s = [];
                    for (e = 0; 12 > e; e++) i = h([2e3, e]), o.push(this.monthsShort(i, "")), n.push(this.months(i, "")), s.push(this.months(i, "")), s.push(this.monthsShort(i, ""));
                    for (o.sort(t), n.sort(t), s.sort(t), e = 0; 12 > e; e++) o[e] = Q(o[e]), n[e] = Q(n[e]), s[e] = Q(s[e]);
                    this._monthsRegex = new RegExp("^(" + s.join("|") + ")", "i"), this._monthsShortRegex = this._monthsRegex, this._monthsStrictRegex = new RegExp("^(" + n.join("|") + ")", "i"), this._monthsShortStrictRegex = new RegExp("^(" + o.join("|") + ")", "i")
                }

                function pt(t) {
                    var e, i = t._a;
                    return i && -2 === l(t).overflow && (e = i[Ho] < 0 || i[Ho] > 11 ? Ho : i[Wo] < 1 || i[Wo] > it(i[jo], i[Ho]) ? Wo : i[Yo] < 0 || i[Yo] > 24 || 24 === i[Yo] && (0 !== i[Go] || 0 !== i[Vo] || 0 !== i[Uo]) ? Yo : i[Go] < 0 || i[Go] > 59 ? Go : i[Vo] < 0 || i[Vo] > 59 ? Vo : i[Uo] < 0 || i[Uo] > 999 ? Uo : -1, l(t)._overflowDayOfYear && (jo > e || e > Wo) && (e = Wo), l(t)._overflowWeeks && -1 === e && (e = qo), l(t)._overflowWeekday && -1 === e && (e = Xo), l(t).overflow = e), t
                }

                function ft(t) {
                    var e, i, o, n, s, r, a = t._i,
                        h = tn.exec(a) || en.exec(a);
                    if (h) {
                        for (l(t).iso = !0, e = 0, i = nn.length; i > e; e++)
                            if (nn[e][1].exec(h[1])) {
                                n = nn[e][0], o = nn[e][2] !== !1;
                                break
                            }
                        if (null == n) return void(t._isValid = !1);
                        if (h[3]) {
                            for (e = 0, i = sn.length; i > e; e++)
                                if (sn[e][1].exec(h[3])) {
                                    s = (h[2] || " ") + sn[e][0];
                                    break
                                }
                            if (null == s) return void(t._isValid = !1)
                        }
                        if (!o && null != s) return void(t._isValid = !1);
                        if (h[4]) {
                            if (!on.exec(h[4])) return void(t._isValid = !1);
                            r = "Z"
                        }
                        t._f = n + (s || "") + (r || ""), Tt(t)
                    } else t._isValid = !1
                }

                function mt(t) {
                    var i = rn.exec(t._i);
                    return null !== i ? void(t._d = new Date(+i[1])) : (ft(t), void(t._isValid === !1 && (delete t._isValid, e.createFromInputFallback(t))))
                }

                function vt(t, e, i, o, n, s, r) {
                    var a = new Date(t, e, i, o, n, s, r);
                    return 100 > t && t >= 0 && isFinite(a.getFullYear()) && a.setFullYear(t), a
                }

                function gt(t) {
                    var e = new Date(Date.UTC.apply(null, arguments));
                    return 100 > t && t >= 0 && isFinite(e.getUTCFullYear()) && e.setUTCFullYear(t), e
                }

                function yt(t) {
                    return bt(t) ? 366 : 365
                }

                function bt(t) {
                    return t % 4 === 0 && t % 100 !== 0 || t % 400 === 0
                }

                function wt() {
                    return bt(this.year())
                }

                function _t(t, e, i) {
                    var o = 7 + e - i,
                        n = (7 + gt(t, 0, o).getUTCDay() - e) % 7;
                    return -n + o - 1
                }

                function xt(t, e, i, o, n) {
                    var s, r, a = (7 + i - o) % 7,
                        h = _t(t, o, n),
                        d = 1 + 7 * (e - 1) + a + h;
                    return 0 >= d ? (s = t - 1, r = yt(s) + d) : d > yt(t) ? (s = t + 1, r = d - yt(t)) : (s = t, r = d), {
                        year: s,
                        dayOfYear: r
                    }
                }

                function kt(t, e, i) {
                    var o, n, s = _t(t.year(), e, i),
                        r = Math.floor((t.dayOfYear() - s - 1) / 7) + 1;
                    return 1 > r ? (n = t.year() - 1, o = r + Ot(n, e, i)) : r > Ot(t.year(), e, i) ? (o = r - Ot(t.year(), e, i), n = t.year() + 1) : (n = t.year(), o = r), {
                        week: o,
                        year: n
                    }
                }

                function Ot(t, e, i) {
                    var o = _t(t, e, i),
                        n = _t(t + 1, e, i);
                    return (yt(t) - o + n) / 7
                }

                function Mt(t, e, i) {
                    return null != t ? t : null != e ? e : i
                }

                function Dt(t) {
                    var i = new Date(e.now());
                    return t._useUTC ? [i.getUTCFullYear(), i.getUTCMonth(), i.getUTCDate()] : [i.getFullYear(), i.getMonth(), i.getDate()]
                }

                function St(t) {
                    var e, i, o, n, s = [];
                    if (!t._d) {
                        for (o = Dt(t), t._w && null == t._a[Wo] && null == t._a[Ho] && Ct(t), t._dayOfYear && (n = Mt(t._a[jo], o[jo]), t._dayOfYear > yt(n) && (l(t)._overflowDayOfYear = !0), i = gt(n, 0, t._dayOfYear), t._a[Ho] = i.getUTCMonth(), t._a[Wo] = i.getUTCDate()), e = 0; 3 > e && null == t._a[e]; ++e) t._a[e] = s[e] = o[e];
                        for (; 7 > e; e++) t._a[e] = s[e] = null == t._a[e] ? 2 === e ? 1 : 0 : t._a[e];
                        24 === t._a[Yo] && 0 === t._a[Go] && 0 === t._a[Vo] && 0 === t._a[Uo] && (t._nextDay = !0, t._a[Yo] = 0), t._d = (t._useUTC ? gt : vt).apply(null, s), null != t._tzm && t._d.setUTCMinutes(t._d.getUTCMinutes() - t._tzm), t._nextDay && (t._a[Yo] = 24)
                    }
                }

                function Ct(t) {
                    var e, i, o, n, s, r, a, h;
                    e = t._w, null != e.GG || null != e.W || null != e.E ? (s = 1, r = 4, i = Mt(e.GG, t._a[jo], kt(At(), 1, 4).year), o = Mt(e.W, 1), n = Mt(e.E, 1), (1 > n || n > 7) && (h = !0)) : (s = t._locale._week.dow, r = t._locale._week.doy, i = Mt(e.gg, t._a[jo], kt(At(), s, r).year), o = Mt(e.w, 1), null != e.d ? (n = e.d, (0 > n || n > 6) && (h = !0)) : null != e.e ? (n = e.e + s, (e.e < 0 || e.e > 6) && (h = !0)) : n = s), 1 > o || o > Ot(i, s, r) ? l(t)._overflowWeeks = !0 : null != h ? l(t)._overflowWeekday = !0 : (a = xt(i, o, n, s, r), t._a[jo] = a.year, t._dayOfYear = a.dayOfYear)
                }

                function Tt(t) {
                    if (t._f === e.ISO_8601) return void ft(t);
                    t._a = [], l(t).empty = !0;
                    var i, o, n, s, r, a = "" + t._i,
                        h = a.length,
                        d = 0;
                    for (n = X(t._f, t._locale).match(go) || [], i = 0; i < n.length; i++) s = n[i], o = (a.match(K(s, t)) || [])[0], o && (r = a.substr(0, a.indexOf(o)), r.length > 0 && l(t).unusedInput.push(r), a = a.slice(a.indexOf(o) + o.length), d += o.length), wo[s] ? (o ? l(t).empty = !1 : l(t).unusedTokens.push(s), et(s, o, t)) : t._strict && !o && l(t).unusedTokens.push(s);
                    l(t).charsLeftOver = h - d, a.length > 0 && l(t).unusedInput.push(a), l(t).bigHour === !0 && t._a[Yo] <= 12 && t._a[Yo] > 0 && (l(t).bigHour = void 0), l(t).parsedDateParts = t._a.slice(0), l(t).meridiem = t._meridiem, t._a[Yo] = Et(t._locale, t._a[Yo], t._meridiem), St(t), pt(t)
                }

                function Et(t, e, i) {
                    var o;
                    return null == i ? e : null != t.meridiemHour ? t.meridiemHour(e, i) : null != t.isPM ? (o = t.isPM(i), o && 12 > e && (e += 12), o || 12 !== e || (e = 0), e) : e
                }

                function Pt(t) {
                    var e, i, o, n, s;
                    if (0 === t._f.length) return l(t).invalidFormat = !0, void(t._d = new Date(NaN));
                    for (n = 0; n < t._f.length; n++) s = 0, e = f({}, t), null != t._useUTC && (e._useUTC = t._useUTC), e._f = t._f[n], Tt(e), c(e) && (s += l(e).charsLeftOver, s += 10 * l(e).unusedTokens.length, l(e).score = s, (null == o || o > s) && (o = s, i = e));
                    a(t, i || e)
                }

                function It(t) {
                    if (!t._d) {
                        var e = B(t._i);
                        t._a = s([e.year, e.month, e.day || e.date, e.hour, e.minute, e.second, e.millisecond], function(t) {
                            return t && parseInt(t, 10)
                        }), St(t)
                    }
                }

                function Nt(t) {
                    var e = new m(pt(Rt(t)));
                    return e._nextDay && (e.add(1, "d"), e._nextDay = void 0), e
                }

                function Rt(t) {
                    var e = t._i,
                        i = t._f;
                    return t._locale = t._locale || R(t._l), null === e || void 0 === i && "" === e ? u({
                        nullInput: !0
                    }) : ("string" == typeof e && (t._i = e = t._locale.preparse(e)), v(e) ? new m(pt(e)) : (o(i) ? Pt(t) : i ? Tt(t) : n(e) ? t._d = e : zt(t), c(t) || (t._d = null), t))
                }

                function zt(t) {
                    var i = t._i;
                    void 0 === i ? t._d = new Date(e.now()) : n(i) ? t._d = new Date(i.valueOf()) : "string" == typeof i ? mt(t) : o(i) ? (t._a = s(i.slice(0), function(t) {
                        return parseInt(t, 10)
                    }), St(t)) : "object" == typeof i ? It(t) : "number" == typeof i ? t._d = new Date(i) : e.createFromInputFallback(t)
                }

                function Lt(t, e, i, o, n) {
                    var s = {};
                    return "boolean" == typeof i && (o = i, i = void 0), s._isAMomentObject = !0, s._useUTC = s._isUTC = n, s._l = i, s._i = t, s._f = e, s._strict = o, Nt(s)
                }

                function At(t, e, i, o) {
                    return Lt(t, e, i, o, !1)
                }

                function Bt(t, e) {
                    var i, n;
                    if (1 === e.length && o(e[0]) && (e = e[0]), !e.length) return At();
                    for (i = e[0], n = 1; n < e.length; ++n) e[n].isValid() && !e[n][t](i) || (i = e[n]);
                    return i
                }

                function Ft() {
                    var t = [].slice.call(arguments, 0);
                    return Bt("isBefore", t)
                }

                function jt() {
                    var t = [].slice.call(arguments, 0);
                    return Bt("isAfter", t)
                }

                function Ht(t) {
                    var e = B(t),
                        i = e.year || 0,
                        o = e.quarter || 0,
                        n = e.month || 0,
                        s = e.week || 0,
                        r = e.day || 0,
                        a = e.hour || 0,
                        h = e.minute || 0,
                        d = e.second || 0,
                        l = e.millisecond || 0;
                    this._milliseconds = +l + 1e3 * d + 6e4 * h + 1e3 * a * 60 * 60, this._days = +r + 7 * s, this._months = +n + 3 * o + 12 * i, this._data = {}, this._locale = R(), this._bubble()
                }

                function Wt(t) {
                    return t instanceof Ht
                }

                function Yt(t, e) {
                    G(t, 0, 0, function() {
                        var t = this.utcOffset(),
                            i = "+";
                        return 0 > t && (t = -t, i = "-"), i + Y(~~(t / 60), 2) + e + Y(~~t % 60, 2)
                    })
                }

                function Gt(t, e) {
                    var i = (e || "").match(t) || [],
                        o = i[i.length - 1] || [],
                        n = (o + "").match(cn) || ["-", 0, 0],
                        s = +(60 * n[1]) + y(n[2]);
                    return "+" === n[0] ? s : -s
                }

                function Vt(t, i) {
                    var o, s;
                    return i._isUTC ? (o = i.clone(), s = (v(t) || n(t) ? t.valueOf() : At(t).valueOf()) - o.valueOf(), o._d.setTime(o._d.valueOf() + s), e.updateOffset(o, !1), o) : At(t).local()
                }

                function Ut(t) {
                    return 15 * -Math.round(t._d.getTimezoneOffset() / 15)
                }

                function qt(t, i) {
                    var o, n = this._offset || 0;
                    return this.isValid() ? null != t ? ("string" == typeof t ? t = Gt(zo, t) : Math.abs(t) < 16 && (t = 60 * t), !this._isUTC && i && (o = Ut(this)), this._offset = t, this._isUTC = !0, null != o && this.add(o, "m"), n !== t && (!i || this._changeInProgress ? le(this, ne(t - n, "m"), 1, !1) : this._changeInProgress || (this._changeInProgress = !0, e.updateOffset(this, !0), this._changeInProgress = null)), this) : this._isUTC ? n : Ut(this) : null != t ? this : NaN
                }

                function Xt(t, e) {
                    return null != t ? ("string" != typeof t && (t = -t), this.utcOffset(t, e), this) : -this.utcOffset()
                }

                function Zt(t) {
                    return this.utcOffset(0, t)
                }

                function Kt(t) {
                    return this._isUTC && (this.utcOffset(0, t), this._isUTC = !1, t && this.subtract(Ut(this), "m")), this
                }

                function Jt() {
                    return this._tzm ? this.utcOffset(this._tzm) : "string" == typeof this._i && this.utcOffset(Gt(Ro, this._i)), this
                }

                function Qt(t) {
                    return this.isValid() ? (t = t ? At(t).utcOffset() : 0, (this.utcOffset() - t) % 60 === 0) : !1
                }

                function $t() {
                    return this.utcOffset() > this.clone().month(0).utcOffset() || this.utcOffset() > this.clone().month(5).utcOffset()
                }

                function te() {
                    if (!p(this._isDSTShifted)) return this._isDSTShifted;
                    var t = {};
                    if (f(t, this), t = Rt(t), t._a) {
                        var e = t._isUTC ? h(t._a) : At(t._a);
                        this._isDSTShifted = this.isValid() && b(t._a, e.toArray()) > 0
                    } else this._isDSTShifted = !1;
                    return this._isDSTShifted
                }

                function ee() {
                    return this.isValid() ? !this._isUTC : !1
                }

                function ie() {
                    return this.isValid() ? this._isUTC : !1
                }

                function oe() {
                    return this.isValid() ? this._isUTC && 0 === this._offset : !1
                }

                function ne(t, e) {
                    var i, o, n, s = t,
                        a = null;
                    return Wt(t) ? s = {
                        ms: t._milliseconds,
                        d: t._days,
                        M: t._months
                    } : "number" == typeof t ? (s = {}, e ? s[e] = t : s.milliseconds = t) : (a = un.exec(t)) ? (i = "-" === a[1] ? -1 : 1, s = {
                        y: 0,
                        d: y(a[Wo]) * i,
                        h: y(a[Yo]) * i,
                        m: y(a[Go]) * i,
                        s: y(a[Vo]) * i,
                        ms: y(a[Uo]) * i
                    }) : (a = pn.exec(t)) ? (i = "-" === a[1] ? -1 : 1, s = {
                        y: se(a[2], i),
                        M: se(a[3], i),
                        w: se(a[4], i),
                        d: se(a[5], i),
                        h: se(a[6], i),
                        m: se(a[7], i),
                        s: se(a[8], i)
                    }) : null == s ? s = {} : "object" == typeof s && ("from" in s || "to" in s) && (n = ae(At(s.from), At(s.to)), s = {}, s.ms = n.milliseconds, s.M = n.months), o = new Ht(s), Wt(t) && r(t, "_locale") && (o._locale = t._locale), o
                }

                function se(t, e) {
                    var i = t && parseFloat(t.replace(",", "."));
                    return (isNaN(i) ? 0 : i) * e
                }

                function re(t, e) {
                    var i = {
                        milliseconds: 0,
                        months: 0
                    };
                    return i.months = e.month() - t.month() + 12 * (e.year() - t.year()), t.clone().add(i.months, "M").isAfter(e) && --i.months,
                        i.milliseconds = +e - +t.clone().add(i.months, "M"), i
                }

                function ae(t, e) {
                    var i;
                    return t.isValid() && e.isValid() ? (e = Vt(e, t), t.isBefore(e) ? i = re(t, e) : (i = re(e, t), i.milliseconds = -i.milliseconds, i.months = -i.months), i) : {
                        milliseconds: 0,
                        months: 0
                    }
                }

                function he(t) {
                    return 0 > t ? -1 * Math.round(-1 * t) : Math.round(t)
                }

                function de(t, e) {
                    return function(i, o) {
                        var n, s;
                        return null === o || isNaN(+o) || (x(e, "moment()." + e + "(period, number) is deprecated. Please use moment()." + e + "(number, period)."), s = i, i = o, o = s), i = "string" == typeof i ? +i : i, n = ne(i, o), le(this, n, t), this
                    }
                }

                function le(t, i, o, n) {
                    var s = i._milliseconds,
                        r = he(i._days),
                        a = he(i._months);
                    t.isValid() && (n = null == n ? !0 : n, s && t._d.setTime(t._d.valueOf() + s * o), r && H(t, "Date", j(t, "Date") + r * o), a && at(t, j(t, "Month") + a * o), n && e.updateOffset(t, r || a))
                }

                function ce(t, e) {
                    var i = t || At(),
                        o = Vt(i, this).startOf("day"),
                        n = this.diff(o, "days", !0),
                        s = -6 > n ? "sameElse" : -1 > n ? "lastWeek" : 0 > n ? "lastDay" : 1 > n ? "sameDay" : 2 > n ? "nextDay" : 7 > n ? "nextWeek" : "sameElse",
                        r = e && (k(e[s]) ? e[s]() : e[s]);
                    return this.format(r || this.localeData().calendar(s, this, At(i)))
                }

                function ue() {
                    return new m(this)
                }

                function pe(t, e) {
                    var i = v(t) ? t : At(t);
                    return this.isValid() && i.isValid() ? (e = A(p(e) ? "millisecond" : e), "millisecond" === e ? this.valueOf() > i.valueOf() : i.valueOf() < this.clone().startOf(e).valueOf()) : !1
                }

                function fe(t, e) {
                    var i = v(t) ? t : At(t);
                    return this.isValid() && i.isValid() ? (e = A(p(e) ? "millisecond" : e), "millisecond" === e ? this.valueOf() < i.valueOf() : this.clone().endOf(e).valueOf() < i.valueOf()) : !1
                }

                function me(t, e, i, o) {
                    return o = o || "()", ("(" === o[0] ? this.isAfter(t, i) : !this.isBefore(t, i)) && (")" === o[1] ? this.isBefore(e, i) : !this.isAfter(e, i))
                }

                function ve(t, e) {
                    var i, o = v(t) ? t : At(t);
                    return this.isValid() && o.isValid() ? (e = A(e || "millisecond"), "millisecond" === e ? this.valueOf() === o.valueOf() : (i = o.valueOf(), this.clone().startOf(e).valueOf() <= i && i <= this.clone().endOf(e).valueOf())) : !1
                }

                function ge(t, e) {
                    return this.isSame(t, e) || this.isAfter(t, e)
                }

                function ye(t, e) {
                    return this.isSame(t, e) || this.isBefore(t, e)
                }

                function be(t, e, i) {
                    var o, n, s, r;
                    return this.isValid() ? (o = Vt(t, this), o.isValid() ? (n = 6e4 * (o.utcOffset() - this.utcOffset()), e = A(e), "year" === e || "month" === e || "quarter" === e ? (r = we(this, o), "quarter" === e ? r /= 3 : "year" === e && (r /= 12)) : (s = this - o, r = "second" === e ? s / 1e3 : "minute" === e ? s / 6e4 : "hour" === e ? s / 36e5 : "day" === e ? (s - n) / 864e5 : "week" === e ? (s - n) / 6048e5 : s), i ? r : g(r)) : NaN) : NaN
                }

                function we(t, e) {
                    var i, o, n = 12 * (e.year() - t.year()) + (e.month() - t.month()),
                        s = t.clone().add(n, "months");
                    return 0 > e - s ? (i = t.clone().add(n - 1, "months"), o = (e - s) / (s - i)) : (i = t.clone().add(n + 1, "months"), o = (e - s) / (i - s)), -(n + o) || 0
                }

                function _e() {
                    return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")
                }

                function xe() {
                    var t = this.clone().utc();
                    return 0 < t.year() && t.year() <= 9999 ? k(Date.prototype.toISOString) ? this.toDate().toISOString() : q(t, "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]") : q(t, "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")
                }

                function ke(t) {
                    t || (t = this.isUtc() ? e.defaultFormatUtc : e.defaultFormat);
                    var i = q(this, t);
                    return this.localeData().postformat(i)
                }

                function Oe(t, e) {
                    return this.isValid() && (v(t) && t.isValid() || At(t).isValid()) ? ne({
                        to: this,
                        from: t
                    }).locale(this.locale()).humanize(!e) : this.localeData().invalidDate()
                }

                function Me(t) {
                    return this.from(At(), t)
                }

                function De(t, e) {
                    return this.isValid() && (v(t) && t.isValid() || At(t).isValid()) ? ne({
                        from: this,
                        to: t
                    }).locale(this.locale()).humanize(!e) : this.localeData().invalidDate()
                }

                function Se(t) {
                    return this.to(At(), t)
                }

                function Ce(t) {
                    var e;
                    return void 0 === t ? this._locale._abbr : (e = R(t), null != e && (this._locale = e), this)
                }

                function Te() {
                    return this._locale
                }

                function Ee(t) {
                    switch (t = A(t)) {
                        case "year":
                            this.month(0);
                        case "quarter":
                        case "month":
                            this.date(1);
                        case "week":
                        case "isoWeek":
                        case "day":
                        case "date":
                            this.hours(0);
                        case "hour":
                            this.minutes(0);
                        case "minute":
                            this.seconds(0);
                        case "second":
                            this.milliseconds(0)
                    }
                    return "week" === t && this.weekday(0), "isoWeek" === t && this.isoWeekday(1), "quarter" === t && this.month(3 * Math.floor(this.month() / 3)), this
                }

                function Pe(t) {
                    return t = A(t), void 0 === t || "millisecond" === t ? this : ("date" === t && (t = "day"), this.startOf(t).add(1, "isoWeek" === t ? "week" : t).subtract(1, "ms"))
                }

                function Ie() {
                    return this._d.valueOf() - 6e4 * (this._offset || 0)
                }

                function Ne() {
                    return Math.floor(this.valueOf() / 1e3)
                }

                function Re() {
                    return this._offset ? new Date(this.valueOf()) : this._d
                }

                function ze() {
                    var t = this;
                    return [t.year(), t.month(), t.date(), t.hour(), t.minute(), t.second(), t.millisecond()]
                }

                function Le() {
                    var t = this;
                    return {
                        years: t.year(),
                        months: t.month(),
                        date: t.date(),
                        hours: t.hours(),
                        minutes: t.minutes(),
                        seconds: t.seconds(),
                        milliseconds: t.milliseconds()
                    }
                }

                function Ae() {
                    return this.isValid() ? this.toISOString() : null
                }

                function Be() {
                    return c(this)
                }

                function Fe() {
                    return a({}, l(this))
                }

                function je() {
                    return l(this).overflow
                }

                function He() {
                    return {
                        input: this._i,
                        format: this._f,
                        locale: this._locale,
                        isUTC: this._isUTC,
                        strict: this._strict
                    }
                }

                function We(t, e) {
                    G(0, [t, t.length], 0, e)
                }

                function Ye(t) {
                    return qe.call(this, t, this.week(), this.weekday(), this.localeData()._week.dow, this.localeData()._week.doy)
                }

                function Ge(t) {
                    return qe.call(this, t, this.isoWeek(), this.isoWeekday(), 1, 4)
                }

                function Ve() {
                    return Ot(this.year(), 1, 4)
                }

                function Ue() {
                    var t = this.localeData()._week;
                    return Ot(this.year(), t.dow, t.doy)
                }

                function qe(t, e, i, o, n) {
                    var s;
                    return null == t ? kt(this, o, n).year : (s = Ot(t, o, n), e > s && (e = s), Xe.call(this, t, e, i, o, n))
                }

                function Xe(t, e, i, o, n) {
                    var s = xt(t, e, i, o, n),
                        r = gt(s.year, 0, s.dayOfYear);
                    return this.year(r.getUTCFullYear()), this.month(r.getUTCMonth()), this.date(r.getUTCDate()), this
                }

                function Ze(t) {
                    return null == t ? Math.ceil((this.month() + 1) / 3) : this.month(3 * (t - 1) + this.month() % 3)
                }

                function Ke(t) {
                    return kt(t, this._week.dow, this._week.doy).week
                }

                function Je() {
                    return this._week.dow
                }

                function Qe() {
                    return this._week.doy
                }

                function $e(t) {
                    var e = this.localeData().week(this);
                    return null == t ? e : this.add(7 * (t - e), "d")
                }

                function ti(t) {
                    var e = kt(this, 1, 4).week;
                    return null == t ? e : this.add(7 * (t - e), "d")
                }

                function ei(t, e) {
                    return "string" != typeof t ? t : isNaN(t) ? (t = e.weekdaysParse(t), "number" == typeof t ? t : null) : parseInt(t, 10)
                }

                function ii(t, e) {
                    return o(this._weekdays) ? this._weekdays[t.day()] : this._weekdays[this._weekdays.isFormat.test(e) ? "format" : "standalone"][t.day()]
                }

                function oi(t) {
                    return this._weekdaysShort[t.day()]
                }

                function ni(t) {
                    return this._weekdaysMin[t.day()]
                }

                function si(t, e, i) {
                    var o, n, s, r = t.toLocaleLowerCase();
                    if (!this._weekdaysParse)
                        for (this._weekdaysParse = [], this._shortWeekdaysParse = [], this._minWeekdaysParse = [], o = 0; 7 > o; ++o) s = h([2e3, 1]).day(o), this._minWeekdaysParse[o] = this.weekdaysMin(s, "").toLocaleLowerCase(), this._shortWeekdaysParse[o] = this.weekdaysShort(s, "").toLocaleLowerCase(), this._weekdaysParse[o] = this.weekdays(s, "").toLocaleLowerCase();
                    return i ? "dddd" === e ? (n = fo.call(this._weekdaysParse, r), -1 !== n ? n : null) : "ddd" === e ? (n = fo.call(this._shortWeekdaysParse, r), -1 !== n ? n : null) : (n = fo.call(this._minWeekdaysParse, r), -1 !== n ? n : null) : "dddd" === e ? (n = fo.call(this._weekdaysParse, r), -1 !== n ? n : (n = fo.call(this._shortWeekdaysParse, r), -1 !== n ? n : (n = fo.call(this._minWeekdaysParse, r), -1 !== n ? n : null))) : "ddd" === e ? (n = fo.call(this._shortWeekdaysParse, r), -1 !== n ? n : (n = fo.call(this._weekdaysParse, r), -1 !== n ? n : (n = fo.call(this._minWeekdaysParse, r), -1 !== n ? n : null))) : (n = fo.call(this._minWeekdaysParse, r), -1 !== n ? n : (n = fo.call(this._weekdaysParse, r), -1 !== n ? n : (n = fo.call(this._shortWeekdaysParse, r), -1 !== n ? n : null)))
                }

                function ri(t, e, i) {
                    var o, n, s;
                    if (this._weekdaysParseExact) return si.call(this, t, e, i);
                    for (this._weekdaysParse || (this._weekdaysParse = [], this._minWeekdaysParse = [], this._shortWeekdaysParse = [], this._fullWeekdaysParse = []), o = 0; 7 > o; o++) {
                        if (n = h([2e3, 1]).day(o), i && !this._fullWeekdaysParse[o] && (this._fullWeekdaysParse[o] = new RegExp("^" + this.weekdays(n, "").replace(".", ".?") + "$", "i"), this._shortWeekdaysParse[o] = new RegExp("^" + this.weekdaysShort(n, "").replace(".", ".?") + "$", "i"), this._minWeekdaysParse[o] = new RegExp("^" + this.weekdaysMin(n, "").replace(".", ".?") + "$", "i")), this._weekdaysParse[o] || (s = "^" + this.weekdays(n, "") + "|^" + this.weekdaysShort(n, "") + "|^" + this.weekdaysMin(n, ""), this._weekdaysParse[o] = new RegExp(s.replace(".", ""), "i")), i && "dddd" === e && this._fullWeekdaysParse[o].test(t)) return o;
                        if (i && "ddd" === e && this._shortWeekdaysParse[o].test(t)) return o;
                        if (i && "dd" === e && this._minWeekdaysParse[o].test(t)) return o;
                        if (!i && this._weekdaysParse[o].test(t)) return o
                    }
                }

                function ai(t) {
                    if (!this.isValid()) return null != t ? this : NaN;
                    var e = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
                    return null != t ? (t = ei(t, this.localeData()), this.add(t - e, "d")) : e
                }

                function hi(t) {
                    if (!this.isValid()) return null != t ? this : NaN;
                    var e = (this.day() + 7 - this.localeData()._week.dow) % 7;
                    return null == t ? e : this.add(t - e, "d")
                }

                function di(t) {
                    return this.isValid() ? null == t ? this.day() || 7 : this.day(this.day() % 7 ? t : t - 7) : null != t ? this : NaN
                }

                function li(t) {
                    return this._weekdaysParseExact ? (r(this, "_weekdaysRegex") || pi.call(this), t ? this._weekdaysStrictRegex : this._weekdaysRegex) : this._weekdaysStrictRegex && t ? this._weekdaysStrictRegex : this._weekdaysRegex
                }

                function ci(t) {
                    return this._weekdaysParseExact ? (r(this, "_weekdaysRegex") || pi.call(this), t ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex) : this._weekdaysShortStrictRegex && t ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex
                }

                function ui(t) {
                    return this._weekdaysParseExact ? (r(this, "_weekdaysRegex") || pi.call(this), t ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex) : this._weekdaysMinStrictRegex && t ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex
                }

                function pi() {
                    function t(t, e) {
                        return e.length - t.length
                    }
                    var e, i, o, n, s, r = [],
                        a = [],
                        d = [],
                        l = [];
                    for (e = 0; 7 > e; e++) i = h([2e3, 1]).day(e), o = this.weekdaysMin(i, ""), n = this.weekdaysShort(i, ""), s = this.weekdays(i, ""), r.push(o), a.push(n), d.push(s), l.push(o), l.push(n), l.push(s);
                    for (r.sort(t), a.sort(t), d.sort(t), l.sort(t), e = 0; 7 > e; e++) a[e] = Q(a[e]), d[e] = Q(d[e]), l[e] = Q(l[e]);
                    this._weekdaysRegex = new RegExp("^(" + l.join("|") + ")", "i"), this._weekdaysShortRegex = this._weekdaysRegex, this._weekdaysMinRegex = this._weekdaysRegex, this._weekdaysStrictRegex = new RegExp("^(" + d.join("|") + ")", "i"), this._weekdaysShortStrictRegex = new RegExp("^(" + a.join("|") + ")", "i"), this._weekdaysMinStrictRegex = new RegExp("^(" + r.join("|") + ")", "i")
                }

                function fi(t) {
                    var e = Math.round((this.clone().startOf("day") - this.clone().startOf("year")) / 864e5) + 1;
                    return null == t ? e : this.add(t - e, "d")
                }

                function mi() {
                    return this.hours() % 12 || 12
                }

                function vi() {
                    return this.hours() || 24
                }

                function gi(t, e) {
                    G(t, 0, 0, function() {
                        return this.localeData().meridiem(this.hours(), this.minutes(), e)
                    })
                }

                function yi(t, e) {
                    return e._meridiemParse
                }

                function bi(t) {
                    return "p" === (t + "").toLowerCase().charAt(0)
                }

                function wi(t, e, i) {
                    return t > 11 ? i ? "pm" : "PM" : i ? "am" : "AM"
                }

                function _i(t, e) {
                    e[Uo] = y(1e3 * ("0." + t))
                }

                function xi() {
                    return this._isUTC ? "UTC" : ""
                }

                function ki() {
                    return this._isUTC ? "Coordinated Universal Time" : ""
                }

                function Oi(t) {
                    return At(1e3 * t)
                }

                function Mi() {
                    return At.apply(null, arguments).parseZone()
                }

                function Di(t, e, i) {
                    var o = this._calendar[t];
                    return k(o) ? o.call(e, i) : o
                }

                function Si(t) {
                    var e = this._longDateFormat[t],
                        i = this._longDateFormat[t.toUpperCase()];
                    return e || !i ? e : (this._longDateFormat[t] = i.replace(/MMMM|MM|DD|dddd/g, function(t) {
                        return t.slice(1)
                    }), this._longDateFormat[t])
                }

                function Ci() {
                    return this._invalidDate
                }

                function Ti(t) {
                    return this._ordinal.replace("%d", t)
                }

                function Ei(t) {
                    return t
                }

                function Pi(t, e, i, o) {
                    var n = this._relativeTime[i];
                    return k(n) ? n(t, e, i, o) : n.replace(/%d/i, t)
                }

                function Ii(t, e) {
                    var i = this._relativeTime[t > 0 ? "future" : "past"];
                    return k(i) ? i(e) : i.replace(/%s/i, e)
                }

                function Ni(t, e, i, o) {
                    var n = R(),
                        s = h().set(o, e);
                    return n[i](s, t)
                }

                function Ri(t, e, i) {
                    if ("number" == typeof t && (e = t, t = void 0), t = t || "", null != e) return Ni(t, e, i, "month");
                    var o, n = [];
                    for (o = 0; 12 > o; o++) n[o] = Ni(t, o, i, "month");
                    return n
                }

                function zi(t, e, i, o) {
                    "boolean" == typeof t ? ("number" == typeof e && (i = e, e = void 0), e = e || "") : (e = t, i = e, t = !1, "number" == typeof e && (i = e, e = void 0), e = e || "");
                    var n = R(),
                        s = t ? n._week.dow : 0;
                    if (null != i) return Ni(e, (i + s) % 7, o, "day");
                    var r, a = [];
                    for (r = 0; 7 > r; r++) a[r] = Ni(e, (r + s) % 7, o, "day");
                    return a
                }

                function Li(t, e) {
                    return Ri(t, e, "months")
                }

                function Ai(t, e) {
                    return Ri(t, e, "monthsShort")
                }

                function Bi(t, e, i) {
                    return zi(t, e, i, "weekdays")
                }

                function Fi(t, e, i) {
                    return zi(t, e, i, "weekdaysShort")
                }

                function ji(t, e, i) {
                    return zi(t, e, i, "weekdaysMin")
                }

                function Hi() {
                    var t = this._data;
                    return this._milliseconds = jn(this._milliseconds), this._days = jn(this._days), this._months = jn(this._months), t.milliseconds = jn(t.milliseconds), t.seconds = jn(t.seconds), t.minutes = jn(t.minutes), t.hours = jn(t.hours), t.months = jn(t.months), t.years = jn(t.years), this
                }

                function Wi(t, e, i, o) {
                    var n = ne(e, i);
                    return t._milliseconds += o * n._milliseconds, t._days += o * n._days, t._months += o * n._months, t._bubble()
                }

                function Yi(t, e) {
                    return Wi(this, t, e, 1)
                }

                function Gi(t, e) {
                    return Wi(this, t, e, -1)
                }

                function Vi(t) {
                    return 0 > t ? Math.floor(t) : Math.ceil(t)
                }

                function Ui() {
                    var t, e, i, o, n, s = this._milliseconds,
                        r = this._days,
                        a = this._months,
                        h = this._data;
                    return s >= 0 && r >= 0 && a >= 0 || 0 >= s && 0 >= r && 0 >= a || (s += 864e5 * Vi(Xi(a) + r), r = 0, a = 0), h.milliseconds = s % 1e3, t = g(s / 1e3), h.seconds = t % 60, e = g(t / 60), h.minutes = e % 60, i = g(e / 60), h.hours = i % 24, r += g(i / 24), n = g(qi(r)), a += n, r -= Vi(Xi(n)), o = g(a / 12), a %= 12, h.days = r, h.months = a, h.years = o, this
                }

                function qi(t) {
                    return 4800 * t / 146097
                }

                function Xi(t) {
                    return 146097 * t / 4800
                }

                function Zi(t) {
                    var e, i, o = this._milliseconds;
                    if (t = A(t), "month" === t || "year" === t) return e = this._days + o / 864e5, i = this._months + qi(e), "month" === t ? i : i / 12;
                    switch (e = this._days + Math.round(Xi(this._months)), t) {
                        case "week":
                            return e / 7 + o / 6048e5;
                        case "day":
                            return e + o / 864e5;
                        case "hour":
                            return 24 * e + o / 36e5;
                        case "minute":
                            return 1440 * e + o / 6e4;
                        case "second":
                            return 86400 * e + o / 1e3;
                        case "millisecond":
                            return Math.floor(864e5 * e) + o;
                        default:
                            throw new Error("Unknown unit " + t)
                    }
                }

                function Ki() {
                    return this._milliseconds + 864e5 * this._days + this._months % 12 * 2592e6 + 31536e6 * y(this._months / 12)
                }

                function Ji(t) {
                    return function() {
                        return this.as(t)
                    }
                }

                function Qi(t) {
                    return t = A(t), this[t + "s"]()
                }

                function $i(t) {
                    return function() {
                        return this._data[t]
                    }
                }

                function to() {
                    return g(this.days() / 7)
                }

                function eo(t, e, i, o, n) {
                    return n.relativeTime(e || 1, !!i, t, o)
                }

                function io(t, e, i) {
                    var o = ne(t).abs(),
                        n = is(o.as("s")),
                        s = is(o.as("m")),
                        r = is(o.as("h")),
                        a = is(o.as("d")),
                        h = is(o.as("M")),
                        d = is(o.as("y")),
                        l = n < os.s && ["s", n] || 1 >= s && ["m"] || s < os.m && ["mm", s] || 1 >= r && ["h"] || r < os.h && ["hh", r] || 1 >= a && ["d"] || a < os.d && ["dd", a] || 1 >= h && ["M"] || h < os.M && ["MM", h] || 1 >= d && ["y"] || ["yy", d];
                    return l[2] = e, l[3] = +t > 0, l[4] = i, eo.apply(null, l)
                }

                function oo(t, e) {
                    return void 0 === os[t] ? !1 : void 0 === e ? os[t] : (os[t] = e, !0)
                }

                function no(t) {
                    var e = this.localeData(),
                        i = io(this, !t, e);
                    return t && (i = e.pastFuture(+this, i)), e.postformat(i)
                }

                function so() {
                    var t, e, i, o = ns(this._milliseconds) / 1e3,
                        n = ns(this._days),
                        s = ns(this._months);
                    t = g(o / 60), e = g(t / 60), o %= 60, t %= 60, i = g(s / 12), s %= 12;
                    var r = i,
                        a = s,
                        h = n,
                        d = e,
                        l = t,
                        c = o,
                        u = this.asSeconds();
                    return u ? (0 > u ? "-" : "") + "P" + (r ? r + "Y" : "") + (a ? a + "M" : "") + (h ? h + "D" : "") + (d || l || c ? "T" : "") + (d ? d + "H" : "") + (l ? l + "M" : "") + (c ? c + "S" : "") : "P0D"
                }
                var ro, ao;
                ao = Array.prototype.some ? Array.prototype.some : function(t) {
                    for (var e = Object(this), i = e.length >>> 0, o = 0; i > o; o++)
                        if (o in e && t.call(this, e[o], o, e)) return !0;
                    return !1
                };
                var ho = e.momentProperties = [],
                    lo = !1,
                    co = {};
                e.suppressDeprecationWarnings = !1, e.deprecationHandler = null;
                var uo;
                uo = Object.keys ? Object.keys : function(t) {
                    var e, i = [];
                    for (e in t) r(t, e) && i.push(e);
                    return i
                };
                var po, fo, mo = {},
                    vo = {},
                    go = /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,
                    yo = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,
                    bo = {},
                    wo = {},
                    _o = /\d/,
                    xo = /\d\d/,
                    ko = /\d{3}/,
                    Oo = /\d{4}/,
                    Mo = /[+-]?\d{6}/,
                    Do = /\d\d?/,
                    So = /\d\d\d\d?/,
                    Co = /\d\d\d\d\d\d?/,
                    To = /\d{1,3}/,
                    Eo = /\d{1,4}/,
                    Po = /[+-]?\d{1,6}/,
                    Io = /\d+/,
                    No = /[+-]?\d+/,
                    Ro = /Z|[+-]\d\d:?\d\d/gi,
                    zo = /Z|[+-]\d\d(?::?\d\d)?/gi,
                    Lo = /[+-]?\d+(\.\d{1,3})?/,
                    Ao = /[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,
                    Bo = {},
                    Fo = {},
                    jo = 0,
                    Ho = 1,
                    Wo = 2,
                    Yo = 3,
                    Go = 4,
                    Vo = 5,
                    Uo = 6,
                    qo = 7,
                    Xo = 8;
                fo = Array.prototype.indexOf ? Array.prototype.indexOf : function(t) {
                    var e;
                    for (e = 0; e < this.length; ++e)
                        if (this[e] === t) return e;
                    return -1
                }, G("M", ["MM", 2], "Mo", function() {
                    return this.month() + 1
                }), G("MMM", 0, 0, function(t) {
                    return this.localeData().monthsShort(this, t)
                }), G("MMMM", 0, 0, function(t) {
                    return this.localeData().months(this, t)
                }), L("month", "M"), Z("M", Do), Z("MM", Do, xo), Z("MMM", function(t, e) {
                    return e.monthsShortRegex(t)
                }), Z("MMMM", function(t, e) {
                    return e.monthsRegex(t)
                }), $(["M", "MM"], function(t, e) {
                    e[Ho] = y(t) - 1
                }), $(["MMM", "MMMM"], function(t, e, i, o) {
                    var n = i._locale.monthsParse(t, o, i._strict);
                    null != n ? e[Ho] = n : l(i).invalidMonth = t
                });
                var Zo = /D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,
                    Ko = "January_February_March_April_May_June_July_August_September_October_November_December".split("_"),
                    Jo = "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),
                    Qo = Ao,
                    $o = Ao,
                    tn = /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,
                    en = /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,
                    on = /Z|[+-]\d\d(?::?\d\d)?/,
                    nn = [
                        ["YYYYYY-MM-DD", /[+-]\d{6}-\d\d-\d\d/],
                        ["YYYY-MM-DD", /\d{4}-\d\d-\d\d/],
                        ["GGGG-[W]WW-E", /\d{4}-W\d\d-\d/],
                        ["GGGG-[W]WW", /\d{4}-W\d\d/, !1],
                        ["YYYY-DDD", /\d{4}-\d{3}/],
                        ["YYYY-MM", /\d{4}-\d\d/, !1],
                        ["YYYYYYMMDD", /[+-]\d{10}/],
                        ["YYYYMMDD", /\d{8}/],
                        ["GGGG[W]WWE", /\d{4}W\d{3}/],
                        ["GGGG[W]WW", /\d{4}W\d{2}/, !1],
                        ["YYYYDDD", /\d{7}/]
                    ],
                    sn = [
                        ["HH:mm:ss.SSSS", /\d\d:\d\d:\d\d\.\d+/],
                        ["HH:mm:ss,SSSS", /\d\d:\d\d:\d\d,\d+/],
                        ["HH:mm:ss", /\d\d:\d\d:\d\d/],
                        ["HH:mm", /\d\d:\d\d/],
                        ["HHmmss.SSSS", /\d\d\d\d\d\d\.\d+/],
                        ["HHmmss,SSSS", /\d\d\d\d\d\d,\d+/],
                        ["HHmmss", /\d\d\d\d\d\d/],
                        ["HHmm", /\d\d\d\d/],
                        ["HH", /\d\d/]
                    ],
                    rn = /^\/?Date\((\-?\d+)/i;
                e.createFromInputFallback = _("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.", function(t) {
                    t._d = new Date(t._i + (t._useUTC ? " UTC" : ""))
                }), G("Y", 0, 0, function() {
                    var t = this.year();
                    return 9999 >= t ? "" + t : "+" + t
                }), G(0, ["YY", 2], 0, function() {
                    return this.year() % 100
                }), G(0, ["YYYY", 4], 0, "year"), G(0, ["YYYYY", 5], 0, "year"), G(0, ["YYYYYY", 6, !0], 0, "year"), L("year", "y"), Z("Y", No), Z("YY", Do, xo), Z("YYYY", Eo, Oo), Z("YYYYY", Po, Mo), Z("YYYYYY", Po, Mo), $(["YYYYY", "YYYYYY"], jo), $("YYYY", function(t, i) {
                    i[jo] = 2 === t.length ? e.parseTwoDigitYear(t) : y(t)
                }), $("YY", function(t, i) {
                    i[jo] = e.parseTwoDigitYear(t)
                }), $("Y", function(t, e) {
                    e[jo] = parseInt(t, 10)
                }), e.parseTwoDigitYear = function(t) {
                    return y(t) + (y(t) > 68 ? 1900 : 2e3)
                };
                var an = F("FullYear", !0);
                e.ISO_8601 = function() {};
                var hn = _("moment().min is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548", function() {
                        var t = At.apply(null, arguments);
                        return this.isValid() && t.isValid() ? this > t ? this : t : u()
                    }),
                    dn = _("moment().max is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548", function() {
                        var t = At.apply(null, arguments);
                        return this.isValid() && t.isValid() ? t > this ? this : t : u()
                    }),
                    ln = function() {
                        return Date.now ? Date.now() : +new Date
                    };
                Yt("Z", ":"), Yt("ZZ", ""), Z("Z", zo), Z("ZZ", zo), $(["Z", "ZZ"], function(t, e, i) {
                    i._useUTC = !0, i._tzm = Gt(zo, t)
                });
                var cn = /([\+\-]|\d\d)/gi;
                e.updateOffset = function() {};
                var un = /^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,
                    pn = /^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;
                ne.fn = Ht.prototype;
                var fn = de(1, "add"),
                    mn = de(-1, "subtract");
                e.defaultFormat = "YYYY-MM-DDTHH:mm:ssZ", e.defaultFormatUtc = "YYYY-MM-DDTHH:mm:ss[Z]";
                var vn = _("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.", function(t) {
                    return void 0 === t ? this.localeData() : this.locale(t)
                });
                G(0, ["gg", 2], 0, function() {
                    return this.weekYear() % 100
                }), G(0, ["GG", 2], 0, function() {
                    return this.isoWeekYear() % 100
                }), We("gggg", "weekYear"), We("ggggg", "weekYear"), We("GGGG", "isoWeekYear"), We("GGGGG", "isoWeekYear"), L("weekYear", "gg"), L("isoWeekYear", "GG"), Z("G", No), Z("g", No), Z("GG", Do, xo), Z("gg", Do, xo), Z("GGGG", Eo, Oo), Z("gggg", Eo, Oo), Z("GGGGG", Po, Mo), Z("ggggg", Po, Mo), tt(["gggg", "ggggg", "GGGG", "GGGGG"], function(t, e, i, o) {
                    e[o.substr(0, 2)] = y(t)
                }), tt(["gg", "GG"], function(t, i, o, n) {
                    i[n] = e.parseTwoDigitYear(t)
                }), G("Q", 0, "Qo", "quarter"), L("quarter", "Q"), Z("Q", _o), $("Q", function(t, e) {
                    e[Ho] = 3 * (y(t) - 1)
                }), G("w", ["ww", 2], "wo", "week"), G("W", ["WW", 2], "Wo", "isoWeek"), L("week", "w"), L("isoWeek", "W"), Z("w", Do), Z("ww", Do, xo), Z("W", Do), Z("WW", Do, xo), tt(["w", "ww", "W", "WW"], function(t, e, i, o) {
                    e[o.substr(0, 1)] = y(t)
                });
                var gn = {
                    dow: 0,
                    doy: 6
                };
                G("D", ["DD", 2], "Do", "date"), L("date", "D"), Z("D", Do), Z("DD", Do, xo), Z("Do", function(t, e) {
                    return t ? e._ordinalParse : e._ordinalParseLenient
                }), $(["D", "DD"], Wo), $("Do", function(t, e) {
                    e[Wo] = y(t.match(Do)[0], 10)
                });
                var yn = F("Date", !0);
                G("d", 0, "do", "day"), G("dd", 0, 0, function(t) {
                    return this.localeData().weekdaysMin(this, t)
                }), G("ddd", 0, 0, function(t) {
                    return this.localeData().weekdaysShort(this, t)
                }), G("dddd", 0, 0, function(t) {
                    return this.localeData().weekdays(this, t)
                }), G("e", 0, 0, "weekday"), G("E", 0, 0, "isoWeekday"), L("day", "d"), L("weekday", "e"), L("isoWeekday", "E"), Z("d", Do), Z("e", Do), Z("E", Do), Z("dd", function(t, e) {
                    return e.weekdaysMinRegex(t)
                }), Z("ddd", function(t, e) {
                    return e.weekdaysShortRegex(t)
                }), Z("dddd", function(t, e) {
                    return e.weekdaysRegex(t)
                }), tt(["dd", "ddd", "dddd"], function(t, e, i, o) {
                    var n = i._locale.weekdaysParse(t, o, i._strict);
                    null != n ? e.d = n : l(i).invalidWeekday = t
                }), tt(["d", "e", "E"], function(t, e, i, o) {
                    e[o] = y(t)
                });
                var bn = "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),
                    wn = "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),
                    _n = "Su_Mo_Tu_We_Th_Fr_Sa".split("_"),
                    xn = Ao,
                    kn = Ao,
                    On = Ao;
                G("DDD", ["DDDD", 3], "DDDo", "dayOfYear"), L("dayOfYear", "DDD"), Z("DDD", To), Z("DDDD", ko), $(["DDD", "DDDD"], function(t, e, i) {
                    i._dayOfYear = y(t)
                }), G("H", ["HH", 2], 0, "hour"), G("h", ["hh", 2], 0, mi), G("k", ["kk", 2], 0, vi), G("hmm", 0, 0, function() {
                    return "" + mi.apply(this) + Y(this.minutes(), 2)
                }), G("hmmss", 0, 0, function() {
                    return "" + mi.apply(this) + Y(this.minutes(), 2) + Y(this.seconds(), 2)
                }), G("Hmm", 0, 0, function() {
                    return "" + this.hours() + Y(this.minutes(), 2)
                }), G("Hmmss", 0, 0, function() {
                    return "" + this.hours() + Y(this.minutes(), 2) + Y(this.seconds(), 2)
                }), gi("a", !0), gi("A", !1), L("hour", "h"), Z("a", yi), Z("A", yi), Z("H", Do), Z("h", Do), Z("HH", Do, xo), Z("hh", Do, xo), Z("hmm", So), Z("hmmss", Co), Z("Hmm", So), Z("Hmmss", Co), $(["H", "HH"], Yo), $(["a", "A"], function(t, e, i) {
                    i._isPm = i._locale.isPM(t), i._meridiem = t
                }), $(["h", "hh"], function(t, e, i) {
                    e[Yo] = y(t), l(i).bigHour = !0
                }), $("hmm", function(t, e, i) {
                    var o = t.length - 2;
                    e[Yo] = y(t.substr(0, o)), e[Go] = y(t.substr(o)), l(i).bigHour = !0
                }), $("hmmss", function(t, e, i) {
                    var o = t.length - 4,
                        n = t.length - 2;
                    e[Yo] = y(t.substr(0, o)), e[Go] = y(t.substr(o, 2)), e[Vo] = y(t.substr(n)), l(i).bigHour = !0
                }), $("Hmm", function(t, e, i) {
                    var o = t.length - 2;
                    e[Yo] = y(t.substr(0, o)), e[Go] = y(t.substr(o))
                }), $("Hmmss", function(t, e, i) {
                    var o = t.length - 4,
                        n = t.length - 2;
                    e[Yo] = y(t.substr(0, o)), e[Go] = y(t.substr(o, 2)), e[Vo] = y(t.substr(n))
                });
                var Mn = /[ap]\.?m?\.?/i,
                    Dn = F("Hours", !0);
                G("m", ["mm", 2], 0, "minute"), L("minute", "m"), Z("m", Do), Z("mm", Do, xo), $(["m", "mm"], Go);
                var Sn = F("Minutes", !1);
                G("s", ["ss", 2], 0, "second"), L("second", "s"), Z("s", Do), Z("ss", Do, xo), $(["s", "ss"], Vo);
                var Cn = F("Seconds", !1);
                G("S", 0, 0, function() {
                    return ~~(this.millisecond() / 100)
                }), G(0, ["SS", 2], 0, function() {
                    return ~~(this.millisecond() / 10)
                }), G(0, ["SSS", 3], 0, "millisecond"), G(0, ["SSSS", 4], 0, function() {
                    return 10 * this.millisecond()
                }), G(0, ["SSSSS", 5], 0, function() {
                    return 100 * this.millisecond()
                }), G(0, ["SSSSSS", 6], 0, function() {
                    return 1e3 * this.millisecond()
                }), G(0, ["SSSSSSS", 7], 0, function() {
                    return 1e4 * this.millisecond()
                }), G(0, ["SSSSSSSS", 8], 0, function() {
                    return 1e5 * this.millisecond()
                }), G(0, ["SSSSSSSSS", 9], 0, function() {
                    return 1e6 * this.millisecond()
                }), L("millisecond", "ms"), Z("S", To, _o), Z("SS", To, xo), Z("SSS", To, ko);
                var Tn;
                for (Tn = "SSSS"; Tn.length <= 9; Tn += "S") Z(Tn, Io);
                for (Tn = "S"; Tn.length <= 9; Tn += "S") $(Tn, _i);
                var En = F("Milliseconds", !1);
                G("z", 0, 0, "zoneAbbr"), G("zz", 0, 0, "zoneName");
                var Pn = m.prototype;
                Pn.add = fn, Pn.calendar = ce, Pn.clone = ue, Pn.diff = be, Pn.endOf = Pe, Pn.format = ke, Pn.from = Oe, Pn.fromNow = Me, Pn.to = De, Pn.toNow = Se, Pn.get = W, Pn.invalidAt = je, Pn.isAfter = pe, Pn.isBefore = fe, Pn.isBetween = me, Pn.isSame = ve, Pn.isSameOrAfter = ge, Pn.isSameOrBefore = ye, Pn.isValid = Be, Pn.lang = vn, Pn.locale = Ce, Pn.localeData = Te, Pn.max = dn, Pn.min = hn, Pn.parsingFlags = Fe, Pn.set = W, Pn.startOf = Ee, Pn.subtract = mn, Pn.toArray = ze, Pn.toObject = Le, Pn.toDate = Re, Pn.toISOString = xe, Pn.toJSON = Ae, Pn.toString = _e, Pn.unix = Ne, Pn.valueOf = Ie, Pn.creationData = He, Pn.year = an, Pn.isLeapYear = wt, Pn.weekYear = Ye, Pn.isoWeekYear = Ge, Pn.quarter = Pn.quarters = Ze, Pn.month = ht, Pn.daysInMonth = dt, Pn.week = Pn.weeks = $e, Pn.isoWeek = Pn.isoWeeks = ti, Pn.weeksInYear = Ue, Pn.isoWeeksInYear = Ve, Pn.date = yn, Pn.day = Pn.days = ai, Pn.weekday = hi, Pn.isoWeekday = di, Pn.dayOfYear = fi, Pn.hour = Pn.hours = Dn, Pn.minute = Pn.minutes = Sn, Pn.second = Pn.seconds = Cn, Pn.millisecond = Pn.milliseconds = En, Pn.utcOffset = qt, Pn.utc = Zt, Pn.local = Kt, Pn.parseZone = Jt, Pn.hasAlignedHourOffset = Qt, Pn.isDST = $t, Pn.isDSTShifted = te, Pn.isLocal = ee, Pn.isUtcOffset = ie, Pn.isUtc = oe, Pn.isUTC = oe, Pn.zoneAbbr = xi, Pn.zoneName = ki, Pn.dates = _("dates accessor is deprecated. Use date instead.", yn), Pn.months = _("months accessor is deprecated. Use month instead", ht), Pn.years = _("years accessor is deprecated. Use year instead", an), Pn.zone = _("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779", Xt);
                var In = Pn,
                    Nn = {
                        sameDay: "[Today at] LT",
                        nextDay: "[Tomorrow at] LT",
                        nextWeek: "dddd [at] LT",
                        lastDay: "[Yesterday at] LT",
                        lastWeek: "[Last] dddd [at] LT",
                        sameElse: "L"
                    },
                    Rn = {
                        LTS: "h:mm:ss A",
                        LT: "h:mm A",
                        L: "MM/DD/YYYY",
                        LL: "MMMM D, YYYY",
                        LLL: "MMMM D, YYYY h:mm A",
                        LLLL: "dddd, MMMM D, YYYY h:mm A"
                    },
                    zn = "Invalid date",
                    Ln = "%d",
                    An = /\d{1,2}/,
                    Bn = {
                        future: "in %s",
                        past: "%s ago",
                        s: "a few seconds",
                        m: "a minute",
                        mm: "%d minutes",
                        h: "an hour",
                        hh: "%d hours",
                        d: "a day",
                        dd: "%d days",
                        M: "a month",
                        MM: "%d months",
                        y: "a year",
                        yy: "%d years"
                    },
                    Fn = S.prototype;
                Fn._calendar = Nn, Fn.calendar = Di, Fn._longDateFormat = Rn, Fn.longDateFormat = Si, Fn._invalidDate = zn, Fn.invalidDate = Ci, Fn._ordinal = Ln, Fn.ordinal = Ti, Fn._ordinalParse = An, Fn.preparse = Ei, Fn.postformat = Ei, Fn._relativeTime = Bn, Fn.relativeTime = Pi, Fn.pastFuture = Ii, Fn.set = M, Fn.months = ot, Fn._months = Ko, Fn.monthsShort = nt, Fn._monthsShort = Jo, Fn.monthsParse = rt, Fn._monthsRegex = $o, Fn.monthsRegex = ct, Fn._monthsShortRegex = Qo, Fn.monthsShortRegex = lt, Fn.week = Ke, Fn._week = gn, Fn.firstDayOfYear = Qe, Fn.firstDayOfWeek = Je, Fn.weekdays = ii, Fn._weekdays = bn, Fn.weekdaysMin = ni, Fn._weekdaysMin = _n, Fn.weekdaysShort = oi, Fn._weekdaysShort = wn, Fn.weekdaysParse = ri, Fn._weekdaysRegex = xn, Fn.weekdaysRegex = li, Fn._weekdaysShortRegex = kn, Fn.weekdaysShortRegex = ci, Fn._weekdaysMinRegex = On, Fn.weekdaysMinRegex = ui, Fn.isPM = bi, Fn._meridiemParse = Mn, Fn.meridiem = wi, P("en", {
                    ordinalParse: /\d{1,2}(th|st|nd|rd)/,
                    ordinal: function(t) {
                        var e = t % 10,
                            i = 1 === y(t % 100 / 10) ? "th" : 1 === e ? "st" : 2 === e ? "nd" : 3 === e ? "rd" : "th";
                        return t + i
                    }
                }), e.lang = _("moment.lang is deprecated. Use moment.locale instead.", P), e.langData = _("moment.langData is deprecated. Use moment.localeData instead.", R);
                var jn = Math.abs,
                    Hn = Ji("ms"),
                    Wn = Ji("s"),
                    Yn = Ji("m"),
                    Gn = Ji("h"),
                    Vn = Ji("d"),
                    Un = Ji("w"),
                    qn = Ji("M"),
                    Xn = Ji("y"),
                    Zn = $i("milliseconds"),
                    Kn = $i("seconds"),
                    Jn = $i("minutes"),
                    Qn = $i("hours"),
                    $n = $i("days"),
                    ts = $i("months"),
                    es = $i("years"),
                    is = Math.round,
                    os = {
                        s: 45,
                        m: 45,
                        h: 22,
                        d: 26,
                        M: 11
                    },
                    ns = Math.abs,
                    ss = Ht.prototype;
                ss.abs = Hi, ss.add = Yi, ss.subtract = Gi, ss.as = Zi, ss.asMilliseconds = Hn, ss.asSeconds = Wn, ss.asMinutes = Yn, ss.asHours = Gn, ss.asDays = Vn, ss.asWeeks = Un, ss.asMonths = qn, ss.asYears = Xn, ss.valueOf = Ki, ss._bubble = Ui, ss.get = Qi, ss.milliseconds = Zn, ss.seconds = Kn, ss.minutes = Jn, ss.hours = Qn, ss.days = $n, ss.weeks = to, ss.months = ts, ss.years = es, ss.humanize = no, ss.toISOString = so, ss.toString = so, ss.toJSON = so, ss.locale = Ce, ss.localeData = Te, ss.toIsoString = _("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)", so), ss.lang = vn, G("X", 0, 0, "unix"), G("x", 0, 0, "valueOf"), Z("x", No), Z("X", Lo), $("X", function(t, e, i) {
                    i._d = new Date(1e3 * parseFloat(t, 10))
                }), $("x", function(t, e, i) {
                    i._d = new Date(y(t))
                }), e.version = "2.13.0", i(At), e.fn = In, e.min = Ft, e.max = jt, e.now = ln, e.utc = h, e.unix = Oi, e.months = Li, e.isDate = n, e.locale = P, e.invalid = u, e.duration = ne, e.isMoment = v, e.weekdays = Bi, e.parseZone = Mi, e.localeData = R, e.isDuration = Wt, e.monthsShort = Ai, e.weekdaysMin = ji, e.defineLocale = I, e.updateLocale = N, e.locales = z, e.weekdaysShort = Fi, e.normalizeUnits = A, e.relativeTimeThreshold = oo, e.prototype = In;
                var rs = e;
                return rs
            })
        }).call(e, i(4)(t))
    }, function(t, e) {
        t.exports = function(t) {
            return t.webpackPolyfill || (t.deprecate = function() {}, t.paths = [], t.children = [], t.webpackPolyfill = 1), t
        }
    }, function(t, e) {
        function i(t) {
            throw new Error("Cannot find module '" + t + "'.")
        }
        i.keys = function() {
            return []
        }, i.resolve = i, t.exports = i, i.id = 5
    }, function(t, e) {
        (function(e) {
            function i(t, e, i) {
                var o = e && i || 0,
                    n = 0;
                for (e = e || [], t.toLowerCase().replace(/[0-9a-f]{2}/g, function(t) {
                        16 > n && (e[o + n++] = c[t])
                    }); 16 > n;) e[o + n++] = 0;
                return e
            }

            function o(t, e) {
                var i = e || 0,
                    o = l;
                return o[t[i++]] + o[t[i++]] + o[t[i++]] + o[t[i++]] + "-" + o[t[i++]] + o[t[i++]] + "-" + o[t[i++]] + o[t[i++]] + "-" + o[t[i++]] + o[t[i++]] + "-" + o[t[i++]] + o[t[i++]] + o[t[i++]] + o[t[i++]] + o[t[i++]] + o[t[i++]]
            }

            function n(t, e, i) {
                var n = e && i || 0,
                    s = e || [];
                t = t || {};
                var r = void 0 !== t.clockseq ? t.clockseq : m,
                    a = void 0 !== t.msecs ? t.msecs : (new Date).getTime(),
                    h = void 0 !== t.nsecs ? t.nsecs : g + 1,
                    d = a - v + (h - g) / 1e4;
                if (0 > d && void 0 === t.clockseq && (r = r + 1 & 16383), (0 > d || a > v) && void 0 === t.nsecs && (h = 0), h >= 1e4) throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");
                v = a, g = h, m = r, a += 122192928e5;
                var l = (1e4 * (268435455 & a) + h) % 4294967296;
                s[n++] = l >>> 24 & 255, s[n++] = l >>> 16 & 255, s[n++] = l >>> 8 & 255, s[n++] = 255 & l;
                var c = a / 4294967296 * 1e4 & 268435455;
                s[n++] = c >>> 8 & 255, s[n++] = 255 & c, s[n++] = c >>> 24 & 15 | 16, s[n++] = c >>> 16 & 255, s[n++] = r >>> 8 | 128, s[n++] = 255 & r;
                for (var u = t.node || f, p = 0; 6 > p; p++) s[n + p] = u[p];
                return e ? e : o(s)
            }

            function s(t, e, i) {
                var n = e && i || 0;
                "string" == typeof t && (e = "binary" == t ? new Array(16) : null, t = null), t = t || {};
                var s = t.random || (t.rng || r)();
                if (s[6] = 15 & s[6] | 64, s[8] = 63 & s[8] | 128, e)
                    for (var a = 0; 16 > a; a++) e[n + a] = s[a];
                return e || o(s)
            }
            var r, a = "undefined" != typeof window ? window : "undefined" != typeof e ? e : null;
            if (a && a.crypto && crypto.getRandomValues) {
                var h = new Uint8Array(16);
                r = function() {
                    return crypto.getRandomValues(h), h
                }
            }
            if (!r) {
                var d = new Array(16);
                r = function() {
                    for (var t, e = 0; 16 > e; e++) 0 === (3 & e) && (t = 4294967296 * Math.random()), d[e] = t >>> ((3 & e) << 3) & 255;
                    return d
                }
            }
            for (var l = [], c = {}, u = 0; 256 > u; u++) l[u] = (u + 256).toString(16).substr(1), c[l[u]] = u;
            var p = r(),
                f = [1 | p[0], p[1], p[2], p[3], p[4], p[5]],
                m = 16383 & (p[6] << 8 | p[7]),
                v = 0,
                g = 0,
                y = s;
            y.v1 = n, y.v4 = s, y.parse = i, y.unparse = o, t.exports = y
        }).call(e, function() {
            return this
        }())
    }, function(t, e, i) {
        e.util = i(1), e.DOMutil = i(8), e.DataSet = i(9), e.DataView = i(11), e.Queue = i(10), e.Graph3d = i(12), e.graph3d = {
            Camera: i(16),
            Filter: i(17),
            Point2d: i(15),
            Point3d: i(14),
            Slider: i(18),
            StepNumber: i(19)
        }, e.moment = i(2), e.Hammer = i(20), e.keycharm = i(23)
    }, function(t, e) {
        e.prepareElements = function(t) {
            for (var e in t) t.hasOwnProperty(e) && (t[e].redundant = t[e].used, t[e].used = [])
        }, e.cleanupElements = function(t) {
            for (var e in t)
                if (t.hasOwnProperty(e) && t[e].redundant) {
                    for (var i = 0; i < t[e].redundant.length; i++) t[e].redundant[i].parentNode.removeChild(t[e].redundant[i]);
                    t[e].redundant = []
                }
        }, e.resetElements = function(t) {
            e.prepareElements(t), e.cleanupElements(t), e.prepareElements(t)
        }, e.getSVGElement = function(t, e, i) {
            var o;
            return e.hasOwnProperty(t) ? e[t].redundant.length > 0 ? (o = e[t].redundant[0], e[t].redundant.shift()) : (o = document.createElementNS("http://www.w3.org/2000/svg", t), i.appendChild(o)) : (o = document.createElementNS("http://www.w3.org/2000/svg", t), e[t] = {
                used: [],
                redundant: []
            }, i.appendChild(o)), e[t].used.push(o), o
        }, e.getDOMElement = function(t, e, i, o) {
            var n;
            return e.hasOwnProperty(t) ? e[t].redundant.length > 0 ? (n = e[t].redundant[0], e[t].redundant.shift()) : (n = document.createElement(t), void 0 !== o ? i.insertBefore(n, o) : i.appendChild(n)) : (n = document.createElement(t), e[t] = {
                used: [],
                redundant: []
            }, void 0 !== o ? i.insertBefore(n, o) : i.appendChild(n)), e[t].used.push(n), n
        }, e.drawPoint = function(t, i, o, n, s, r) {
            var a;
            if ("circle" == o.style ? (a = e.getSVGElement("circle", n, s), a.setAttributeNS(null, "cx", t), a.setAttributeNS(null, "cy", i), a.setAttributeNS(null, "r", .5 * o.size)) : (a = e.getSVGElement("rect", n, s), a.setAttributeNS(null, "x", t - .5 * o.size), a.setAttributeNS(null, "y", i - .5 * o.size), a.setAttributeNS(null, "width", o.size), a.setAttributeNS(null, "height", o.size)), void 0 !== o.styles && a.setAttributeNS(null, "style", o.styles), a.setAttributeNS(null, "class", o.className + " vis-point"), r) {
                var h = e.getSVGElement("text", n, s);
                r.xOffset && (t += r.xOffset), r.yOffset && (i += r.yOffset), r.content && (h.textContent = r.content), r.className && h.setAttributeNS(null, "class", r.className + " vis-label"), h.setAttributeNS(null, "x", t), h.setAttributeNS(null, "y", i)
            }
            return a
        }, e.drawBar = function(t, i, o, n, s, r, a, h) {
            if (0 != n) {
                0 > n && (n *= -1, i -= n);
                var d = e.getSVGElement("rect", r, a);
                d.setAttributeNS(null, "x", t - .5 * o), d.setAttributeNS(null, "y", i), d.setAttributeNS(null, "width", o), d.setAttributeNS(null, "height", n), d.setAttributeNS(null, "class", s), h && d.setAttributeNS(null, "style", h)
            }
        }
    }, function(t, e, i) {
        function o(t, e) {
            if (t && !Array.isArray(t) && (e = t, t = null), this._options = e || {}, this._data = {}, this.length = 0, this._fieldId = this._options.fieldId || "id", this._type = {}, this._options.type)
                for (var i = Object.keys(this._options.type), o = 0, n = i.length; n > o; o++) {
                    var s = i[o],
                        r = this._options.type[s];
                    "Date" == r || "ISODate" == r || "ASPDate" == r ? this._type[s] = "Date" : this._type[s] = r
                }
            if (this._options.convert) throw new Error('Option "convert" is deprecated. Use "type" instead.');
            this._subscribers = {}, t && this.add(t), this.setOptions(e)
        }
        var n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            } : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol ? "symbol" : typeof t
            },
            s = i(1),
            r = i(10);
        o.prototype.setOptions = function(t) {
            t && void 0 !== t.queue && (t.queue === !1 ? this._queue && (this._queue.destroy(), delete this._queue) : (this._queue || (this._queue = r.extend(this, {
                replace: ["add", "update", "remove"]
            })), "object" === n(t.queue) && this._queue.setOptions(t.queue)))
        }, o.prototype.on = function(t, e) {
            var i = this._subscribers[t];
            i || (i = [], this._subscribers[t] = i), i.push({
                callback: e
            })
        }, o.prototype.subscribe = function() {
            throw new Error("DataSet.subscribe is deprecated. Use DataSet.on instead.")
        }, o.prototype.off = function(t, e) {
            var i = this._subscribers[t];
            i && (this._subscribers[t] = i.filter(function(t) {
                return t.callback != e
            }))
        }, o.prototype.unsubscribe = function() {
            throw new Error("DataSet.unsubscribe is deprecated. Use DataSet.off instead.")
        }, o.prototype._trigger = function(t, e, i) {
            if ("*" == t) throw new Error("Cannot trigger event *");
            var o = [];
            t in this._subscribers && (o = o.concat(this._subscribers[t])), "*" in this._subscribers && (o = o.concat(this._subscribers["*"]));
            for (var n = 0, s = o.length; s > n; n++) {
                var r = o[n];
                r.callback && r.callback(t, e, i || null)
            }
        }, o.prototype.add = function(t, e) {
            var i, o = [],
                n = this;
            if (Array.isArray(t))
                for (var s = 0, r = t.length; r > s; s++) i = n._addItem(t[s]), o.push(i);
            else {
                if (!(t instanceof Object)) throw new Error("Unknown dataType");
                i = n._addItem(t), o.push(i)
            }
            return o.length && this._trigger("add", {
                items: o
            }, e), o
        }, o.prototype.update = function(t, e) {
            var i = [],
                o = [],
                n = [],
                r = [],
                a = this,
                h = a._fieldId,
                d = function(t) {
                    var e = t[h];
                    if (a._data[e]) {
                        var d = s.extend({}, a._data[e]);
                        e = a._updateItem(t), o.push(e), r.push(t), n.push(d)
                    } else e = a._addItem(t), i.push(e)
                };
            if (Array.isArray(t))
                for (var l = 0, c = t.length; c > l; l++) t[l] instanceof Object ? d(t[l]) : console.warn("Ignoring input item, which is not an object at index " + l);
            else {
                if (!(t instanceof Object)) throw new Error("Unknown dataType");
                d(t)
            }
            if (i.length && this._trigger("add", {
                    items: i
                }, e), o.length) {
                var u = {
                    items: o,
                    oldData: n,
                    data: r
                };
                this._trigger("update", u, e)
            }
            return i.concat(o)
        }, o.prototype.get = function(t) {
            var e, i, o, n = this,
                r = s.getType(arguments[0]);
            "String" == r || "Number" == r ? (e = arguments[0], o = arguments[1]) : "Array" == r ? (i = arguments[0], o = arguments[1]) : o = arguments[0];
            var a;
            if (o && o.returnType) {
                var h = ["Array", "Object"];
                a = -1 == h.indexOf(o.returnType) ? "Array" : o.returnType
            } else a = "Array";
            var d, l, c, u, p, f = o && o.type || this._options.type,
                m = o && o.filter,
                v = [];
            if (void 0 != e) d = n._getItem(e, f), d && m && !m(d) && (d = null);
            else if (void 0 != i)
                for (u = 0, p = i.length; p > u; u++) d = n._getItem(i[u], f), m && !m(d) || v.push(d);
            else
                for (l = Object.keys(this._data), u = 0, p = l.length; p > u; u++) c = l[u], d = n._getItem(c, f), m && !m(d) || v.push(d);
            if (o && o.order && void 0 == e && this._sort(v, o.order), o && o.fields) {
                var g = o.fields;
                if (void 0 != e) d = this._filterFields(d, g);
                else
                    for (u = 0, p = v.length; p > u; u++) v[u] = this._filterFields(v[u], g)
            }
            if ("Object" == a) {
                var y, b = {};
                for (u = 0, p = v.length; p > u; u++) y = v[u], b[y.id] = y;
                return b
            }
            return void 0 != e ? d : v
        }, o.prototype.getIds = function(t) {
            var e, i, o, n, s, r = this._data,
                a = t && t.filter,
                h = t && t.order,
                d = t && t.type || this._options.type,
                l = Object.keys(r),
                c = [];
            if (a)
                if (h) {
                    for (s = [], e = 0, i = l.length; i > e; e++) o = l[e], n = this._getItem(o, d), a(n) && s.push(n);
                    for (this._sort(s, h), e = 0, i = s.length; i > e; e++) c.push(s[e][this._fieldId])
                } else
                    for (e = 0, i = l.length; i > e; e++) o = l[e], n = this._getItem(o, d), a(n) && c.push(n[this._fieldId]);
            else if (h) {
                for (s = [], e = 0, i = l.length; i > e; e++) o = l[e], s.push(r[o]);
                for (this._sort(s, h), e = 0, i = s.length; i > e; e++) c.push(s[e][this._fieldId])
            } else
                for (e = 0, i = l.length; i > e; e++) o = l[e], n = r[o], c.push(n[this._fieldId]);
            return c
        }, o.prototype.getDataSet = function() {
            return this
        }, o.prototype.forEach = function(t, e) {
            var i, o, n, s, r = e && e.filter,
                a = e && e.type || this._options.type,
                h = this._data,
                d = Object.keys(h);
            if (e && e.order) {
                var l = this.get(e);
                for (i = 0, o = l.length; o > i; i++) n = l[i], s = n[this._fieldId], t(n, s)
            } else
                for (i = 0, o = d.length; o > i; i++) s = d[i], n = this._getItem(s, a), r && !r(n) || t(n, s)
        }, o.prototype.map = function(t, e) {
            var i, o, n, s, r = e && e.filter,
                a = e && e.type || this._options.type,
                h = [],
                d = this._data,
                l = Object.keys(d);
            for (i = 0, o = l.length; o > i; i++) n = l[i], s = this._getItem(n, a), r && !r(s) || h.push(t(s, n));
            return e && e.order && this._sort(h, e.order), h
        }, o.prototype._filterFields = function(t, e) {
            if (!t) return t;
            var i, o, n = {},
                s = Object.keys(t),
                r = s.length;
            if (Array.isArray(e))
                for (i = 0; r > i; i++) o = s[i], -1 != e.indexOf(o) && (n[o] = t[o]);
            else
                for (i = 0; r > i; i++) o = s[i], e.hasOwnProperty(o) && (n[e[o]] = t[o]);
            return n
        }, o.prototype._sort = function(t, e) {
            if (s.isString(e)) {
                var i = e;
                t.sort(function(t, e) {
                    var o = t[i],
                        n = e[i];
                    return o > n ? 1 : n > o ? -1 : 0
                })
            } else {
                if ("function" != typeof e) throw new TypeError("Order must be a function or a string");
                t.sort(e)
            }
        }, o.prototype.remove = function(t, e) {
            var i, o, n, s = [];
            if (Array.isArray(t))
                for (i = 0, o = t.length; o > i; i++) n = this._remove(t[i]), null != n && s.push(n);
            else n = this._remove(t), null != n && s.push(n);
            return s.length && this._trigger("remove", {
                items: s
            }, e), s
        }, o.prototype._remove = function(t) {
            if (s.isNumber(t) || s.isString(t)) {
                if (this._data[t]) return delete this._data[t], this.length--, t
            } else if (t instanceof Object) {
                var e = t[this._fieldId];
                if (void 0 !== e && this._data[e]) return delete this._data[e], this.length--, e
            }
            return null
        }, o.prototype.clear = function(t) {
            var e = Object.keys(this._data);
            return this._data = {}, this.length = 0, this._trigger("remove", {
                items: e
            }, t), e
        }, o.prototype.max = function(t) {
            var e, i, o = this._data,
                n = Object.keys(o),
                s = null,
                r = null;
            for (e = 0, i = n.length; i > e; e++) {
                var a = n[e],
                    h = o[a],
                    d = h[t];
                null != d && (!s || d > r) && (s = h, r = d)
            }
            return s
        }, o.prototype.min = function(t) {
            var e, i, o = this._data,
                n = Object.keys(o),
                s = null,
                r = null;
            for (e = 0, i = n.length; i > e; e++) {
                var a = n[e],
                    h = o[a],
                    d = h[t];
                null != d && (!s || r > d) && (s = h, r = d)
            }
            return s
        }, o.prototype.distinct = function(t) {
            var e, i, o, n = this._data,
                r = Object.keys(n),
                a = [],
                h = this._options.type && this._options.type[t] || null,
                d = 0;
            for (e = 0, o = r.length; o > e; e++) {
                var l = r[e],
                    c = n[l],
                    u = c[t],
                    p = !1;
                for (i = 0; d > i; i++)
                    if (a[i] == u) {
                        p = !0;
                        break
                    }
                p || void 0 === u || (a[d] = u, d++)
            }
            if (h)
                for (e = 0, o = a.length; o > e; e++) a[e] = s.convert(a[e], h);
            return a
        }, o.prototype._addItem = function(t) {
            var e = t[this._fieldId];
            if (void 0 != e) {
                if (this._data[e]) throw new Error("Cannot add item: item with id " + e + " already exists")
            } else e = s.randomUUID(), t[this._fieldId] = e;
            var i, o, n = {},
                r = Object.keys(t);
            for (i = 0, o = r.length; o > i; i++) {
                var a = r[i],
                    h = this._type[a];
                n[a] = s.convert(t[a], h)
            }
            return this._data[e] = n, this.length++, e
        }, o.prototype._getItem = function(t, e) {
            var i, o, n, r, a = this._data[t];
            if (!a) return null;
            var h = {},
                d = Object.keys(a);
            if (e)
                for (n = 0, r = d.length; r > n; n++) i = d[n], o = a[i], h[i] = s.convert(o, e[i]);
            else
                for (n = 0, r = d.length; r > n; n++) i = d[n], o = a[i], h[i] = o;
            return h
        }, o.prototype._updateItem = function(t) {
            var e = t[this._fieldId];
            if (void 0 == e) throw new Error("Cannot update item: item has no id (item: " + JSON.stringify(t) + ")");
            var i = this._data[e];
            if (!i) throw new Error("Cannot update item: no item with id " + e + " found");
            for (var o = Object.keys(t), n = 0, r = o.length; r > n; n++) {
                var a = o[n],
                    h = this._type[a];
                i[a] = s.convert(t[a], h)
            }
            return e
        }, t.exports = o
    }, function(t, e) {
        function i(t) {
            this.delay = null, this.max = 1 / 0, this._queue = [], this._timeout = null, this._extended = null, this.setOptions(t)
        }
        i.prototype.setOptions = function(t) {
            t && "undefined" != typeof t.delay && (this.delay = t.delay), t && "undefined" != typeof t.max && (this.max = t.max), this._flushIfNeeded()
        }, i.extend = function(t, e) {
            var o = new i(e);
            if (void 0 !== t.flush) throw new Error("Target object already has a property flush");
            t.flush = function() {
                o.flush()
            };
            var n = [{
                name: "flush",
                original: void 0
            }];
            if (e && e.replace)
                for (var s = 0; s < e.replace.length; s++) {
                    var r = e.replace[s];
                    n.push({
                        name: r,
                        original: t[r]
                    }), o.replace(t, r)
                }
            return o._extended = {
                object: t,
                methods: n
            }, o
        }, i.prototype.destroy = function() {
            if (this.flush(), this._extended) {
                for (var t = this._extended.object, e = this._extended.methods, i = 0; i < e.length; i++) {
                    var o = e[i];
                    o.original ? t[o.name] = o.original : delete t[o.name]
                }
                this._extended = null
            }
        }, i.prototype.replace = function(t, e) {
            var i = this,
                o = t[e];
            if (!o) throw new Error("Method " + e + " undefined");
            t[e] = function() {
                for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                i.queue({
                    args: t,
                    fn: o,
                    context: this
                })
            }
        }, i.prototype.queue = function(t) {
            "function" == typeof t ? this._queue.push({
                fn: t
            }) : this._queue.push(t), this._flushIfNeeded()
        }, i.prototype._flushIfNeeded = function() {
            if (this._queue.length > this.max && this.flush(), clearTimeout(this._timeout), this.queue.length > 0 && "number" == typeof this.delay) {
                var t = this;
                this._timeout = setTimeout(function() {
                    t.flush()
                }, this.delay)
            }
        }, i.prototype.flush = function() {
            for (; this._queue.length > 0;) {
                var t = this._queue.shift();
                t.fn.apply(t.context || t.fn, t.args || [])
            }
        }, t.exports = i
    }, function(t, e, i) {
        function o(t, e) {
            this._data = null, this._ids = {}, this.length = 0, this._options = e || {}, this._fieldId = "id", this._subscribers = {};
            var i = this;
            this.listener = function() {
                i._onEvent.apply(i, arguments)
            }, this.setData(t)
        }
        var n = i(1),
            s = i(9);
        o.prototype.setData = function(t) {
            var e, i, o, n;
            if (this._data && (this._data.off && this._data.off("*", this.listener), e = Object.keys(this._ids), this._ids = {}, this.length = 0, this._trigger("remove", {
                    items: e
                })), this._data = t, this._data) {
                for (this._fieldId = this._options.fieldId || this._data && this._data.options && this._data.options.fieldId || "id", e = this._data.getIds({
                        filter: this._options && this._options.filter
                    }), o = 0, n = e.length; n > o; o++) i = e[o], this._ids[i] = !0;
                this.length = e.length, this._trigger("add", {
                    items: e
                }), this._data.on && this._data.on("*", this.listener)
            }
        }, o.prototype.refresh = function() {
            var t, e, i, o = this._data.getIds({
                    filter: this._options && this._options.filter
                }),
                n = Object.keys(this._ids),
                s = {},
                r = [],
                a = [];
            for (e = 0, i = o.length; i > e; e++) t = o[e], s[t] = !0, this._ids[t] || (r.push(t), this._ids[t] = !0);
            for (e = 0, i = n.length; i > e; e++) t = n[e], s[t] || (a.push(t), delete this._ids[t]);
            this.length += r.length - a.length, r.length && this._trigger("add", {
                items: r
            }), a.length && this._trigger("remove", {
                items: a
            })
        }, o.prototype.get = function(t) {
            var e, i, o, s = this,
                r = n.getType(arguments[0]);
            "String" == r || "Number" == r || "Array" == r ? (e = arguments[0], i = arguments[1], o = arguments[2]) : (i = arguments[0], o = arguments[1]);
            var a = n.extend({}, this._options, i);
            this._options.filter && i && i.filter && (a.filter = function(t) {
                return s._options.filter(t) && i.filter(t)
            });
            var h = [];
            return void 0 != e && h.push(e), h.push(a), h.push(o), this._data && this._data.get.apply(this._data, h)
        }, o.prototype.getIds = function(t) {
            var e;
            if (this._data) {
                var i, o = this._options.filter;
                i = t && t.filter ? o ? function(e) {
                    return o(e) && t.filter(e)
                } : t.filter : o, e = this._data.getIds({
                    filter: i,
                    order: t && t.order
                })
            } else e = [];
            return e
        }, o.prototype.map = function(t, e) {
            var i = [];
            if (this._data) {
                var o, n = this._options.filter;
                o = e && e.filter ? n ? function(t) {
                    return n(t) && e.filter(t)
                } : e.filter : n, i = this._data.map(t, {
                    filter: o,
                    order: e && e.order
                })
            } else i = [];
            return i
        }, o.prototype.getDataSet = function() {
            for (var t = this; t instanceof o;) t = t._data;
            return t || null
        }, o.prototype._onEvent = function(t, e, i) {
            var o, n, s, r, a = e && e.items,
                h = this._data,
                d = [],
                l = [],
                c = [],
                u = [];
            if (a && h) {
                switch (t) {
                    case "add":
                        for (o = 0, n = a.length; n > o; o++) s = a[o], r = this.get(s), r && (this._ids[s] = !0, l.push(s));
                        break;
                    case "update":
                        for (o = 0, n = a.length; n > o; o++) s = a[o], r = this.get(s), r ? this._ids[s] ? (c.push(s), d.push(e.data[o])) : (this._ids[s] = !0, l.push(s)) : this._ids[s] && (delete this._ids[s], u.push(s));
                        break;
                    case "remove":
                        for (o = 0, n = a.length; n > o; o++) s = a[o], this._ids[s] && (delete this._ids[s], u.push(s))
                }
                this.length += l.length - u.length, l.length && this._trigger("add", {
                    items: l
                }, i), c.length && this._trigger("update", {
                    items: c,
                    data: d
                }, i), u.length && this._trigger("remove", {
                    items: u
                }, i)
            }
        }, o.prototype.on = s.prototype.on, o.prototype.off = s.prototype.off, o.prototype._trigger = s.prototype._trigger, o.prototype.subscribe = o.prototype.on, o.prototype.unsubscribe = o.prototype.off, t.exports = o
    }, function(t, e, i) {
        function o(t, e, i) {
            if (!(this instanceof o)) throw new SyntaxError("Constructor must be called with the new operator");
            this.containerElement = t, this.width = "400px", this.height = "400px", this.margin = 10, this.defaultXCenter = "55%", this.defaultYCenter = "50%", this.xLabel = "x", this.yLabel = "y", this.zLabel = "z";
            var n = function(t) {
                return t
            };
            this.xValueLabel = n, this.yValueLabel = n, this.zValueLabel = n, this.filterLabel = "time", this.legendLabel = "value", this.style = o.STYLE.DOT, this.showPerspective = !0, this.showGrid = !0, this.keepAspectRatio = !0, this.showShadow = !1, this.showGrayBottom = !1, this.showTooltip = !1, this.verticalRatio = .5, this.animationInterval = 1e3, this.animationPreload = !1, this.camera = new p, this.camera.setArmRotation(1, .5), this.camera.setArmLength(1.7), this.eye = new c(0, 0, -1), this.dataTable = null, this.dataPoints = null, this.colX = void 0, this.colY = void 0, this.colZ = void 0, this.colValue = void 0, this.colFilter = void 0, this.xMin = 0, this.xStep = void 0, this.xMax = 1, this.yMin = 0, this.yStep = void 0, this.yMax = 1, this.zMin = 0, this.zStep = void 0, this.zMax = 1, this.valueMin = 0, this.valueMax = 1, this.xBarWidth = 1, this.yBarWidth = 1, this.axisColor = "#4D4D4D", this.gridColor = "#D3D3D3", this.dataColor = {
                fill: "#7DC1FF",
                stroke: "#3267D2",
                strokeWidth: 1
            }, this.dotSizeRatio = .02, this.create(), this.setOptions(i), e && this.setData(e)
        }

        function n(t) {
            return "clientX" in t ? t.clientX : t.targetTouches[0] && t.targetTouches[0].clientX || 0
        }

        function s(t) {
            return "clientY" in t ? t.clientY : t.targetTouches[0] && t.targetTouches[0].clientY || 0
        }
        var r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            } : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol ? "symbol" : typeof t
            },
            a = i(13),
            h = i(9),
            d = i(11),
            l = i(1),
            c = i(14),
            u = i(15),
            p = i(16),
            f = i(17),
            m = i(18),
            v = i(19);
        a(o.prototype), o.prototype._setScale = function() {
            this.scale = new c(1 / (this.xMax - this.xMin), 1 / (this.yMax - this.yMin), 1 / (this.zMax - this.zMin)), this.keepAspectRatio && (this.scale.x < this.scale.y ? this.scale.y = this.scale.x : this.scale.x = this.scale.y), this.scale.z *= this.verticalRatio, this.scale.value = 1 / (this.valueMax - this.valueMin);
            var t = (this.xMax + this.xMin) / 2 * this.scale.x,
                e = (this.yMax + this.yMin) / 2 * this.scale.y,
                i = (this.zMax + this.zMin) / 2 * this.scale.z;
            this.camera.setArmLocation(t, e, i)
        }, o.prototype._convert3Dto2D = function(t) {
            var e = this._convertPointToTranslation(t);
            return this._convertTranslationToScreen(e)
        }, o.prototype._convertPointToTranslation = function(t) {
            var e = t.x * this.scale.x,
                i = t.y * this.scale.y,
                o = t.z * this.scale.z,
                n = this.camera.getCameraLocation().x,
                s = this.camera.getCameraLocation().y,
                r = this.camera.getCameraLocation().z,
                a = Math.sin(this.camera.getCameraRotation().x),
                h = Math.cos(this.camera.getCameraRotation().x),
                d = Math.sin(this.camera.getCameraRotation().y),
                l = Math.cos(this.camera.getCameraRotation().y),
                u = Math.sin(this.camera.getCameraRotation().z),
                p = Math.cos(this.camera.getCameraRotation().z),
                f = l * (u * (i - s) + p * (e - n)) - d * (o - r),
                m = a * (l * (o - r) + d * (u * (i - s) + p * (e - n))) + h * (p * (i - s) - u * (e - n)),
                v = h * (l * (o - r) + d * (u * (i - s) + p * (e - n))) - a * (p * (i - s) - u * (e - n));
            return new c(f, m, v)
        }, o.prototype._convertTranslationToScreen = function(t) {
            var e, i, o = this.eye.x,
                n = this.eye.y,
                s = this.eye.z,
                r = t.x,
                a = t.y,
                h = t.z;
            return this.showPerspective ? (e = (r - o) * (s / h), i = (a - n) * (s / h)) : (e = r * -(s / this.camera.getArmLength()), i = a * -(s / this.camera.getArmLength())), new u(this.xcenter + e * this.frame.canvas.clientWidth, this.ycenter - i * this.frame.canvas.clientWidth)
        }, o.prototype._setBackgroundColor = function(t) {
            var e = "white",
                i = "gray",
                o = 1;
            if ("string" == typeof t) e = t, i = "none", o = 0;
            else if ("object" === ("undefined" == typeof t ? "undefined" : r(t))) void 0 !== t.fill && (e = t.fill), void 0 !== t.stroke && (i = t.stroke), void 0 !== t.strokeWidth && (o = t.strokeWidth);
            else if (void 0 !== t) throw "Unsupported type of backgroundColor";
            this.frame.style.backgroundColor = e, this.frame.style.borderColor = i, this.frame.style.borderWidth = o + "px", this.frame.style.borderStyle = "solid"
        }, o.STYLE = {
            BAR: 0,
            BARCOLOR: 1,
            BARSIZE: 2,
            DOT: 3,
            DOTLINE: 4,
            DOTCOLOR: 5,
            DOTSIZE: 6,
            GRID: 7,
            LINE: 8,
            SURFACE: 9
        }, o.prototype._getStyleNumber = function(t) {
            switch (t) {
                case "dot":
                    return o.STYLE.DOT;
                case "dot-line":
                    return o.STYLE.DOTLINE;
                case "dot-color":
                    return o.STYLE.DOTCOLOR;
                case "dot-size":
                    return o.STYLE.DOTSIZE;
                case "line":
                    return o.STYLE.LINE;
                case "grid":
                    return o.STYLE.GRID;
                case "surface":
                    return o.STYLE.SURFACE;
                case "bar":
                    return o.STYLE.BAR;
                case "bar-color":
                    return o.STYLE.BARCOLOR;
                case "bar-size":
                    return o.STYLE.BARSIZE
            }
            return -1
        }, o.prototype._determineColumnIndexes = function(t, e) {
            if (this.style === o.STYLE.DOT || this.style === o.STYLE.DOTLINE || this.style === o.STYLE.LINE || this.style === o.STYLE.GRID || this.style === o.STYLE.SURFACE || this.style === o.STYLE.BAR) this.colX = 0, this.colY = 1, this.colZ = 2, this.colValue = void 0, t.getNumberOfColumns() > 3 && (this.colFilter = 3);
            else {
                if (this.style !== o.STYLE.DOTCOLOR && this.style !== o.STYLE.DOTSIZE && this.style !== o.STYLE.BARCOLOR && this.style !== o.STYLE.BARSIZE) throw 'Unknown style "' + this.style + '"';
                this.colX = 0, this.colY = 1, this.colZ = 2, this.colValue = 3, t.getNumberOfColumns() > 4 && (this.colFilter = 4)
            }
        }, o.prototype.getNumberOfRows = function(t) {
            return t.length
        }, o.prototype.getNumberOfColumns = function(t) {
            var e = 0;
            for (var i in t[0]) t[0].hasOwnProperty(i) && e++;
            return e
        }, o.prototype.getDistinctValues = function(t, e) {
            for (var i = [], o = 0; o < t.length; o++) - 1 == i.indexOf(t[o][e]) && i.push(t[o][e]);
            return i
        }, o.prototype.getColumnRange = function(t, e) {
            for (var i = {
                    min: t[0][e],
                    max: t[0][e]
                }, o = 0; o < t.length; o++) i.min > t[o][e] && (i.min = t[o][e]), i.max < t[o][e] && (i.max = t[o][e]);
            return i
        }, o.prototype._dataInitialize = function(t, e) {
            var i = this;
            if (this.dataSet && this.dataSet.off("*", this._onChange), void 0 !== t) {
                Array.isArray(t) && (t = new h(t));
                var n;
                if (!(t instanceof h || t instanceof d)) throw new Error("Array, DataSet, or DataView expected");
                if (n = t.get(), 0 != n.length) {
                    this.dataSet = t, this.dataTable = n, this._onChange = function() {
                        i.setData(i.dataSet)
                    }, this.dataSet.on("*", this._onChange), this.colX = "x", this.colY = "y", this.colZ = "z", this.colValue = "style", this.colFilter = "filter", n[0].hasOwnProperty("filter") && void 0 === this.dataFilter && (this.dataFilter = new f(t, this.colFilter, this), this.dataFilter.setOnLoadCallback(function() {
                        i.redraw()
                    }));
                    var s = this.style == o.STYLE.BAR || this.style == o.STYLE.BARCOLOR || this.style == o.STYLE.BARSIZE;
                    if (s) {
                        if (void 0 !== this.defaultXBarWidth) this.xBarWidth = this.defaultXBarWidth;
                        else {
                            var r = this.getDistinctValues(n, this.colX);
                            this.xBarWidth = r[1] - r[0] || 1
                        }
                        if (void 0 !== this.defaultYBarWidth) this.yBarWidth = this.defaultYBarWidth;
                        else {
                            var a = this.getDistinctValues(n, this.colY);
                            this.yBarWidth = a[1] - a[0] || 1
                        }
                    }
                    var l = this.getColumnRange(n, this.colX);
                    s && (l.min -= this.xBarWidth / 2, l.max += this.xBarWidth / 2), this.xMin = void 0 !== this.defaultXMin ? this.defaultXMin : l.min, this.xMax = void 0 !== this.defaultXMax ? this.defaultXMax : l.max, this.xMax <= this.xMin && (this.xMax = this.xMin + 1), this.xStep = void 0 !== this.defaultXStep ? this.defaultXStep : (this.xMax - this.xMin) / 5;
                    var c = this.getColumnRange(n, this.colY);
                    s && (c.min -= this.yBarWidth / 2, c.max += this.yBarWidth / 2), this.yMin = void 0 !== this.defaultYMin ? this.defaultYMin : c.min, this.yMax = void 0 !== this.defaultYMax ? this.defaultYMax : c.max, this.yMax <= this.yMin && (this.yMax = this.yMin + 1), this.yStep = void 0 !== this.defaultYStep ? this.defaultYStep : (this.yMax - this.yMin) / 5;
                    var u = this.getColumnRange(n, this.colZ);
                    if (this.zMin = void 0 !== this.defaultZMin ? this.defaultZMin : u.min, this.zMax = void 0 !== this.defaultZMax ? this.defaultZMax : u.max, this.zMax <= this.zMin && (this.zMax = this.zMin + 1), this.zStep = void 0 !== this.defaultZStep ? this.defaultZStep : (this.zMax - this.zMin) / 5, void 0 !== this.colValue) {
                        var p = this.getColumnRange(n, this.colValue);
                        this.valueMin = void 0 !== this.defaultValueMin ? this.defaultValueMin : p.min, this.valueMax = void 0 !== this.defaultValueMax ? this.defaultValueMax : p.max, this.valueMax <= this.valueMin && (this.valueMax = this.valueMin + 1)
                    }
                    this._setScale()
                }
            }
        }, o.prototype._getDataPoints = function(t) {
            var e, i, n, s, r, a, h = [];
            if (this.style === o.STYLE.GRID || this.style === o.STYLE.SURFACE) {
                var d = [],
                    l = [];
                for (n = 0; n < this.getNumberOfRows(t); n++) e = t[n][this.colX] || 0, i = t[n][this.colY] || 0, -1 === d.indexOf(e) && d.push(e), -1 === l.indexOf(i) && l.push(i);
                var u = function(t, e) {
                    return t - e
                };
                d.sort(u), l.sort(u);
                var p = [];
                for (n = 0; n < t.length; n++) {
                    e = t[n][this.colX] || 0, i = t[n][this.colY] || 0, s = t[n][this.colZ] || 0;
                    var f = d.indexOf(e),
                        m = l.indexOf(i);
                    void 0 === p[f] && (p[f] = []);
                    var v = new c;
                    v.x = e, v.y = i, v.z = s, r = {}, r.point = v, r.trans = void 0, r.screen = void 0, r.bottom = new c(e, i, this.zMin), p[f][m] = r, h.push(r)
                }
                for (e = 0; e < p.length; e++)
                    for (i = 0; i < p[e].length; i++) p[e][i] && (p[e][i].pointRight = e < p.length - 1 ? p[e + 1][i] : void 0, p[e][i].pointTop = i < p[e].length - 1 ? p[e][i + 1] : void 0, p[e][i].pointCross = e < p.length - 1 && i < p[e].length - 1 ? p[e + 1][i + 1] : void 0)
            } else
                for (n = 0; n < t.length; n++) a = new c, a.x = t[n][this.colX] || 0, a.y = t[n][this.colY] || 0, a.z = t[n][this.colZ] || 0, void 0 !== this.colValue && (a.value = t[n][this.colValue] || 0), r = {}, r.point = a, r.bottom = new c(a.x, a.y, this.zMin), r.trans = void 0, r.screen = void 0, h.push(r);
            return h
        }, o.prototype.create = function() {
            for (; this.containerElement.hasChildNodes();) this.containerElement.removeChild(this.containerElement.firstChild);
            this.frame = document.createElement("div"), this.frame.style.position = "relative", this.frame.style.overflow = "hidden", this.frame.canvas = document.createElement("canvas"), this.frame.canvas.style.position = "relative", this.frame.appendChild(this.frame.canvas);
            var t = document.createElement("DIV");
            t.style.color = "red", t.style.fontWeight = "bold", t.style.padding = "10px", t.innerHTML = "Error: your browser does not support HTML canvas", this.frame.canvas.appendChild(t), this.frame.filter = document.createElement("div"), this.frame.filter.style.position = "absolute", this.frame.filter.style.bottom = "0px", this.frame.filter.style.left = "0px", this.frame.filter.style.width = "100%", this.frame.appendChild(this.frame.filter);
            var e = this,
                i = function(t) {
                    e._onMouseDown(t)
                },
                o = function(t) {
                    e._onTouchStart(t)
                },
                n = function(t) {
                    e._onWheel(t)
                },
                s = function(t) {
                    e._onTooltip(t)
                };
            l.addEventListener(this.frame.canvas, "keydown", onkeydown), l.addEventListener(this.frame.canvas, "mousedown", i), l.addEventListener(this.frame.canvas, "touchstart", o), l.addEventListener(this.frame.canvas, "mousewheel", n), l.addEventListener(this.frame.canvas, "mousemove", s), this.containerElement.appendChild(this.frame)
        }, o.prototype.setSize = function(t, e) {
            this.frame.style.width = t, this.frame.style.height = e, this._resizeCanvas()
        }, o.prototype._resizeCanvas = function() {
            this.frame.canvas.style.width = "100%", this.frame.canvas.style.height = "100%", this.frame.canvas.width = this.frame.canvas.clientWidth, this.frame.canvas.height = this.frame.canvas.clientHeight, this.frame.filter.style.width = this.frame.canvas.clientWidth - 20 + "px"
        }, o.prototype.animationStart = function() {
            if (!this.frame.filter || !this.frame.filter.slider) throw "No animation available";
            this.frame.filter.slider.play()
        }, o.prototype.animationStop = function() {
            this.frame.filter && this.frame.filter.slider && this.frame.filter.slider.stop()
        }, o.prototype._resizeCenter = function() {
            "%" === this.defaultXCenter.charAt(this.defaultXCenter.length - 1) ? this.xcenter = parseFloat(this.defaultXCenter) / 100 * this.frame.canvas.clientWidth : this.xcenter = parseFloat(this.defaultXCenter), "%" === this.defaultYCenter.charAt(this.defaultYCenter.length - 1) ? this.ycenter = parseFloat(this.defaultYCenter) / 100 * (this.frame.canvas.clientHeight - this.frame.filter.clientHeight) : this.ycenter = parseFloat(this.defaultYCenter)
        }, o.prototype.setCameraPosition = function(t) {
            void 0 !== t && (void 0 !== t.horizontal && void 0 !== t.vertical && this.camera.setArmRotation(t.horizontal, t.vertical), void 0 !== t.distance && this.camera.setArmLength(t.distance), this.redraw())
        }, o.prototype.getCameraPosition = function() {
            var t = this.camera.getArmRotation();
            return t.distance = this.camera.getArmLength(), t
        }, o.prototype._readData = function(t) {
            this._dataInitialize(t, this.style), this.dataFilter ? this.dataPoints = this.dataFilter._getDataPoints() : this.dataPoints = this._getDataPoints(this.dataTable), this._redrawFilter()
        }, o.prototype.setData = function(t) {
            this._readData(t), this.redraw(), this.animationAutoStart && this.dataFilter && this.animationStart()
        }, o.prototype.setOptions = function(t) {
            var e = void 0;
            if (this.animationStop(), void 0 !== t) {
                if (void 0 !== t.width && (this.width = t.width), void 0 !== t.height && (this.height = t.height), void 0 !== t.xCenter && (this.defaultXCenter = t.xCenter), void 0 !== t.yCenter && (this.defaultYCenter = t.yCenter), void 0 !== t.filterLabel && (this.filterLabel = t.filterLabel), void 0 !== t.legendLabel && (this.legendLabel = t.legendLabel), void 0 !== t.xLabel && (this.xLabel = t.xLabel), void 0 !== t.yLabel && (this.yLabel = t.yLabel), void 0 !== t.zLabel && (this.zLabel = t.zLabel), void 0 !== t.xValueLabel && (this.xValueLabel = t.xValueLabel), void 0 !== t.yValueLabel && (this.yValueLabel = t.yValueLabel), void 0 !== t.zValueLabel && (this.zValueLabel = t.zValueLabel), void 0 !== t.dotSizeRatio && (this.dotSizeRatio = t.dotSizeRatio), void 0 !== t.style) {
                    var i = this._getStyleNumber(t.style); - 1 !== i && (this.style = i)
                }
                void 0 !== t.showGrid && (this.showGrid = t.showGrid), void 0 !== t.showPerspective && (this.showPerspective = t.showPerspective), void 0 !== t.showShadow && (this.showShadow = t.showShadow), void 0 !== t.tooltip && (this.showTooltip = t.tooltip), void 0 !== t.showAnimationControls && (this.showAnimationControls = t.showAnimationControls), void 0 !== t.keepAspectRatio && (this.keepAspectRatio = t.keepAspectRatio), void 0 !== t.verticalRatio && (this.verticalRatio = t.verticalRatio), void 0 !== t.animationInterval && (this.animationInterval = t.animationInterval), void 0 !== t.animationPreload && (this.animationPreload = t.animationPreload), void 0 !== t.animationAutoStart && (this.animationAutoStart = t.animationAutoStart), void 0 !== t.xBarWidth && (this.defaultXBarWidth = t.xBarWidth), void 0 !== t.yBarWidth && (this.defaultYBarWidth = t.yBarWidth), void 0 !== t.xMin && (this.defaultXMin = t.xMin), void 0 !== t.xStep && (this.defaultXStep = t.xStep), void 0 !== t.xMax && (this.defaultXMax = t.xMax), void 0 !== t.yMin && (this.defaultYMin = t.yMin), void 0 !== t.yStep && (this.defaultYStep = t.yStep), void 0 !== t.yMax && (this.defaultYMax = t.yMax), void 0 !== t.zMin && (this.defaultZMin = t.zMin), void 0 !== t.zStep && (this.defaultZStep = t.zStep), void 0 !== t.zMax && (this.defaultZMax = t.zMax), void 0 !== t.valueMin && (this.defaultValueMin = t.valueMin), void 0 !== t.valueMax && (this.defaultValueMax = t.valueMax), void 0 !== t.backgroundColor && this._setBackgroundColor(t.backgroundColor), void 0 !== t.cameraPosition && (e = t.cameraPosition), void 0 !== e && (this.camera.setArmRotation(e.horizontal, e.vertical), this.camera.setArmLength(e.distance)), void 0 !== t.axisColor && (this.axisColor = t.axisColor), void 0 !== t.gridColor && (this.gridColor = t.gridColor), t.dataColor && ("string" == typeof t.dataColor ? (this.dataColor.fill = t.dataColor, this.dataColor.stroke = t.dataColor) : (t.dataColor.fill && (this.dataColor.fill = t.dataColor.fill), t.dataColor.stroke && (this.dataColor.stroke = t.dataColor.stroke), void 0 !== t.dataColor.strokeWidth && (this.dataColor.strokeWidth = t.dataColor.strokeWidth)))
            }
            this.setSize(this.width, this.height), this.dataTable && this.setData(this.dataTable), this.animationAutoStart && this.dataFilter && this.animationStart()
        }, o.prototype.redraw = function() {
            if (void 0 === this.dataPoints) throw "Error: graph data not initialized";
            this._resizeCanvas(), this._resizeCenter(), this._redrawSlider(), this._redrawClear(), this._redrawAxis(), this.style === o.STYLE.GRID || this.style === o.STYLE.SURFACE ? this._redrawDataGrid() : this.style === o.STYLE.LINE ? this._redrawDataLine() : this.style === o.STYLE.BAR || this.style === o.STYLE.BARCOLOR || this.style === o.STYLE.BARSIZE ? this._redrawDataBar() : this._redrawDataDot(), this._redrawInfo(), this._redrawLegend()
        }, o.prototype._redrawClear = function() {
            var t = this.frame.canvas,
                e = t.getContext("2d");
            e.clearRect(0, 0, t.width, t.height)
        }, o.prototype._redrawLegend = function() {
            var t;
            if (this.style === o.STYLE.DOTCOLOR || this.style === o.STYLE.DOTSIZE) {
                var e, i, n = this.frame.clientWidth * this.dotSizeRatio;
                this.style === o.STYLE.DOTSIZE ? (e = n / 2, i = n / 2 + 2 * n) : (e = 20, i = 20);
                var s = Math.max(.25 * this.frame.clientHeight, 100),
                    r = this.margin,
                    a = this.frame.clientWidth - this.margin,
                    h = a - i,
                    d = r + s
            }
            var l = this.frame.canvas,
                c = l.getContext("2d");
            if (c.lineWidth = 1, c.font = "14px arial", this.style === o.STYLE.DOTCOLOR) {
                var u = 0,
                    p = s;
                for (t = u; p > t; t++) {
                    var f = (t - u) / (p - u),
                        m = 240 * f,
                        g = this._hsv2rgb(m, 1, 1);
                    c.strokeStyle = g, c.beginPath(), c.moveTo(h, r + t), c.lineTo(a, r + t), c.stroke()
                }
                c.strokeStyle = this.axisColor, c.strokeRect(h, r, i, s)
            }
            if (this.style === o.STYLE.DOTSIZE && (c.strokeStyle = this.axisColor, c.fillStyle = this.dataColor.fill, c.beginPath(), c.moveTo(h, r), c.lineTo(a, r), c.lineTo(a - i + e, d), c.lineTo(h, d), c.closePath(), c.fill(), c.stroke()), this.style === o.STYLE.DOTCOLOR || this.style === o.STYLE.DOTSIZE) {
                var y = 5,
                    b = new v(this.valueMin, this.valueMax, (this.valueMax - this.valueMin) / 5, !0);
                for (b.start(), b.getCurrent() < this.valueMin && b.next(); !b.end();) t = d - (b.getCurrent() - this.valueMin) / (this.valueMax - this.valueMin) * s, c.beginPath(), c.moveTo(h - y, t), c.lineTo(h, t), c.stroke(), c.textAlign = "right", c.textBaseline = "middle", c.fillStyle = this.axisColor, c.fillText(b.getCurrent(), h - 2 * y, t), b.next();
                c.textAlign = "right", c.textBaseline = "top";
                var w = this.legendLabel;
                c.fillText(w, a, d + this.margin)
            }
        }, o.prototype._redrawFilter = function() {
            if (this.frame.filter.innerHTML = "", this.dataFilter) {
                var t = {
                        visible: this.showAnimationControls
                    },
                    e = new m(this.frame.filter, t);
                this.frame.filter.slider = e, this.frame.filter.style.padding = "10px", e.setValues(this.dataFilter.values), e.setPlayInterval(this.animationInterval);
                var i = this,
                    o = function() {
                        var t = e.getIndex();
                        i.dataFilter.selectValue(t), i.dataPoints = i.dataFilter._getDataPoints(), i.redraw()
                    };
                e.setOnChangeCallback(o)
            } else this.frame.filter.slider = void 0
        }, o.prototype._redrawSlider = function() {
            void 0 !== this.frame.filter.slider && this.frame.filter.slider.redraw()
        }, o.prototype._redrawInfo = function() {
            if (this.dataFilter) {
                var t = this.frame.canvas,
                    e = t.getContext("2d");
                e.font = "14px arial", e.lineStyle = "gray", e.fillStyle = "gray", e.textAlign = "left", e.textBaseline = "top";
                var i = this.margin,
                    o = this.margin;
                e.fillText(this.dataFilter.getLabel() + ": " + this.dataFilter.getSelectedValue(), i, o)
            }
        }, o.prototype._redrawAxis = function() {
            var t, e, i, o, n, s, r, a, h, d, l, u, p, f = this.frame.canvas,
                m = f.getContext("2d");
            m.font = 24 / this.camera.getArmLength() + "px arial";
            var g = .025 / this.scale.x,
                y = .025 / this.scale.y,
                b = 5 / this.camera.getArmLength(),
                w = this.camera.getArmRotation().horizontal;
            for (m.lineWidth = 1, o = void 0 === this.defaultXStep, i = new v(this.xMin, this.xMax, this.xStep, o), i.start(), i.getCurrent() < this.xMin && i.next(); !i.end();) {
                var _ = i.getCurrent();
                this.showGrid ? (t = this._convert3Dto2D(new c(_, this.yMin, this.zMin)), e = this._convert3Dto2D(new c(_, this.yMax, this.zMin)), m.strokeStyle = this.gridColor, m.beginPath(), m.moveTo(t.x, t.y), m.lineTo(e.x, e.y), m.stroke()) : (t = this._convert3Dto2D(new c(_, this.yMin, this.zMin)), e = this._convert3Dto2D(new c(_, this.yMin + g, this.zMin)), m.strokeStyle = this.axisColor, m.beginPath(), m.moveTo(t.x, t.y), m.lineTo(e.x, e.y), m.stroke(), t = this._convert3Dto2D(new c(_, this.yMax, this.zMin)), e = this._convert3Dto2D(new c(_, this.yMax - g, this.zMin)), m.strokeStyle = this.axisColor, m.beginPath(), m.moveTo(t.x, t.y), m.lineTo(e.x, e.y), m.stroke()), r = Math.cos(w) > 0 ? this.yMin : this.yMax, n = this._convert3Dto2D(new c(_, r, this.zMin)), Math.cos(2 * w) > 0 ? (m.textAlign = "center", m.textBaseline = "top", n.y += b) : Math.sin(2 * w) < 0 ? (m.textAlign = "right", m.textBaseline = "middle") : (m.textAlign = "left", m.textBaseline = "middle"), m.fillStyle = this.axisColor, m.fillText("  " + this.xValueLabel(i.getCurrent()) + "  ", n.x, n.y), i.next()
            }
            for (m.lineWidth = 1, o = void 0 === this.defaultYStep, i = new v(this.yMin, this.yMax, this.yStep, o), i.start(), i.getCurrent() < this.yMin && i.next(); !i.end();) this.showGrid ? (t = this._convert3Dto2D(new c(this.xMin, i.getCurrent(), this.zMin)), e = this._convert3Dto2D(new c(this.xMax, i.getCurrent(), this.zMin)), m.strokeStyle = this.gridColor, m.beginPath(), m.moveTo(t.x, t.y), m.lineTo(e.x, e.y), m.stroke()) : (t = this._convert3Dto2D(new c(this.xMin, i.getCurrent(), this.zMin)), e = this._convert3Dto2D(new c(this.xMin + y, i.getCurrent(), this.zMin)),
                m.strokeStyle = this.axisColor, m.beginPath(), m.moveTo(t.x, t.y), m.lineTo(e.x, e.y), m.stroke(), t = this._convert3Dto2D(new c(this.xMax, i.getCurrent(), this.zMin)), e = this._convert3Dto2D(new c(this.xMax - y, i.getCurrent(), this.zMin)), m.strokeStyle = this.axisColor, m.beginPath(), m.moveTo(t.x, t.y), m.lineTo(e.x, e.y), m.stroke()), s = Math.sin(w) > 0 ? this.xMin : this.xMax, n = this._convert3Dto2D(new c(s, i.getCurrent(), this.zMin)), Math.cos(2 * w) < 0 ? (m.textAlign = "center", m.textBaseline = "top", n.y += b) : Math.sin(2 * w) > 0 ? (m.textAlign = "right", m.textBaseline = "middle") : (m.textAlign = "left", m.textBaseline = "middle"), m.fillStyle = this.axisColor, m.fillText("  " + this.yValueLabel(i.getCurrent()) + "  ", n.x, n.y), i.next();
            for (m.lineWidth = 1, o = void 0 === this.defaultZStep, i = new v(this.zMin, this.zMax, this.zStep, o), i.start(), i.getCurrent() < this.zMin && i.next(), s = Math.cos(w) > 0 ? this.xMin : this.xMax, r = Math.sin(w) < 0 ? this.yMin : this.yMax; !i.end();) t = this._convert3Dto2D(new c(s, r, i.getCurrent())), m.strokeStyle = this.axisColor, m.beginPath(), m.moveTo(t.x, t.y), m.lineTo(t.x - b, t.y), m.stroke(), m.textAlign = "right", m.textBaseline = "middle", m.fillStyle = this.axisColor, m.fillText(this.zValueLabel(i.getCurrent()) + " ", t.x - 5, t.y), i.next();
            m.lineWidth = 1, t = this._convert3Dto2D(new c(s, r, this.zMin)), e = this._convert3Dto2D(new c(s, r, this.zMax)), m.strokeStyle = this.axisColor, m.beginPath(), m.moveTo(t.x, t.y), m.lineTo(e.x, e.y), m.stroke(), m.lineWidth = 1, u = this._convert3Dto2D(new c(this.xMin, this.yMin, this.zMin)), p = this._convert3Dto2D(new c(this.xMax, this.yMin, this.zMin)), m.strokeStyle = this.axisColor, m.beginPath(), m.moveTo(u.x, u.y), m.lineTo(p.x, p.y), m.stroke(), u = this._convert3Dto2D(new c(this.xMin, this.yMax, this.zMin)), p = this._convert3Dto2D(new c(this.xMax, this.yMax, this.zMin)), m.strokeStyle = this.axisColor, m.beginPath(), m.moveTo(u.x, u.y), m.lineTo(p.x, p.y), m.stroke(), m.lineWidth = 1, t = this._convert3Dto2D(new c(this.xMin, this.yMin, this.zMin)), e = this._convert3Dto2D(new c(this.xMin, this.yMax, this.zMin)), m.strokeStyle = this.axisColor, m.beginPath(), m.moveTo(t.x, t.y), m.lineTo(e.x, e.y), m.stroke(), t = this._convert3Dto2D(new c(this.xMax, this.yMin, this.zMin)), e = this._convert3Dto2D(new c(this.xMax, this.yMax, this.zMin)), m.strokeStyle = this.axisColor, m.beginPath(), m.moveTo(t.x, t.y), m.lineTo(e.x, e.y), m.stroke();
            var x = this.xLabel;
            x.length > 0 && (l = .1 / this.scale.y, s = (this.xMin + this.xMax) / 2, r = Math.cos(w) > 0 ? this.yMin - l : this.yMax + l, n = this._convert3Dto2D(new c(s, r, this.zMin)), Math.cos(2 * w) > 0 ? (m.textAlign = "center", m.textBaseline = "top") : Math.sin(2 * w) < 0 ? (m.textAlign = "right", m.textBaseline = "middle") : (m.textAlign = "left", m.textBaseline = "middle"), m.fillStyle = this.axisColor, m.fillText(x, n.x, n.y));
            var k = this.yLabel;
            k.length > 0 && (d = .1 / this.scale.x, s = Math.sin(w) > 0 ? this.xMin - d : this.xMax + d, r = (this.yMin + this.yMax) / 2, n = this._convert3Dto2D(new c(s, r, this.zMin)), Math.cos(2 * w) < 0 ? (m.textAlign = "center", m.textBaseline = "top") : Math.sin(2 * w) > 0 ? (m.textAlign = "right", m.textBaseline = "middle") : (m.textAlign = "left", m.textBaseline = "middle"), m.fillStyle = this.axisColor, m.fillText(k, n.x, n.y));
            var O = this.zLabel;
            O.length > 0 && (h = 30, s = Math.cos(w) > 0 ? this.xMin : this.xMax, r = Math.sin(w) < 0 ? this.yMin : this.yMax, a = (this.zMin + this.zMax) / 2, n = this._convert3Dto2D(new c(s, r, a)), m.textAlign = "right", m.textBaseline = "middle", m.fillStyle = this.axisColor, m.fillText(O, n.x - h, n.y))
        }, o.prototype._hsv2rgb = function(t, e, i) {
            var o, n, s, r, a, h;
            switch (r = i * e, a = Math.floor(t / 60), h = r * (1 - Math.abs(t / 60 % 2 - 1)), a) {
                case 0:
                    o = r, n = h, s = 0;
                    break;
                case 1:
                    o = h, n = r, s = 0;
                    break;
                case 2:
                    o = 0, n = r, s = h;
                    break;
                case 3:
                    o = 0, n = h, s = r;
                    break;
                case 4:
                    o = h, n = 0, s = r;
                    break;
                case 5:
                    o = r, n = 0, s = h;
                    break;
                default:
                    o = 0, n = 0, s = 0
            }
            return "RGB(" + parseInt(255 * o) + "," + parseInt(255 * n) + "," + parseInt(255 * s) + ")"
        }, o.prototype._redrawDataGrid = function() {
            var t, e, i, n, s, r, a, h, d, l, u, p, f = this.frame.canvas,
                m = f.getContext("2d");
            if (m.lineJoin = "round", m.lineCap = "round", !(void 0 === this.dataPoints || this.dataPoints.length <= 0)) {
                for (s = 0; s < this.dataPoints.length; s++) {
                    var v = this._convertPointToTranslation(this.dataPoints[s].point),
                        g = this._convertTranslationToScreen(v);
                    this.dataPoints[s].trans = v, this.dataPoints[s].screen = g;
                    var y = this._convertPointToTranslation(this.dataPoints[s].bottom);
                    this.dataPoints[s].dist = this.showPerspective ? y.length() : -y.z
                }
                var b = function(t, e) {
                    return e.dist - t.dist
                };
                if (this.dataPoints.sort(b), this.style === o.STYLE.SURFACE) {
                    for (s = 0; s < this.dataPoints.length; s++)
                        if (t = this.dataPoints[s], e = this.dataPoints[s].pointRight, i = this.dataPoints[s].pointTop, n = this.dataPoints[s].pointCross, void 0 !== t && void 0 !== e && void 0 !== i && void 0 !== n) {
                            if (this.showGrayBottom || this.showShadow) {
                                var w = c.subtract(n.trans, t.trans),
                                    _ = c.subtract(i.trans, e.trans),
                                    x = c.crossProduct(w, _),
                                    k = x.length();
                                r = x.z > 0
                            } else r = !0;
                            r ? (p = (t.point.z + e.point.z + i.point.z + n.point.z) / 4, d = 240 * (1 - (p - this.zMin) * this.scale.z / this.verticalRatio), l = 1, this.showShadow ? (u = Math.min(1 + x.x / k / 2, 1), a = this._hsv2rgb(d, l, u), h = a) : (u = 1, a = this._hsv2rgb(d, l, u), h = this.axisColor)) : (a = "gray", h = this.axisColor), m.lineWidth = this._getStrokeWidth(t), m.fillStyle = a, m.strokeStyle = h, m.beginPath(), m.moveTo(t.screen.x, t.screen.y), m.lineTo(e.screen.x, e.screen.y), m.lineTo(n.screen.x, n.screen.y), m.lineTo(i.screen.x, i.screen.y), m.closePath(), m.fill(), m.stroke()
                        }
                } else
                    for (s = 0; s < this.dataPoints.length; s++) t = this.dataPoints[s], e = this.dataPoints[s].pointRight, i = this.dataPoints[s].pointTop, void 0 !== t && void 0 !== e && (p = (t.point.z + e.point.z) / 2, d = 240 * (1 - (p - this.zMin) * this.scale.z / this.verticalRatio), m.lineWidth = 2 * this._getStrokeWidth(t), m.strokeStyle = this._hsv2rgb(d, 1, 1), m.beginPath(), m.moveTo(t.screen.x, t.screen.y), m.lineTo(e.screen.x, e.screen.y), m.stroke()), void 0 !== t && void 0 !== i && (p = (t.point.z + i.point.z) / 2, d = 240 * (1 - (p - this.zMin) * this.scale.z / this.verticalRatio), m.lineWidth = 2 * this._getStrokeWidth(t), m.strokeStyle = this._hsv2rgb(d, 1, 1), m.beginPath(), m.moveTo(t.screen.x, t.screen.y), m.lineTo(i.screen.x, i.screen.y), m.stroke())
            }
        }, o.prototype._getStrokeWidth = function(t) {
            return void 0 !== t ? this.showPerspective ? 1 / -t.trans.z * this.dataColor.strokeWidth : -(this.eye.z / this.camera.getArmLength()) * this.dataColor.strokeWidth : this.dataColor.strokeWidth
        }, o.prototype._redrawDataDot = function() {
            var t, e = this.frame.canvas,
                i = e.getContext("2d");
            if (!(void 0 === this.dataPoints || this.dataPoints.length <= 0)) {
                for (t = 0; t < this.dataPoints.length; t++) {
                    var n = this._convertPointToTranslation(this.dataPoints[t].point),
                        s = this._convertTranslationToScreen(n);
                    this.dataPoints[t].trans = n, this.dataPoints[t].screen = s;
                    var r = this._convertPointToTranslation(this.dataPoints[t].bottom);
                    this.dataPoints[t].dist = this.showPerspective ? r.length() : -r.z
                }
                var a = function(t, e) {
                    return e.dist - t.dist
                };
                this.dataPoints.sort(a);
                var h = this.frame.clientWidth * this.dotSizeRatio;
                for (t = 0; t < this.dataPoints.length; t++) {
                    var d = this.dataPoints[t];
                    if (this.style === o.STYLE.DOTLINE) {
                        var l = this._convert3Dto2D(d.bottom);
                        i.lineWidth = 1, i.strokeStyle = this.gridColor, i.beginPath(), i.moveTo(l.x, l.y), i.lineTo(d.screen.x, d.screen.y), i.stroke()
                    }
                    var c;
                    c = this.style === o.STYLE.DOTSIZE ? h / 2 + 2 * h * (d.point.value - this.valueMin) / (this.valueMax - this.valueMin) : h;
                    var u;
                    u = this.showPerspective ? c / -d.trans.z : c * -(this.eye.z / this.camera.getArmLength()), 0 > u && (u = 0);
                    var p, f, m;
                    this.style === o.STYLE.DOTCOLOR ? (p = 240 * (1 - (d.point.value - this.valueMin) * this.scale.value), f = this._hsv2rgb(p, 1, 1), m = this._hsv2rgb(p, 1, .8)) : this.style === o.STYLE.DOTSIZE ? (f = this.dataColor.fill, m = this.dataColor.stroke) : (p = 240 * (1 - (d.point.z - this.zMin) * this.scale.z / this.verticalRatio), f = this._hsv2rgb(p, 1, 1), m = this._hsv2rgb(p, 1, .8)), i.lineWidth = this._getStrokeWidth(d), i.strokeStyle = m, i.fillStyle = f, i.beginPath(), i.arc(d.screen.x, d.screen.y, u, 0, 2 * Math.PI, !0), i.fill(), i.stroke()
                }
            }
        }, o.prototype._redrawDataBar = function() {
            var t, e, i, n, s = this.frame.canvas,
                r = s.getContext("2d");
            if (!(void 0 === this.dataPoints || this.dataPoints.length <= 0)) {
                for (t = 0; t < this.dataPoints.length; t++) {
                    var a = this._convertPointToTranslation(this.dataPoints[t].point),
                        h = this._convertTranslationToScreen(a);
                    this.dataPoints[t].trans = a, this.dataPoints[t].screen = h;
                    var d = this._convertPointToTranslation(this.dataPoints[t].bottom);
                    this.dataPoints[t].dist = this.showPerspective ? d.length() : -d.z
                }
                var l = function(t, e) {
                    return e.dist - t.dist
                };
                this.dataPoints.sort(l), r.lineJoin = "round", r.lineCap = "round";
                var u = this.xBarWidth / 2,
                    p = this.yBarWidth / 2;
                for (t = 0; t < this.dataPoints.length; t++) {
                    var f, m, v, g = this.dataPoints[t];
                    this.style === o.STYLE.BARCOLOR ? (f = 240 * (1 - (g.point.value - this.valueMin) * this.scale.value), m = this._hsv2rgb(f, 1, 1), v = this._hsv2rgb(f, 1, .8)) : this.style === o.STYLE.BARSIZE ? (m = this.dataColor.fill, v = this.dataColor.stroke) : (f = 240 * (1 - (g.point.z - this.zMin) * this.scale.z / this.verticalRatio), m = this._hsv2rgb(f, 1, 1), v = this._hsv2rgb(f, 1, .8)), this.style === o.STYLE.BARSIZE && (u = this.xBarWidth / 2 * ((g.point.value - this.valueMin) / (this.valueMax - this.valueMin) * .8 + .2), p = this.yBarWidth / 2 * ((g.point.value - this.valueMin) / (this.valueMax - this.valueMin) * .8 + .2));
                    var y = this,
                        b = g.point,
                        w = [{
                            point: new c(b.x - u, b.y - p, b.z)
                        }, {
                            point: new c(b.x + u, b.y - p, b.z)
                        }, {
                            point: new c(b.x + u, b.y + p, b.z)
                        }, {
                            point: new c(b.x - u, b.y + p, b.z)
                        }],
                        _ = [{
                            point: new c(b.x - u, b.y - p, this.zMin)
                        }, {
                            point: new c(b.x + u, b.y - p, this.zMin)
                        }, {
                            point: new c(b.x + u, b.y + p, this.zMin)
                        }, {
                            point: new c(b.x - u, b.y + p, this.zMin)
                        }];
                    w.forEach(function(t) {
                        t.screen = y._convert3Dto2D(t.point)
                    }), _.forEach(function(t) {
                        t.screen = y._convert3Dto2D(t.point)
                    });
                    var x = [{
                        corners: w,
                        center: c.avg(_[0].point, _[2].point)
                    }, {
                        corners: [w[0], w[1], _[1], _[0]],
                        center: c.avg(_[1].point, _[0].point)
                    }, {
                        corners: [w[1], w[2], _[2], _[1]],
                        center: c.avg(_[2].point, _[1].point)
                    }, {
                        corners: [w[2], w[3], _[3], _[2]],
                        center: c.avg(_[3].point, _[2].point)
                    }, {
                        corners: [w[3], w[0], _[0], _[3]],
                        center: c.avg(_[0].point, _[3].point)
                    }];
                    for (g.surfaces = x, e = 0; e < x.length; e++) {
                        i = x[e];
                        var k = this._convertPointToTranslation(i.center);
                        i.dist = this.showPerspective ? k.length() : -k.z
                    }
                    for (x.sort(function(t, e) {
                            var i = e.dist - t.dist;
                            return i ? i : t.corners === w ? 1 : e.corners === w ? -1 : 0
                        }), r.lineWidth = this._getStrokeWidth(g), r.strokeStyle = v, r.fillStyle = m, e = 2; e < x.length; e++) i = x[e], n = i.corners, r.beginPath(), r.moveTo(n[3].screen.x, n[3].screen.y), r.lineTo(n[0].screen.x, n[0].screen.y), r.lineTo(n[1].screen.x, n[1].screen.y), r.lineTo(n[2].screen.x, n[2].screen.y), r.lineTo(n[3].screen.x, n[3].screen.y), r.fill(), r.stroke()
                }
            }
        }, o.prototype._redrawDataLine = function() {
            var t, e, i = this.frame.canvas,
                o = i.getContext("2d");
            if (!(void 0 === this.dataPoints || this.dataPoints.length <= 0)) {
                for (e = 0; e < this.dataPoints.length; e++) {
                    var n = this._convertPointToTranslation(this.dataPoints[e].point),
                        s = this._convertTranslationToScreen(n);
                    this.dataPoints[e].trans = n, this.dataPoints[e].screen = s
                }
                if (this.dataPoints.length > 0) {
                    for (t = this.dataPoints[0], o.lineWidth = this._getStrokeWidth(t), o.lineJoin = "round", o.lineCap = "round", o.strokeStyle = this.dataColor.stroke, o.beginPath(), o.moveTo(t.screen.x, t.screen.y), e = 1; e < this.dataPoints.length; e++) t = this.dataPoints[e], o.lineTo(t.screen.x, t.screen.y);
                    o.stroke()
                }
            }
        }, o.prototype._onMouseDown = function(t) {
            if (t = t || window.event, this.leftButtonDown && this._onMouseUp(t), this.leftButtonDown = t.which ? 1 === t.which : 1 === t.button, this.leftButtonDown || this.touchDown) {
                this.startMouseX = n(t), this.startMouseY = s(t), this.startStart = new Date(this.start), this.startEnd = new Date(this.end), this.startArmRotation = this.camera.getArmRotation(), this.frame.style.cursor = "move";
                var e = this;
                this.onmousemove = function(t) {
                    e._onMouseMove(t)
                }, this.onmouseup = function(t) {
                    e._onMouseUp(t)
                }, l.addEventListener(document, "mousemove", e.onmousemove), l.addEventListener(document, "mouseup", e.onmouseup), l.preventDefault(t)
            }
        }, o.prototype._onMouseMove = function(t) {
            t = t || window.event;
            var e = parseFloat(n(t)) - this.startMouseX,
                i = parseFloat(s(t)) - this.startMouseY,
                o = this.startArmRotation.horizontal + e / 200,
                r = this.startArmRotation.vertical + i / 200,
                a = 4,
                h = Math.sin(a / 360 * 2 * Math.PI);
            Math.abs(Math.sin(o)) < h && (o = Math.round(o / Math.PI) * Math.PI - .001), Math.abs(Math.cos(o)) < h && (o = (Math.round(o / Math.PI - .5) + .5) * Math.PI - .001), Math.abs(Math.sin(r)) < h && (r = Math.round(r / Math.PI) * Math.PI), Math.abs(Math.cos(r)) < h && (r = (Math.round(r / Math.PI - .5) + .5) * Math.PI), this.camera.setArmRotation(o, r), this.redraw();
            var d = this.getCameraPosition();
            this.emit("cameraPositionChange", d), l.preventDefault(t)
        }, o.prototype._onMouseUp = function(t) {
            this.frame.style.cursor = "auto", this.leftButtonDown = !1, l.removeEventListener(document, "mousemove", this.onmousemove), l.removeEventListener(document, "mouseup", this.onmouseup), l.preventDefault(t)
        }, o.prototype._onTooltip = function(t) {
            var e = 300,
                i = this.frame.getBoundingClientRect(),
                o = n(t) - i.left,
                r = s(t) - i.top;
            if (this.showTooltip) {
                if (this.tooltipTimeout && clearTimeout(this.tooltipTimeout), this.leftButtonDown) return void this._hideTooltip();
                if (this.tooltip && this.tooltip.dataPoint) {
                    var a = this._dataPointFromXY(o, r);
                    a !== this.tooltip.dataPoint && (a ? this._showTooltip(a) : this._hideTooltip())
                } else {
                    var h = this;
                    this.tooltipTimeout = setTimeout(function() {
                        h.tooltipTimeout = null;
                        var t = h._dataPointFromXY(o, r);
                        t && h._showTooltip(t)
                    }, e)
                }
            }
        }, o.prototype._onTouchStart = function(t) {
            this.touchDown = !0;
            var e = this;
            this.ontouchmove = function(t) {
                e._onTouchMove(t)
            }, this.ontouchend = function(t) {
                e._onTouchEnd(t)
            }, l.addEventListener(document, "touchmove", e.ontouchmove), l.addEventListener(document, "touchend", e.ontouchend), this._onMouseDown(t)
        }, o.prototype._onTouchMove = function(t) {
            this._onMouseMove(t)
        }, o.prototype._onTouchEnd = function(t) {
            this.touchDown = !1, l.removeEventListener(document, "touchmove", this.ontouchmove), l.removeEventListener(document, "touchend", this.ontouchend), this._onMouseUp(t)
        }, o.prototype._onWheel = function(t) {
            t || (t = window.event);
            var e = 0;
            if (t.wheelDelta ? e = t.wheelDelta / 120 : t.detail && (e = -t.detail / 3), e) {
                var i = this.camera.getArmLength(),
                    o = i * (1 - e / 10);
                this.camera.setArmLength(o), this.redraw(), this._hideTooltip()
            }
            var n = this.getCameraPosition();
            this.emit("cameraPositionChange", n), l.preventDefault(t)
        }, o.prototype._insideTriangle = function(t, e) {
            function i(t) {
                return t > 0 ? 1 : 0 > t ? -1 : 0
            }
            var o = e[0],
                n = e[1],
                s = e[2],
                r = i((n.x - o.x) * (t.y - o.y) - (n.y - o.y) * (t.x - o.x)),
                a = i((s.x - n.x) * (t.y - n.y) - (s.y - n.y) * (t.x - n.x)),
                h = i((o.x - s.x) * (t.y - s.y) - (o.y - s.y) * (t.x - s.x));
            return !(0 != r && 0 != a && r != a || 0 != a && 0 != h && a != h || 0 != r && 0 != h && r != h)
        }, o.prototype._dataPointFromXY = function(t, e) {
            var i, n = 100,
                s = null,
                r = null,
                a = null,
                h = new u(t, e);
            if (this.style === o.STYLE.BAR || this.style === o.STYLE.BARCOLOR || this.style === o.STYLE.BARSIZE)
                for (i = this.dataPoints.length - 1; i >= 0; i--) {
                    s = this.dataPoints[i];
                    var d = s.surfaces;
                    if (d)
                        for (var l = d.length - 1; l >= 0; l--) {
                            var c = d[l],
                                p = c.corners,
                                f = [p[0].screen, p[1].screen, p[2].screen],
                                m = [p[2].screen, p[3].screen, p[0].screen];
                            if (this._insideTriangle(h, f) || this._insideTriangle(h, m)) return s
                        }
                } else
                    for (i = 0; i < this.dataPoints.length; i++) {
                        s = this.dataPoints[i];
                        var v = s.screen;
                        if (v) {
                            var g = Math.abs(t - v.x),
                                y = Math.abs(e - v.y),
                                b = Math.sqrt(g * g + y * y);
                            (null === a || a > b) && n > b && (a = b, r = s)
                        }
                    }
            return r
        }, o.prototype._showTooltip = function(t) {
            var e, i, o;
            this.tooltip ? (e = this.tooltip.dom.content, i = this.tooltip.dom.line, o = this.tooltip.dom.dot) : (e = document.createElement("div"), e.style.position = "absolute", e.style.padding = "10px", e.style.border = "1px solid #4d4d4d", e.style.color = "#1a1a1a", e.style.background = "rgba(255,255,255,0.7)", e.style.borderRadius = "2px", e.style.boxShadow = "5px 5px 10px rgba(128,128,128,0.5)", i = document.createElement("div"), i.style.position = "absolute", i.style.height = "40px", i.style.width = "0", i.style.borderLeft = "1px solid #4d4d4d", o = document.createElement("div"), o.style.position = "absolute", o.style.height = "0", o.style.width = "0", o.style.border = "5px solid #4d4d4d", o.style.borderRadius = "5px", this.tooltip = {
                dataPoint: null,
                dom: {
                    content: e,
                    line: i,
                    dot: o
                }
            }), this._hideTooltip(), this.tooltip.dataPoint = t, "function" == typeof this.showTooltip ? e.innerHTML = this.showTooltip(t.point) : e.innerHTML = "<table><tr><td>" + this.xLabel + ":</td><td>" + t.point.x + "</td></tr><tr><td>" + this.yLabel + ":</td><td>" + t.point.y + "</td></tr><tr><td>" + this.zLabel + ":</td><td>" + t.point.z + "</td></tr></table>", e.style.left = "0", e.style.top = "0", this.frame.appendChild(e), this.frame.appendChild(i), this.frame.appendChild(o);
            var n = e.offsetWidth,
                s = e.offsetHeight,
                r = i.offsetHeight,
                a = o.offsetWidth,
                h = o.offsetHeight,
                d = t.screen.x - n / 2;
            d = Math.min(Math.max(d, 10), this.frame.clientWidth - 10 - n), i.style.left = t.screen.x + "px", i.style.top = t.screen.y - r + "px", e.style.left = d + "px", e.style.top = t.screen.y - r - s + "px", o.style.left = t.screen.x - a / 2 + "px", o.style.top = t.screen.y - h / 2 + "px"
        }, o.prototype._hideTooltip = function() {
            if (this.tooltip) {
                this.tooltip.dataPoint = null;
                for (var t in this.tooltip.dom)
                    if (this.tooltip.dom.hasOwnProperty(t)) {
                        var e = this.tooltip.dom[t];
                        e && e.parentNode && e.parentNode.removeChild(e)
                    }
            }
        }, t.exports = o
    }, function(t, e) {
        function i(t) {
            return t ? o(t) : void 0
        }

        function o(t) {
            for (var e in i.prototype) t[e] = i.prototype[e];
            return t
        }
        t.exports = i, i.prototype.on = i.prototype.addEventListener = function(t, e) {
            return this._callbacks = this._callbacks || {}, (this._callbacks[t] = this._callbacks[t] || []).push(e), this
        }, i.prototype.once = function(t, e) {
            function i() {
                o.off(t, i), e.apply(this, arguments)
            }
            var o = this;
            return this._callbacks = this._callbacks || {}, i.fn = e, this.on(t, i), this
        }, i.prototype.off = i.prototype.removeListener = i.prototype.removeAllListeners = i.prototype.removeEventListener = function(t, e) {
            if (this._callbacks = this._callbacks || {}, 0 == arguments.length) return this._callbacks = {}, this;
            var i = this._callbacks[t];
            if (!i) return this;
            if (1 == arguments.length) return delete this._callbacks[t], this;
            for (var o, n = 0; n < i.length; n++)
                if (o = i[n], o === e || o.fn === e) {
                    i.splice(n, 1);
                    break
                }
            return this
        }, i.prototype.emit = function(t) {
            this._callbacks = this._callbacks || {};
            var e = [].slice.call(arguments, 1),
                i = this._callbacks[t];
            if (i) {
                i = i.slice(0);
                for (var o = 0, n = i.length; n > o; ++o) i[o].apply(this, e)
            }
            return this
        }, i.prototype.listeners = function(t) {
            return this._callbacks = this._callbacks || {}, this._callbacks[t] || []
        }, i.prototype.hasListeners = function(t) {
            return !!this.listeners(t).length
        }
    }, function(t, e) {
        function i(t, e, i) {
            this.x = void 0 !== t ? t : 0, this.y = void 0 !== e ? e : 0, this.z = void 0 !== i ? i : 0
        }
        i.subtract = function(t, e) {
            var o = new i;
            return o.x = t.x - e.x, o.y = t.y - e.y, o.z = t.z - e.z, o
        }, i.add = function(t, e) {
            var o = new i;
            return o.x = t.x + e.x, o.y = t.y + e.y, o.z = t.z + e.z, o
        }, i.avg = function(t, e) {
            return new i((t.x + e.x) / 2, (t.y + e.y) / 2, (t.z + e.z) / 2)
        }, i.crossProduct = function(t, e) {
            var o = new i;
            return o.x = t.y * e.z - t.z * e.y, o.y = t.z * e.x - t.x * e.z, o.z = t.x * e.y - t.y * e.x, o
        }, i.prototype.length = function() {
            return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z)
        }, t.exports = i
    }, function(t, e) {
        function i(t, e) {
            this.x = void 0 !== t ? t : 0, this.y = void 0 !== e ? e : 0
        }
        t.exports = i
    }, function(t, e, i) {
        function o() {
            this.armLocation = new n, this.armRotation = {}, this.armRotation.horizontal = 0, this.armRotation.vertical = 0, this.armLength = 1.7, this.cameraLocation = new n, this.cameraRotation = new n(.5 * Math.PI, 0, 0), this.calculateCameraOrientation()
        }
        var n = i(14);
        o.prototype.setArmLocation = function(t, e, i) {
            this.armLocation.x = t, this.armLocation.y = e, this.armLocation.z = i, this.calculateCameraOrientation()
        }, o.prototype.setArmRotation = function(t, e) {
            void 0 !== t && (this.armRotation.horizontal = t), void 0 !== e && (this.armRotation.vertical = e, this.armRotation.vertical < 0 && (this.armRotation.vertical = 0), this.armRotation.vertical > .5 * Math.PI && (this.armRotation.vertical = .5 * Math.PI)), void 0 === t && void 0 === e || this.calculateCameraOrientation()
        }, o.prototype.getArmRotation = function() {
            var t = {};
            return t.horizontal = this.armRotation.horizontal, t.vertical = this.armRotation.vertical, t
        }, o.prototype.setArmLength = function(t) {
            void 0 !== t && (this.armLength = t, this.armLength < .71 && (this.armLength = .71), this.armLength > 5 && (this.armLength = 5), this.calculateCameraOrientation())
        }, o.prototype.getArmLength = function() {
            return this.armLength
        }, o.prototype.getCameraLocation = function() {
            return this.cameraLocation
        }, o.prototype.getCameraRotation = function() {
            return this.cameraRotation
        }, o.prototype.calculateCameraOrientation = function() {
            this.cameraLocation.x = this.armLocation.x - this.armLength * Math.sin(this.armRotation.horizontal) * Math.cos(this.armRotation.vertical), this.cameraLocation.y = this.armLocation.y - this.armLength * Math.cos(this.armRotation.horizontal) * Math.cos(this.armRotation.vertical), this.cameraLocation.z = this.armLocation.z + this.armLength * Math.sin(this.armRotation.vertical), this.cameraRotation.x = Math.PI / 2 - this.armRotation.vertical, this.cameraRotation.y = 0, this.cameraRotation.z = -this.armRotation.horizontal
        }, t.exports = o
    }, function(t, e, i) {
        function o(t, e, i) {
            this.data = t, this.column = e, this.graph = i, this.index = void 0, this.value = void 0, this.values = i.getDistinctValues(t.get(), this.column), this.values.sort(function(t, e) {
                return t > e ? 1 : e > t ? -1 : 0
            }), this.values.length > 0 && this.selectValue(0), this.dataPoints = [], this.loaded = !1, this.onLoadCallback = void 0, i.animationPreload ? (this.loaded = !1, this.loadInBackground()) : this.loaded = !0
        }
        var n = i(11);
        o.prototype.isLoaded = function() {
            return this.loaded
        }, o.prototype.getLoadedProgress = function() {
            for (var t = this.values.length, e = 0; this.dataPoints[e];) e++;
            return Math.round(e / t * 100)
        }, o.prototype.getLabel = function() {
            return this.graph.filterLabel
        }, o.prototype.getColumn = function() {
            return this.column
        }, o.prototype.getSelectedValue = function() {
            return void 0 !== this.index ? this.values[this.index] : void 0
        }, o.prototype.getValues = function() {
            return this.values
        }, o.prototype.getValue = function(t) {
            if (t >= this.values.length) throw "Error: index out of range";
            return this.values[t]
        }, o.prototype._getDataPoints = function(t) {
            if (void 0 === t && (t = this.index), void 0 === t) return [];
            var e;
            if (this.dataPoints[t]) e = this.dataPoints[t];
            else {
                var i = {};
                i.column = this.column, i.value = this.values[t];
                var o = new n(this.data, {
                    filter: function(t) {
                        return t[i.column] == i.value
                    }
                }).get();
                e = this.graph._getDataPoints(o), this.dataPoints[t] = e
            }
            return e
        }, o.prototype.setOnLoadCallback = function(t) {
            this.onLoadCallback = t
        }, o.prototype.selectValue = function(t) {
            if (t >= this.values.length) throw "Error: index out of range";
            this.index = t, this.value = this.values[t]
        }, o.prototype.loadInBackground = function(t) {
            void 0 === t && (t = 0);
            var e = this.graph.frame;
            if (t < this.values.length) {
                this._getDataPoints(t);
                void 0 === e.progress && (e.progress = document.createElement("DIV"), e.progress.style.position = "absolute", e.progress.style.color = "gray", e.appendChild(e.progress));
                var i = this.getLoadedProgress();
                e.progress.innerHTML = "Loading animation... " + i + "%", e.progress.style.bottom = "60px", e.progress.style.left = "10px";
                var o = this;
                setTimeout(function() {
                    o.loadInBackground(t + 1)
                }, 10), this.loaded = !1
            } else this.loaded = !0, void 0 !== e.progress && (e.removeChild(e.progress), e.progress = void 0), this.onLoadCallback && this.onLoadCallback()
        }, t.exports = o
    }, function(t, e, i) {
        function o(t, e) {
            if (void 0 === t) throw "Error: No container element defined";
            if (this.container = t, this.visible = e && void 0 != e.visible ? e.visible : !0, this.visible) {
                this.frame = document.createElement("DIV"), this.frame.style.width = "100%", this.frame.style.position = "relative", this.container.appendChild(this.frame), this.frame.prev = document.createElement("INPUT"), this.frame.prev.type = "BUTTON", this.frame.prev.value = "Prev", this.frame.appendChild(this.frame.prev), this.frame.play = document.createElement("INPUT"), this.frame.play.type = "BUTTON", this.frame.play.value = "Play", this.frame.appendChild(this.frame.play), this.frame.next = document.createElement("INPUT"), this.frame.next.type = "BUTTON", this.frame.next.value = "Next", this.frame.appendChild(this.frame.next), this.frame.bar = document.createElement("INPUT"), this.frame.bar.type = "BUTTON", this.frame.bar.style.position = "absolute", this.frame.bar.style.border = "1px solid red", this.frame.bar.style.width = "100px", this.frame.bar.style.height = "6px", this.frame.bar.style.borderRadius = "2px", this.frame.bar.style.MozBorderRadius = "2px", this.frame.bar.style.border = "1px solid #7F7F7F", this.frame.bar.style.backgroundColor = "#E5E5E5", this.frame.appendChild(this.frame.bar), this.frame.slide = document.createElement("INPUT"), this.frame.slide.type = "BUTTON", this.frame.slide.style.margin = "0px", this.frame.slide.value = " ", this.frame.slide.style.position = "relative", this.frame.slide.style.left = "-100px", this.frame.appendChild(this.frame.slide);
                var i = this;
                this.frame.slide.onmousedown = function(t) {
                    i._onMouseDown(t)
                }, this.frame.prev.onclick = function(t) {
                    i.prev(t)
                }, this.frame.play.onclick = function(t) {
                    i.togglePlay(t)
                }, this.frame.next.onclick = function(t) {
                    i.next(t)
                }
            }
            this.onChangeCallback = void 0, this.values = [], this.index = void 0, this.playTimeout = void 0, this.playInterval = 1e3, this.playLoop = !0
        }
        var n = i(1);
        o.prototype.prev = function() {
            var t = this.getIndex();
            t > 0 && (t--, this.setIndex(t))
        }, o.prototype.next = function() {
            var t = this.getIndex();
            t < this.values.length - 1 && (t++, this.setIndex(t))
        }, o.prototype.playNext = function() {
            var t = new Date,
                e = this.getIndex();
            e < this.values.length - 1 ? (e++, this.setIndex(e)) : this.playLoop && (e = 0, this.setIndex(e));
            var i = new Date,
                o = i - t,
                n = Math.max(this.playInterval - o, 0),
                s = this;
            this.playTimeout = setTimeout(function() {
                s.playNext()
            }, n)
        }, o.prototype.togglePlay = function() {
            void 0 === this.playTimeout ? this.play() : this.stop()
        }, o.prototype.play = function() {
            this.playTimeout || (this.playNext(), this.frame && (this.frame.play.value = "Stop"))
        }, o.prototype.stop = function() {
            clearInterval(this.playTimeout), this.playTimeout = void 0, this.frame && (this.frame.play.value = "Play")
        }, o.prototype.setOnChangeCallback = function(t) {
            this.onChangeCallback = t
        }, o.prototype.setPlayInterval = function(t) {
            this.playInterval = t
        }, o.prototype.getPlayInterval = function(t) {
            return this.playInterval
        }, o.prototype.setPlayLoop = function(t) {
            this.playLoop = t
        }, o.prototype.onChange = function() {
            void 0 !== this.onChangeCallback && this.onChangeCallback()
        }, o.prototype.redraw = function() {
            if (this.frame) {
                this.frame.bar.style.top = this.frame.clientHeight / 2 - this.frame.bar.offsetHeight / 2 + "px", this.frame.bar.style.width = this.frame.clientWidth - this.frame.prev.clientWidth - this.frame.play.clientWidth - this.frame.next.clientWidth - 30 + "px";
                var t = this.indexToLeft(this.index);
                this.frame.slide.style.left = t + "px"
            }
        }, o.prototype.setValues = function(t) {
            this.values = t, this.values.length > 0 ? this.setIndex(0) : this.index = void 0
        }, o.prototype.setIndex = function(t) {
            if (!(t < this.values.length)) throw "Error: index out of range";
            this.index = t, this.redraw(), this.onChange()
        }, o.prototype.getIndex = function() {
            return this.index
        }, o.prototype.get = function() {
            return this.values[this.index]
        }, o.prototype._onMouseDown = function(t) {
            var e = t.which ? 1 === t.which : 1 === t.button;
            if (e) {
                this.startClientX = t.clientX, this.startSlideX = parseFloat(this.frame.slide.style.left), this.frame.style.cursor = "move";
                var i = this;
                this.onmousemove = function(t) {
                    i._onMouseMove(t)
                }, this.onmouseup = function(t) {
                    i._onMouseUp(t)
                }, n.addEventListener(document, "mousemove", this.onmousemove), n.addEventListener(document, "mouseup", this.onmouseup), n.preventDefault(t)
            }
        }, o.prototype.leftToIndex = function(t) {
            var e = parseFloat(this.frame.bar.style.width) - this.frame.slide.clientWidth - 10,
                i = t - 3,
                o = Math.round(i / e * (this.values.length - 1));
            return 0 > o && (o = 0), o > this.values.length - 1 && (o = this.values.length - 1), o
        }, o.prototype.indexToLeft = function(t) {
            var e = parseFloat(this.frame.bar.style.width) - this.frame.slide.clientWidth - 10,
                i = t / (this.values.length - 1) * e,
                o = i + 3;
            return o
        }, o.prototype._onMouseMove = function(t) {
            var e = t.clientX - this.startClientX,
                i = this.startSlideX + e,
                o = this.leftToIndex(i);
            this.setIndex(o), n.preventDefault()
        }, o.prototype._onMouseUp = function(t) {
            this.frame.style.cursor = "auto", n.removeEventListener(document, "mousemove", this.onmousemove), n.removeEventListener(document, "mouseup", this.onmouseup), n.preventDefault()
        }, t.exports = o
    }, function(t, e) {
        function i(t, e, i, o) {
            this._start = 0, this._end = 0, this._step = 1, this.prettyStep = !0, this.precision = 5, this._current = 0, this.setRange(t, e, i, o)
        }
        i.prototype.setRange = function(t, e, i, o) {
            this._start = t ? t : 0, this._end = e ? e : 0, this.setStep(i, o)
        }, i.prototype.setStep = function(t, e) {
            void 0 === t || 0 >= t || (void 0 !== e && (this.prettyStep = e), this.prettyStep === !0 ? this._step = i.calculatePrettyStep(t) : this._step = t)
        }, i.calculatePrettyStep = function(t) {
            var e = function(t) {
                    return Math.log(t) / Math.LN10
                },
                i = Math.pow(10, Math.round(e(t))),
                o = 2 * Math.pow(10, Math.round(e(t / 2))),
                n = 5 * Math.pow(10, Math.round(e(t / 5))),
                s = i;
            return Math.abs(o - t) <= Math.abs(s - t) && (s = o), Math.abs(n - t) <= Math.abs(s - t) && (s = n), 0 >= s && (s = 1), s
        }, i.prototype.getCurrent = function() {
            return parseFloat(this._current.toPrecision(this.precision))
        }, i.prototype.getStep = function() {
            return this._step
        }, i.prototype.start = function() {
            this._current = this._start - this._start % this._step
        }, i.prototype.next = function() {
            this._current += this._step
        }, i.prototype.end = function() {
            return this._current > this._end
        }, t.exports = i
    }, function(t, e, i) {
        if ("undefined" != typeof window) {
            var o = i(21),
                n = window.Hammer || i(22);
            t.exports = o(n, {
                preventDefault: "mouse"
            })
        } else t.exports = function() {
            throw Error("hammer.js is only available in a browser, not in node.js.")
        }
    }, function(t, e, i) {
        var o, n, s;
        ! function(i) {
            n = [], o = i, s = "function" == typeof o ? o.apply(e, n) : o, !(void 0 !== s && (t.exports = s))
        }(function() {
            var t = null;
            return function e(i, o) {
                function n(t) {
                    return t.match(/[^ ]+/g)
                }

                function s(e) {
                    if ("hammer.input" !== e.type) {
                        if (e.srcEvent._handled || (e.srcEvent._handled = {}), e.srcEvent._handled[e.type]) return;
                        e.srcEvent._handled[e.type] = !0
                    }
                    var i = !1;
                    e.stopPropagation = function() {
                        i = !0
                    };
                    var o = e.srcEvent.stopPropagation.bind(e.srcEvent);
                    "function" == typeof o && (e.srcEvent.stopPropagation = function() {
                        o(), e.stopPropagation()
                    }), e.firstTarget = t;
                    for (var n = t; n && !i;) {
                        var s = n.hammer;
                        if (s)
                            for (var r, a = 0; a < s.length; a++)
                                if (r = s[a]._handlers[e.type])
                                    for (var h = 0; h < r.length && !i; h++) r[h](e);
                        n = n.parentNode
                    }
                }
                var r = o || {
                    preventDefault: !1
                };
                if (i.Manager) {
                    var a = i,
                        h = function(t, i) {
                            var o = Object.create(r);
                            return i && a.assign(o, i), e(new a(t, o), o)
                        };
                    return a.assign(h, a), h.Manager = function(t, i) {
                        var o = Object.create(r);
                        return i && a.assign(o, i), e(new a.Manager(t, o), o)
                    }, h
                }
                var d = Object.create(i),
                    l = i.element;
                return l.hammer || (l.hammer = []), l.hammer.push(d), i.on("hammer.input", function(e) {
                    r.preventDefault !== !0 && r.preventDefault !== e.pointerType || e.preventDefault(), e.isFirst && (t = e.target)
                }), d._handlers = {}, d.on = function(t, e) {
                    return n(t).forEach(function(t) {
                        var o = d._handlers[t];
                        o || (d._handlers[t] = o = [], i.on(t, s)), o.push(e)
                    }), d
                }, d.off = function(t, e) {
                    return n(t).forEach(function(t) {
                        var o = d._handlers[t];
                        o && (o = e ? o.filter(function(t) {
                            return t !== e
                        }) : [], o.length > 0 ? d._handlers[t] = o : (i.off(t, s), delete d._handlers[t]))
                    }), d
                }, d.emit = function(e, o) {
                    t = o.target, i.emit(e, o)
                }, d.destroy = function() {
                    var t = i.element.hammer,
                        e = t.indexOf(d); - 1 !== e && t.splice(e, 1), t.length || delete i.element.hammer, d._handlers = {}, i.destroy()
                }, d
            }
        })
    }, function(t, e, i) {
        var o;
        ! function(n, s, r, a) {
            function h(t, e, i) {
                return setTimeout(p(t, i), e)
            }

            function d(t, e, i) {
                return Array.isArray(t) ? (l(t, i[e], i), !0) : !1
            }

            function l(t, e, i) {
                var o;
                if (t)
                    if (t.forEach) t.forEach(e, i);
                    else if (t.length !== a)
                    for (o = 0; o < t.length;) e.call(i, t[o], o, t), o++;
                else
                    for (o in t) t.hasOwnProperty(o) && e.call(i, t[o], o, t)
            }

            function c(t, e, i) {
                var o = "DEPRECATED METHOD: " + e + "\n" + i + " AT \n";
                return function() {
                    var e = new Error("get-stack-trace"),
                        i = e && e.stack ? e.stack.replace(/^[^\(]+?[\n$]/gm, "").replace(/^\s+at\s+/gm, "").replace(/^Object.<anonymous>\s*\(/gm, "{anonymous}()@") : "Unknown Stack Trace",
                        s = n.console && (n.console.warn || n.console.log);
                    return s && s.call(n.console, o, i), t.apply(this, arguments)
                }
            }

            function u(t, e, i) {
                var o, n = e.prototype;
                o = t.prototype = Object.create(n), o.constructor = t, o._super = n, i && ct(o, i)
            }

            function p(t, e) {
                return function() {
                    return t.apply(e, arguments)
                }
            }

            function f(t, e) {
                return typeof t == ft ? t.apply(e ? e[0] || a : a, e) : t
            }

            function m(t, e) {
                return t === a ? e : t
            }

            function v(t, e, i) {
                l(w(e), function(e) {
                    t.addEventListener(e, i, !1)
                })
            }

            function g(t, e, i) {
                l(w(e), function(e) {
                    t.removeEventListener(e, i, !1)
                })
            }

            function y(t, e) {
                for (; t;) {
                    if (t == e) return !0;
                    t = t.parentNode
                }
                return !1
            }

            function b(t, e) {
                return t.indexOf(e) > -1
            }

            function w(t) {
                return t.trim().split(/\s+/g)
            }

            function _(t, e, i) {
                if (t.indexOf && !i) return t.indexOf(e);
                for (var o = 0; o < t.length;) {
                    if (i && t[o][i] == e || !i && t[o] === e) return o;
                    o++
                }
                return -1
            }

            function x(t) {
                return Array.prototype.slice.call(t, 0)
            }

            function k(t, e, i) {
                for (var o = [], n = [], s = 0; s < t.length;) {
                    var r = e ? t[s][e] : t[s];
                    _(n, r) < 0 && o.push(t[s]), n[s] = r, s++
                }
                return i && (o = e ? o.sort(function(t, i) {
                    return t[e] > i[e]
                }) : o.sort()), o
            }

            function O(t, e) {
                for (var i, o, n = e[0].toUpperCase() + e.slice(1), s = 0; s < ut.length;) {
                    if (i = ut[s], o = i ? i + n : e, o in t) return o;
                    s++
                }
                return a
            }

            function M() {
                return wt++
            }

            function D(t) {
                var e = t.ownerDocument || t;
                return e.defaultView || e.parentWindow || n
            }

            function S(t, e) {
                var i = this;
                this.manager = t, this.callback = e, this.element = t.element, this.target = t.options.inputTarget, this.domHandler = function(e) {
                    f(t.options.enable, [t]) && i.handler(e)
                }, this.init()
            }

            function C(t) {
                var e, i = t.options.inputClass;
                return new(e = i ? i : kt ? W : Ot ? V : xt ? q : H)(t, T)
            }

            function T(t, e, i) {
                var o = i.pointers.length,
                    n = i.changedPointers.length,
                    s = e & Et && o - n === 0,
                    r = e & (It | Nt) && o - n === 0;
                i.isFirst = !!s, i.isFinal = !!r, s && (t.session = {}), i.eventType = e, E(t, i), t.emit("hammer.input", i), t.recognize(i), t.session.prevInput = i
            }

            function E(t, e) {
                var i = t.session,
                    o = e.pointers,
                    n = o.length;
                i.firstInput || (i.firstInput = N(e)), n > 1 && !i.firstMultiple ? i.firstMultiple = N(e) : 1 === n && (i.firstMultiple = !1);
                var s = i.firstInput,
                    r = i.firstMultiple,
                    a = r ? r.center : s.center,
                    h = e.center = R(o);
                e.timeStamp = gt(), e.deltaTime = e.timeStamp - s.timeStamp, e.angle = B(a, h), e.distance = A(a, h), P(i, e), e.offsetDirection = L(e.deltaX, e.deltaY);
                var d = z(e.deltaTime, e.deltaX, e.deltaY);
                e.overallVelocityX = d.x, e.overallVelocityY = d.y, e.overallVelocity = vt(d.x) > vt(d.y) ? d.x : d.y, e.scale = r ? j(r.pointers, o) : 1, e.rotation = r ? F(r.pointers, o) : 0, e.maxPointers = i.prevInput ? e.pointers.length > i.prevInput.maxPointers ? e.pointers.length : i.prevInput.maxPointers : e.pointers.length, I(i, e);
                var l = t.element;
                y(e.srcEvent.target, l) && (l = e.srcEvent.target), e.target = l
            }

            function P(t, e) {
                var i = e.center,
                    o = t.offsetDelta || {},
                    n = t.prevDelta || {},
                    s = t.prevInput || {};
                e.eventType !== Et && s.eventType !== It || (n = t.prevDelta = {
                    x: s.deltaX || 0,
                    y: s.deltaY || 0
                }, o = t.offsetDelta = {
                    x: i.x,
                    y: i.y
                }), e.deltaX = n.x + (i.x - o.x), e.deltaY = n.y + (i.y - o.y)
            }

            function I(t, e) {
                var i, o, n, s, r = t.lastInterval || e,
                    h = e.timeStamp - r.timeStamp;
                if (e.eventType != Nt && (h > Tt || r.velocity === a)) {
                    var d = e.deltaX - r.deltaX,
                        l = e.deltaY - r.deltaY,
                        c = z(h, d, l);
                    o = c.x, n = c.y, i = vt(c.x) > vt(c.y) ? c.x : c.y, s = L(d, l), t.lastInterval = e
                } else i = r.velocity, o = r.velocityX, n = r.velocityY, s = r.direction;
                e.velocity = i, e.velocityX = o, e.velocityY = n, e.direction = s
            }

            function N(t) {
                for (var e = [], i = 0; i < t.pointers.length;) e[i] = {
                    clientX: mt(t.pointers[i].clientX),
                    clientY: mt(t.pointers[i].clientY)
                }, i++;
                return {
                    timeStamp: gt(),
                    pointers: e,
                    center: R(e),
                    deltaX: t.deltaX,
                    deltaY: t.deltaY
                }
            }

            function R(t) {
                var e = t.length;
                if (1 === e) return {
                    x: mt(t[0].clientX),
                    y: mt(t[0].clientY)
                };
                for (var i = 0, o = 0, n = 0; e > n;) i += t[n].clientX, o += t[n].clientY, n++;
                return {
                    x: mt(i / e),
                    y: mt(o / e)
                }
            }

            function z(t, e, i) {
                return {
                    x: e / t || 0,
                    y: i / t || 0
                }
            }

            function L(t, e) {
                return t === e ? Rt : vt(t) >= vt(e) ? 0 > t ? zt : Lt : 0 > e ? At : Bt
            }

            function A(t, e, i) {
                i || (i = Wt);
                var o = e[i[0]] - t[i[0]],
                    n = e[i[1]] - t[i[1]];
                return Math.sqrt(o * o + n * n)
            }

            function B(t, e, i) {
                i || (i = Wt);
                var o = e[i[0]] - t[i[0]],
                    n = e[i[1]] - t[i[1]];
                return 180 * Math.atan2(n, o) / Math.PI
            }

            function F(t, e) {
                return B(e[1], e[0], Yt) + B(t[1], t[0], Yt)
            }

            function j(t, e) {
                return A(e[0], e[1], Yt) / A(t[0], t[1], Yt)
            }

            function H() {
                this.evEl = Vt, this.evWin = Ut, this.allow = !0, this.pressed = !1, S.apply(this, arguments)
            }

            function W() {
                this.evEl = Zt, this.evWin = Kt, S.apply(this, arguments), this.store = this.manager.session.pointerEvents = []
            }

            function Y() {
                this.evTarget = Qt, this.evWin = $t, this.started = !1, S.apply(this, arguments)
            }

            function G(t, e) {
                var i = x(t.touches),
                    o = x(t.changedTouches);
                return e & (It | Nt) && (i = k(i.concat(o), "identifier", !0)), [i, o]
            }

            function V() {
                this.evTarget = ee, this.targetIds = {}, S.apply(this, arguments)
            }

            function U(t, e) {
                var i = x(t.touches),
                    o = this.targetIds;
                if (e & (Et | Pt) && 1 === i.length) return o[i[0].identifier] = !0, [i, i];
                var n, s, r = x(t.changedTouches),
                    a = [],
                    h = this.target;
                if (s = i.filter(function(t) {
                        return y(t.target, h)
                    }), e === Et)
                    for (n = 0; n < s.length;) o[s[n].identifier] = !0, n++;
                for (n = 0; n < r.length;) o[r[n].identifier] && a.push(r[n]), e & (It | Nt) && delete o[r[n].identifier], n++;
                return a.length ? [k(s.concat(a), "identifier", !0), a] : void 0
            }

            function q() {
                S.apply(this, arguments);
                var t = p(this.handler, this);
                this.touch = new V(this.manager, t), this.mouse = new H(this.manager, t)
            }

            function X(t, e) {
                this.manager = t, this.set(e)
            }

            function Z(t) {
                if (b(t, ae)) return ae;
                var e = b(t, he),
                    i = b(t, de);
                return e && i ? ae : e || i ? e ? he : de : b(t, re) ? re : se
            }

            function K(t) {
                this.options = ct({}, this.defaults, t || {}), this.id = M(), this.manager = null, this.options.enable = m(this.options.enable, !0), this.state = le, this.simultaneous = {}, this.requireFail = []
            }

            function J(t) {
                return t & me ? "cancel" : t & pe ? "end" : t & ue ? "move" : t & ce ? "start" : ""
            }

            function Q(t) {
                return t == Bt ? "down" : t == At ? "up" : t == zt ? "left" : t == Lt ? "right" : ""
            }

            function $(t, e) {
                var i = e.manager;
                return i ? i.get(t) : t
            }

            function tt() {
                K.apply(this, arguments)
            }

            function et() {
                tt.apply(this, arguments), this.pX = null, this.pY = null
            }

            function it() {
                tt.apply(this, arguments)
            }

            function ot() {
                K.apply(this, arguments), this._timer = null, this._input = null
            }

            function nt() {
                tt.apply(this, arguments)
            }

            function st() {
                tt.apply(this, arguments)
            }

            function rt() {
                K.apply(this, arguments), this.pTime = !1, this.pCenter = !1, this._timer = null, this._input = null, this.count = 0
            }

            function at(t, e) {
                return e = e || {}, e.recognizers = m(e.recognizers, at.defaults.preset), new ht(t, e)
            }

            function ht(t, e) {
                this.options = ct({}, at.defaults, e || {}), this.options.inputTarget = this.options.inputTarget || t, this.handlers = {}, this.session = {}, this.recognizers = [], this.element = t, this.input = C(this), this.touchAction = new X(this, this.options.touchAction), dt(this, !0), l(this.options.recognizers, function(t) {
                    var e = this.add(new t[0](t[1]));
                    t[2] && e.recognizeWith(t[2]), t[3] && e.requireFailure(t[3])
                }, this)
            }

            function dt(t, e) {
                var i = t.element;
                i.style && l(t.options.cssProps, function(t, o) {
                    i.style[O(i.style, o)] = e ? t : ""
                })
            }

            function lt(t, e) {
                var i = s.createEvent("Event");
                i.initEvent(t, !0, !0), i.gesture = e, e.target.dispatchEvent(i)
            }
            var ct, ut = ["", "webkit", "Moz", "MS", "ms", "o"],
                pt = s.createElement("div"),
                ft = "function",
                mt = Math.round,
                vt = Math.abs,
                gt = Date.now;
            ct = "function" != typeof Object.assign ? function(t) {
                if (t === a || null === t) throw new TypeError("Cannot convert undefined or null to object");
                for (var e = Object(t), i = 1; i < arguments.length; i++) {
                    var o = arguments[i];
                    if (o !== a && null !== o)
                        for (var n in o) o.hasOwnProperty(n) && (e[n] = o[n])
                }
                return e
            } : Object.assign;
            var yt = c(function(t, e, i) {
                    for (var o = Object.keys(e), n = 0; n < o.length;)(!i || i && t[o[n]] === a) && (t[o[n]] = e[o[n]]), n++;
                    return t
                }, "extend", "Use `assign`."),
                bt = c(function(t, e) {
                    return yt(t, e, !0)
                }, "merge", "Use `assign`."),
                wt = 1,
                _t = /mobile|tablet|ip(ad|hone|od)|android/i,
                xt = "ontouchstart" in n,
                kt = O(n, "PointerEvent") !== a,
                Ot = xt && _t.test(navigator.userAgent),
                Mt = "touch",
                Dt = "pen",
                St = "mouse",
                Ct = "kinect",
                Tt = 25,
                Et = 1,
                Pt = 2,
                It = 4,
                Nt = 8,
                Rt = 1,
                zt = 2,
                Lt = 4,
                At = 8,
                Bt = 16,
                Ft = zt | Lt,
                jt = At | Bt,
                Ht = Ft | jt,
                Wt = ["x", "y"],
                Yt = ["clientX", "clientY"];
            S.prototype = {
                handler: function() {},
                init: function() {
                    this.evEl && v(this.element, this.evEl, this.domHandler), this.evTarget && v(this.target, this.evTarget, this.domHandler), this.evWin && v(D(this.element), this.evWin, this.domHandler)
                },
                destroy: function() {
                    this.evEl && g(this.element, this.evEl, this.domHandler), this.evTarget && g(this.target, this.evTarget, this.domHandler), this.evWin && g(D(this.element), this.evWin, this.domHandler)
                }
            };
            var Gt = {
                    mousedown: Et,
                    mousemove: Pt,
                    mouseup: It
                },
                Vt = "mousedown",
                Ut = "mousemove mouseup";
            u(H, S, {
                handler: function(t) {
                    var e = Gt[t.type];
                    e & Et && 0 === t.button && (this.pressed = !0), e & Pt && 1 !== t.which && (e = It), this.pressed && this.allow && (e & It && (this.pressed = !1), this.callback(this.manager, e, {
                        pointers: [t],
                        changedPointers: [t],
                        pointerType: St,
                        srcEvent: t
                    }))
                }
            });
            var qt = {
                    pointerdown: Et,
                    pointermove: Pt,
                    pointerup: It,
                    pointercancel: Nt,
                    pointerout: Nt
                },
                Xt = {
                    2: Mt,
                    3: Dt,
                    4: St,
                    5: Ct
                },
                Zt = "pointerdown",
                Kt = "pointermove pointerup pointercancel";
            n.MSPointerEvent && !n.PointerEvent && (Zt = "MSPointerDown", Kt = "MSPointerMove MSPointerUp MSPointerCancel"), u(W, S, {
                handler: function(t) {
                    var e = this.store,
                        i = !1,
                        o = t.type.toLowerCase().replace("ms", ""),
                        n = qt[o],
                        s = Xt[t.pointerType] || t.pointerType,
                        r = s == Mt,
                        a = _(e, t.pointerId, "pointerId");
                    n & Et && (0 === t.button || r) ? 0 > a && (e.push(t), a = e.length - 1) : n & (It | Nt) && (i = !0), 0 > a || (e[a] = t, this.callback(this.manager, n, {
                        pointers: e,
                        changedPointers: [t],
                        pointerType: s,
                        srcEvent: t
                    }), i && e.splice(a, 1))
                }
            });
            var Jt = {
                    touchstart: Et,
                    touchmove: Pt,
                    touchend: It,
                    touchcancel: Nt
                },
                Qt = "touchstart",
                $t = "touchstart touchmove touchend touchcancel";
            u(Y, S, {
                handler: function(t) {
                    var e = Jt[t.type];
                    if (e === Et && (this.started = !0), this.started) {
                        var i = G.call(this, t, e);
                        e & (It | Nt) && i[0].length - i[1].length === 0 && (this.started = !1), this.callback(this.manager, e, {
                            pointers: i[0],
                            changedPointers: i[1],
                            pointerType: Mt,
                            srcEvent: t
                        })
                    }
                }
            });
            var te = {
                    touchstart: Et,
                    touchmove: Pt,
                    touchend: It,
                    touchcancel: Nt
                },
                ee = "touchstart touchmove touchend touchcancel";
            u(V, S, {
                handler: function(t) {
                    var e = te[t.type],
                        i = U.call(this, t, e);
                    i && this.callback(this.manager, e, {
                        pointers: i[0],
                        changedPointers: i[1],
                        pointerType: Mt,
                        srcEvent: t
                    })
                }
            }), u(q, S, {
                handler: function(t, e, i) {
                    var o = i.pointerType == Mt,
                        n = i.pointerType == St;
                    if (o) this.mouse.allow = !1;
                    else if (n && !this.mouse.allow) return;
                    e & (It | Nt) && (this.mouse.allow = !0), this.callback(t, e, i)
                },
                destroy: function() {
                    this.touch.destroy(), this.mouse.destroy()
                }
            });
            var ie = O(pt.style, "touchAction"),
                oe = ie !== a,
                ne = "compute",
                se = "auto",
                re = "manipulation",
                ae = "none",
                he = "pan-x",
                de = "pan-y";
            X.prototype = {
                set: function(t) {
                    t == ne && (t = this.compute()), oe && this.manager.element.style && (this.manager.element.style[ie] = t), this.actions = t.toLowerCase().trim()
                },
                update: function() {
                    this.set(this.manager.options.touchAction)
                },
                compute: function() {
                    var t = [];
                    return l(this.manager.recognizers, function(e) {
                        f(e.options.enable, [e]) && (t = t.concat(e.getTouchAction()))
                    }), Z(t.join(" "))
                },
                preventDefaults: function(t) {
                    if (!oe) {
                        var e = t.srcEvent,
                            i = t.offsetDirection;
                        if (this.manager.session.prevented) return void e.preventDefault();
                        var o = this.actions,
                            n = b(o, ae),
                            s = b(o, de),
                            r = b(o, he);
                        if (n) {
                            var a = 1 === t.pointers.length,
                                h = t.distance < 2,
                                d = t.deltaTime < 250;
                            if (a && h && d) return
                        }
                        if (!r || !s) return n || s && i & Ft || r && i & jt ? this.preventSrc(e) : void 0
                    }
                },
                preventSrc: function(t) {
                    this.manager.session.prevented = !0, t.preventDefault()
                }
            };
            var le = 1,
                ce = 2,
                ue = 4,
                pe = 8,
                fe = pe,
                me = 16,
                ve = 32;
            K.prototype = {
                defaults: {},
                set: function(t) {
                    return ct(this.options, t), this.manager && this.manager.touchAction.update(), this
                },
                recognizeWith: function(t) {
                    if (d(t, "recognizeWith", this)) return this;
                    var e = this.simultaneous;
                    return t = $(t, this), e[t.id] || (e[t.id] = t, t.recognizeWith(this)), this
                },
                dropRecognizeWith: function(t) {
                    return d(t, "dropRecognizeWith", this) ? this : (t = $(t, this), delete this.simultaneous[t.id], this)
                },
                requireFailure: function(t) {
                    if (d(t, "requireFailure", this)) return this;
                    var e = this.requireFail;
                    return t = $(t, this), -1 === _(e, t) && (e.push(t), t.requireFailure(this)), this
                },
                dropRequireFailure: function(t) {
                    if (d(t, "dropRequireFailure", this)) return this;
                    t = $(t, this);
                    var e = _(this.requireFail, t);
                    return e > -1 && this.requireFail.splice(e, 1), this
                },
                hasRequireFailures: function() {
                    return this.requireFail.length > 0
                },
                canRecognizeWith: function(t) {
                    return !!this.simultaneous[t.id]
                },
                emit: function(t) {
                    function e(e) {
                        i.manager.emit(e, t)
                    }
                    var i = this,
                        o = this.state;
                    pe > o && e(i.options.event + J(o)), e(i.options.event), t.additionalEvent && e(t.additionalEvent), o >= pe && e(i.options.event + J(o))
                },
                tryEmit: function(t) {
                    return this.canEmit() ? this.emit(t) : void(this.state = ve)
                },
                canEmit: function() {
                    for (var t = 0; t < this.requireFail.length;) {
                        if (!(this.requireFail[t].state & (ve | le))) return !1;
                        t++
                    }
                    return !0
                },
                recognize: function(t) {
                    var e = ct({}, t);
                    return f(this.options.enable, [this, e]) ? (this.state & (fe | me | ve) && (this.state = le), this.state = this.process(e), void(this.state & (ce | ue | pe | me) && this.tryEmit(e))) : (this.reset(), void(this.state = ve))
                },
                process: function(t) {},
                getTouchAction: function() {},
                reset: function() {}
            }, u(tt, K, {
                defaults: {
                    pointers: 1
                },
                attrTest: function(t) {
                    var e = this.options.pointers;
                    return 0 === e || t.pointers.length === e
                },
                process: function(t) {
                    var e = this.state,
                        i = t.eventType,
                        o = e & (ce | ue),
                        n = this.attrTest(t);
                    return o && (i & Nt || !n) ? e | me : o || n ? i & It ? e | pe : e & ce ? e | ue : ce : ve
                }
            }), u(et, tt, {
                defaults: {
                    event: "pan",
                    threshold: 10,
                    pointers: 1,
                    direction: Ht
                },
                getTouchAction: function() {
                    var t = this.options.direction,
                        e = [];
                    return t & Ft && e.push(de), t & jt && e.push(he), e
                },
                directionTest: function(t) {
                    var e = this.options,
                        i = !0,
                        o = t.distance,
                        n = t.direction,
                        s = t.deltaX,
                        r = t.deltaY;
                    return n & e.direction || (e.direction & Ft ? (n = 0 === s ? Rt : 0 > s ? zt : Lt, i = s != this.pX, o = Math.abs(t.deltaX)) : (n = 0 === r ? Rt : 0 > r ? At : Bt, i = r != this.pY, o = Math.abs(t.deltaY))), t.direction = n, i && o > e.threshold && n & e.direction
                },
                attrTest: function(t) {
                    return tt.prototype.attrTest.call(this, t) && (this.state & ce || !(this.state & ce) && this.directionTest(t))
                },
                emit: function(t) {
                    this.pX = t.deltaX, this.pY = t.deltaY;
                    var e = Q(t.direction);
                    e && (t.additionalEvent = this.options.event + e), this._super.emit.call(this, t)
                }
            }), u(it, tt, {
                defaults: {
                    event: "pinch",
                    threshold: 0,
                    pointers: 2
                },
                getTouchAction: function() {
                    return [ae]
                },
                attrTest: function(t) {
                    return this._super.attrTest.call(this, t) && (Math.abs(t.scale - 1) > this.options.threshold || this.state & ce)
                },
                emit: function(t) {
                    if (1 !== t.scale) {
                        var e = t.scale < 1 ? "in" : "out";
                        t.additionalEvent = this.options.event + e
                    }
                    this._super.emit.call(this, t)
                }
            }), u(ot, K, {
                defaults: {
                    event: "press",
                    pointers: 1,
                    time: 251,
                    threshold: 9
                },
                getTouchAction: function() {
                    return [se]
                },
                process: function(t) {
                    var e = this.options,
                        i = t.pointers.length === e.pointers,
                        o = t.distance < e.threshold,
                        n = t.deltaTime > e.time;
                    if (this._input = t, !o || !i || t.eventType & (It | Nt) && !n) this.reset();
                    else if (t.eventType & Et) this.reset(), this._timer = h(function() {
                        this.state = fe, this.tryEmit()
                    }, e.time, this);
                    else if (t.eventType & It) return fe;
                    return ve
                },
                reset: function() {
                    clearTimeout(this._timer)
                },
                emit: function(t) {
                    this.state === fe && (t && t.eventType & It ? this.manager.emit(this.options.event + "up", t) : (this._input.timeStamp = gt(), this.manager.emit(this.options.event, this._input)))
                }
            }), u(nt, tt, {
                defaults: {
                    event: "rotate",
                    threshold: 0,
                    pointers: 2
                },
                getTouchAction: function() {
                    return [ae]
                },
                attrTest: function(t) {
                    return this._super.attrTest.call(this, t) && (Math.abs(t.rotation) > this.options.threshold || this.state & ce)
                }
            }), u(st, tt, {
                defaults: {
                    event: "swipe",
                    threshold: 10,
                    velocity: .3,
                    direction: Ft | jt,
                    pointers: 1
                },
                getTouchAction: function() {
                    return et.prototype.getTouchAction.call(this)
                },
                attrTest: function(t) {
                    var e, i = this.options.direction;
                    return i & (Ft | jt) ? e = t.overallVelocity : i & Ft ? e = t.overallVelocityX : i & jt && (e = t.overallVelocityY), this._super.attrTest.call(this, t) && i & t.offsetDirection && t.distance > this.options.threshold && t.maxPointers == this.options.pointers && vt(e) > this.options.velocity && t.eventType & It
                },
                emit: function(t) {
                    var e = Q(t.offsetDirection);
                    e && this.manager.emit(this.options.event + e, t), this.manager.emit(this.options.event, t)
                }
            }), u(rt, K, {
                defaults: {
                    event: "tap",
                    pointers: 1,
                    taps: 1,
                    interval: 300,
                    time: 250,
                    threshold: 9,
                    posThreshold: 10
                },
                getTouchAction: function() {
                    return [re]
                },
                process: function(t) {
                    var e = this.options,
                        i = t.pointers.length === e.pointers,
                        o = t.distance < e.threshold,
                        n = t.deltaTime < e.time;
                    if (this.reset(), t.eventType & Et && 0 === this.count) return this.failTimeout();
                    if (o && n && i) {
                        if (t.eventType != It) return this.failTimeout();
                        var s = this.pTime ? t.timeStamp - this.pTime < e.interval : !0,
                            r = !this.pCenter || A(this.pCenter, t.center) < e.posThreshold;
                        this.pTime = t.timeStamp, this.pCenter = t.center, r && s ? this.count += 1 : this.count = 1, this._input = t;
                        var a = this.count % e.taps;
                        if (0 === a) return this.hasRequireFailures() ? (this._timer = h(function() {
                            this.state = fe, this.tryEmit()
                        }, e.interval, this), ce) : fe
                    }
                    return ve
                },
                failTimeout: function() {
                    return this._timer = h(function() {
                        this.state = ve
                    }, this.options.interval, this), ve
                },
                reset: function() {
                    clearTimeout(this._timer)
                },
                emit: function() {
                    this.state == fe && (this._input.tapCount = this.count, this.manager.emit(this.options.event, this._input))
                }
            }), at.VERSION = "2.0.6", at.defaults = {
                domEvents: !1,
                touchAction: ne,
                enable: !0,
                inputTarget: null,
                inputClass: null,
                preset: [
                    [nt, {
                        enable: !1
                    }],
                    [it, {
                            enable: !1
                        },
                        ["rotate"]
                    ],
                    [st, {
                        direction: Ft
                    }],
                    [et, {
                            direction: Ft
                        },
                        ["swipe"]
                    ],
                    [rt],
                    [rt, {
                            event: "doubletap",
                            taps: 2
                        },
                        ["tap"]
                    ],
                    [ot]
                ],
                cssProps: {
                    userSelect: "none",
                    touchSelect: "none",
                    touchCallout: "none",
                    contentZooming: "none",
                    userDrag: "none",
                    tapHighlightColor: "rgba(0,0,0,0)"
                }
            };
            var ge = 1,
                ye = 2;
            ht.prototype = {
                set: function(t) {
                    return ct(this.options, t), t.touchAction && this.touchAction.update(), t.inputTarget && (this.input.destroy(), this.input.target = t.inputTarget, this.input.init()), this
                },
                stop: function(t) {
                    this.session.stopped = t ? ye : ge
                },
                recognize: function(t) {
                    var e = this.session;
                    if (!e.stopped) {
                        this.touchAction.preventDefaults(t);
                        var i, o = this.recognizers,
                            n = e.curRecognizer;
                        (!n || n && n.state & fe) && (n = e.curRecognizer = null);
                        for (var s = 0; s < o.length;) i = o[s], e.stopped === ye || n && i != n && !i.canRecognizeWith(n) ? i.reset() : i.recognize(t), !n && i.state & (ce | ue | pe) && (n = e.curRecognizer = i), s++
                    }
                },
                get: function(t) {
                    if (t instanceof K) return t;
                    for (var e = this.recognizers, i = 0; i < e.length; i++)
                        if (e[i].options.event == t) return e[i];
                    return null
                },
                add: function(t) {
                    if (d(t, "add", this)) return this;
                    var e = this.get(t.options.event);
                    return e && this.remove(e), this.recognizers.push(t), t.manager = this, this.touchAction.update(), t
                },
                remove: function(t) {
                    if (d(t, "remove", this)) return this;
                    if (t = this.get(t)) {
                        var e = this.recognizers,
                            i = _(e, t); - 1 !== i && (e.splice(i, 1), this.touchAction.update())
                    }
                    return this
                },
                on: function(t, e) {
                    var i = this.handlers;
                    return l(w(t), function(t) {
                        i[t] = i[t] || [], i[t].push(e)
                    }), this
                },
                off: function(t, e) {
                    var i = this.handlers;
                    return l(w(t), function(t) {
                        e ? i[t] && i[t].splice(_(i[t], e), 1) : delete i[t]
                    }), this
                },
                emit: function(t, e) {
                    this.options.domEvents && lt(t, e);
                    var i = this.handlers[t] && this.handlers[t].slice();
                    if (i && i.length) {
                        e.type = t, e.preventDefault = function() {
                            e.srcEvent.preventDefault()
                        };
                        for (var o = 0; o < i.length;) i[o](e), o++
                    }
                },
                destroy: function() {
                    this.element && dt(this, !1), this.handlers = {}, this.session = {}, this.input.destroy(), this.element = null
                }
            }, ct(at, {
                INPUT_START: Et,
                INPUT_MOVE: Pt,
                INPUT_END: It,
                INPUT_CANCEL: Nt,
                STATE_POSSIBLE: le,
                STATE_BEGAN: ce,
                STATE_CHANGED: ue,
                STATE_ENDED: pe,
                STATE_RECOGNIZED: fe,
                STATE_CANCELLED: me,
                STATE_FAILED: ve,
                DIRECTION_NONE: Rt,
                DIRECTION_LEFT: zt,
                DIRECTION_RIGHT: Lt,
                DIRECTION_UP: At,
                DIRECTION_DOWN: Bt,
                DIRECTION_HORIZONTAL: Ft,
                DIRECTION_VERTICAL: jt,
                DIRECTION_ALL: Ht,
                Manager: ht,
                Input: S,
                TouchAction: X,
                TouchInput: V,
                MouseInput: H,
                PointerEventInput: W,
                TouchMouseInput: q,
                SingleTouchInput: Y,
                Recognizer: K,
                AttrRecognizer: tt,
                Tap: rt,
                Pan: et,
                Swipe: st,
                Pinch: it,
                Rotate: nt,
                Press: ot,
                on: v,
                off: g,
                each: l,
                merge: bt,
                extend: yt,
                assign: ct,
                inherit: u,
                bindFn: p,
                prefixed: O
            });
            var be = "undefined" != typeof n ? n : "undefined" != typeof self ? self : {};
            be.Hammer = at, o = function() {
                return at
            }.call(e, i, e, t), !(o !== a && (t.exports = o))
        }(window, document, "Hammer")
    }, function(t, e, i) {
        var o, n, s;
        ! function(i, r) {
            n = [], o = r, s = "function" == typeof o ? o.apply(e, n) : o, !(void 0 !== s && (t.exports = s))
        }(this, function() {
            function t(t) {
                var e, i = t && t.preventDefault || !1,
                    o = t && t.container || window,
                    n = {},
                    s = {
                        keydown: {},
                        keyup: {}
                    },
                    r = {};
                for (e = 97; 122 >= e; e++) r[String.fromCharCode(e)] = {
                    code: 65 + (e - 97),
                    shift: !1
                };
                for (e = 65; 90 >= e; e++) r[String.fromCharCode(e)] = {
                    code: e,
                    shift: !0
                };
                for (e = 0; 9 >= e; e++) r["" + e] = {
                    code: 48 + e,
                    shift: !1
                };
                for (e = 1; 12 >= e; e++) r["F" + e] = {
                    code: 111 + e,
                    shift: !1
                };
                for (e = 0; 9 >= e; e++) r["num" + e] = {
                    code: 96 + e,
                    shift: !1
                };
                r["num*"] = {
                    code: 106,
                    shift: !1
                }, r["num+"] = {
                    code: 107,
                    shift: !1
                }, r["num-"] = {
                    code: 109,
                    shift: !1
                }, r["num/"] = {
                    code: 111,
                    shift: !1
                }, r["num."] = {
                    code: 110,
                    shift: !1
                }, r.left = {
                    code: 37,
                    shift: !1
                }, r.up = {
                    code: 38,
                    shift: !1
                }, r.right = {
                    code: 39,
                    shift: !1
                }, r.down = {
                    code: 40,
                    shift: !1
                }, r.space = {
                    code: 32,
                    shift: !1
                }, r.enter = {
                    code: 13,
                    shift: !1
                }, r.shift = {
                    code: 16,
                    shift: void 0
                }, r.esc = {
                    code: 27,
                    shift: !1
                }, r.backspace = {
                    code: 8,
                    shift: !1
                }, r.tab = {
                    code: 9,
                    shift: !1
                }, r.ctrl = {
                    code: 17,
                    shift: !1
                }, r.alt = {
                    code: 18,
                    shift: !1
                }, r["delete"] = {
                    code: 46,
                    shift: !1
                }, r.pageup = {
                    code: 33,
                    shift: !1
                }, r.pagedown = {
                    code: 34,
                    shift: !1
                }, r["="] = {
                    code: 187,
                    shift: !1
                }, r["-"] = {
                    code: 189,
                    shift: !1
                }, r["]"] = {
                    code: 221,
                    shift: !1
                }, r["["] = {
                    code: 219,
                    shift: !1
                };
                var a = function(t) {
                        d(t, "keydown")
                    },
                    h = function(t) {
                        d(t, "keyup")
                    },
                    d = function(t, e) {
                        if (void 0 !== s[e][t.keyCode]) {
                            for (var o = s[e][t.keyCode], n = 0; n < o.length; n++) void 0 === o[n].shift ? o[n].fn(t) : 1 == o[n].shift && 1 == t.shiftKey ? o[n].fn(t) : 0 == o[n].shift && 0 == t.shiftKey && o[n].fn(t);
                            1 == i && t.preventDefault()
                        }
                    };
                return n.bind = function(t, e, i) {
                    if (void 0 === i && (i = "keydown"), void 0 === r[t]) throw new Error("unsupported key: " + t);
                    void 0 === s[i][r[t].code] && (s[i][r[t].code] = []), s[i][r[t].code].push({
                        fn: e,
                        shift: r[t].shift
                    })
                }, n.bindAll = function(t, e) {
                    void 0 === e && (e = "keydown");
                    for (var i in r) r.hasOwnProperty(i) && n.bind(i, t, e)
                }, n.getKey = function(t) {
                    for (var e in r)
                        if (r.hasOwnProperty(e)) {
                            if (1 == t.shiftKey && 1 == r[e].shift && t.keyCode == r[e].code) return e;
                            if (0 == t.shiftKey && 0 == r[e].shift && t.keyCode == r[e].code) return e;
                            if (t.keyCode == r[e].code && "shift" == e) return e
                        }
                    return "unknown key, currently not supported"
                }, n.unbind = function(t, e, i) {
                    if (void 0 === i && (i = "keydown"), void 0 === r[t]) throw new Error("unsupported key: " + t);
                    if (void 0 !== e) {
                        var o = [],
                            n = s[i][r[t].code];
                        if (void 0 !== n)
                            for (var a = 0; a < n.length; a++) n[a].fn == e && n[a].shift == r[t].shift || o.push(s[i][r[t].code][a]);
                        s[i][r[t].code] = o
                    } else s[i][r[t].code] = []
                }, n.reset = function() {
                    s = {
                        keydown: {},
                        keyup: {}
                    }
                }, n.destroy = function() {
                    s = {
                        keydown: {},
                        keyup: {}
                    }, o.removeEventListener("keydown", a, !0), o.removeEventListener("keyup", h, !0)
                }, o.addEventListener("keydown", a, !0), o.addEventListener("keyup", h, !0), n
            }
            return t
        })
    }, function(t, e, i) {
        e.util = i(1), e.DOMutil = i(8), e.DataSet = i(9), e.DataView = i(11), e.Queue = i(10), e.Timeline = i(25), e.Graph2d = i(50), e.timeline = {
            Core: i(33),
            DateUtil: i(32),
            Range: i(30),
            stack: i(37),
            TimeStep: i(35),
            components: {
                items: {
                    Item: i(39),
                    BackgroundItem: i(43),
                    BoxItem: i(41),
                    PointItem: i(42),
                    RangeItem: i(38)
                },
                BackgroundGroup: i(40),
                Component: i(31),
                CurrentTime: i(48),
                CustomTime: i(46),
                DataAxis: i(52),
                DataScale: i(53),
                GraphGroup: i(54),
                Group: i(36),
                ItemSet: i(34),
                Legend: i(58),
                LineGraph: i(51),
                TimeAxis: i(44)
            }
        }, e.moment = i(2), e.Hammer = i(20), e.keycharm = i(23)
    }, function(t, e, i) {
        function o(t) {
            return t && t.__esModule ? t : {
                "default": t
            }
        }

        function n(t, e, i, o) {
            if (!(this instanceof n)) throw new SyntaxError("Constructor must be called with the new operator");
            if (!(Array.isArray(i) || i instanceof c || i instanceof u) && i instanceof Object) {
                var s = o;
                o = i, i = s
            }
            var r = this;
            this.defaultOptions = {
                start: null,
                end: null,
                autoResize: !0,
                throttleRedraw: 0,
                orientation: {
                    axis: "bottom",
                    item: "bottom"
                },
                rtl: !1,
                moment: d,
                width: null,
                height: null,
                maxHeight: null,
                minHeight: null
            }, this.options = l.deepExtend({}, this.defaultOptions), this._create(t), this.components = [], this.body = {
                dom: this.dom,
                domProps: this.props,
                emitter: {
                    on: this.on.bind(this),
                    off: this.off.bind(this),
                    emit: this.emit.bind(this)
                },
                hiddenDates: [],
                util: {
                    getScale: function() {
                        return r.timeAxis.step.scale
                    },
                    getStep: function() {
                        return r.timeAxis.step.step
                    },
                    toScreen: r._toScreen.bind(r),
                    toGlobalScreen: r._toGlobalScreen.bind(r),
                    toTime: r._toTime.bind(r),
                    toGlobalTime: r._toGlobalTime.bind(r)
                }
            }, this.range = new p(this.body), this.components.push(this.range), this.body.range = this.range, this.timeAxis = new m(this.body), this.timeAxis2 = null, this.components.push(this.timeAxis), this.currentTime = new v(this.body), this.components.push(this.currentTime), this.itemSet = new y(this.body, this.options), this.components.push(this.itemSet), this.itemsData = null, this.groupsData = null, this.on("tap", function(t) {
                r.emit("click", r.getEventProperties(t))
            }), this.on("doubletap", function(t) {
                r.emit("doubleClick", r.getEventProperties(t))
            }), this.dom.root.oncontextmenu = function(t) {
                r.emit("contextmenu", r.getEventProperties(t))
            }, this.fitDone = !1, this.on("changed", function() {
                if (null != this.itemsData && !r.fitDone)
                    if (r.fitDone = !0, void 0 != r.options.start || void 0 != r.options.end) {
                        if (void 0 == r.options.start || void 0 == r.options.end) var t = r.getItemRange();
                        var e = void 0 != r.options.start ? r.options.start : t.min,
                            i = void 0 != r.options.end ? r.options.end : t.max;
                        r.setWindow(e, i, {
                            animation: !1
                        })
                    } else r.fit({
                        animation: !1
                    })
            }), o && this.setOptions(o), i && this.setGroups(i), e && this.setItems(e), this._redraw()
        }
        var s = i(26),
            r = o(s),
            a = i(29),
            h = o(a),
            d = (i(13), i(20), i(2)),
            l = i(1),
            c = i(9),
            u = i(11),
            p = i(30),
            f = i(33),
            m = i(44),
            v = i(48),
            g = i(46),
            y = i(34),
            b = i(29).printStyle,
            w = i(49).allOptions,
            _ = i(49).configureOptions;
        n.prototype = new f, n.prototype._createConfigurator = function() {
            return new r["default"](this, this.dom.container, _)
        }, n.prototype.redraw = function() {
            this.itemSet && this.itemSet.markDirty({
                refreshItems: !0
            }), this._redraw()
        }, n.prototype.setOptions = function(t) {
            var e = h["default"].validate(t, w);
            if (e === !0 && console.log("%cErrors have been found in the supplied options object.", b), f.prototype.setOptions.call(this, t), "type" in t && t.type !== this.options.type) {
                this.options.type = t.type;
                var i = this.itemsData;
                if (i) {
                    var o = this.getSelection();
                    this.setItems(null), this.setItems(i), this.setSelection(o)
                }
            }
        }, n.prototype.setItems = function(t) {
            var e;
            e = t ? t instanceof c || t instanceof u ? t : new c(t, {
                type: {
                    start: "Date",
                    end: "Date"
                }
            }) : null, this.itemsData = e, this.itemSet && this.itemSet.setItems(e)
        }, n.prototype.setGroups = function(t) {
            var e;
            e = t ? t instanceof c || t instanceof u ? t : new c(t) : null, this.groupsData = e, this.itemSet.setGroups(e)
        }, n.prototype.setData = function(t) {
            t && t.groups && this.setGroups(t.groups), t && t.items && this.setItems(t.items)
        }, n.prototype.setSelection = function(t, e) {
            this.itemSet && this.itemSet.setSelection(t), e && e.focus && this.focus(t, e)
        }, n.prototype.getSelection = function() {
            return this.itemSet && this.itemSet.getSelection() || []
        }, n.prototype.focus = function(t, e) {
            if (this.itemsData && void 0 != t) {
                var i = Array.isArray(t) ? t : [t],
                    o = this.itemsData.getDataSet().get(i, {
                        type: {
                            start: "Date",
                            end: "Date"
                        }
                    }),
                    n = null,
                    s = null;
                if (o.forEach(function(t) {
                        var e = t.start.valueOf(),
                            i = "end" in t ? t.end.valueOf() : t.start.valueOf();
                        (null === n || n > e) && (n = e), (null === s || i > s) && (s = i)
                    }), null !== n && null !== s) {
                    var r = (n + s) / 2,
                        a = Math.max(this.range.end - this.range.start, 1.1 * (s - n)),
                        h = e && void 0 !== e.animation ? e.animation : !0;
                    this.range.setRange(r - a / 2, r + a / 2, h)
                }
            }
        }, n.prototype.fit = function(t) {
            var e, i = t && void 0 !== t.animation ? t.animation : !0,
                o = this.itemsData && this.itemsData.getDataSet();
            1 === o.length && void 0 === o.get()[0].end ? (e = this.getDataRange(), this.moveTo(e.min.valueOf(), {
                animation: i
            })) : (e = this.getItemRange(), this.range.setRange(e.min, e.max, i))
        }, n.prototype.getItemRange = function() {
            var t = this,
                e = this.getDataRange(),
                i = null !== e.min ? e.min.valueOf() : null,
                o = null !== e.max ? e.max.valueOf() : null,
                n = null,
                s = null;
            if (null != i && null != o) {
                var r, a, h, d, c;
                ! function() {
                    var e = function(t) {
                            return l.convert(t.data.start, "Date").valueOf()
                        },
                        u = function(t) {
                            var e = void 0 != t.data.end ? t.data.end : t.data.start;
                            return l.convert(e, "Date").valueOf()
                        };
                    r = o - i, 0 >= r && (r = 10), a = r / t.props.center.width, l.forEach(t.itemSet.items, function(t) {
                        t.show(), t.repositionX();
                        var r = e(t),
                            h = u(t);
                        if (this.options.rtl) var d = r - (t.getWidthRight() + 10) * a,
                            l = h + (t.getWidthLeft() + 10) * a;
                        else var d = r - (t.getWidthLeft() + 10) * a,
                            l = h + (t.getWidthRight() + 10) * a;
                        i > d && (i = d, n = t), l > o && (o = l, s = t)
                    }.bind(t)), n && s && (h = n.getWidthLeft() + 10, d = s.getWidthRight() + 10, c = t.props.center.width - h - d, c > 0 && (t.options.rtl ? (i = e(n) - d * r / c, o = u(s) + h * r / c) : (i = e(n) - h * r / c, o = u(s) + d * r / c)))
                }()
            }
            return {
                min: null != i ? new Date(i) : null,
                max: null != o ? new Date(o) : null
            }
        }, n.prototype.getDataRange = function() {
            var t = null,
                e = null,
                i = this.itemsData && this.itemsData.getDataSet();
            return i && i.forEach(function(i) {
                var o = l.convert(i.start, "Date").valueOf(),
                    n = l.convert(void 0 != i.end ? i.end : i.start, "Date").valueOf();
                (null === t || t > o) && (t = o), (null === e || n > e) && (e = n)
            }), {
                min: null != t ? new Date(t) : null,
                max: null != e ? new Date(e) : null
            }
        }, n.prototype.getEventProperties = function(t) {
            var e = t.center ? t.center.x : t.clientX,
                i = t.center ? t.center.y : t.clientY;
            if (this.options.rtl) var o = l.getAbsoluteRight(this.dom.centerContainer) - e;
            else var o = e - l.getAbsoluteLeft(this.dom.centerContainer);
            var n = i - l.getAbsoluteTop(this.dom.centerContainer),
                s = this.itemSet.itemFromTarget(t),
                r = this.itemSet.groupFromTarget(t),
                a = g.customTimeFromTarget(t),
                h = this.itemSet.options.snap || null,
                d = this.body.util.getScale(),
                c = this.body.util.getStep(),
                u = this._toTime(o),
                p = h ? h(u, d, c) : u,
                f = l.getTarget(t),
                m = null;
            return null != s ? m = "item" : null != a ? m = "custom-time" : l.hasParent(f, this.timeAxis.dom.foreground) ? m = "axis" : this.timeAxis2 && l.hasParent(f, this.timeAxis2.dom.foreground) ? m = "axis" : l.hasParent(f, this.itemSet.dom.labelSet) ? m = "group-label" : l.hasParent(f, this.currentTime.bar) ? m = "current-time" : l.hasParent(f, this.dom.center) && (m = "background"), {
                event: t,
                item: s ? s.id : null,
                group: r ? r.groupId : null,
                what: m,
                pageX: t.srcEvent ? t.srcEvent.pageX : t.pageX,
                pageY: t.srcEvent ? t.srcEvent.pageY : t.pageY,
                x: o,
                y: n,
                time: u,
                snappedTime: p
            }
        }, t.exports = n
    }, function(t, e, i) {
        function o(t) {
            return t && t.__esModule ? t : {
                "default": t
            }
        }

        function n(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            } : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol ? "symbol" : typeof t
            },
            r = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            a = i(27),
            h = o(a),
            d = i(1),
            l = function() {
                function t(e, i, o) {
                    var s = arguments.length <= 3 || void 0 === arguments[3] ? 1 : arguments[3];
                    n(this, t), this.parent = e, this.changedOptions = [], this.container = i, this.allowCreation = !1, this.options = {}, this.initialized = !1, this.popupCounter = 0, this.defaultOptions = {
                        enabled: !1,
                        filter: !0,
                        container: void 0,
                        showButton: !0
                    }, d.extend(this.options, this.defaultOptions), this.configureOptions = o, this.moduleOptions = {}, this.domElements = [], this.popupDiv = {}, this.popupLimit = 5, this.popupHistory = {}, this.colorPicker = new h["default"](s), this.wrapper = void 0
                }
                return r(t, [{
                    key: "setOptions",
                    value: function(t) {
                        if (void 0 !== t) {
                            this.popupHistory = {}, this._removePopup();
                            var e = !0;
                            "string" == typeof t ? this.options.filter = t : t instanceof Array ? this.options.filter = t.join() : "object" === ("undefined" == typeof t ? "undefined" : s(t)) ? (void 0 !== t.container && (this.options.container = t.container), void 0 !== t.filter && (this.options.filter = t.filter), void 0 !== t.showButton && (this.options.showButton = t.showButton), void 0 !== t.enabled && (e = t.enabled)) : "boolean" == typeof t ? (this.options.filter = !0, e = t) : "function" == typeof t && (this.options.filter = t, e = !0), this.options.filter === !1 && (e = !1), this.options.enabled = e
                        }
                        this._clean()
                    }
                }, {
                    key: "setModuleOptions",
                    value: function(t) {
                        this.moduleOptions = t, this.options.enabled === !0 && (this._clean(), void 0 !== this.options.container && (this.container = this.options.container), this._create())
                    }
                }, {
                    key: "_create",
                    value: function() {
                        var t = this;
                        this._clean(), this.changedOptions = [];
                        var e = this.options.filter,
                            i = 0,
                            o = !1;
                        for (var n in this.configureOptions) this.configureOptions.hasOwnProperty(n) && (this.allowCreation = !1, o = !1, "function" == typeof e ? (o = e(n, []), o = o || this._handleObject(this.configureOptions[n], [n], !0)) : e !== !0 && -1 === e.indexOf(n) || (o = !0), o !== !1 && (this.allowCreation = !0, i > 0 && this._makeItem([]), this._makeHeader(n), this._handleObject(this.configureOptions[n], [n])), i++);
                        this.options.showButton === !0 && ! function() {
                            var e = document.createElement("div");
                            e.className = "vis-configuration vis-config-button", e.innerHTML = "generate options", e.onclick = function() {
                                t._printOptions()
                            }, e.onmouseover = function() {
                                e.className = "vis-configuration vis-config-button hover"
                            }, e.onmouseout = function() {
                                e.className = "vis-configuration vis-config-button"
                            }, t.optionsContainer = document.createElement("div"), t.optionsContainer.className = "vis-configuration vis-config-option-container", t.domElements.push(t.optionsContainer), t.domElements.push(e)
                        }(), this._push()
                    }
                }, {
                    key: "_push",
                    value: function() {
                        this.wrapper = document.createElement("div"), this.wrapper.className = "vis-configuration-wrapper", this.container.appendChild(this.wrapper);
                        for (var t = 0; t < this.domElements.length; t++) this.wrapper.appendChild(this.domElements[t]);
                        this._showPopupIfNeeded()
                    }
                }, {
                    key: "_clean",
                    value: function() {
                        for (var t = 0; t < this.domElements.length; t++) this.wrapper.removeChild(this.domElements[t]);
                        void 0 !== this.wrapper && (this.container.removeChild(this.wrapper), this.wrapper = void 0), this.domElements = [], this._removePopup()
                    }
                }, {
                    key: "_getValue",
                    value: function(t) {
                        for (var e = this.moduleOptions, i = 0; i < t.length; i++) {
                            if (void 0 === e[t[i]]) {
                                e = void 0;
                                break
                            }
                            e = e[t[i]]
                        }
                        return e
                    }
                }, {
                    key: "_makeItem",
                    value: function(t) {
                        var e = arguments,
                            i = this;
                        if (this.allowCreation === !0) {
                            var o, n, r, a = function() {
                                var s = document.createElement("div");
                                for (s.className = "vis-configuration vis-config-item vis-config-s" + t.length, o = e.length, n = Array(o > 1 ? o - 1 : 0), r = 1; o > r; r++) n[r - 1] = e[r];
                                return n.forEach(function(t) {
                                    s.appendChild(t)
                                }), i.domElements.push(s), {
                                    v: i.domElements.length
                                }
                            }();
                            if ("object" === ("undefined" == typeof a ? "undefined" : s(a))) return a.v
                        }
                        return 0
                    }
                }, {
                    key: "_makeHeader",
                    value: function(t) {
                        var e = document.createElement("div");
                        e.className = "vis-configuration vis-config-header", e.innerHTML = t, this._makeItem([], e)
                    }
                }, {
                    key: "_makeLabel",
                    value: function(t, e) {
                        var i = arguments.length <= 2 || void 0 === arguments[2] ? !1 : arguments[2],
                            o = document.createElement("div");
                        return o.className = "vis-configuration vis-config-label vis-config-s" + e.length, i === !0 ? o.innerHTML = "<i><b>" + t + ":</b></i>" : o.innerHTML = t + ":", o
                    }
                }, {
                    key: "_makeDropdown",
                    value: function(t, e, i) {
                        var o = document.createElement("select");
                        o.className = "vis-configuration vis-config-select";
                        var n = 0;
                        void 0 !== e && -1 !== t.indexOf(e) && (n = t.indexOf(e));
                        for (var s = 0; s < t.length; s++) {
                            var r = document.createElement("option");
                            r.value = t[s], s === n && (r.selected = "selected"), r.innerHTML = t[s], o.appendChild(r)
                        }
                        var a = this;
                        o.onchange = function() {
                            a._update(this.value, i)
                        };
                        var h = this._makeLabel(i[i.length - 1], i);
                        this._makeItem(i, h, o)
                    }
                }, {
                    key: "_makeRange",
                    value: function(t, e, i) {
                        var o = t[0],
                            n = t[1],
                            s = t[2],
                            r = t[3],
                            a = document.createElement("input");
                        a.className = "vis-configuration vis-config-range";
                        try {
                            a.type = "range", a.min = n, a.max = s
                        } catch (h) {}
                        a.step = r;
                        var d = "",
                            l = 0;
                        if (void 0 !== e) {
                            var c = 1.2;
                            0 > e && n > e * c ? (a.min = Math.ceil(e * c), l = a.min, d = "range increased") : n > e / c && (a.min = Math.ceil(e / c), l = a.min, d = "range increased"), e * c > s && 1 !== s && (a.max = Math.ceil(e * c), l = a.max, d = "range increased"), a.value = e
                        } else a.value = o;
                        var u = document.createElement("input");
                        u.className = "vis-configuration vis-config-rangeinput", u.value = a.value;
                        var p = this;
                        a.onchange = function() {
                            u.value = this.value, p._update(Number(this.value), i)
                        }, a.oninput = function() {
                            u.value = this.value
                        };
                        var f = this._makeLabel(i[i.length - 1], i),
                            m = this._makeItem(i, f, a, u);
                        "" !== d && this.popupHistory[m] !== l && (this.popupHistory[m] = l, this._setupPopup(d, m))
                    }
                }, {
                    key: "_setupPopup",
                    value: function(t, e) {
                        var i = this;
                        if (this.initialized === !0 && this.allowCreation === !0 && this.popupCounter < this.popupLimit) {
                            var o = document.createElement("div");
                            o.id = "vis-configuration-popup", o.className = "vis-configuration-popup", o.innerHTML = t, o.onclick = function() {
                                i._removePopup()
                            }, this.popupCounter += 1, this.popupDiv = {
                                html: o,
                                index: e
                            }
                        }
                    }
                }, {
                    key: "_removePopup",
                    value: function() {
                        void 0 !== this.popupDiv.html && (this.popupDiv.html.parentNode.removeChild(this.popupDiv.html), clearTimeout(this.popupDiv.hideTimeout), clearTimeout(this.popupDiv.deleteTimeout), this.popupDiv = {})
                    }
                }, {
                    key: "_showPopupIfNeeded",
                    value: function() {
                        var t = this;
                        if (void 0 !== this.popupDiv.html) {
                            var e = this.domElements[this.popupDiv.index],
                                i = e.getBoundingClientRect();
                            this.popupDiv.html.style.left = i.left + "px", this.popupDiv.html.style.top = i.top - 30 + "px", document.body.appendChild(this.popupDiv.html), this.popupDiv.hideTimeout = setTimeout(function() {
                                t.popupDiv.html.style.opacity = 0
                            }, 1500), this.popupDiv.deleteTimeout = setTimeout(function() {
                                t._removePopup()
                            }, 1800)
                        }
                    }
                }, {
                    key: "_makeCheckbox",
                    value: function(t, e, i) {
                        var o = document.createElement("input");
                        o.type = "checkbox", o.className = "vis-configuration vis-config-checkbox", o.checked = t, void 0 !== e && (o.checked = e, e !== t && ("object" === ("undefined" == typeof t ? "undefined" : s(t)) ? e !== t.enabled && this.changedOptions.push({
                            path: i,
                            value: e
                        }) : this.changedOptions.push({
                            path: i,
                            value: e
                        })));
                        var n = this;
                        o.onchange = function() {
                            n._update(this.checked, i)
                        };
                        var r = this._makeLabel(i[i.length - 1], i);
                        this._makeItem(i, r, o)
                    }
                }, {
                    key: "_makeTextInput",
                    value: function(t, e, i) {
                        var o = document.createElement("input");
                        o.type = "text", o.className = "vis-configuration vis-config-text", o.value = e, e !== t && this.changedOptions.push({
                            path: i,
                            value: e
                        });
                        var n = this;
                        o.onchange = function() {
                            n._update(this.value, i)
                        };
                        var s = this._makeLabel(i[i.length - 1], i);
                        this._makeItem(i, s, o)
                    }
                }, {
                    key: "_makeColorField",
                    value: function(t, e, i) {
                        var o = this,
                            n = t[1],
                            s = document.createElement("div");
                        e = void 0 === e ? n : e, "none" !== e ? (s.className = "vis-configuration vis-config-colorBlock", s.style.backgroundColor = e) : s.className = "vis-configuration vis-config-colorBlock none", e = void 0 === e ? n : e, s.onclick = function() {
                            o._showColorPicker(e, s, i)
                        };
                        var r = this._makeLabel(i[i.length - 1], i);
                        this._makeItem(i, r, s)
                    }
                }, {
                    key: "_showColorPicker",
                    value: function(t, e, i) {
                        var o = this;
                        e.onclick = function() {}, this.colorPicker.insertTo(e), this.colorPicker.show(), this.colorPicker.setColor(t), this.colorPicker.setUpdateCallback(function(t) {
                            var n = "rgba(" + t.r + "," + t.g + "," + t.b + "," + t.a + ")";
                            e.style.backgroundColor = n, o._update(n, i)
                        }), this.colorPicker.setCloseCallback(function() {
                            e.onclick = function() {
                                o._showColorPicker(t, e, i)
                            }
                        })
                    }
                }, {
                    key: "_handleObject",
                    value: function(t) {
                        var e = arguments.length <= 1 || void 0 === arguments[1] ? [] : arguments[1],
                            i = arguments.length <= 2 || void 0 === arguments[2] ? !1 : arguments[2],
                            o = !1,
                            n = this.options.filter,
                            s = !1;
                        for (var r in t)
                            if (t.hasOwnProperty(r)) {
                                o = !0;
                                var a = t[r],
                                    h = d.copyAndExtendArray(e, r);
                                if ("function" == typeof n && (o = n(r, e), o === !1 && !(a instanceof Array) && "string" != typeof a && "boolean" != typeof a && a instanceof Object && (this.allowCreation = !1, o = this._handleObject(a, h, !0), this.allowCreation = i === !1)), o !== !1) {
                                    s = !0;
                                    var l = this._getValue(h);
                                    if (a instanceof Array) this._handleArray(a, l, h);
                                    else if ("string" == typeof a) this._makeTextInput(a, l, h);
                                    else if ("boolean" == typeof a) this._makeCheckbox(a, l, h);
                                    else if (a instanceof Object) {
                                        var c = !0;
                                        if (-1 !== e.indexOf("physics") && this.moduleOptions.physics.solver !== r && (c = !1), c === !0)
                                            if (void 0 !== a.enabled) {
                                                var u = d.copyAndExtendArray(h, "enabled"),
                                                    p = this._getValue(u);
                                                if (p === !0) {
                                                    var f = this._makeLabel(r, h, !0);
                                                    this._makeItem(h, f), s = this._handleObject(a, h) || s
                                                } else this._makeCheckbox(a, p, h)
                                            } else {
                                                var m = this._makeLabel(r, h, !0);
                                                this._makeItem(h, m), s = this._handleObject(a, h) || s
                                            }
                                    } else console.error("dont know how to handle", a, r, h)
                                }
                            }
                        return s
                    }
                }, {
                    key: "_handleArray",
                    value: function(t, e, i) {
                        "string" == typeof t[0] && "color" === t[0] ? (this._makeColorField(t, e, i), t[1] !== e && this.changedOptions.push({
                            path: i,
                            value: e
                        })) : "string" == typeof t[0] ? (this._makeDropdown(t, e, i), t[0] !== e && this.changedOptions.push({
                            path: i,
                            value: e
                        })) : "number" == typeof t[0] && (this._makeRange(t, e, i), t[0] !== e && this.changedOptions.push({
                            path: i,
                            value: Number(e)
                        }))
                    }
                }, {
                    key: "_update",
                    value: function(t, e) {
                        var i = this._constructOptions(t, e);
                        this.parent.body && this.parent.body.emitter && this.parent.body.emitter.emit && this.parent.body.emitter.emit("configChange", i), this.initialized = !0, this.parent.setOptions(i)
                    }
                }, {
                    key: "_constructOptions",
                    value: function(t, e) {
                        var i = arguments.length <= 2 || void 0 === arguments[2] ? {} : arguments[2],
                            o = i;
                        t = "true" === t ? !0 : t, t = "false" === t ? !1 : t;
                        for (var n = 0; n < e.length; n++) "global" !== e[n] && (void 0 === o[e[n]] && (o[e[n]] = {}), n !== e.length - 1 ? o = o[e[n]] : o[e[n]] = t);
                        return i
                    }
                }, {
                    key: "_printOptions",
                    value: function() {
                        var t = this.getOptions();
                        this.optionsContainer.innerHTML = "<pre>var options = " + JSON.stringify(t, null, 2) + "</pre>"
                    }
                }, {
                    key: "getOptions",
                    value: function() {
                        for (var t = {}, e = 0; e < this.changedOptions.length; e++) this._constructOptions(this.changedOptions[e].value, this.changedOptions[e].path, t);
                        return t
                    }
                }]), t
            }();
        e["default"] = l
    }, function(t, e, i) {
        function o(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var n = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            s = i(20),
            r = i(28),
            a = i(1),
            h = function() {
                function t() {
                    var e = arguments.length <= 0 || void 0 === arguments[0] ? 1 : arguments[0];
                    o(this, t), this.pixelRatio = e, this.generated = !1, this.centerCoordinates = {
                        x: 144.5,
                        y: 144.5
                    }, this.r = 289 * .49, this.color = {
                        r: 255,
                        g: 255,
                        b: 255,
                        a: 1
                    }, this.hueCircle = void 0, this.initialColor = {
                        r: 255,
                        g: 255,
                        b: 255,
                        a: 1
                    }, this.previousColor = void 0, this.applied = !1, this.updateCallback = function() {}, this.closeCallback = function() {}, this._create()
                }
                return n(t, [{
                    key: "insertTo",
                    value: function(t) {
                        void 0 !== this.hammer && (this.hammer.destroy(), this.hammer = void 0), this.container = t, this.container.appendChild(this.frame), this._bindHammer(), this._setSize()
                    }
                }, {
                    key: "setUpdateCallback",
                    value: function(t) {
                        if ("function" != typeof t) throw new Error("Function attempted to set as colorPicker update callback is not a function.");
                        this.updateCallback = t
                    }
                }, {
                    key: "setCloseCallback",
                    value: function(t) {
                        if ("function" != typeof t) throw new Error("Function attempted to set as colorPicker closing callback is not a function.");
                        this.closeCallback = t
                    }
                }, {
                    key: "_isColorString",
                    value: function(t) {
                        var e = {
                            black: "#000000",
                            navy: "#000080",
                            darkblue: "#00008B",
                            mediumblue: "#0000CD",
                            blue: "#0000FF",
                            darkgreen: "#006400",
                            green: "#008000",
                            teal: "#008080",
                            darkcyan: "#008B8B",
                            deepskyblue: "#00BFFF",
                            darkturquoise: "#00CED1",
                            mediumspringgreen: "#00FA9A",
                            lime: "#00FF00",
                            springgreen: "#00FF7F",
                            aqua: "#00FFFF",
                            cyan: "#00FFFF",
                            midnightblue: "#191970",
                            dodgerblue: "#1E90FF",
                            lightseagreen: "#20B2AA",
                            forestgreen: "#228B22",
                            seagreen: "#2E8B57",
                            darkslategray: "#2F4F4F",
                            limegreen: "#32CD32",
                            mediumseagreen: "#3CB371",
                            turquoise: "#40E0D0",
                            royalblue: "#4169E1",
                            steelblue: "#4682B4",
                            darkslateblue: "#483D8B",
                            mediumturquoise: "#48D1CC",
                            indigo: "#4B0082",
                            darkolivegreen: "#556B2F",
                            cadetblue: "#5F9EA0",
                            cornflowerblue: "#6495ED",
                            mediumaquamarine: "#66CDAA",
                            dimgray: "#696969",
                            slateblue: "#6A5ACD",
                            olivedrab: "#6B8E23",
                            slategray: "#708090",
                            lightslategray: "#778899",
                            mediumslateblue: "#7B68EE",
                            lawngreen: "#7CFC00",
                            chartreuse: "#7FFF00",
                            aquamarine: "#7FFFD4",
                            maroon: "#800000",
                            purple: "#800080",
                            olive: "#808000",
                            gray: "#808080",
                            skyblue: "#87CEEB",
                            lightskyblue: "#87CEFA",
                            blueviolet: "#8A2BE2",
                            darkred: "#8B0000",
                            darkmagenta: "#8B008B",
                            saddlebrown: "#8B4513",
                            darkseagreen: "#8FBC8F",
                            lightgreen: "#90EE90",
                            mediumpurple: "#9370D8",
                            darkviolet: "#9400D3",
                            palegreen: "#98FB98",
                            darkorchid: "#9932CC",
                            yellowgreen: "#9ACD32",
                            sienna: "#A0522D",
                            brown: "#A52A2A",
                            darkgray: "#A9A9A9",
                            lightblue: "#ADD8E6",
                            greenyellow: "#ADFF2F",
                            paleturquoise: "#AFEEEE",
                            lightsteelblue: "#B0C4DE",
                            powderblue: "#B0E0E6",
                            firebrick: "#B22222",
                            darkgoldenrod: "#B8860B",
                            mediumorchid: "#BA55D3",
                            rosybrown: "#BC8F8F",
                            darkkhaki: "#BDB76B",
                            silver: "#C0C0C0",
                            mediumvioletred: "#C71585",
                            indianred: "#CD5C5C",
                            peru: "#CD853F",
                            chocolate: "#D2691E",
                            tan: "#D2B48C",
                            lightgrey: "#D3D3D3",
                            palevioletred: "#D87093",
                            thistle: "#D8BFD8",
                            orchid: "#DA70D6",
                            goldenrod: "#DAA520",
                            crimson: "#DC143C",
                            gainsboro: "#DCDCDC",
                            plum: "#DDA0DD",
                            burlywood: "#DEB887",
                            lightcyan: "#E0FFFF",
                            lavender: "#E6E6FA",
                            darksalmon: "#E9967A",
                            violet: "#EE82EE",
                            palegoldenrod: "#EEE8AA",
                            lightcoral: "#F08080",
                            khaki: "#F0E68C",
                            aliceblue: "#F0F8FF",
                            honeydew: "#F0FFF0",
                            azure: "#F0FFFF",
                            sandybrown: "#F4A460",
                            wheat: "#F5DEB3",
                            beige: "#F5F5DC",
                            whitesmoke: "#F5F5F5",
                            mintcream: "#F5FFFA",
                            ghostwhite: "#F8F8FF",
                            salmon: "#FA8072",
                            antiquewhite: "#FAEBD7",
                            linen: "#FAF0E6",
                            lightgoldenrodyellow: "#FAFAD2",
                            oldlace: "#FDF5E6",
                            red: "#FF0000",
                            fuchsia: "#FF00FF",
                            magenta: "#FF00FF",
                            deeppink: "#FF1493",
                            orangered: "#FF4500",
                            tomato: "#FF6347",
                            hotpink: "#FF69B4",
                            coral: "#FF7F50",
                            darkorange: "#FF8C00",
                            lightsalmon: "#FFA07A",
                            orange: "#FFA500",
                            lightpink: "#FFB6C1",
                            pink: "#FFC0CB",
                            gold: "#FFD700",
                            peachpuff: "#FFDAB9",
                            navajowhite: "#FFDEAD",
                            moccasin: "#FFE4B5",
                            bisque: "#FFE4C4",
                            mistyrose: "#FFE4E1",
                            blanchedalmond: "#FFEBCD",
                            papayawhip: "#FFEFD5",
                            lavenderblush: "#FFF0F5",
                            seashell: "#FFF5EE",
                            cornsilk: "#FFF8DC",
                            lemonchiffon: "#FFFACD",
                            floralwhite: "#FFFAF0",
                            snow: "#FFFAFA",
                            yellow: "#FFFF00",
                            lightyellow: "#FFFFE0",
                            ivory: "#FFFFF0",
                            white: "#FFFFFF"
                        };
                        return "string" == typeof t ? e[t] : void 0
                    }
                }, {
                    key: "setColor",
                    value: function(t) {
                        var e = arguments.length <= 1 || void 0 === arguments[1] ? !0 : arguments[1];
                        if ("none" !== t) {
                            var i = void 0,
                                o = this._isColorString(t);
                            if (void 0 !== o && (t = o), a.isString(t) === !0) {
                                if (a.isValidRGB(t) === !0) {
                                    var n = t.substr(4).substr(0, t.length - 5).split(",");
                                    i = {
                                        r: n[0],
                                        g: n[1],
                                        b: n[2],
                                        a: 1
                                    }
                                } else if (a.isValidRGBA(t) === !0) {
                                    var s = t.substr(5).substr(0, t.length - 6).split(",");
                                    i = {
                                        r: s[0],
                                        g: s[1],
                                        b: s[2],
                                        a: s[3]
                                    }
                                } else if (a.isValidHex(t) === !0) {
                                    var r = a.hexToRGB(t);
                                    i = {
                                        r: r.r,
                                        g: r.g,
                                        b: r.b,
                                        a: 1
                                    }
                                }
                            } else if (t instanceof Object && void 0 !== t.r && void 0 !== t.g && void 0 !== t.b) {
                                var h = void 0 !== t.a ? t.a : "1.0";
                                i = {
                                    r: t.r,
                                    g: t.g,
                                    b: t.b,
                                    a: h
                                }
                            }
                            if (void 0 === i) throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: " + JSON.stringify(t));
                            this._setColor(i, e)
                        }
                    }
                }, {
                    key: "show",
                    value: function() {
                        void 0 !== this.closeCallback && (this.closeCallback(), this.closeCallback = void 0), this.applied = !1, this.frame.style.display = "block", this._generateHueCircle()
                    }
                }, {
                    key: "_hide",
                    value: function() {
                        var t = this,
                            e = arguments.length <= 0 || void 0 === arguments[0] ? !0 : arguments[0];
                        e === !0 && (this.previousColor = a.extend({}, this.color)), this.applied === !0 && this.updateCallback(this.initialColor), this.frame.style.display = "none", setTimeout(function() {
                            void 0 !== t.closeCallback && (t.closeCallback(), t.closeCallback = void 0)
                        }, 0)
                    }
                }, {
                    key: "_save",
                    value: function() {
                        this.updateCallback(this.color), this.applied = !1, this._hide()
                    }
                }, {
                    key: "_apply",
                    value: function() {
                        this.applied = !0, this.updateCallback(this.color), this._updatePicker(this.color)
                    }
                }, {
                    key: "_loadLast",
                    value: function() {
                        void 0 !== this.previousColor ? this.setColor(this.previousColor, !1) : alert("There is no last color to load...")
                    }
                }, {
                    key: "_setColor",
                    value: function(t) {
                        var e = arguments.length <= 1 || void 0 === arguments[1] ? !0 : arguments[1];
                        e === !0 && (this.initialColor = a.extend({}, t)), this.color = t;
                        var i = a.RGBToHSV(t.r, t.g, t.b),
                            o = 2 * Math.PI,
                            n = this.r * i.s,
                            s = this.centerCoordinates.x + n * Math.sin(o * i.h),
                            r = this.centerCoordinates.y + n * Math.cos(o * i.h);
                        this.colorPickerSelector.style.left = s - .5 * this.colorPickerSelector.clientWidth + "px", this.colorPickerSelector.style.top = r - .5 * this.colorPickerSelector.clientHeight + "px", this._updatePicker(t)
                    }
                }, {
                    key: "_setOpacity",
                    value: function(t) {
                        this.color.a = t / 100, this._updatePicker(this.color)
                    }
                }, {
                    key: "_setBrightness",
                    value: function(t) {
                        var e = a.RGBToHSV(this.color.r, this.color.g, this.color.b);
                        e.v = t / 100;
                        var i = a.HSVToRGB(e.h, e.s, e.v);
                        i.a = this.color.a, this.color = i, this._updatePicker()
                    }
                }, {
                    key: "_updatePicker",
                    value: function() {
                        var t = arguments.length <= 0 || void 0 === arguments[0] ? this.color : arguments[0],
                            e = a.RGBToHSV(t.r, t.g, t.b),
                            i = this.colorPickerCanvas.getContext("2d");
                        void 0 === this.pixelRation && (this.pixelRatio = (window.devicePixelRatio || 1) / (i.webkitBackingStorePixelRatio || i.mozBackingStorePixelRatio || i.msBackingStorePixelRatio || i.oBackingStorePixelRatio || i.backingStorePixelRatio || 1)), i.setTransform(this.pixelRatio, 0, 0, this.pixelRatio, 0, 0);
                        var o = this.colorPickerCanvas.clientWidth,
                            n = this.colorPickerCanvas.clientHeight;
                        i.clearRect(0, 0, o, n), i.putImageData(this.hueCircle, 0, 0), i.fillStyle = "rgba(0,0,0," + (1 - e.v) + ")", i.circle(this.centerCoordinates.x, this.centerCoordinates.y, this.r), i.fill(), this.brightnessRange.value = 100 * e.v, this.opacityRange.value = 100 * t.a, this.initialColorDiv.style.backgroundColor = "rgba(" + this.initialColor.r + "," + this.initialColor.g + "," + this.initialColor.b + "," + this.initialColor.a + ")", this.newColorDiv.style.backgroundColor = "rgba(" + this.color.r + "," + this.color.g + "," + this.color.b + "," + this.color.a + ")"
                    }
                }, {
                    key: "_setSize",
                    value: function() {
                        this.colorPickerCanvas.style.width = "100%", this.colorPickerCanvas.style.height = "100%", this.colorPickerCanvas.width = 289 * this.pixelRatio, this.colorPickerCanvas.height = 289 * this.pixelRatio
                    }
                }, {
                    key: "_create",
                    value: function() {
                        if (this.frame = document.createElement("div"), this.frame.className = "vis-color-picker", this.colorPickerDiv = document.createElement("div"), this.colorPickerSelector = document.createElement("div"), this.colorPickerSelector.className = "vis-selector", this.colorPickerDiv.appendChild(this.colorPickerSelector), this.colorPickerCanvas = document.createElement("canvas"), this.colorPickerDiv.appendChild(this.colorPickerCanvas), this.colorPickerCanvas.getContext) {
                            var t = this.colorPickerCanvas.getContext("2d");
                            this.pixelRatio = (window.devicePixelRatio || 1) / (t.webkitBackingStorePixelRatio || t.mozBackingStorePixelRatio || t.msBackingStorePixelRatio || t.oBackingStorePixelRatio || t.backingStorePixelRatio || 1), this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio, 0, 0, this.pixelRatio, 0, 0)
                        } else {
                            var e = document.createElement("DIV");
                            e.style.color = "red", e.style.fontWeight = "bold", e.style.padding = "10px", e.innerHTML = "Error: your browser does not support HTML canvas", this.colorPickerCanvas.appendChild(e)
                        }
                        this.colorPickerDiv.className = "vis-color", this.opacityDiv = document.createElement("div"), this.opacityDiv.className = "vis-opacity", this.brightnessDiv = document.createElement("div"), this.brightnessDiv.className = "vis-brightness", this.arrowDiv = document.createElement("div"), this.arrowDiv.className = "vis-arrow", this.opacityRange = document.createElement("input");
                        try {
                            this.opacityRange.type = "range", this.opacityRange.min = "0", this.opacityRange.max = "100"
                        } catch (i) {}
                        this.opacityRange.value = "100", this.opacityRange.className = "vis-range", this.brightnessRange = document.createElement("input");
                        try {
                            this.brightnessRange.type = "range", this.brightnessRange.min = "0", this.brightnessRange.max = "100"
                        } catch (i) {}
                        this.brightnessRange.value = "100", this.brightnessRange.className = "vis-range", this.opacityDiv.appendChild(this.opacityRange), this.brightnessDiv.appendChild(this.brightnessRange);
                        var o = this;
                        this.opacityRange.onchange = function() {
                            o._setOpacity(this.value)
                        }, this.opacityRange.oninput = function() {
                            o._setOpacity(this.value)
                        }, this.brightnessRange.onchange = function() {
                            o._setBrightness(this.value)
                        }, this.brightnessRange.oninput = function() {
                            o._setBrightness(this.value)
                        }, this.brightnessLabel = document.createElement("div"), this.brightnessLabel.className = "vis-label vis-brightness", this.brightnessLabel.innerHTML = "brightness:", this.opacityLabel = document.createElement("div"), this.opacityLabel.className = "vis-label vis-opacity", this.opacityLabel.innerHTML = "opacity:", this.newColorDiv = document.createElement("div"), this.newColorDiv.className = "vis-new-color", this.newColorDiv.innerHTML = "new", this.initialColorDiv = document.createElement("div"), this.initialColorDiv.className = "vis-initial-color", this.initialColorDiv.innerHTML = "initial", this.cancelButton = document.createElement("div"), this.cancelButton.className = "vis-button vis-cancel", this.cancelButton.innerHTML = "cancel", this.cancelButton.onclick = this._hide.bind(this, !1), this.applyButton = document.createElement("div"), this.applyButton.className = "vis-button vis-apply", this.applyButton.innerHTML = "apply", this.applyButton.onclick = this._apply.bind(this), this.saveButton = document.createElement("div"), this.saveButton.className = "vis-button vis-save", this.saveButton.innerHTML = "save", this.saveButton.onclick = this._save.bind(this), this.loadButton = document.createElement("div"), this.loadButton.className = "vis-button vis-load", this.loadButton.innerHTML = "load last", this.loadButton.onclick = this._loadLast.bind(this), this.frame.appendChild(this.colorPickerDiv), this.frame.appendChild(this.arrowDiv), this.frame.appendChild(this.brightnessLabel), this.frame.appendChild(this.brightnessDiv), this.frame.appendChild(this.opacityLabel), this.frame.appendChild(this.opacityDiv), this.frame.appendChild(this.newColorDiv), this.frame.appendChild(this.initialColorDiv), this.frame.appendChild(this.cancelButton), this.frame.appendChild(this.applyButton), this.frame.appendChild(this.saveButton), this.frame.appendChild(this.loadButton)
                    }
                }, {
                    key: "_bindHammer",
                    value: function() {
                        var t = this;
                        this.drag = {}, this.pinch = {}, this.hammer = new s(this.colorPickerCanvas), this.hammer.get("pinch").set({
                            enable: !0
                        }), r.onTouch(this.hammer, function(e) {
                            t._moveSelector(e)
                        }), this.hammer.on("tap", function(e) {
                            t._moveSelector(e)
                        }), this.hammer.on("panstart", function(e) {
                            t._moveSelector(e)
                        }), this.hammer.on("panmove", function(e) {
                            t._moveSelector(e)
                        }), this.hammer.on("panend", function(e) {
                            t._moveSelector(e)
                        })
                    }
                }, {
                    key: "_generateHueCircle",
                    value: function() {
                        if (this.generated === !1) {
                            var t = this.colorPickerCanvas.getContext("2d");
                            void 0 === this.pixelRation && (this.pixelRatio = (window.devicePixelRatio || 1) / (t.webkitBackingStorePixelRatio || t.mozBackingStorePixelRatio || t.msBackingStorePixelRatio || t.oBackingStorePixelRatio || t.backingStorePixelRatio || 1)), t.setTransform(this.pixelRatio, 0, 0, this.pixelRatio, 0, 0);
                            var e = this.colorPickerCanvas.clientWidth,
                                i = this.colorPickerCanvas.clientHeight;
                            t.clearRect(0, 0, e, i);
                            var o = void 0,
                                n = void 0,
                                s = void 0,
                                r = void 0;
                            this.centerCoordinates = {
                                x: .5 * e,
                                y: .5 * i
                            }, this.r = .49 * e;
                            var h = 2 * Math.PI / 360,
                                d = 1 / 360,
                                l = 1 / this.r,
                                c = void 0;
                            for (s = 0; 360 > s; s++)
                                for (r = 0; r < this.r; r++) o = this.centerCoordinates.x + r * Math.sin(h * s), n = this.centerCoordinates.y + r * Math.cos(h * s), c = a.HSVToRGB(s * d, r * l, 1), t.fillStyle = "rgb(" + c.r + "," + c.g + "," + c.b + ")", t.fillRect(o - .5, n - .5, 2, 2);
                            t.strokeStyle = "rgba(0,0,0,1)", t.circle(this.centerCoordinates.x, this.centerCoordinates.y, this.r), t.stroke(), this.hueCircle = t.getImageData(0, 0, e, i)
                        }
                        this.generated = !0
                    }
                }, {
                    key: "_moveSelector",
                    value: function(t) {
                        var e = this.colorPickerDiv.getBoundingClientRect(),
                            i = t.center.x - e.left,
                            o = t.center.y - e.top,
                            n = .5 * this.colorPickerDiv.clientHeight,
                            s = .5 * this.colorPickerDiv.clientWidth,
                            r = i - s,
                            h = o - n,
                            d = Math.atan2(r, h),
                            l = .98 * Math.min(Math.sqrt(r * r + h * h), s),
                            c = Math.cos(d) * l + n,
                            u = Math.sin(d) * l + s;
                        this.colorPickerSelector.style.top = c - .5 * this.colorPickerSelector.clientHeight + "px", this.colorPickerSelector.style.left = u - .5 * this.colorPickerSelector.clientWidth + "px";
                        var p = d / (2 * Math.PI);
                        p = 0 > p ? p + 1 : p;
                        var f = l / this.r,
                            m = a.RGBToHSV(this.color.r, this.color.g, this.color.b);
                        m.h = p, m.s = f;
                        var v = a.HSVToRGB(m.h, m.s, m.v);
                        v.a = this.color.a, this.color = v, this.initialColorDiv.style.backgroundColor = "rgba(" + this.initialColor.r + "," + this.initialColor.g + "," + this.initialColor.b + "," + this.initialColor.a + ")", this.newColorDiv.style.backgroundColor = "rgba(" + this.color.r + "," + this.color.g + "," + this.color.b + "," + this.color.a + ")"
                    }
                }]), t
            }();
        e["default"] = h
    }, function(t, e, i) {
        i(20);
        e.onTouch = function(t, e) {
            e.inputHandler = function(t) {
                t.isFirst && e(t)
            }, t.on("hammer.input", e.inputHandler)
        }, e.onRelease = function(t, e) {
            return e.inputHandler = function(t) {
                t.isFinal && e(t)
            }, t.on("hammer.input", e.inputHandler)
        }, e.offTouch = function(t, e) {
            t.off("hammer.input", e.inputHandler)
        }, e.offRelease = e.offTouch, e.disablePreventDefaultVertically = function(t) {
            var e = "pan-y";
            return t.getTouchAction = function() {
                return [e]
            }, t
        }
    }, function(t, e, i) {
        function o(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            } : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol ? "symbol" : typeof t
            },
            s = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            r = i(1),
            a = !1,
            h = void 0,
            d = "background: #FFeeee; color: #dd0000",
            l = function() {
                function t() {
                    o(this, t)
                }
                return s(t, null, [{
                    key: "validate",
                    value: function(e, i, o) {
                        a = !1, h = i;
                        var n = i;
                        return void 0 !== o && (n = i[o]), t.parse(e, n, []), a
                    }
                }, {
                    key: "parse",
                    value: function(e, i, o) {
                        for (var n in e) e.hasOwnProperty(n) && t.check(n, e, i, o)
                    }
                }, {
                    key: "check",
                    value: function(e, i, o, n) {
                        void 0 === o[e] && void 0 === o.__any__ ? t.getSuggestion(e, o, n) : void 0 === o[e] && void 0 !== o.__any__ ? "object" === t.getType(i[e]) && void 0 !== o.__any__.__type__ ? t.checkFields(e, i, o, "__any__", o.__any__.__type__, n) : t.checkFields(e, i, o, "__any__", o.__any__, n) : void 0 !== o[e].__type__ ? t.checkFields(e, i, o, e, o[e].__type__, n) : t.checkFields(e, i, o, e, o[e], n)
                    }
                }, {
                    key: "checkFields",
                    value: function(e, i, o, n, s, h) {
                        var l = t.getType(i[e]),
                            c = s[l];
                        void 0 !== c ? "array" === t.getType(c) && -1 === c.indexOf(i[e]) ? (console.log('%cInvalid option detected in "' + e + '". Allowed values are:' + t.print(c) + ' not "' + i[e] + '". ' + t.printLocation(h, e), d), a = !0) : "object" === l && "__any__" !== n && (h = r.copyAndExtendArray(h, e), t.parse(i[e], o[n], h)) : void 0 === s.any && (console.log('%cInvalid type received for "' + e + '". Expected: ' + t.print(Object.keys(s)) + ". Received [" + l + '] "' + i[e] + '"' + t.printLocation(h, e), d), a = !0)
                    }
                }, {
                    key: "getType",
                    value: function(t) {
                        var e = "undefined" == typeof t ? "undefined" : n(t);
                        return "object" === e ? null === t ? "null" : t instanceof Boolean ? "boolean" : t instanceof Number ? "number" : t instanceof String ? "string" : Array.isArray(t) ? "array" : t instanceof Date ? "date" : void 0 !== t.nodeType ? "dom" : t._isAMomentObject === !0 ? "moment" : "object" : "number" === e ? "number" : "boolean" === e ? "boolean" : "string" === e ? "string" : void 0 === e ? "undefined" : e
                    }
                }, {
                    key: "getSuggestion",
                    value: function(e, i, o) {
                        var n = t.findInOptions(e, i, o, !1),
                            s = t.findInOptions(e, h, [], !0),
                            r = 8,
                            l = 4;
                        void 0 !== n.indexMatch ? console.log('%cUnknown option detected: "' + e + '" in ' + t.printLocation(n.path, e, "") + 'Perhaps it was incomplete? Did you mean: "' + n.indexMatch + '"?\n\n', d) : s.distance <= l && n.distance > s.distance ? console.log('%cUnknown option detected: "' + e + '" in ' + t.printLocation(n.path, e, "") + "Perhaps it was misplaced? Matching option found at: " + t.printLocation(s.path, s.closestMatch, ""), d) : n.distance <= r ? console.log('%cUnknown option detected: "' + e + '". Did you mean "' + n.closestMatch + '"?' + t.printLocation(n.path, e), d) : console.log('%cUnknown option detected: "' + e + '". Did you mean one of these: ' + t.print(Object.keys(i)) + t.printLocation(o, e), d), a = !0
                    }
                }, {
                    key: "findInOptions",
                    value: function(e, i, o) {
                        var n = arguments.length <= 3 || void 0 === arguments[3] ? !1 : arguments[3],
                            s = 1e9,
                            a = "",
                            h = [],
                            d = e.toLowerCase(),
                            l = void 0;
                        for (var c in i) {
                            var u = void 0;
                            if (void 0 !== i[c].__type__ && n === !0) {
                                var p = t.findInOptions(e, i[c], r.copyAndExtendArray(o, c));
                                s > p.distance && (a = p.closestMatch, h = p.path, s = p.distance, l = p.indexMatch)
                            } else -1 !== c.toLowerCase().indexOf(d) && (l = c), u = t.levenshteinDistance(e, c), s > u && (a = c, h = r.copyArray(o), s = u)
                        }
                        return {
                            closestMatch: a,
                            path: h,
                            distance: s,
                            indexMatch: l
                        }
                    }
                }, {
                    key: "printLocation",
                    value: function(t, e) {
                        for (var i = arguments.length <= 2 || void 0 === arguments[2] ? "Problem value found at: \n" : arguments[2], o = "\n\n" + i + "options = {\n", n = 0; n < t.length; n++) {
                            for (var s = 0; n + 1 > s; s++) o += "  ";
                            o += t[n] + ": {\n"
                        }
                        for (var r = 0; r < t.length + 1; r++) o += "  ";
                        o += e + "\n";
                        for (var a = 0; a < t.length + 1; a++) {
                            for (var h = 0; h < t.length - a; h++) o += "  ";
                            o += "}\n"
                        }
                        return o + "\n\n"
                    }
                }, {
                    key: "print",
                    value: function(t) {
                        return JSON.stringify(t).replace(/(\")|(\[)|(\])|(,"__type__")/g, "").replace(/(\,)/g, ", ")
                    }
                }, {
                    key: "levenshteinDistance",
                    value: function(t, e) {
                        if (0 === t.length) return e.length;
                        if (0 === e.length) return t.length;
                        var i, o = [];
                        for (i = 0; i <= e.length; i++) o[i] = [i];
                        var n;
                        for (n = 0; n <= t.length; n++) o[0][n] = n;
                        for (i = 1; i <= e.length; i++)
                            for (n = 1; n <= t.length; n++) e.charAt(i - 1) == t.charAt(n - 1) ? o[i][n] = o[i - 1][n - 1] : o[i][n] = Math.min(o[i - 1][n - 1] + 1, Math.min(o[i][n - 1] + 1, o[i - 1][n] + 1));
                        return o[e.length][t.length]
                    }
                }]), t
            }();
        e["default"] = l, e.printStyle = d
    }, function(t, e, i) {
        function o(t, e) {
            var i = a().hours(0).minutes(0).seconds(0).milliseconds(0);
            this.start = i.clone().add(-3, "days").valueOf(), this.end = i.clone().add(4, "days").valueOf(), this.body = t, this.deltaDifference = 0, this.scaleOffset = 0, this.startToFront = !1, this.endToFront = !0, this.defaultOptions = {
                rtl: !1,
                start: null,
                end: null,
                moment: a,
                direction: "horizontal",
                moveable: !0,
                zoomable: !0,
                min: null,
                max: null,
                zoomMin: 10,
                zoomMax: 31536e10
            }, this.options = r.extend({}, this.defaultOptions), this.props = {
                touch: {}
            }, this.animationTimer = null, this.body.emitter.on("panstart", this._onDragStart.bind(this)), this.body.emitter.on("panmove", this._onDrag.bind(this)), this.body.emitter.on("panend", this._onDragEnd.bind(this)), this.body.emitter.on("mousewheel", this._onMouseWheel.bind(this)), this.body.emitter.on("touch", this._onTouch.bind(this)), this.body.emitter.on("pinch", this._onPinch.bind(this)), this.setOptions(e)
        }

        function n(t) {
            if ("horizontal" != t && "vertical" != t) throw new TypeError('Unknown direction "' + t + '". Choose "horizontal" or "vertical".')
        }
        var s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            } : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol ? "symbol" : typeof t
            },
            r = i(1),
            a = (i(28), i(2)),
            h = i(31),
            d = i(32);
        o.prototype = new h, o.prototype.setOptions = function(t) {
            if (t) {
                var e = ["direction", "min", "max", "zoomMin", "zoomMax", "moveable", "zoomable", "moment", "activate", "hiddenDates", "zoomKey", "rtl"];
                r.selectiveExtend(e, this.options, t), ("start" in t || "end" in t) && this.setRange(t.start, t.end)
            }
        }, o.prototype.setRange = function(t, e, i, o) {
            o !== !0 && (o = !1);
            var n = void 0 != t ? r.convert(t, "Date").valueOf() : null,
                a = void 0 != e ? r.convert(e, "Date").valueOf() : null;
            if (this._cancelAnimation(), i) {
                var h = this,
                    l = this.start,
                    c = this.end,
                    u = "object" === ("undefined" == typeof i ? "undefined" : s(i)) && "duration" in i ? i.duration : 500,
                    p = "object" === ("undefined" == typeof i ? "undefined" : s(i)) && "easingFunction" in i ? i.easingFunction : "easeInOutQuad",
                    f = r.easingFunctions[p];
                if (!f) throw new Error("Unknown easing function " + JSON.stringify(p) + ". Choose from: " + Object.keys(r.easingFunctions).join(", "));
                var m = (new Date).valueOf(),
                    v = !1,
                    g = function w() {
                        if (!h.props.touch.dragging) {
                            var t = (new Date).valueOf(),
                                e = t - m,
                                i = f(e / u),
                                s = e > u,
                                r = s || null === n ? n : l + (n - l) * i,
                                p = s || null === a ? a : c + (a - c) * i;
                            y = h._applyRange(r, p), d.updateHiddenDates(h.options.moment, h.body, h.options.hiddenDates), v = v || y, y && h.body.emitter.emit("rangechange", {
                                start: new Date(h.start),
                                end: new Date(h.end),
                                byUser: o
                            }), s ? v && h.body.emitter.emit("rangechanged", {
                                start: new Date(h.start),
                                end: new Date(h.end),
                                byUser: o
                            }) : h.animationTimer = setTimeout(w, 20)
                        }
                    };
                return g()
            }
            var y = this._applyRange(n, a);
            if (d.updateHiddenDates(this.options.moment, this.body, this.options.hiddenDates), y) {
                var b = {
                    start: new Date(this.start),
                    end: new Date(this.end),
                    byUser: o
                };
                this.body.emitter.emit("rangechange", b), this.body.emitter.emit("rangechanged", b)
            }
        }, o.prototype._cancelAnimation = function() {
            this.animationTimer && (clearTimeout(this.animationTimer), this.animationTimer = null)
        }, o.prototype._applyRange = function(t, e) {
            var i, o = null != t ? r.convert(t, "Date").valueOf() : this.start,
                n = null != e ? r.convert(e, "Date").valueOf() : this.end,
                s = null != this.options.max ? r.convert(this.options.max, "Date").valueOf() : null,
                a = null != this.options.min ? r.convert(this.options.min, "Date").valueOf() : null;
            if (isNaN(o) || null === o) throw new Error('Invalid start "' + t + '"');
            if (isNaN(n) || null === n) throw new Error('Invalid end "' + e + '"');
            if (o > n && (n = o), null !== a && a > o && (i = a - o, o += i, n += i, null != s && n > s && (n = s)), null !== s && n > s && (i = n - s, o -= i, n -= i, null != a && a > o && (o = a)), null !== this.options.zoomMin) {
                var h = parseFloat(this.options.zoomMin);
                0 > h && (h = 0), h > n - o && (this.end - this.start === h && o > this.start && n < this.end ? (o = this.start, n = this.end) : (i = h - (n - o), o -= i / 2, n += i / 2))
            }
            if (null !== this.options.zoomMax) {
                var d = parseFloat(this.options.zoomMax);
                0 > d && (d = 0), n - o > d && (this.end - this.start === d && o < this.start && n > this.end ? (o = this.start, n = this.end) : (i = n - o - d, o += i / 2, n -= i / 2))
            }
            var l = this.start != o || this.end != n;
            return o >= this.start && o <= this.end || n >= this.start && n <= this.end || this.start >= o && this.start <= n || this.end >= o && this.end <= n || this.body.emitter.emit("checkRangedItems"), this.start = o, this.end = n, l
        }, o.prototype.getRange = function() {
            return {
                start: this.start,
                end: this.end
            }
        }, o.prototype.conversion = function(t, e) {
            return o.conversion(this.start, this.end, t, e)
        }, o.conversion = function(t, e, i, o) {
            return void 0 === o && (o = 0), 0 != i && e - t != 0 ? {
                offset: t,
                scale: i / (e - t - o)
            } : {
                offset: 0,
                scale: 1
            }
        }, o.prototype._onDragStart = function(t) {
            this.deltaDifference = 0, this.previousDelta = 0, this.options.moveable && this._isInsideRange(t) && this.props.touch.allowDragging && (this.props.touch.start = this.start, this.props.touch.end = this.end, this.props.touch.dragging = !0, this.body.dom.root && (this.body.dom.root.style.cursor = "move"))
        }, o.prototype._onDrag = function(t) {
            if (this.props.touch.dragging && this.options.moveable && this.props.touch.allowDragging) {
                var e = this.options.direction;
                n(e);
                var i = "horizontal" == e ? t.deltaX : t.deltaY;
                i -= this.deltaDifference;
                var o = this.props.touch.end - this.props.touch.start,
                    s = d.getHiddenDurationBetween(this.body.hiddenDates, this.start, this.end);
                o -= s;
                var r = "horizontal" == e ? this.body.domProps.center.width : this.body.domProps.center.height;
                if (this.options.rtl) var a = i / r * o;
                else var a = -i / r * o;
                var h = this.props.touch.start + a,
                    l = this.props.touch.end + a,
                    c = d.snapAwayFromHidden(this.body.hiddenDates, h, this.previousDelta - i, !0),
                    u = d.snapAwayFromHidden(this.body.hiddenDates, l, this.previousDelta - i, !0);
                if (c != h || u != l) return this.deltaDifference += i, this.props.touch.start = c, this.props.touch.end = u, void this._onDrag(t);
                this.previousDelta = i, this._applyRange(h, l);
                var p = new Date(this.start),
                    f = new Date(this.end);
                this.body.emitter.emit("rangechange", {
                    start: p,
                    end: f,
                    byUser: !0
                })
            }
        }, o.prototype._onDragEnd = function(t) {
            this.props.touch.dragging && this.options.moveable && this.props.touch.allowDragging && (this.props.touch.dragging = !1, this.body.dom.root && (this.body.dom.root.style.cursor = "auto"), this.body.emitter.emit("rangechanged", {
                start: new Date(this.start),
                end: new Date(this.end),
                byUser: !0
            }))
        }, o.prototype._onMouseWheel = function(t) {
            if (this.options.zoomable && this.options.moveable && this._isInsideRange(t) && (!this.options.zoomKey || t[this.options.zoomKey])) {
                var e = 0;
                if (t.wheelDelta ? e = t.wheelDelta / 120 : t.detail && (e = -t.detail / 3), e) {
                    var i;
                    i = 0 > e ? 1 - e / 5 : 1 / (1 + e / 5);
                    var o = this.getPointer({
                            x: t.clientX,
                            y: t.clientY
                        }, this.body.dom.center),
                        n = this._pointerToDate(o);
                    this.zoom(i, n, e)
                }
                t.preventDefault()
            }
        }, o.prototype._onTouch = function(t) {
            this.props.touch.start = this.start, this.props.touch.end = this.end, this.props.touch.allowDragging = !0, this.props.touch.center = null, this.scaleOffset = 0, this.deltaDifference = 0
        }, o.prototype._onPinch = function(t) {
            if (this.options.zoomable && this.options.moveable) {
                this.props.touch.allowDragging = !1, this.props.touch.center || (this.props.touch.center = this.getPointer(t.center, this.body.dom.center));
                var e = 1 / (t.scale + this.scaleOffset),
                    i = this._pointerToDate(this.props.touch.center),
                    o = d.getHiddenDurationBetween(this.body.hiddenDates, this.start, this.end),
                    n = d.getHiddenDurationBefore(this.options.moment, this.body.hiddenDates, this, i),
                    s = o - n,
                    r = i - n + (this.props.touch.start - (i - n)) * e,
                    a = i + s + (this.props.touch.end - (i + s)) * e;
                this.startToFront = 0 >= 1 - e, this.endToFront = 0 >= e - 1;
                var h = d.snapAwayFromHidden(this.body.hiddenDates, r, 1 - e, !0),
                    l = d.snapAwayFromHidden(this.body.hiddenDates, a, e - 1, !0);
                h == r && l == a || (this.props.touch.start = h, this.props.touch.end = l, this.scaleOffset = 1 - t.scale, r = h, a = l), this.setRange(r, a, !1, !0), this.startToFront = !1, this.endToFront = !0
            }
        }, o.prototype._isInsideRange = function(t) {
            var e = t.center ? t.center.x : t.clientX;
            if (this.options.rtl) var i = e - r.getAbsoluteLeft(this.body.dom.centerContainer);
            else var i = r.getAbsoluteRight(this.body.dom.centerContainer) - e;
            var o = this.body.util.toTime(i);
            return o >= this.start && o <= this.end
        }, o.prototype._pointerToDate = function(t) {
            var e, i = this.options.direction;
            if (n(i), "horizontal" == i) return this.body.util.toTime(t.x).valueOf();
            var o = this.body.domProps.center.height;
            return e = this.conversion(o), t.y / e.scale + e.offset
        }, o.prototype.getPointer = function(t, e) {
            return this.options.rtl ? {
                x: r.getAbsoluteRight(e) - t.x,
                y: t.y - r.getAbsoluteTop(e)
            } : {
                x: t.x - r.getAbsoluteLeft(e),
                y: t.y - r.getAbsoluteTop(e)
            }
        }, o.prototype.zoom = function(t, e, i) {
            null == e && (e = (this.start + this.end) / 2);
            var o = d.getHiddenDurationBetween(this.body.hiddenDates, this.start, this.end),
                n = d.getHiddenDurationBefore(this.options.moment, this.body.hiddenDates, this, e),
                s = o - n,
                r = e - n + (this.start - (e - n)) * t,
                a = e + s + (this.end - (e + s)) * t;
            this.startToFront = !(i > 0), this.endToFront = !(-i > 0);
            var h = d.snapAwayFromHidden(this.body.hiddenDates, r, i, !0),
                l = d.snapAwayFromHidden(this.body.hiddenDates, a, -i, !0);
            h == r && l == a || (r = h, a = l), this.setRange(r, a, !1, !0), this.startToFront = !1, this.endToFront = !0
        }, o.prototype.move = function(t) {
            var e = this.end - this.start,
                i = this.start + e * t,
                o = this.end + e * t;
            this.start = i, this.end = o
        }, o.prototype.moveTo = function(t) {
            var e = (this.start + this.end) / 2,
                i = e - t,
                o = this.start - i,
                n = this.end - i;
            this.setRange(o, n)
        }, t.exports = o
    }, function(t, e) {
        function i(t, e) {
            this.options = null, this.props = null
        }
        i.prototype.setOptions = function(t) {
            t && util.extend(this.options, t)
        }, i.prototype.redraw = function() {
            return !1
        }, i.prototype.destroy = function() {}, i.prototype._isResized = function() {
            var t = this.props._previousWidth !== this.props.width || this.props._previousHeight !== this.props.height;
            return this.props._previousWidth = this.props.width, this.props._previousHeight = this.props.height, t
        }, t.exports = i
    }, function(t, e) {
        e.convertHiddenOptions = function(t, i, o) {
            if (o && !Array.isArray(o)) return e.convertHiddenOptions(t, i, [o]);
            if (i.hiddenDates = [], o && 1 == Array.isArray(o)) {
                for (var n = 0; n < o.length; n++)
                    if (void 0 === o[n].repeat) {
                        var s = {};
                        s.start = t(o[n].start).toDate().valueOf(), s.end = t(o[n].end).toDate().valueOf(), i.hiddenDates.push(s)
                    }
                i.hiddenDates.sort(function(t, e) {
                    return t.start - e.start
                })
            }
        }, e.updateHiddenDates = function(t, i, o) {
            if (o && !Array.isArray(o)) return e.updateHiddenDates(t, i, [o]);
            if (o && void 0 !== i.domProps.centerContainer.width) {
                e.convertHiddenOptions(t, i, o);
                for (var n = t(i.range.start), s = t(i.range.end), r = i.range.end - i.range.start, a = r / i.domProps.centerContainer.width, h = 0; h < o.length; h++)
                    if (void 0 !== o[h].repeat) {
                        var d = t(o[h].start),
                            l = t(o[h].end);
                        if ("Invalid Date" == d._d) throw new Error("Supplied start date is not valid: " + o[h].start);
                        if ("Invalid Date" == l._d) throw new Error("Supplied end date is not valid: " + o[h].end);
                        var c = l - d;
                        if (c >= 4 * a) {
                            var u = 0,
                                p = s.clone();
                            switch (o[h].repeat) {
                                case "daily":
                                    d.day() != l.day() && (u = 1), d.dayOfYear(n.dayOfYear()), d.year(n.year()), d.subtract(7, "days"), l.dayOfYear(n.dayOfYear()), l.year(n.year()), l.subtract(7 - u, "days"), p.add(1, "weeks");
                                    break;
                                case "weekly":
                                    var f = l.diff(d, "days"),
                                        m = d.day();
                                    d.date(n.date()), d.month(n.month()), d.year(n.year()), l = d.clone(), d.day(m), l.day(m), l.add(f, "days"), d.subtract(1, "weeks"), l.subtract(1, "weeks"), p.add(1, "weeks");
                                    break;
                                case "monthly":
                                    d.month() != l.month() && (u = 1), d.month(n.month()), d.year(n.year()), d.subtract(1, "months"), l.month(n.month()), l.year(n.year()), l.subtract(1, "months"), l.add(u, "months"), p.add(1, "months");
                                    break;
                                case "yearly":
                                    d.year() != l.year() && (u = 1), d.year(n.year()), d.subtract(1, "years"), l.year(n.year()), l.subtract(1, "years"), l.add(u, "years"), p.add(1, "years");
                                    break;
                                default:
                                    return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:", o[h].repeat)
                            }
                            for (; p > d;) switch (i.hiddenDates.push({
                                start: d.valueOf(),
                                end: l.valueOf()
                            }), o[h].repeat) {
                                case "daily":
                                    d.add(1, "days"), l.add(1, "days");
                                    break;
                                case "weekly":
                                    d.add(1, "weeks"), l.add(1, "weeks");
                                    break;
                                case "monthly":
                                    d.add(1, "months"), l.add(1, "months");
                                    break;
                                case "yearly":
                                    d.add(1, "y"), l.add(1, "y");
                                    break;
                                default:
                                    return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:", o[h].repeat)
                            }
                            i.hiddenDates.push({
                                start: d.valueOf(),
                                end: l.valueOf()
                            })
                        }
                    }
                e.removeDuplicates(i);
                var v = e.isHidden(i.range.start, i.hiddenDates),
                    g = e.isHidden(i.range.end, i.hiddenDates),
                    y = i.range.start,
                    b = i.range.end;
                1 == v.hidden && (y = 1 == i.range.startToFront ? v.startDate - 1 : v.endDate + 1), 1 == g.hidden && (b = 1 == i.range.endToFront ? g.startDate - 1 : g.endDate + 1), 1 != v.hidden && 1 != g.hidden || i.range._applyRange(y, b)
            }
        }, e.removeDuplicates = function(t) {
            for (var e = t.hiddenDates, i = [], o = 0; o < e.length; o++)
                for (var n = 0; n < e.length; n++) o != n && 1 != e[n].remove && 1 != e[o].remove && (e[n].start >= e[o].start && e[n].end <= e[o].end ? e[n].remove = !0 : e[n].start >= e[o].start && e[n].start <= e[o].end ? (e[o].end = e[n].end, e[n].remove = !0) : e[n].end >= e[o].start && e[n].end <= e[o].end && (e[o].start = e[n].start, e[n].remove = !0));
            for (var o = 0; o < e.length; o++) e[o].remove !== !0 && i.push(e[o]);
            t.hiddenDates = i, t.hiddenDates.sort(function(t, e) {
                return t.start - e.start
            })
        }, e.printDates = function(t) {
            for (var e = 0; e < t.length; e++) console.log(e, new Date(t[e].start), new Date(t[e].end), t[e].start, t[e].end, t[e].remove)
        }, e.stepOverHiddenDates = function(t, e, i) {
            for (var o = !1, n = e.current.valueOf(), s = 0; s < e.hiddenDates.length; s++) {
                var r = e.hiddenDates[s].start,
                    a = e.hiddenDates[s].end;
                if (n >= r && a > n) {
                    o = !0;
                    break
                }
            }
            if (1 == o && n < e._end.valueOf() && n != i) {
                var h = t(i),
                    d = t(a);
                h.year() != d.year() ? e.switchedYear = !0 : h.month() != d.month() ? e.switchedMonth = !0 : h.dayOfYear() != d.dayOfYear() && (e.switchedDay = !0), e.current = d
            }
        }, e.toScreen = function(t, i, o) {
            if (0 == t.body.hiddenDates.length) {
                var n = t.range.conversion(o);
                return (i.valueOf() - n.offset) * n.scale
            }
            var s = e.isHidden(i, t.body.hiddenDates);
            1 == s.hidden && (i = s.startDate);
            var r = e.getHiddenDurationBetween(t.body.hiddenDates, t.range.start, t.range.end);
            i = e.correctTimeForHidden(t.options.moment, t.body.hiddenDates, t.range, i);
            var n = t.range.conversion(o, r);
            return (i.valueOf() - n.offset) * n.scale
        }, e.toTime = function(t, i, o) {
            if (0 == t.body.hiddenDates.length) {
                var n = t.range.conversion(o);
                return new Date(i / n.scale + n.offset)
            }
            var s = e.getHiddenDurationBetween(t.body.hiddenDates, t.range.start, t.range.end),
                r = t.range.end - t.range.start - s,
                a = r * i / o,
                h = e.getAccumulatedHiddenDuration(t.body.hiddenDates, t.range, a),
                d = new Date(h + a + t.range.start);
            return d
        }, e.getHiddenDurationBetween = function(t, e, i) {
            for (var o = 0, n = 0; n < t.length; n++) {
                var s = t[n].start,
                    r = t[n].end;
                s >= e && i > r && (o += r - s)
            }
            return o
        }, e.correctTimeForHidden = function(t, i, o, n) {
            return n = t(n).toDate().valueOf(), n -= e.getHiddenDurationBefore(t, i, o, n)
        }, e.getHiddenDurationBefore = function(t, e, i, o) {
            var n = 0;
            o = t(o).toDate().valueOf();
            for (var s = 0; s < e.length; s++) {
                var r = e[s].start,
                    a = e[s].end;
                r >= i.start && a < i.end && o >= a && (n += a - r)
            }
            return n
        }, e.getAccumulatedHiddenDuration = function(t, e, i) {
            for (var o = 0, n = 0, s = e.start, r = 0; r < t.length; r++) {
                var a = t[r].start,
                    h = t[r].end;
                if (a >= e.start && h < e.end) {
                    if (n += a - s, s = h, n >= i) break;
                    o += h - a
                }
            }
            return o
        }, e.snapAwayFromHidden = function(t, i, o, n) {
            var s = e.isHidden(i, t);
            return 1 == s.hidden ? 0 > o ? 1 == n ? s.startDate - (s.endDate - i) - 1 : s.startDate - 1 : 1 == n ? s.endDate + (i - s.startDate) + 1 : s.endDate + 1 : i
        }, e.isHidden = function(t, e) {
            for (var i = 0; i < e.length; i++) {
                var o = e[i].start,
                    n = e[i].end;
                if (t >= o && n > t) return {
                    hidden: !0,
                    startDate: o,
                    endDate: n
                }
            }
            return {
                hidden: !1,
                startDate: o,
                endDate: n
            }
        }
    }, function(t, e, i) {
        function o() {}
        var n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            } : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol ? "symbol" : typeof t
            },
            s = i(13),
            r = i(20),
            a = i(28),
            h = i(1),
            d = (i(9), i(11), i(30), i(34), i(44)),
            l = i(45),
            c = i(32),
            u = i(46);
        s(o.prototype), o.prototype._create = function(t) {
            function e(t) {
                i.isActive() && i.emit("mousewheel", t)
            }
            this.dom = {}, this.dom.container = t, this.dom.root = document.createElement("div"), this.dom.background = document.createElement("div"), this.dom.backgroundVertical = document.createElement("div"), this.dom.backgroundHorizontal = document.createElement("div"), this.dom.centerContainer = document.createElement("div"), this.dom.leftContainer = document.createElement("div"), this.dom.rightContainer = document.createElement("div"), this.dom.center = document.createElement("div"), this.dom.left = document.createElement("div"), this.dom.right = document.createElement("div"), this.dom.top = document.createElement("div"), this.dom.bottom = document.createElement("div"), this.dom.shadowTop = document.createElement("div"), this.dom.shadowBottom = document.createElement("div"), this.dom.shadowTopLeft = document.createElement("div"), this.dom.shadowBottomLeft = document.createElement("div"), this.dom.shadowTopRight = document.createElement("div"), this.dom.shadowBottomRight = document.createElement("div"), this.dom.root.className = "vis-timeline", this.dom.background.className = "vis-panel vis-background", this.dom.backgroundVertical.className = "vis-panel vis-background vis-vertical", this.dom.backgroundHorizontal.className = "vis-panel vis-background vis-horizontal", this.dom.centerContainer.className = "vis-panel vis-center", this.dom.leftContainer.className = "vis-panel vis-left", this.dom.rightContainer.className = "vis-panel vis-right", this.dom.top.className = "vis-panel vis-top", this.dom.bottom.className = "vis-panel vis-bottom", this.dom.left.className = "vis-content", this.dom.center.className = "vis-content", this.dom.right.className = "vis-content", this.dom.shadowTop.className = "vis-shadow vis-top", this.dom.shadowBottom.className = "vis-shadow vis-bottom", this.dom.shadowTopLeft.className = "vis-shadow vis-top", this.dom.shadowBottomLeft.className = "vis-shadow vis-bottom", this.dom.shadowTopRight.className = "vis-shadow vis-top", this.dom.shadowBottomRight.className = "vis-shadow vis-bottom", this.dom.root.appendChild(this.dom.background), this.dom.root.appendChild(this.dom.backgroundVertical), this.dom.root.appendChild(this.dom.backgroundHorizontal), this.dom.root.appendChild(this.dom.centerContainer), this.dom.root.appendChild(this.dom.leftContainer), this.dom.root.appendChild(this.dom.rightContainer), this.dom.root.appendChild(this.dom.top), this.dom.root.appendChild(this.dom.bottom), this.dom.centerContainer.appendChild(this.dom.center), this.dom.leftContainer.appendChild(this.dom.left), this.dom.rightContainer.appendChild(this.dom.right), this.dom.centerContainer.appendChild(this.dom.shadowTop), this.dom.centerContainer.appendChild(this.dom.shadowBottom), this.dom.leftContainer.appendChild(this.dom.shadowTopLeft), this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft), this.dom.rightContainer.appendChild(this.dom.shadowTopRight), this.dom.rightContainer.appendChild(this.dom.shadowBottomRight), this.on("rangechange", function() {
                this.initialDrawDone === !0 && this._redraw()
            }.bind(this)), this.on("touch", this._onTouch.bind(this)), this.on("pan", this._onDrag.bind(this));
            var i = this;
            this.on("_change", function(t) {
                t && 1 == t.queue ? i._redrawTimer || (i._redrawTimer = setTimeout(function() {
                    i._redrawTimer = null, i._redraw()
                }, 0)) : i._redraw()
            }), this.hammer = new r(this.dom.root);
            var o = this.hammer.get("pinch").set({
                enable: !0
            });
            a.disablePreventDefaultVertically(o), this.hammer.get("pan").set({
                threshold: 5,
                direction: r.DIRECTION_HORIZONTAL
            }), this.listeners = {};
            var n = ["tap", "doubletap", "press", "pinch", "pan", "panstart", "panmove", "panend"];
            if (n.forEach(function(t) {
                    var e = function(e) {
                        i.isActive() && i.emit(t, e)
                    };
                    i.hammer.on(t, e), i.listeners[t] = e
                }), a.onTouch(this.hammer, function(t) {
                    i.emit("touch", t)
                }.bind(this)), a.onRelease(this.hammer, function(t) {
                    i.emit("release", t)
                }.bind(this)), this.dom.root.addEventListener("mousewheel", e), this.dom.root.addEventListener("DOMMouseScroll", e), this.props = {
                    root: {},
                    background: {},
                    centerContainer: {},
                    leftContainer: {},
                    rightContainer: {},
                    center: {},
                    left: {},
                    right: {},
                    top: {},
                    bottom: {},
                    border: {},
                    scrollTop: 0,
                    scrollTopMin: 0
                }, this.customTimes = [], this.touch = {}, this.redrawCount = 0, this.initialDrawDone = !1, !t) throw new Error("No container provided");
            t.appendChild(this.dom.root)
        }, o.prototype.setOptions = function(t) {
            if (t) {
                var e = ["width", "height", "minHeight", "maxHeight", "autoResize", "start", "end", "clickToUse", "dataAttributes", "hiddenDates", "locale", "locales", "moment", "rtl", "throttleRedraw"];
                if (h.selectiveExtend(e, this.options, t), this.options.rtl) {
                    var i = this.dom.leftContainer;
                    this.dom.leftContainer = this.dom.rightContainer, this.dom.rightContainer = i, this.dom.container.style.direction = "rtl", this.dom.backgroundVertical.className = "vis-panel vis-background vis-vertical-rtl"
                }
                if (this.options.orientation = {
                        item: void 0,
                        axis: void 0
                    }, "orientation" in t && ("string" == typeof t.orientation ? this.options.orientation = {
                        item: t.orientation,
                        axis: t.orientation
                    } : "object" === n(t.orientation) && ("item" in t.orientation && (this.options.orientation.item = t.orientation.item), "axis" in t.orientation && (this.options.orientation.axis = t.orientation.axis))), "both" === this.options.orientation.axis) {
                    if (!this.timeAxis2) {
                        var o = this.timeAxis2 = new d(this.body);
                        o.setOptions = function(t) {
                            var e = t ? h.extend({}, t) : {};
                            e.orientation = "top", d.prototype.setOptions.call(o, e)
                        }, this.components.push(o)
                    }
                } else if (this.timeAxis2) {
                    var s = this.components.indexOf(this.timeAxis2); - 1 !== s && this.components.splice(s, 1), this.timeAxis2.destroy(), this.timeAxis2 = null
                }
                if ("function" == typeof t.drawPoints && (t.drawPoints = {
                        onRender: t.drawPoints
                    }), "hiddenDates" in this.options && c.convertHiddenOptions(this.options.moment, this.body, this.options.hiddenDates), "clickToUse" in t && (t.clickToUse ? this.activator || (this.activator = new l(this.dom.root)) : this.activator && (this.activator.destroy(), delete this.activator)), "showCustomTime" in t) throw new Error("Option `showCustomTime` is deprecated. Create a custom time bar via timeline.addCustomTime(time [, id])");
                this._initAutoResize()
            }
            if (this.components.forEach(function(e) {
                    return e.setOptions(t)
                }), "configure" in t) {
                this.configurator || (this.configurator = this._createConfigurator()), this.configurator.setOptions(t.configure);
                var r = h.deepExtend({}, this.options);
                this.components.forEach(function(t) {
                    h.deepExtend(r, t.options)
                }), this.configurator.setModuleOptions({
                    global: r
                })
            }
            this._origRedraw ? this._redraw() : (this._origRedraw = this._redraw.bind(this), this._redraw = h.throttle(this._origRedraw, this.options.throttleRedraw))
        }, o.prototype.isActive = function() {
            return !this.activator || this.activator.active
        }, o.prototype.destroy = function() {
            this.setItems(null), this.setGroups(null), this.off(), this._stopAutoResize(), this.dom.root.parentNode && this.dom.root.parentNode.removeChild(this.dom.root), this.dom = null, this.activator && (this.activator.destroy(), delete this.activator);
            for (var t in this.listeners) this.listeners.hasOwnProperty(t) && delete this.listeners[t];
            this.listeners = null, this.hammer = null, this.components.forEach(function(t) {
                return t.destroy()
            }), this.body = null
        }, o.prototype.setCustomTime = function(t, e) {
            var i = this.customTimes.filter(function(t) {
                return e === t.options.id
            });
            if (0 === i.length) throw new Error("No custom time bar found with id " + JSON.stringify(e));
            i.length > 0 && i[0].setCustomTime(t)
        }, o.prototype.getCustomTime = function(t) {
            var e = this.customTimes.filter(function(e) {
                return e.options.id === t
            });
            if (0 === e.length) throw new Error("No custom time bar found with id " + JSON.stringify(t));
            return e[0].getCustomTime()
        }, o.prototype.setCustomTimeTitle = function(t, e) {
            var i = this.customTimes.filter(function(t) {
                return t.options.id === e
            });
            if (0 === i.length) throw new Error("No custom time bar found with id " + JSON.stringify(e));
            return i.length > 0 ? i[0].setCustomTitle(t) : void 0
        }, o.prototype.getEventProperties = function(t) {
            return {
                event: t
            }
        }, o.prototype.addCustomTime = function(t, e) {
            var i = void 0 !== t ? h.convert(t, "Date").valueOf() : new Date,
                o = this.customTimes.some(function(t) {
                    return t.options.id === e
                });
            if (o) throw new Error("A custom time with id " + JSON.stringify(e) + " already exists");
            var n = new u(this.body, h.extend({}, this.options, {
                time: i,
                id: e
            }));
            return this.customTimes.push(n), this.components.push(n), this._redraw(), e
        }, o.prototype.removeCustomTime = function(t) {
            var e = this.customTimes.filter(function(e) {
                return e.options.id === t
            });
            if (0 === e.length) throw new Error("No custom time bar found with id " + JSON.stringify(t));
            e.forEach(function(t) {
                this.customTimes.splice(this.customTimes.indexOf(t), 1), this.components.splice(this.components.indexOf(t), 1), t.destroy()
            }.bind(this))
        }, o.prototype.getVisibleItems = function() {
            return this.itemSet && this.itemSet.getVisibleItems() || []
        }, o.prototype.fit = function(t) {
            var e = this.getDataRange();
            if (null !== e.min || null !== e.max) {
                var i = e.max - e.min,
                    o = new Date(e.min.valueOf() - .01 * i),
                    n = new Date(e.max.valueOf() + .01 * i),
                    s = t && void 0 !== t.animation ? t.animation : !0;
                this.range.setRange(o, n, s)
            }
        }, o.prototype.getDataRange = function() {
            throw new Error("Cannot invoke abstract method getDataRange")
        }, o.prototype.setWindow = function(t, e, i) {
            var o;
            if (1 == arguments.length) {
                var n = arguments[0];
                o = void 0 !== n.animation ? n.animation : !0, this.range.setRange(n.start, n.end, o)
            } else o = i && void 0 !== i.animation ? i.animation : !0, this.range.setRange(t, e, o)
        }, o.prototype.moveTo = function(t, e) {
            var i = this.range.end - this.range.start,
                o = h.convert(t, "Date").valueOf(),
                n = o - i / 2,
                s = o + i / 2,
                r = e && void 0 !== e.animation ? e.animation : !0;
            this.range.setRange(n, s, r)
        }, o.prototype.getWindow = function() {
            var t = this.range.getRange();
            return {
                start: new Date(t.start),
                end: new Date(t.end)
            }
        }, o.prototype.redraw = function() {
            this._redraw()
        }, o.prototype._redraw = function() {
            this.redrawCount++;
            var t = !1,
                e = this.options,
                i = this.props,
                o = this.dom;
            if (o && o.container && 0 != o.root.offsetWidth) {
                c.updateHiddenDates(this.options.moment, this.body, this.options.hiddenDates), "top" == e.orientation ? (h.addClassName(o.root, "vis-top"), h.removeClassName(o.root, "vis-bottom")) : (h.removeClassName(o.root, "vis-top"), h.addClassName(o.root, "vis-bottom")), o.root.style.maxHeight = h.option.asSize(e.maxHeight, ""), o.root.style.minHeight = h.option.asSize(e.minHeight, ""), o.root.style.width = h.option.asSize(e.width, ""), i.border.left = (o.centerContainer.offsetWidth - o.centerContainer.clientWidth) / 2, i.border.right = i.border.left, i.border.top = (o.centerContainer.offsetHeight - o.centerContainer.clientHeight) / 2, i.border.bottom = i.border.top;
                var n = o.root.offsetHeight - o.root.clientHeight,
                    s = o.root.offsetWidth - o.root.clientWidth;
                0 === o.centerContainer.clientHeight && (i.border.left = i.border.top, i.border.right = i.border.left), 0 === o.root.clientHeight && (s = n), i.center.height = o.center.offsetHeight, i.left.height = o.left.offsetHeight, i.right.height = o.right.offsetHeight, i.top.height = o.top.clientHeight || -i.border.top, i.bottom.height = o.bottom.clientHeight || -i.border.bottom;
                var a = Math.max(i.left.height, i.center.height, i.right.height),
                    d = i.top.height + a + i.bottom.height + n + i.border.top + i.border.bottom;
                o.root.style.height = h.option.asSize(e.height, d + "px"), i.root.height = o.root.offsetHeight, i.background.height = i.root.height - n;
                var l = i.root.height - i.top.height - i.bottom.height - n;
                i.centerContainer.height = l, i.leftContainer.height = l, i.rightContainer.height = i.leftContainer.height, i.root.width = o.root.offsetWidth, i.background.width = i.root.width - s, i.left.width = o.leftContainer.clientWidth || -i.border.left, i.leftContainer.width = i.left.width, i.right.width = o.rightContainer.clientWidth || -i.border.right, i.rightContainer.width = i.right.width;
                var u = i.root.width - i.left.width - i.right.width - s;
                i.center.width = u, i.centerContainer.width = u, i.top.width = u, i.bottom.width = u, o.background.style.height = i.background.height + "px", o.backgroundVertical.style.height = i.background.height + "px", o.backgroundHorizontal.style.height = i.centerContainer.height + "px", o.centerContainer.style.height = i.centerContainer.height + "px", o.leftContainer.style.height = i.leftContainer.height + "px", o.rightContainer.style.height = i.rightContainer.height + "px", o.background.style.width = i.background.width + "px", o.backgroundVertical.style.width = i.centerContainer.width + "px", o.backgroundHorizontal.style.width = i.background.width + "px", o.centerContainer.style.width = i.center.width + "px", o.top.style.width = i.top.width + "px", o.bottom.style.width = i.bottom.width + "px", o.background.style.left = "0", o.background.style.top = "0", o.backgroundVertical.style.left = i.left.width + i.border.left + "px", o.backgroundVertical.style.top = "0", o.backgroundHorizontal.style.left = "0", o.backgroundHorizontal.style.top = i.top.height + "px", o.centerContainer.style.left = i.left.width + "px", o.centerContainer.style.top = i.top.height + "px", o.leftContainer.style.left = "0", o.leftContainer.style.top = i.top.height + "px", o.rightContainer.style.left = i.left.width + i.center.width + "px", o.rightContainer.style.top = i.top.height + "px", o.top.style.left = i.left.width + "px", o.top.style.top = "0", o.bottom.style.left = i.left.width + "px", o.bottom.style.top = i.top.height + i.centerContainer.height + "px", this._updateScrollTop();
                var p = this.props.scrollTop;
                "top" != e.orientation.item && (p += Math.max(this.props.centerContainer.height - this.props.center.height - this.props.border.top - this.props.border.bottom, 0)), o.center.style.left = "0", o.center.style.top = p + "px", o.left.style.left = "0", o.left.style.top = p + "px", o.right.style.left = "0", o.right.style.top = p + "px";
                var f = 0 == this.props.scrollTop ? "hidden" : "",
                    m = this.props.scrollTop == this.props.scrollTopMin ? "hidden" : "";
                o.shadowTop.style.visibility = f, o.shadowBottom.style.visibility = m, o.shadowTopLeft.style.visibility = f, o.shadowBottomLeft.style.visibility = m, o.shadowTopRight.style.visibility = f, o.shadowBottomRight.style.visibility = m;
                var v = this.props.center.height > this.props.centerContainer.height;
                this.hammer.get("pan").set({
                    direction: v ? r.DIRECTION_ALL : r.DIRECTION_HORIZONTAL
                }), this.components.forEach(function(e) {
                    t = e.redraw() || t
                });
                var g = 5;
                if (t) {
                    if (this.redrawCount < g) return void this.body.emitter.emit("_change");
                    console.log("WARNING: infinite loop in redraw?")
                } else this.redrawCount = 0;
                this.initialDrawDone = !0, this.body.emitter.emit("changed")
            }
        }, o.prototype.repaint = function() {
            throw new Error("Function repaint is deprecated. Use redraw instead.")
        }, o.prototype.setCurrentTime = function(t) {
            if (!this.currentTime) throw new Error("Option showCurrentTime must be true");
            this.currentTime.setCurrentTime(t)
        }, o.prototype.getCurrentTime = function() {
            if (!this.currentTime) throw new Error("Option showCurrentTime must be true");
            return this.currentTime.getCurrentTime()
        }, o.prototype._toTime = function(t) {
            return c.toTime(this, t, this.props.center.width)
        }, o.prototype._toGlobalTime = function(t) {
            return c.toTime(this, t, this.props.root.width)
        }, o.prototype._toScreen = function(t) {
            return c.toScreen(this, t, this.props.center.width)
        }, o.prototype._toGlobalScreen = function(t) {
            return c.toScreen(this, t, this.props.root.width)
        }, o.prototype._initAutoResize = function() {
            1 == this.options.autoResize ? this._startAutoResize() : this._stopAutoResize()
        }, o.prototype._startAutoResize = function() {
            var t = this;
            this._stopAutoResize(), this._onResize = function() {
                return 1 != t.options.autoResize ? void t._stopAutoResize() : void(t.dom.root && (t.dom.root.offsetWidth == t.props.lastWidth && t.dom.root.offsetHeight == t.props.lastHeight || (t.props.lastWidth = t.dom.root.offsetWidth, t.props.lastHeight = t.dom.root.offsetHeight, t.body.emitter.emit("_change"))))
            }, h.addEventListener(window, "resize", this._onResize), t.dom.root && (t.props.lastWidth = t.dom.root.offsetWidth, t.props.lastHeight = t.dom.root.offsetHeight), this.watchTimer = setInterval(this._onResize, 1e3)
        }, o.prototype._stopAutoResize = function() {
            this.watchTimer && (clearInterval(this.watchTimer), this.watchTimer = void 0), this._onResize && (h.removeEventListener(window, "resize", this._onResize), this._onResize = null)
        }, o.prototype._onTouch = function(t) {
            this.touch.allowDragging = !0, this.touch.initialScrollTop = this.props.scrollTop
        }, o.prototype._onPinch = function(t) {
            this.touch.allowDragging = !1
        }, o.prototype._onDrag = function(t) {
            if (this.touch.allowDragging) {
                var e = t.deltaY,
                    i = this._getScrollTop(),
                    o = this._setScrollTop(this.touch.initialScrollTop + e);
                o != i && this.emit("verticalDrag")
            }
        }, o.prototype._setScrollTop = function(t) {
            return this.props.scrollTop = t, this._updateScrollTop(), this.props.scrollTop
        }, o.prototype._updateScrollTop = function() {
            var t = Math.min(this.props.centerContainer.height - this.props.center.height, 0);
            return t != this.props.scrollTopMin && ("top" != this.options.orientation.item && (this.props.scrollTop += t - this.props.scrollTopMin), this.props.scrollTopMin = t), this.props.scrollTop > 0 && (this.props.scrollTop = 0), this.props.scrollTop < t && (this.props.scrollTop = t), this.props.scrollTop
        }, o.prototype._getScrollTop = function() {
            return this.props.scrollTop
        }, o.prototype._createConfigurator = function() {
            throw new Error("Cannot invoke abstract method _createConfigurator")
        }, t.exports = o
    }, function(t, e, i) {
        function o(t, e) {
            this.body = t, this.defaultOptions = {
                rtl: !1,
                type: null,
                orientation: {
                    item: "bottom"
                },
                align: "auto",
                stack: !0,
                groupOrderSwap: function(t, e, i) {
                    var o = e.order;
                    e.order = t.order, t.order = o
                },
                groupOrder: "order",
                selectable: !0,
                multiselect: !1,
                itemsAlwaysDraggable: !1,
                editable: {
                    updateTime: !1,
                    updateGroup: !1,
                    add: !1,
                    remove: !1
                },
                groupEditable: {
                    order: !1,
                    add: !1,
                    remove: !1
                },
                snap: d.snap,
                onAdd: function(t, e) {
                    e(t)
                },
                onUpdate: function(t, e) {
                    e(t)
                },
                onMove: function(t, e) {
                    e(t)
                },
                onRemove: function(t, e) {
                    e(t)
                },
                onMoving: function(t, e) {
                    e(t)
                },
                onAddGroup: function(t, e) {
                    e(t)
                },
                onMoveGroup: function(t, e) {
                    e(t)
                },
                onRemoveGroup: function(t, e) {
                    e(t)
                },
                margin: {
                    item: {
                        horizontal: 10,
                        vertical: 10
                    },
                    axis: 20
                }
            }, this.options = r.extend({}, this.defaultOptions), this.itemOptions = {
                type: {
                    start: "Date",
                    end: "Date"
                }
            }, this.conversion = {
                toScreen: t.util.toScreen,
                toTime: t.util.toTime
            }, this.dom = {}, this.props = {}, this.hammer = null;
            var i = this;
            this.itemsData = null, this.groupsData = null, this.itemListeners = {
                add: function(t, e, o) {
                    i._onAdd(e.items)
                },
                update: function(t, e, o) {
                    i._onUpdate(e.items)
                },
                remove: function(t, e, o) {
                    i._onRemove(e.items)
                }
            }, this.groupListeners = {
                add: function(t, e, o) {
                    i._onAddGroups(e.items)
                },
                update: function(t, e, o) {
                    i._onUpdateGroups(e.items)
                },
                remove: function(t, e, o) {
                    i._onRemoveGroups(e.items)
                }
            }, this.items = {}, this.groups = {}, this.groupIds = [], this.selection = [], this.stackDirty = !0, this.touchParams = {}, this.groupTouchParams = {}, this._create(), this.setOptions(e)
        }
        var n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            } : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol ? "symbol" : typeof t
            },
            s = i(20),
            r = i(1),
            a = i(9),
            h = i(11),
            d = i(35),
            l = i(31),
            c = i(36),
            u = i(40),
            p = i(41),
            f = i(42),
            m = i(38),
            v = i(43),
            g = "__ungrouped__",
            y = "__background__";
        o.prototype = new l, o.types = {
            background: v,
            box: p,
            range: m,
            point: f
        }, o.prototype._create = function() {
            var t = document.createElement("div");
            t.className = "vis-itemset", t["timeline-itemset"] = this, this.dom.frame = t;
            var e = document.createElement("div");
            e.className = "vis-background", t.appendChild(e), this.dom.background = e;
            var i = document.createElement("div");
            i.className = "vis-foreground", t.appendChild(i), this.dom.foreground = i;
            var o = document.createElement("div");
            o.className = "vis-axis", this.dom.axis = o;
            var n = document.createElement("div");
            n.className = "vis-labelset", this.dom.labelSet = n, this._updateUngrouped();
            var r = new u(y, null, this);
            r.show(), this.groups[y] = r, this.hammer = new s(this.body.dom.centerContainer), this.hammer.on("hammer.input", function(t) {
                t.isFirst && this._onTouch(t)
            }.bind(this)), this.hammer.on("panstart", this._onDragStart.bind(this)), this.hammer.on("panmove", this._onDrag.bind(this)), this.hammer.on("panend", this._onDragEnd.bind(this)), this.hammer.get("pan").set({
                threshold: 5,
                direction: s.DIRECTION_HORIZONTAL
            }), this.hammer.on("tap", this._onSelectItem.bind(this)), this.hammer.on("press", this._onMultiSelectItem.bind(this)), this.hammer.on("doubletap", this._onAddItem.bind(this)), this.groupHammer = new s(this.body.dom.leftContainer), this.groupHammer.on("panstart", this._onGroupDragStart.bind(this)), this.groupHammer.on("panmove", this._onGroupDrag.bind(this)), this.groupHammer.on("panend", this._onGroupDragEnd.bind(this)), this.groupHammer.get("pan").set({
                threshold: 5,
                direction: s.DIRECTION_HORIZONTAL
            }), this.show()
        }, o.prototype.setOptions = function(t) {
            if (t) {
                var e = ["type", "rtl", "align", "order", "stack", "selectable", "multiselect", "itemsAlwaysDraggable", "multiselectPerGroup", "groupOrder", "dataAttributes", "template", "groupTemplate", "hide", "snap", "groupOrderSwap"];
                r.selectiveExtend(e, this.options, t), "orientation" in t && ("string" == typeof t.orientation ? this.options.orientation.item = "top" === t.orientation ? "top" : "bottom" : "object" === n(t.orientation) && "item" in t.orientation && (this.options.orientation.item = t.orientation.item)), "margin" in t && ("number" == typeof t.margin ? (this.options.margin.axis = t.margin, this.options.margin.item.horizontal = t.margin, this.options.margin.item.vertical = t.margin) : "object" === n(t.margin) && (r.selectiveExtend(["axis"], this.options.margin, t.margin), "item" in t.margin && ("number" == typeof t.margin.item ? (this.options.margin.item.horizontal = t.margin.item, this.options.margin.item.vertical = t.margin.item) : "object" === n(t.margin.item) && r.selectiveExtend(["horizontal", "vertical"], this.options.margin.item, t.margin.item)))), "editable" in t && ("boolean" == typeof t.editable ? (this.options.editable.updateTime = t.editable, this.options.editable.updateGroup = t.editable, this.options.editable.add = t.editable, this.options.editable.remove = t.editable) : "object" === n(t.editable) && r.selectiveExtend(["updateTime", "updateGroup", "add", "remove"], this.options.editable, t.editable)), "groupEditable" in t && ("boolean" == typeof t.groupEditable ? (this.options.groupEditable.order = t.groupEditable, this.options.groupEditable.add = t.groupEditable, this.options.groupEditable.remove = t.groupEditable) : "object" === n(t.groupEditable) && r.selectiveExtend(["order", "add", "remove"], this.options.groupEditable, t.groupEditable));
                var i = function(e) {
                    var i = t[e];
                    if (i) {
                        if (!(i instanceof Function)) throw new Error("option " + e + " must be a function " + e + "(item, callback)");
                        this.options[e] = i
                    }
                }.bind(this);
                ["onAdd", "onUpdate", "onRemove", "onMove", "onMoving", "onAddGroup", "onMoveGroup", "onRemoveGroup"].forEach(i), this.markDirty()
            }
        }, o.prototype.markDirty = function(t) {
            this.groupIds = [], this.stackDirty = !0, t && t.refreshItems && r.forEach(this.items, function(t) {
                t.dirty = !0, t.displayed && t.redraw()
            })
        }, o.prototype.destroy = function() {
            this.hide(), this.setItems(null), this.setGroups(null), this.hammer = null, this.body = null, this.conversion = null
        }, o.prototype.hide = function() {
            this.dom.frame.parentNode && this.dom.frame.parentNode.removeChild(this.dom.frame), this.dom.axis.parentNode && this.dom.axis.parentNode.removeChild(this.dom.axis), this.dom.labelSet.parentNode && this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)
        }, o.prototype.show = function() {
            this.dom.frame.parentNode || this.body.dom.center.appendChild(this.dom.frame), this.dom.axis.parentNode || this.body.dom.backgroundVertical.appendChild(this.dom.axis), this.dom.labelSet.parentNode || this.body.dom.left.appendChild(this.dom.labelSet)
        }, o.prototype.setSelection = function(t) {
            var e, i, o, n;
            for (void 0 == t && (t = []), Array.isArray(t) || (t = [t]), e = 0, i = this.selection.length; i > e; e++) o = this.selection[e], n = this.items[o], n && n.unselect();
            for (this.selection = [], e = 0, i = t.length; i > e; e++) o = t[e], n = this.items[o], n && (this.selection.push(o), n.select())
        }, o.prototype.getSelection = function() {
            return this.selection.concat([])
        }, o.prototype.getVisibleItems = function() {
            var t = this.body.range.getRange();
            if (this.options.rtl) var e = this.body.util.toScreen(t.start),
                i = this.body.util.toScreen(t.end);
            else var i = this.body.util.toScreen(t.start),
                e = this.body.util.toScreen(t.end);
            var o = [];
            for (var n in this.groups)
                if (this.groups.hasOwnProperty(n))
                    for (var s = this.groups[n], r = s.visibleItems, a = 0; a < r.length; a++) {
                        var h = r[a];
                        this.options.rtl ? h.right < i && h.right + h.width > e && o.push(h.id) : h.left < e && h.left + h.width > i && o.push(h.id)
                    }
                return o
        }, o.prototype._deselect = function(t) {
            for (var e = this.selection, i = 0, o = e.length; o > i; i++)
                if (e[i] == t) {
                    e.splice(i, 1);
                    break
                }
        }, o.prototype.redraw = function() {
            var t = this.options.margin,
                e = this.body.range,
                i = r.option.asSize,
                o = this.options,
                n = o.orientation.item,
                s = !1,
                a = this.dom.frame;
            this.props.top = this.body.domProps.top.height + this.body.domProps.border.top, this.options.rtl ? this.props.right = this.body.domProps.right.width + this.body.domProps.border.right : this.props.left = this.body.domProps.left.width + this.body.domProps.border.left, a.className = "vis-itemset", s = this._orderGroups() || s;
            var h = e.end - e.start,
                d = h != this.lastVisibleInterval || this.props.width != this.props.lastWidth;
            d && (this.stackDirty = !0),
                this.lastVisibleInterval = h, this.props.lastWidth = this.props.width;
            var l = this.stackDirty,
                c = this._firstGroup(),
                u = {
                    item: t.item,
                    axis: t.axis
                },
                p = {
                    item: t.item,
                    axis: t.item.vertical / 2
                },
                f = 0,
                m = t.axis + t.item.vertical;
            return this.groups[y].redraw(e, p, l), r.forEach(this.groups, function(t) {
                var i = t == c ? u : p,
                    o = t.redraw(e, i, l);
                s = o || s, f += t.height
            }), f = Math.max(f, m), this.stackDirty = !1, a.style.height = i(f), this.props.width = a.offsetWidth, this.props.height = f, this.dom.axis.style.top = i("top" == n ? this.body.domProps.top.height + this.body.domProps.border.top : this.body.domProps.top.height + this.body.domProps.centerContainer.height), this.options.rtl ? this.dom.axis.style.right = "0" : this.dom.axis.style.left = "0", s = this._isResized() || s
        }, o.prototype._firstGroup = function() {
            var t = "top" == this.options.orientation.item ? 0 : this.groupIds.length - 1,
                e = this.groupIds[t],
                i = this.groups[e] || this.groups[g];
            return i || null
        }, o.prototype._updateUngrouped = function() {
            var t, e, i = this.groups[g];
            this.groups[y];
            if (this.groupsData) {
                if (i) {
                    i.hide(), delete this.groups[g];
                    for (e in this.items)
                        if (this.items.hasOwnProperty(e)) {
                            t = this.items[e], t.parent && t.parent.remove(t);
                            var o = this._getGroupId(t.data),
                                n = this.groups[o];
                            n && n.add(t) || t.hide()
                        }
                }
            } else if (!i) {
                var s = null,
                    r = null;
                i = new c(s, r, this), this.groups[g] = i;
                for (e in this.items) this.items.hasOwnProperty(e) && (t = this.items[e], i.add(t));
                i.show()
            }
        }, o.prototype.getLabelSet = function() {
            return this.dom.labelSet
        }, o.prototype.setItems = function(t) {
            var e, i = this,
                o = this.itemsData;
            if (t) {
                if (!(t instanceof a || t instanceof h)) throw new TypeError("Data must be an instance of DataSet or DataView");
                this.itemsData = t
            } else this.itemsData = null;
            if (o && (r.forEach(this.itemListeners, function(t, e) {
                    o.off(e, t)
                }), e = o.getIds(), this._onRemove(e)), this.itemsData) {
                var n = this.id;
                r.forEach(this.itemListeners, function(t, e) {
                    i.itemsData.on(e, t, n)
                }), e = this.itemsData.getIds(), this._onAdd(e), this._updateUngrouped()
            }
            this.body.emitter.emit("_change", {
                queue: !0
            })
        }, o.prototype.getItems = function() {
            return this.itemsData
        }, o.prototype.setGroups = function(t) {
            var e, i = this;
            if (this.groupsData && (r.forEach(this.groupListeners, function(t, e) {
                    i.groupsData.off(e, t)
                }), e = this.groupsData.getIds(), this.groupsData = null, this._onRemoveGroups(e)), t) {
                if (!(t instanceof a || t instanceof h)) throw new TypeError("Data must be an instance of DataSet or DataView");
                this.groupsData = t
            } else this.groupsData = null;
            if (this.groupsData) {
                var o = this.id;
                r.forEach(this.groupListeners, function(t, e) {
                    i.groupsData.on(e, t, o)
                }), e = this.groupsData.getIds(), this._onAddGroups(e)
            }
            this._updateUngrouped(), this._order(), this.body.emitter.emit("_change", {
                queue: !0
            })
        }, o.prototype.getGroups = function() {
            return this.groupsData
        }, o.prototype.removeItem = function(t) {
            var e = this.itemsData.get(t),
                i = this.itemsData.getDataSet();
            e && this.options.onRemove(e, function(e) {
                e && i.remove(t)
            })
        }, o.prototype._getType = function(t) {
            return t.type || this.options.type || (t.end ? "range" : "box")
        }, o.prototype._getGroupId = function(t) {
            var e = this._getType(t);
            return "background" == e && void 0 == t.group ? y : this.groupsData ? t.group : g
        }, o.prototype._onUpdate = function(t) {
            var e = this;
            t.forEach(function(t) {
                var i, n = e.itemsData.get(t, e.itemOptions),
                    s = e.items[t],
                    r = e._getType(n),
                    a = o.types[r];
                if (s && (a && s instanceof a ? e._updateItem(s, n) : (i = s.selected, e._removeItem(s), s = null)), !s) {
                    if (!a) throw "rangeoverflow" == r ? new TypeError('Item type "rangeoverflow" is deprecated. Use css styling instead: .vis-item.vis-range .vis-item-content {overflow: visible;}') : new TypeError('Unknown item type "' + r + '"');
                    s = new a(n, e.conversion, e.options), s.id = t, e._addItem(s), i && (this.selection.push(t), s.select())
                }
            }.bind(this)), this._order(), this.stackDirty = !0, this.body.emitter.emit("_change", {
                queue: !0
            })
        }, o.prototype._onAdd = o.prototype._onUpdate, o.prototype._onRemove = function(t) {
            var e = 0,
                i = this;
            t.forEach(function(t) {
                var o = i.items[t];
                o && (e++, i._removeItem(o))
            }), e && (this._order(), this.stackDirty = !0, this.body.emitter.emit("_change", {
                queue: !0
            }))
        }, o.prototype._order = function() {
            r.forEach(this.groups, function(t) {
                t.order()
            })
        }, o.prototype._onUpdateGroups = function(t) {
            this._onAddGroups(t)
        }, o.prototype._onAddGroups = function(t) {
            var e = this;
            t.forEach(function(t) {
                var i = e.groupsData.get(t),
                    o = e.groups[t];
                if (o) o.setData(i);
                else {
                    if (t == g || t == y) throw new Error("Illegal group id. " + t + " is a reserved id.");
                    var n = Object.create(e.options);
                    r.extend(n, {
                        height: null
                    }), o = new c(t, i, e), e.groups[t] = o;
                    for (var s in e.items)
                        if (e.items.hasOwnProperty(s)) {
                            var a = e.items[s];
                            a.data.group == t && o.add(a)
                        }
                    o.order(), o.show()
                }
            }), this.body.emitter.emit("_change", {
                queue: !0
            })
        }, o.prototype._onRemoveGroups = function(t) {
            var e = this.groups;
            t.forEach(function(t) {
                var i = e[t];
                i && (i.hide(), delete e[t])
            }), this.markDirty(), this.body.emitter.emit("_change", {
                queue: !0
            })
        }, o.prototype._orderGroups = function() {
            if (this.groupsData) {
                var t = this.groupsData.getIds({
                        order: this.options.groupOrder
                    }),
                    e = !r.equalArray(t, this.groupIds);
                if (e) {
                    var i = this.groups;
                    t.forEach(function(t) {
                        i[t].hide()
                    }), t.forEach(function(t) {
                        i[t].show()
                    }), this.groupIds = t
                }
                return e
            }
            return !1
        }, o.prototype._addItem = function(t) {
            this.items[t.id] = t;
            var e = this._getGroupId(t.data),
                i = this.groups[e];
            i && i.add(t)
        }, o.prototype._updateItem = function(t, e) {
            var i = t.data.group,
                o = t.data.subgroup;
            if (t.setData(e), i != t.data.group || o != t.data.subgroup) {
                var n = this.groups[i];
                n && n.remove(t);
                var s = this._getGroupId(t.data),
                    r = this.groups[s];
                r && r.add(t)
            }
        }, o.prototype._removeItem = function(t) {
            t.hide(), delete this.items[t.id];
            var e = this.selection.indexOf(t.id); - 1 != e && this.selection.splice(e, 1), t.parent && t.parent.remove(t)
        }, o.prototype._constructByEndArray = function(t) {
            for (var e = [], i = 0; i < t.length; i++) t[i] instanceof m && e.push(t[i]);
            return e
        }, o.prototype._onTouch = function(t) {
            this.touchParams.item = this.itemFromTarget(t), this.touchParams.dragLeftItem = t.target.dragLeftItem || !1, this.touchParams.dragRightItem = t.target.dragRightItem || !1, this.touchParams.itemProps = null
        }, o.prototype._getGroupIndex = function(t) {
            for (var e = 0; e < this.groupIds.length; e++)
                if (t == this.groupIds[e]) return e
        }, o.prototype._onDragStart = function(t) {
            var e, i = this.touchParams.item || null,
                o = this;
            if (i && (i.selected || this.options.itemsAlwaysDraggable)) {
                if (!this.options.editable.updateTime && !this.options.editable.updateGroup && !i.editable) return;
                if (i.editable === !1) return;
                var n = this.touchParams.dragLeftItem,
                    s = this.touchParams.dragRightItem;
                if (n) e = {
                    item: n,
                    initialX: t.center.x,
                    dragLeft: !0,
                    data: this._cloneItemData(i.data)
                }, this.touchParams.itemProps = [e];
                else if (s) e = {
                    item: s,
                    initialX: t.center.x,
                    dragRight: !0,
                    data: this._cloneItemData(i.data)
                }, this.touchParams.itemProps = [e];
                else {
                    this.touchParams.selectedItem = i;
                    var r = this._getGroupIndex(i.data.group),
                        a = this.options.itemsAlwaysDraggable && !i.selected ? [i.id] : this.getSelection();
                    this.touchParams.itemProps = a.map(function(e) {
                        var i = o.items[e],
                            n = o._getGroupIndex(i.data.group);
                        return {
                            item: i,
                            initialX: t.center.x,
                            groupOffset: r - n,
                            data: this._cloneItemData(i.data)
                        }
                    }.bind(this))
                }
                t.stopPropagation()
            } else this.options.editable.add && (t.srcEvent.ctrlKey || t.srcEvent.metaKey) && this._onDragStartAddItem(t)
        }, o.prototype._onDragStartAddItem = function(t) {
            var e = this.options.snap || null;
            if (this.options.rtl) var i = r.getAbsoluteRight(this.dom.frame),
                o = i - t.center.x + 10;
            else var i = r.getAbsoluteLeft(this.dom.frame),
                o = t.center.x - i - 10;
            var n = this.body.util.toTime(o),
                s = this.body.util.getScale(),
                a = this.body.util.getStep(),
                h = e ? e(n, s, a) : n,
                d = h,
                l = {
                    type: "range",
                    start: h,
                    end: d,
                    content: "new item"
                },
                c = r.randomUUID();
            l[this.itemsData._fieldId] = c;
            var u = this.groupFromTarget(t);
            u && (l.group = u.groupId);
            var p = new m(l, this.conversion, this.options);
            p.id = c, p.data = this._cloneItemData(l), this._addItem(p);
            var f = {
                item: p,
                initialX: t.center.x,
                data: p.data
            };
            this.options.rtl ? f.dragLeft = !0 : f.dragRight = !0, this.touchParams.itemProps = [f], t.stopPropagation()
        }, o.prototype._onDrag = function(t) {
            if (this.touchParams.itemProps) {
                t.stopPropagation();
                var e = this,
                    i = this.options.snap || null;
                if (this.options.rtl) var o = this.body.dom.root.offsetLeft + this.body.domProps.right.width;
                else var o = this.body.dom.root.offsetLeft + this.body.domProps.left.width;
                var n = this.body.util.getScale(),
                    s = this.body.util.getStep(),
                    a = this.touchParams.selectedItem,
                    h = e.options.editable.updateGroup,
                    d = null;
                if (h && a && void 0 != a.data.group) {
                    var l = e.groupFromTarget(t);
                    l && (d = this._getGroupIndex(l.groupId))
                }
                this.touchParams.itemProps.forEach(function(a) {
                    var h = e.body.util.toTime(t.center.x - o),
                        l = e.body.util.toTime(a.initialX - o);
                    if (this.options.rtl) var c = -(h - l);
                    else var c = h - l;
                    var u = this._cloneItemData(a.item.data);
                    if (a.item.editable !== !1) {
                        var p = e.options.editable.updateTime || a.item.editable === !0;
                        if (p)
                            if (a.dragLeft) {
                                if (this.options.rtl) {
                                    if (void 0 != u.end) {
                                        var f = r.convert(a.data.end, "Date"),
                                            m = new Date(f.valueOf() + c);
                                        u.end = i ? i(m, n, s) : m
                                    }
                                } else if (void 0 != u.start) {
                                    var v = r.convert(a.data.start, "Date"),
                                        g = new Date(v.valueOf() + c);
                                    u.start = i ? i(g, n, s) : g
                                }
                            } else if (a.dragRight) {
                            if (this.options.rtl) {
                                if (void 0 != u.start) {
                                    var v = r.convert(a.data.start, "Date"),
                                        g = new Date(v.valueOf() + c);
                                    u.start = i ? i(g, n, s) : g
                                }
                            } else if (void 0 != u.end) {
                                var f = r.convert(a.data.end, "Date"),
                                    m = new Date(f.valueOf() + c);
                                u.end = i ? i(m, n, s) : m
                            }
                        } else if (void 0 != u.start) {
                            var v = r.convert(a.data.start, "Date").valueOf(),
                                g = new Date(v + c);
                            if (void 0 != u.end) {
                                var f = r.convert(a.data.end, "Date"),
                                    y = f.valueOf() - v.valueOf();
                                u.start = i ? i(g, n, s) : g, u.end = new Date(u.start.valueOf() + y)
                            } else u.start = i ? i(g, n, s) : g
                        }
                        var b = e.options.editable.updateGroup || a.item.editable === !0;
                        if (b && !a.dragLeft && !a.dragRight && null != d && void 0 != u.group) {
                            var w = d - a.groupOffset;
                            w = Math.max(0, w), w = Math.min(e.groupIds.length - 1, w), u.group = e.groupIds[w]
                        }
                        u = this._cloneItemData(u), e.options.onMoving(u, function(t) {
                            t && a.item.setData(this._cloneItemData(t, "Date"))
                        }.bind(this))
                    }
                }.bind(this)), this.stackDirty = !0, this.body.emitter.emit("_change")
            }
        }, o.prototype._moveToGroup = function(t, e) {
            var i = this.groups[e];
            if (i && i.groupId != t.data.group) {
                var o = t.parent;
                o.remove(t), o.order(), i.add(t), i.order(), t.data.group = i.groupId
            }
        }, o.prototype._onDragEnd = function(t) {
            if (this.touchParams.itemProps) {
                t.stopPropagation();
                var e = this,
                    i = this.itemsData.getDataSet(),
                    o = this.touchParams.itemProps;
                this.touchParams.itemProps = null, o.forEach(function(t) {
                    var o = t.item.id,
                        n = null != e.itemsData.get(o, e.itemOptions);
                    if (n) {
                        var s = this._cloneItemData(t.item.data);
                        e.options.onMove(s, function(n) {
                            n ? (n[i._fieldId] = o, i.update(n)) : (t.item.setData(t.data), e.stackDirty = !0, e.body.emitter.emit("_change"))
                        })
                    } else e.options.onAdd(t.item.data, function(i) {
                        e._removeItem(t.item), i && e.itemsData.getDataSet().add(i), e.stackDirty = !0, e.body.emitter.emit("_change")
                    })
                }.bind(this))
            }
        }, o.prototype._onGroupDragStart = function(t) {
            this.options.groupEditable.order && (this.groupTouchParams.group = this.groupFromTarget(t), this.groupTouchParams.group && (t.stopPropagation(), this.groupTouchParams.originalOrder = this.groupsData.getIds({
                order: this.options.groupOrder
            })))
        }, o.prototype._onGroupDrag = function(t) {
            if (this.options.groupEditable.order && this.groupTouchParams.group) {
                t.stopPropagation();
                var e = this.groupFromTarget(t);
                if (e && e.height != this.groupTouchParams.group.height) {
                    var i = e.top < this.groupTouchParams.group.top,
                        o = t.center ? t.center.y : t.clientY,
                        n = r.getAbsoluteTop(e.dom.foreground),
                        s = this.groupTouchParams.group.height;
                    if (i) {
                        if (o > n + s) return
                    } else {
                        var a = e.height;
                        if (n + a - s > o) return
                    }
                }
                if (e && e != this.groupTouchParams.group) {
                    var h = this.groupsData,
                        d = h.get(e.groupId),
                        l = h.get(this.groupTouchParams.group.groupId);
                    l && d && (this.options.groupOrderSwap(l, d, this.groupsData), this.groupsData.update(l), this.groupsData.update(d));
                    var c = this.groupsData.getIds({
                        order: this.options.groupOrder
                    });
                    if (!r.equalArray(c, this.groupTouchParams.originalOrder))
                        for (var h = this.groupsData, u = this.groupTouchParams.originalOrder, p = this.groupTouchParams.group.groupId, f = Math.min(u.length, c.length), m = 0, v = 0, g = 0; f > m;) {
                            for (; f > m + v && f > m + g && c[m + v] == u[m + g];) m++;
                            if (m + v >= f) break;
                            if (c[m + v] != p)
                                if (u[m + g] != p) {
                                    var y = c.indexOf(u[m + g]),
                                        b = h.get(c[m + v]),
                                        w = h.get(u[m + g]);
                                    this.options.groupOrderSwap(b, w, h), h.update(b), h.update(w);
                                    var _ = c[m + v];
                                    c[m + v] = u[m + g], c[y] = _, m++
                                } else g = 1;
                            else v = 1
                        }
                }
            }
        }, o.prototype._onGroupDragEnd = function(t) {
            if (this.options.groupEditable.order && this.groupTouchParams.group) {
                t.stopPropagation();
                var e = this,
                    i = e.groupTouchParams.group.groupId,
                    o = e.groupsData.getDataSet(),
                    n = r.extend({}, o.get(i));
                e.options.onMoveGroup(n, function(t) {
                    if (t) t[o._fieldId] = i, o.update(t);
                    else {
                        var n = o.getIds({
                            order: e.options.groupOrder
                        });
                        if (!r.equalArray(n, e.groupTouchParams.originalOrder))
                            for (var s = e.groupTouchParams.originalOrder, a = Math.min(s.length, n.length), h = 0; a > h;) {
                                for (; a > h && n[h] == s[h];) h++;
                                if (h >= a) break;
                                var d = n.indexOf(s[h]),
                                    l = o.get(n[h]),
                                    c = o.get(s[h]);
                                e.options.groupOrderSwap(l, c, o), groupsData.update(l), groupsData.update(c);
                                var u = n[h];
                                n[h] = s[h], n[d] = u, h++
                            }
                    }
                }), e.body.emitter.emit("groupDragged", {
                    groupId: i
                })
            }
        }, o.prototype._onSelectItem = function(t) {
            if (this.options.selectable) {
                var e = t.srcEvent && (t.srcEvent.ctrlKey || t.srcEvent.metaKey),
                    i = t.srcEvent && t.srcEvent.shiftKey;
                if (e || i) return void this._onMultiSelectItem(t);
                var o = this.getSelection(),
                    n = this.itemFromTarget(t),
                    s = n ? [n.id] : [];
                this.setSelection(s);
                var r = this.getSelection();
                (r.length > 0 || o.length > 0) && this.body.emitter.emit("select", {
                    items: r,
                    event: t
                })
            }
        }, o.prototype._onAddItem = function(t) {
            if (this.options.selectable && this.options.editable.add) {
                var e = this,
                    i = this.options.snap || null,
                    o = this.itemFromTarget(t);
                if (o) {
                    var n = e.itemsData.get(o.id);
                    this.options.onUpdate(n, function(t) {
                        t && e.itemsData.getDataSet().update(t)
                    })
                } else {
                    if (this.options.rtl) var s = r.getAbsoluteRight(this.dom.frame),
                        a = s - t.center.x;
                    else var s = r.getAbsoluteLeft(this.dom.frame),
                        a = t.center.x - s;
                    var h = this.body.util.toTime(a),
                        d = this.body.util.getScale(),
                        l = this.body.util.getStep(),
                        c = {
                            start: i ? i(h, d, l) : h,
                            content: "new item"
                        };
                    if ("range" === this.options.type) {
                        var u = this.body.util.toTime(a + this.props.width / 5);
                        c.end = i ? i(u, d, l) : u
                    }
                    c[this.itemsData._fieldId] = r.randomUUID();
                    var p = this.groupFromTarget(t);
                    p && (c.group = p.groupId), c = this._cloneItemData(c), this.options.onAdd(c, function(t) {
                        t && e.itemsData.getDataSet().add(t)
                    })
                }
            }
        }, o.prototype._onMultiSelectItem = function(t) {
            if (this.options.selectable) {
                var e = this.itemFromTarget(t);
                if (e) {
                    var i = this.options.multiselect ? this.getSelection() : [],
                        n = t.srcEvent && t.srcEvent.shiftKey || !1;
                    if (n && this.options.multiselect) {
                        var s = this.itemsData.get(e.id).group,
                            r = void 0;
                        this.options.multiselectPerGroup && i.length > 0 && (r = this.itemsData.get(i[0]).group), this.options.multiselectPerGroup && void 0 != r && r != s || i.push(e.id);
                        var a = o._getItemRange(this.itemsData.get(i, this.itemOptions));
                        if (!this.options.multiselectPerGroup || r == s) {
                            i = [];
                            for (var h in this.items)
                                if (this.items.hasOwnProperty(h)) {
                                    var d = this.items[h],
                                        l = d.data.start,
                                        c = void 0 !== d.data.end ? d.data.end : l;
                                    !(l >= a.min && c <= a.max) || this.options.multiselectPerGroup && r != this.itemsData.get(d.id).group || d instanceof v || i.push(d.id)
                                }
                        }
                    } else {
                        var u = i.indexOf(e.id); - 1 == u ? i.push(e.id) : i.splice(u, 1)
                    }
                    this.setSelection(i), this.body.emitter.emit("select", {
                        items: this.getSelection(),
                        event: t
                    })
                }
            }
        }, o._getItemRange = function(t) {
            var e = null,
                i = null;
            return t.forEach(function(t) {
                (null == i || t.start < i) && (i = t.start), void 0 != t.end ? (null == e || t.end > e) && (e = t.end) : (null == e || t.start > e) && (e = t.start)
            }), {
                min: i,
                max: e
            }
        }, o.prototype.itemFromTarget = function(t) {
            for (var e = t.target; e;) {
                if (e.hasOwnProperty("timeline-item")) return e["timeline-item"];
                e = e.parentNode
            }
            return null
        }, o.prototype.groupFromTarget = function(t) {
            for (var e = t.center ? t.center.y : t.clientY, i = 0; i < this.groupIds.length; i++) {
                var o = this.groupIds[i],
                    n = this.groups[o],
                    s = n.dom.foreground,
                    a = r.getAbsoluteTop(s);
                if (e > a && e < a + s.offsetHeight) return n;
                if ("top" === this.options.orientation.item) {
                    if (i === this.groupIds.length - 1 && e > a) return n
                } else if (0 === i && e < a + s.offset) return n
            }
            return null
        }, o.itemSetFromTarget = function(t) {
            for (var e = t.target; e;) {
                if (e.hasOwnProperty("timeline-itemset")) return e["timeline-itemset"];
                e = e.parentNode
            }
            return null
        }, o.prototype._cloneItemData = function(t, e) {
            var i = r.extend({}, t);
            return e || (e = this.itemsData.getDataSet()._options.type), void 0 != i.start && (i.start = r.convert(i.start, e && e.start || "Date")), void 0 != i.end && (i.end = r.convert(i.end, e && e.end || "Date")), i
        }, t.exports = o
    }, function(t, e, i) {
        function o(t, e, i, s) {
            this.moment = n, this.current = this.moment(), this._start = this.moment(), this._end = this.moment(), this.autoScale = !0, this.scale = "day", this.step = 1, this.setRange(t, e, i), this.switchedDay = !1, this.switchedMonth = !1, this.switchedYear = !1, Array.isArray(s) ? this.hiddenDates = s : void 0 != s ? this.hiddenDates = [s] : this.hiddenDates = [], this.format = o.FORMAT
        }
        var n = i(2),
            s = i(32),
            r = i(1);
        o.FORMAT = {
            minorLabels: {
                millisecond: "SSS",
                second: "s",
                minute: "HH:mm",
                hour: "HH:mm",
                weekday: "ddd D",
                day: "D",
                month: "MMM",
                year: "YYYY"
            },
            majorLabels: {
                millisecond: "HH:mm:ss",
                second: "D MMMM HH:mm",
                minute: "ddd D MMMM",
                hour: "ddd D MMMM",
                weekday: "MMMM YYYY",
                day: "MMMM YYYY",
                month: "YYYY",
                year: ""
            }
        }, o.prototype.setMoment = function(t) {
            this.moment = t, this.current = this.moment(this.current), this._start = this.moment(this._start), this._end = this.moment(this._end)
        }, o.prototype.setFormat = function(t) {
            var e = r.deepExtend({}, o.FORMAT);
            this.format = r.deepExtend(e, t)
        }, o.prototype.setRange = function(t, e, i) {
            if (!(t instanceof Date && e instanceof Date)) throw "No legal start or end date in method setRange";
            this._start = void 0 != t ? this.moment(t.valueOf()) : new Date, this._end = void 0 != e ? this.moment(e.valueOf()) : new Date, this.autoScale && this.setMinimumStep(i)
        }, o.prototype.start = function() {
            this.current = this._start.clone(), this.roundToMinor()
        }, o.prototype.roundToMinor = function() {
            switch (this.scale) {
                case "year":
                    this.current.year(this.step * Math.floor(this.current.year() / this.step)), this.current.month(0);
                case "month":
                    this.current.date(1);
                case "day":
                case "weekday":
                    this.current.hours(0);
                case "hour":
                    this.current.minutes(0);
                case "minute":
                    this.current.seconds(0);
                case "second":
                    this.current.milliseconds(0)
            }
            if (1 != this.step) switch (this.scale) {
                case "millisecond":
                    this.current.subtract(this.current.milliseconds() % this.step, "milliseconds");
                    break;
                case "second":
                    this.current.subtract(this.current.seconds() % this.step, "seconds");
                    break;
                case "minute":
                    this.current.subtract(this.current.minutes() % this.step, "minutes");
                    break;
                case "hour":
                    this.current.subtract(this.current.hours() % this.step, "hours");
                    break;
                case "weekday":
                case "day":
                    this.current.subtract((this.current.date() - 1) % this.step, "day");
                    break;
                case "month":
                    this.current.subtract(this.current.month() % this.step, "month");
                    break;
                case "year":
                    this.current.subtract(this.current.year() % this.step, "year")
            }
        }, o.prototype.hasNext = function() {
            return this.current.valueOf() <= this._end.valueOf()
        }, o.prototype.next = function() {
            var t = this.current.valueOf();
            if (this.current.month() < 6) switch (this.scale) {
                case "millisecond":
                    this.current.add(this.step, "millisecond");
                    break;
                case "second":
                    this.current.add(this.step, "second");
                    break;
                case "minute":
                    this.current.add(this.step, "minute");
                    break;
                case "hour":
                    this.current.add(this.step, "hour"), this.current.subtract(this.current.hours() % this.step, "hour");
                    break;
                case "weekday":
                case "day":
                    this.current.add(this.step, "day");
                    break;
                case "month":
                    this.current.add(this.step, "month");
                    break;
                case "year":
                    this.current.add(this.step, "year")
            } else switch (this.scale) {
                case "millisecond":
                    this.current.add(this.step, "millisecond");
                    break;
                case "second":
                    this.current.add(this.step, "second");
                    break;
                case "minute":
                    this.current.add(this.step, "minute");
                    break;
                case "hour":
                    this.current.add(this.step, "hour");
                    break;
                case "weekday":
                case "day":
                    this.current.add(this.step, "day");
                    break;
                case "month":
                    this.current.add(this.step, "month");
                    break;
                case "year":
                    this.current.add(this.step, "year")
            }
            if (1 != this.step) switch (this.scale) {
                case "millisecond":
                    this.current.milliseconds() < this.step && this.current.milliseconds(0);
                    break;
                case "second":
                    this.current.seconds() < this.step && this.current.seconds(0);
                    break;
                case "minute":
                    this.current.minutes() < this.step && this.current.minutes(0);
                    break;
                case "hour":
                    this.current.hours() < this.step && this.current.hours(0);
                    break;
                case "weekday":
                case "day":
                    this.current.date() < this.step + 1 && this.current.date(1);
                    break;
                case "month":
                    this.current.month() < this.step && this.current.month(0);
                    break;
                case "year":
            }
            this.current.valueOf() == t && (this.current = this._end.clone()), s.stepOverHiddenDates(this.moment, this, t)
        }, o.prototype.getCurrent = function() {
            return this.current
        }, o.prototype.setScale = function(t) {
            t && "string" == typeof t.scale && (this.scale = t.scale, this.step = t.step > 0 ? t.step : 1, this.autoScale = !1)
        }, o.prototype.setAutoScale = function(t) {
            this.autoScale = t
        }, o.prototype.setMinimumStep = function(t) {
            if (void 0 != t) {
                var e = 31104e6,
                    i = 2592e6,
                    o = 864e5,
                    n = 36e5,
                    s = 6e4,
                    r = 1e3,
                    a = 1;
                1e3 * e > t && (this.scale = "year", this.step = 1e3), 500 * e > t && (this.scale = "year", this.step = 500), 100 * e > t && (this.scale = "year", this.step = 100), 50 * e > t && (this.scale = "year", this.step = 50), 10 * e > t && (this.scale = "year", this.step = 10), 5 * e > t && (this.scale = "year", this.step = 5), e > t && (this.scale = "year", this.step = 1), 3 * i > t && (this.scale = "month", this.step = 3), i > t && (this.scale = "month", this.step = 1), 5 * o > t && (this.scale = "day", this.step = 5), 2 * o > t && (this.scale = "day", this.step = 2), o > t && (this.scale = "day", this.step = 1), o / 2 > t && (this.scale = "weekday", this.step = 1), 4 * n > t && (this.scale = "hour", this.step = 4), n > t && (this.scale = "hour", this.step = 1), 15 * s > t && (this.scale = "minute", this.step = 15), 10 * s > t && (this.scale = "minute", this.step = 10), 5 * s > t && (this.scale = "minute", this.step = 5), s > t && (this.scale = "minute", this.step = 1), 15 * r > t && (this.scale = "second", this.step = 15), 10 * r > t && (this.scale = "second", this.step = 10), 5 * r > t && (this.scale = "second", this.step = 5), r > t && (this.scale = "second", this.step = 1), 200 * a > t && (this.scale = "millisecond", this.step = 200), 100 * a > t && (this.scale = "millisecond", this.step = 100), 50 * a > t && (this.scale = "millisecond", this.step = 50), 10 * a > t && (this.scale = "millisecond", this.step = 10), 5 * a > t && (this.scale = "millisecond", this.step = 5), a > t && (this.scale = "millisecond", this.step = 1)
            }
        }, o.snap = function(t, e, i) {
            var o = n(t);
            if ("year" == e) {
                var s = o.year() + Math.round(o.month() / 12);
                o.year(Math.round(s / i) * i), o.month(0), o.date(0), o.hours(0), o.minutes(0), o.seconds(0), o.milliseconds(0)
            } else if ("month" == e) o.date() > 15 ? (o.date(1), o.add(1, "month")) : o.date(1), o.hours(0), o.minutes(0), o.seconds(0), o.milliseconds(0);
            else if ("day" == e) {
                switch (i) {
                    case 5:
                    case 2:
                        o.hours(24 * Math.round(o.hours() / 24));
                        break;
                    default:
                        o.hours(12 * Math.round(o.hours() / 12))
                }
                o.minutes(0), o.seconds(0), o.milliseconds(0)
            } else if ("weekday" == e) {
                switch (i) {
                    case 5:
                    case 2:
                        o.hours(12 * Math.round(o.hours() / 12));
                        break;
                    default:
                        o.hours(6 * Math.round(o.hours() / 6))
                }
                o.minutes(0), o.seconds(0), o.milliseconds(0)
            } else if ("hour" == e) {
                switch (i) {
                    case 4:
                        o.minutes(60 * Math.round(o.minutes() / 60));
                        break;
                    default:
                        o.minutes(30 * Math.round(o.minutes() / 30))
                }
                o.seconds(0), o.milliseconds(0)
            } else if ("minute" == e) {
                switch (i) {
                    case 15:
                    case 10:
                        o.minutes(5 * Math.round(o.minutes() / 5)), o.seconds(0);
                        break;
                    case 5:
                        o.seconds(60 * Math.round(o.seconds() / 60));
                        break;
                    default:
                        o.seconds(30 * Math.round(o.seconds() / 30))
                }
                o.milliseconds(0)
            } else if ("second" == e) switch (i) {
                case 15:
                case 10:
                    o.seconds(5 * Math.round(o.seconds() / 5)), o.milliseconds(0);
                    break;
                case 5:
                    o.milliseconds(1e3 * Math.round(o.milliseconds() / 1e3));
                    break;
                default:
                    o.milliseconds(500 * Math.round(o.milliseconds() / 500))
            } else if ("millisecond" == e) {
                var r = i > 5 ? i / 2 : 1;
                o.milliseconds(Math.round(o.milliseconds() / r) * r)
            }
            return o
        }, o.prototype.isMajor = function() {
            if (1 == this.switchedYear) switch (this.switchedYear = !1, this.scale) {
                case "year":
                case "month":
                case "weekday":
                case "day":
                case "hour":
                case "minute":
                case "second":
                case "millisecond":
                    return !0;
                default:
                    return !1
            } else if (1 == this.switchedMonth) switch (this.switchedMonth = !1, this.scale) {
                    case "weekday":
                    case "day":
                    case "hour":
                    case "minute":
                    case "second":
                    case "millisecond":
                        return !0;
                    default:
                        return !1
                } else if (1 == this.switchedDay) switch (this.switchedDay = !1, this.scale) {
                    case "millisecond":
                    case "second":
                    case "minute":
                    case "hour":
                        return !0;
                    default:
                        return !1
                }
                var t = this.moment(this.current);
            switch (this.scale) {
                case "millisecond":
                    return 0 == t.milliseconds();
                case "second":
                    return 0 == t.seconds();
                case "minute":
                    return 0 == t.hours() && 0 == t.minutes();
                case "hour":
                    return 0 == t.hours();
                case "weekday":
                case "day":
                    return 1 == t.date();
                case "month":
                    return 0 == t.month();
                case "year":
                    return !1;
                default:
                    return !1
            }
        }, o.prototype.getLabelMinor = function(t) {
            void 0 == t && (t = this.current);
            var e = this.format.minorLabels[this.scale];
            return e && e.length > 0 ? this.moment(t).format(e) : ""
        }, o.prototype.getLabelMajor = function(t) {
            void 0 == t && (t = this.current);
            var e = this.format.majorLabels[this.scale];
            return e && e.length > 0 ? this.moment(t).format(e) : ""
        }, o.prototype.getClassName = function() {
            function t(t) {
                return t / h % 2 == 0 ? " vis-even" : " vis-odd"
            }

            function e(t) {
                return t.isSame(new Date, "day") ? " vis-today" : t.isSame(s().add(1, "day"), "day") ? " vis-tomorrow" : t.isSame(s().add(-1, "day"), "day") ? " vis-yesterday" : ""
            }

            function i(t) {
                return t.isSame(new Date, "week") ? " vis-current-week" : ""
            }

            function o(t) {
                return t.isSame(new Date, "month") ? " vis-current-month" : ""
            }

            function n(t) {
                return t.isSame(new Date, "year") ? " vis-current-year" : ""
            }
            var s = this.moment,
                r = this.moment(this.current),
                a = r.locale ? r.locale("en") : r.lang("en"),
                h = this.step;
            switch (this.scale) {
                case "millisecond":
                    return t(a.milliseconds()).trim();
                case "second":
                    return t(a.seconds()).trim();
                case "minute":
                    return t(a.minutes()).trim();
                case "hour":
                    var d = a.hours();
                    return 4 == this.step && (d = d + "-h" + (d + 4)), "vis-h" + d + e(a) + t(a.hours());
                case "weekday":
                    return "vis-" + a.format("dddd").toLowerCase() + e(a) + i(a) + t(a.date());
                case "day":
                    var l = a.date(),
                        c = a.format("MMMM").toLowerCase();
                    return "vis-day" + l + " vis-" + c + o(a) + t(l - 1);
                case "month":
                    return "vis-" + a.format("MMMM").toLowerCase() + o(a) + t(a.month());
                case "year":
                    var u = a.year();
                    return "vis-year" + u + n(a) + t(u);
                default:
                    return ""
            }
        }, t.exports = o
    }, function(t, e, i) {
        function o(t, e, i) {
            this.groupId = t, this.subgroups = {}, this.subgroupIndex = 0, this.subgroupOrderer = e && e.subgroupOrder, this.itemSet = i, this.dom = {}, this.props = {
                label: {
                    width: 0,
                    height: 0
                }
            }, this.className = null, this.items = {}, this.visibleItems = [], this.orderedItems = {
                byStart: [],
                byEnd: []
            }, this.checkRangedItems = !1;
            var o = this;
            this.itemSet.body.emitter.on("checkRangedItems", function() {
                o.checkRangedItems = !0
            }), this._create(), this.setData(e)
        }
        var n = i(1),
            s = i(37);
        i(38);
        o.prototype._create = function() {
            var t = document.createElement("div");
            this.itemSet.options.groupEditable.order ? t.className = "vis-label draggable" : t.className = "vis-label", this.dom.label = t;
            var e = document.createElement("div");
            e.className = "vis-inner", t.appendChild(e), this.dom.inner = e;
            var i = document.createElement("div");
            i.className = "vis-group", i["timeline-group"] = this, this.dom.foreground = i, this.dom.background = document.createElement("div"), this.dom.background.className = "vis-group", this.dom.axis = document.createElement("div"), this.dom.axis.className = "vis-group", this.dom.marker = document.createElement("div"), this.dom.marker.style.visibility = "hidden", this.dom.marker.innerHTML = "?", this.dom.background.appendChild(this.dom.marker)
        }, o.prototype.setData = function(t) {
            var e;
            if (e = this.itemSet.options && this.itemSet.options.groupTemplate ? this.itemSet.options.groupTemplate(t) : t && t.content, e instanceof Element) {
                for (this.dom.inner.appendChild(e); this.dom.inner.firstChild;) this.dom.inner.removeChild(this.dom.inner.firstChild);
                this.dom.inner.appendChild(e)
            } else void 0 !== e && null !== e ? this.dom.inner.innerHTML = e : this.dom.inner.innerHTML = this.groupId || "";
            this.dom.label.title = t && t.title || "", this.dom.inner.firstChild ? n.removeClassName(this.dom.inner, "vis-hidden") : n.addClassName(this.dom.inner, "vis-hidden");
            var i = t && t.className || null;
            i != this.className && (this.className && (n.removeClassName(this.dom.label, this.className), n.removeClassName(this.dom.foreground, this.className), n.removeClassName(this.dom.background, this.className), n.removeClassName(this.dom.axis, this.className)), n.addClassName(this.dom.label, i), n.addClassName(this.dom.foreground, i), n.addClassName(this.dom.background, i), n.addClassName(this.dom.axis, i), this.className = i), this.style && (n.removeCssText(this.dom.label, this.style), this.style = null), t && t.style && (n.addCssText(this.dom.label, t.style), this.style = t.style)
        }, o.prototype.getLabelWidth = function() {
            return this.props.label.width
        }, o.prototype.redraw = function(t, e, i) {
            var o = !1,
                r = this.dom.marker.clientHeight;
            if (r != this.lastMarkerHeight && (this.lastMarkerHeight = r, n.forEach(this.items, function(t) {
                    t.dirty = !0, t.displayed && t.redraw()
                }), i = !0), this._calculateSubGroupHeights(), "function" == typeof this.itemSet.options.order) {
                if (i) {
                    var a = this,
                        h = !1;
                    n.forEach(this.items, function(t) {
                        t.displayed || (t.redraw(), a.visibleItems.push(t)), t.repositionX(h)
                    });
                    var d = this.orderedItems.byStart.slice().sort(function(t, e) {
                        return a.itemSet.options.order(t.data, e.data)
                    });
                    s.stack(d, e, !0)
                }
                this.visibleItems = this._updateVisibleItems(this.orderedItems, this.visibleItems, t)
            } else this.visibleItems = this._updateVisibleItems(this.orderedItems, this.visibleItems, t), this.itemSet.options.stack ? s.stack(this.visibleItems, e, i) : s.nostack(this.visibleItems, e, this.subgroups);
            var l = this._calculateHeight(e),
                c = this.dom.foreground;
            this.top = c.offsetTop, this.right = c.offsetLeft, this.width = c.offsetWidth, o = n.updateProperty(this, "height", l) || o, o = n.updateProperty(this.props.label, "width", this.dom.inner.clientWidth) || o, o = n.updateProperty(this.props.label, "height", this.dom.inner.clientHeight) || o, this.dom.background.style.height = l + "px", this.dom.foreground.style.height = l + "px", this.dom.label.style.height = l + "px";
            for (var u = 0, p = this.visibleItems.length; p > u; u++) {
                var f = this.visibleItems[u];
                f.repositionY(e)
            }
            return o
        }, o.prototype._calculateSubGroupHeights = function() {
            if (Object.keys(this.subgroups).length > 0) {
                var t = this;
                this.resetSubgroups(), n.forEach(this.visibleItems, function(e) {
                    void 0 !== e.data.subgroup && (t.subgroups[e.data.subgroup].height = Math.max(t.subgroups[e.data.subgroup].height, e.height), t.subgroups[e.data.subgroup].visible = !0)
                })
            }
        }, o.prototype._calculateHeight = function(t) {
            var e, i = this.visibleItems;
            if (i.length > 0) {
                var o = i[0].top,
                    s = i[0].top + i[0].height;
                if (n.forEach(i, function(t) {
                        o = Math.min(o, t.top), s = Math.max(s, t.top + t.height)
                    }), o > t.axis) {
                    var r = o - t.axis;
                    s -= r, n.forEach(i, function(t) {
                        t.top -= r
                    })
                }
                e = s + t.item.vertical / 2
            } else e = 0;
            return e = Math.max(e, this.props.label.height)
        }, o.prototype.show = function() {
            this.dom.label.parentNode || this.itemSet.dom.labelSet.appendChild(this.dom.label), this.dom.foreground.parentNode || this.itemSet.dom.foreground.appendChild(this.dom.foreground), this.dom.background.parentNode || this.itemSet.dom.background.appendChild(this.dom.background), this.dom.axis.parentNode || this.itemSet.dom.axis.appendChild(this.dom.axis)
        }, o.prototype.hide = function() {
            var t = this.dom.label;
            t.parentNode && t.parentNode.removeChild(t);
            var e = this.dom.foreground;
            e.parentNode && e.parentNode.removeChild(e);
            var i = this.dom.background;
            i.parentNode && i.parentNode.removeChild(i);
            var o = this.dom.axis;
            o.parentNode && o.parentNode.removeChild(o)
        }, o.prototype.add = function(t) {
            if (this.items[t.id] = t, t.setParent(this), void 0 !== t.data.subgroup && (void 0 === this.subgroups[t.data.subgroup] && (this.subgroups[t.data.subgroup] = {
                    height: 0,
                    visible: !1,
                    index: this.subgroupIndex,
                    items: []
                }, this.subgroupIndex++), this.subgroups[t.data.subgroup].items.push(t)), this.orderSubgroups(), -1 == this.visibleItems.indexOf(t)) {
                var e = this.itemSet.body.range;
                this._checkIfVisible(t, this.visibleItems, e)
            }
        }, o.prototype.orderSubgroups = function() {
            if (void 0 !== this.subgroupOrderer) {
                var t = [];
                if ("string" == typeof this.subgroupOrderer) {
                    for (var e in this.subgroups) t.push({
                        subgroup: e,
                        sortField: this.subgroups[e].items[0].data[this.subgroupOrderer]
                    });
                    t.sort(function(t, e) {
                        return t.sortField - e.sortField
                    })
                } else if ("function" == typeof this.subgroupOrderer) {
                    for (var e in this.subgroups) t.push(this.subgroups[e].items[0].data);
                    t.sort(this.subgroupOrderer)
                }
                if (t.length > 0)
                    for (var i = 0; i < t.length; i++) this.subgroups[t[i].subgroup].index = i
            }
        }, o.prototype.resetSubgroups = function() {
            for (var t in this.subgroups) this.subgroups.hasOwnProperty(t) && (this.subgroups[t].visible = !1)
        }, o.prototype.remove = function(t) {
            delete this.items[t.id], t.setParent(null);
            var e = this.visibleItems.indexOf(t);
            if (-1 != e && this.visibleItems.splice(e, 1), void 0 !== t.data.subgroup) {
                var i = this.subgroups[t.data.subgroup];
                if (i) {
                    var o = i.items.indexOf(t);
                    i.items.splice(o, 1), i.items.length || (delete this.subgroups[t.data.subgroup], this.subgroupIndex--), this.orderSubgroups()
                }
            }
        }, o.prototype.removeFromDataSet = function(t) {
            this.itemSet.removeItem(t.id)
        }, o.prototype.order = function() {
            for (var t = n.toArray(this.items), e = [], i = [], o = 0; o < t.length; o++) void 0 !== t[o].data.end && i.push(t[o]), e.push(t[o]);
            this.orderedItems = {
                byStart: e,
                byEnd: i
            }, s.orderByStart(this.orderedItems.byStart), s.orderByEnd(this.orderedItems.byEnd)
        }, o.prototype._updateVisibleItems = function(t, e, i) {
            var o, s, r = [],
                a = {},
                h = (i.end - i.start) / 4,
                d = i.start - h,
                l = i.end + h,
                c = function(t) {
                    return d > t ? -1 : l >= t ? 0 : 1
                };
            if (e.length > 0)
                for (s = 0; s < e.length; s++) this._checkIfVisibleWithReference(e[s], r, a, i);
            var u = n.binarySearchCustom(t.byStart, c, "data", "start");
            if (this._traceVisible(u, t.byStart, r, a, function(t) {
                    return t.data.start < d || t.data.start > l
                }), 1 == this.checkRangedItems)
                for (this.checkRangedItems = !1, s = 0; s < t.byEnd.length; s++) this._checkIfVisibleWithReference(t.byEnd[s], r, a, i);
            else {
                var p = n.binarySearchCustom(t.byEnd, c, "data", "end");
                this._traceVisible(p, t.byEnd, r, a, function(t) {
                    return t.data.end < d || t.data.end > l
                })
            }
            for (s = 0; s < r.length; s++) o = r[s], o.displayed || o.show(), o.repositionX();
            return r
        }, o.prototype._traceVisible = function(t, e, i, o, n) {
            var s, r;
            if (-1 != t) {
                for (r = t; r >= 0 && (s = e[r], !n(s)); r--) void 0 === o[s.id] && (o[s.id] = !0, i.push(s));
                for (r = t + 1; r < e.length && (s = e[r], !n(s)); r++) void 0 === o[s.id] && (o[s.id] = !0, i.push(s))
            }
        }, o.prototype._checkIfVisible = function(t, e, i) {
            t.isVisible(i) ? (t.displayed || t.show(), t.repositionX(), e.push(t)) : t.displayed && t.hide()
        }, o.prototype._checkIfVisibleWithReference = function(t, e, i, o) {
            t.isVisible(o) ? void 0 === i[t.id] && (i[t.id] = !0, e.push(t)) : t.displayed && t.hide()
        }, t.exports = o
    }, function(t, e) {
        var i = .001;
        e.orderByStart = function(t) {
            t.sort(function(t, e) {
                return t.data.start - e.data.start
            })
        }, e.orderByEnd = function(t) {
            t.sort(function(t, e) {
                var i = "end" in t.data ? t.data.end : t.data.start,
                    o = "end" in e.data ? e.data.end : e.data.start;
                return i - o
            })
        }, e.stack = function(t, i, o) {
            var n, s;
            if (o)
                for (n = 0, s = t.length; s > n; n++) t[n].top = null;
            for (n = 0, s = t.length; s > n; n++) {
                var r = t[n];
                if (r.stack && null === r.top) {
                    r.top = i.axis;
                    do {
                        for (var a = null, h = 0, d = t.length; d > h; h++) {
                            var l = t[h];
                            if (null !== l.top && l !== r && l.stack && e.collision(r, l, i.item, l.options.rtl)) {
                                a = l;
                                break
                            }
                        }
                        null != a && (r.top = a.top + a.height + i.item.vertical)
                    } while (a)
                }
            }
        }, e.nostack = function(t, e, i) {
            var o, n, s;
            for (o = 0, n = t.length; n > o; o++)
                if (void 0 !== t[o].data.subgroup) {
                    s = e.axis;
                    for (var r in i) i.hasOwnProperty(r) && 1 == i[r].visible && i[r].index < i[t[o].data.subgroup].index && (s += i[r].height + e.item.vertical);
                    t[o].top = s
                } else t[o].top = e.axis
        }, e.collision = function(t, e, o, n) {
            return n ? t.right - o.horizontal + i < e.right + e.width && t.right + t.width + o.horizontal - i > e.right && t.top - o.vertical + i < e.top + e.height && t.top + t.height + o.vertical - i > e.top : t.left - o.horizontal + i < e.left + e.width && t.left + t.width + o.horizontal - i > e.left && t.top - o.vertical + i < e.top + e.height && t.top + t.height + o.vertical - i > e.top
        }
    }, function(t, e, i) {
        function o(t, e, i) {
            if (this.props = {
                    content: {
                        width: 0
                    }
                }, this.overflow = !1, this.options = i, t) {
                if (void 0 == t.start) throw new Error('Property "start" missing in item ' + t.id);
                if (void 0 == t.end) throw new Error('Property "end" missing in item ' + t.id)
            }
            n.call(this, t, e, i)
        }
        var n = (i(20), i(39));
        o.prototype = new n(null, null, null), o.prototype.baseClassName = "vis-item vis-range", o.prototype.isVisible = function(t) {
            return this.data.start < t.end && this.data.end > t.start
        }, o.prototype.redraw = function() {
            var t = this.dom;
            if (t || (this.dom = {}, t = this.dom, t.box = document.createElement("div"), t.frame = document.createElement("div"), t.frame.className = "vis-item-overflow", t.box.appendChild(t.frame), t.content = document.createElement("div"), t.content.className = "vis-item-content", t.frame.appendChild(t.content), t.box["timeline-item"] = this, this.dirty = !0), !this.parent) throw new Error("Cannot redraw item: no parent attached");
            if (!t.box.parentNode) {
                var e = this.parent.dom.foreground;
                if (!e) throw new Error("Cannot redraw item: parent has no foreground container element");
                e.appendChild(t.box)
            }
            if (this.displayed = !0, this.dirty) {
                this._updateContents(this.dom.content), this._updateTitle(this.dom.box), this._updateDataAttributes(this.dom.box), this._updateStyle(this.dom.box);
                var i = (this.options.editable.updateTime || this.options.editable.updateGroup || this.editable === !0) && this.editable !== !1,
                    o = (this.data.className ? " " + this.data.className : "") + (this.selected ? " vis-selected" : "") + (i ? " vis-editable" : " vis-readonly");
                t.box.className = this.baseClassName + o, this.overflow = "hidden" !== window.getComputedStyle(t.frame).overflow, this.dom.content.style.maxWidth = "none", this.props.content.width = this.dom.content.offsetWidth, this.height = this.dom.box.offsetHeight, this.dom.content.style.maxWidth = "", this.dirty = !1
            }
            this._repaintDeleteButton(t.box), this._repaintDragLeft(), this._repaintDragRight()
        }, o.prototype.show = function() {
            this.displayed || this.redraw()
        }, o.prototype.hide = function() {
            if (this.displayed) {
                var t = this.dom.box;
                t.parentNode && t.parentNode.removeChild(t), this.displayed = !1
            }
        }, o.prototype.repositionX = function(t) {
            var e, i, o = this.parent.width,
                n = this.conversion.toScreen(this.data.start),
                s = this.conversion.toScreen(this.data.end);
            void 0 !== t && t !== !0 || (-o > n && (n = -o), s > 2 * o && (s = 2 * o));
            var r = Math.max(s - n, 1);
            switch (this.overflow ? (this.options.rtl ? this.right = n : this.left = n, this.width = r + this.props.content.width, i = this.props.content.width) : (this.options.rtl ? this.right = n : this.left = n, this.width = r, i = Math.min(s - n, this.props.content.width)), this.options.rtl ? this.dom.box.style.right = this.right + "px" : this.dom.box.style.left = this.left + "px", this.dom.box.style.width = r + "px", this.options.align) {
                case "left":
                    this.options.rtl ? this.dom.content.style.right = "0" : this.dom.content.style.left = "0";
                    break;
                case "right":
                    this.options.rtl ? this.dom.content.style.right = Math.max(r - i, 0) + "px" : this.dom.content.style.left = Math.max(r - i, 0) + "px";
                    break;
                case "center":
                    this.options.rtl ? this.dom.content.style.right = Math.max((r - i) / 2, 0) + "px" : this.dom.content.style.left = Math.max((r - i) / 2, 0) + "px";
                    break;
                default:
                    e = this.overflow ? s > 0 ? Math.max(-n, 0) : -i : 0 > n ? -n : 0, this.options.rtl ? this.dom.content.style.right = e + "px" : this.dom.content.style.left = e + "px"
            }
        }, o.prototype.repositionY = function() {
            var t = this.options.orientation.item,
                e = this.dom.box;
            "top" == t ? e.style.top = this.top + "px" : e.style.top = this.parent.height - this.top - this.height + "px"
        }, o.prototype._repaintDragLeft = function() {
            if (this.selected && this.options.editable.updateTime && !this.dom.dragLeft) {
                var t = document.createElement("div");
                t.className = "vis-drag-left", t.dragLeftItem = this, this.dom.box.appendChild(t), this.dom.dragLeft = t
            } else !this.selected && this.dom.dragLeft && (this.dom.dragLeft.parentNode && this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft), this.dom.dragLeft = null)
        }, o.prototype._repaintDragRight = function() {
            if (this.selected && this.options.editable.updateTime && !this.dom.dragRight) {
                var t = document.createElement("div");
                t.className = "vis-drag-right", t.dragRightItem = this, this.dom.box.appendChild(t), this.dom.dragRight = t
            } else !this.selected && this.dom.dragRight && (this.dom.dragRight.parentNode && this.dom.dragRight.parentNode.removeChild(this.dom.dragRight), this.dom.dragRight = null)
        }, t.exports = o
    }, function(t, e, i) {
        function o(t, e, i) {
            this.id = null, this.parent = null, this.data = t, this.dom = null, this.conversion = e || {}, this.options = i || {}, this.selected = !1, this.displayed = !1, this.dirty = !0, this.top = null, this.right = null, this.left = null, this.width = null, this.height = null, this.editable = null, this.data && this.data.hasOwnProperty("editable") && "boolean" == typeof this.data.editable && (this.editable = t.editable)
        }
        var n = i(20),
            s = i(1);
        o.prototype.stack = !0, o.prototype.select = function() {
            this.selected = !0, this.dirty = !0, this.displayed && this.redraw()
        }, o.prototype.unselect = function() {
            this.selected = !1, this.dirty = !0, this.displayed && this.redraw()
        }, o.prototype.setData = function(t) {
            var e = void 0 != t.group && this.data.group != t.group;
            e && this.parent.itemSet._moveToGroup(this, t.group), t.hasOwnProperty("editable") && "boolean" == typeof t.editable && (this.editable = t.editable), this.data = t, this.dirty = !0, this.displayed && this.redraw()
        }, o.prototype.setParent = function(t) {
            this.displayed ? (this.hide(), this.parent = t, this.parent && this.show()) : this.parent = t
        }, o.prototype.isVisible = function(t) {
            return !1
        }, o.prototype.show = function() {
            return !1
        }, o.prototype.hide = function() {
            return !1
        }, o.prototype.redraw = function() {}, o.prototype.repositionX = function() {}, o.prototype.repositionY = function() {}, o.prototype._repaintDeleteButton = function(t) {
            var e = (this.options.editable.remove || this.data.editable === !0) && this.data.editable !== !1;
            if (this.selected && e && !this.dom.deleteButton) {
                var i = this,
                    o = document.createElement("div");
                this.options.rtl ? o.className = "vis-delete-rtl" : o.className = "vis-delete", o.title = "Delete this item", new n(o).on("tap", function(t) {
                    t.stopPropagation(), i.parent.removeFromDataSet(i)
                }), t.appendChild(o), this.dom.deleteButton = o
            } else !this.selected && this.dom.deleteButton && (this.dom.deleteButton.parentNode && this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton), this.dom.deleteButton = null)
        }, o.prototype._updateContents = function(t) {
            var e;
            if (this.options.template) {
                var i = this.parent.itemSet.itemsData.get(this.id);
                e = this.options.template(i)
            } else e = this.data.content;
            var o = this._contentToString(this.content) !== this._contentToString(e);
            if (o) {
                if (e instanceof Element) t.innerHTML = "", t.appendChild(e);
                else if (void 0 != e) t.innerHTML = e;
                else if ("background" != this.data.type || void 0 !== this.data.content) throw new Error('Property "content" missing in item ' + this.id);
                this.content = e
            }
        }, o.prototype._updateTitle = function(t) {
            null != this.data.title ? t.title = this.data.title || "" : t.removeAttribute("vis-title")
        }, o.prototype._updateDataAttributes = function(t) {
            if (this.options.dataAttributes && this.options.dataAttributes.length > 0) {
                var e = [];
                if (Array.isArray(this.options.dataAttributes)) e = this.options.dataAttributes;
                else {
                    if ("all" != this.options.dataAttributes) return;
                    e = Object.keys(this.data)
                }
                for (var i = 0; i < e.length; i++) {
                    var o = e[i],
                        n = this.data[o];
                    null != n ? t.setAttribute("data-" + o, n) : t.removeAttribute("data-" + o)
                }
            }
        }, o.prototype._updateStyle = function(t) {
            this.style && (s.removeCssText(t, this.style), this.style = null), this.data.style && (s.addCssText(t, this.data.style), this.style = this.data.style)
        }, o.prototype._contentToString = function(t) {
            return "string" == typeof t ? t : t && "outerHTML" in t ? t.outerHTML : t
        }, o.prototype.getWidthLeft = function() {
            return 0
        }, o.prototype.getWidthRight = function() {
            return 0
        }, t.exports = o
    }, function(t, e, i) {
        function o(t, e, i) {
            n.call(this, t, e, i), this.width = 0, this.height = 0, this.top = 0, this.left = 0
        }
        var n = (i(1), i(36));
        o.prototype = Object.create(n.prototype), o.prototype.redraw = function(t, e, i) {
            var o = !1;
            this.visibleItems = this._updateVisibleItems(this.orderedItems, this.visibleItems, t), this.width = this.dom.background.offsetWidth, this.dom.background.style.height = "0";
            for (var n = 0, s = this.visibleItems.length; s > n; n++) {
                var r = this.visibleItems[n];
                r.repositionY(e)
            }
            return o
        }, o.prototype.show = function() {
            this.dom.background.parentNode || this.itemSet.dom.background.appendChild(this.dom.background)
        }, t.exports = o
    }, function(t, e, i) {
        function o(t, e, i) {
            if (this.props = {
                    dot: {
                        width: 0,
                        height: 0
                    },
                    line: {
                        width: 0,
                        height: 0
                    }
                }, this.options = i, t && void 0 == t.start) throw new Error('Property "start" missing in item ' + t);
            n.call(this, t, e, i)
        }
        var n = i(39);
        i(1);
        o.prototype = new n(null, null, null), o.prototype.isVisible = function(t) {
            var e = (t.end - t.start) / 4;
            return this.data.start > t.start - e && this.data.start < t.end + e
        }, o.prototype.redraw = function() {
            var t = this.dom;
            if (t || (this.dom = {}, t = this.dom, t.box = document.createElement("DIV"), t.content = document.createElement("DIV"), t.content.className = "vis-item-content", t.box.appendChild(t.content), t.line = document.createElement("DIV"), t.line.className = "vis-line", t.dot = document.createElement("DIV"), t.dot.className = "vis-dot", t.box["timeline-item"] = this, this.dirty = !0), !this.parent) throw new Error("Cannot redraw item: no parent attached");
            if (!t.box.parentNode) {
                var e = this.parent.dom.foreground;
                if (!e) throw new Error("Cannot redraw item: parent has no foreground container element");
                e.appendChild(t.box)
            }
            if (!t.line.parentNode) {
                var i = this.parent.dom.background;
                if (!i) throw new Error("Cannot redraw item: parent has no background container element");
                i.appendChild(t.line)
            }
            if (!t.dot.parentNode) {
                var o = this.parent.dom.axis;
                if (!i) throw new Error("Cannot redraw item: parent has no axis container element");
                o.appendChild(t.dot)
            }
            if (this.displayed = !0, this.dirty) {
                this._updateContents(this.dom.content), this._updateTitle(this.dom.box), this._updateDataAttributes(this.dom.box), this._updateStyle(this.dom.box);
                var n = (this.options.editable.updateTime || this.options.editable.updateGroup || this.editable === !0) && this.editable !== !1,
                    s = (this.data.className ? " " + this.data.className : "") + (this.selected ? " vis-selected" : "") + (n ? " vis-editable" : " vis-readonly");
                t.box.className = "vis-item vis-box" + s, t.line.className = "vis-item vis-line" + s, t.dot.className = "vis-item vis-dot" + s, this.props.dot.height = t.dot.offsetHeight, this.props.dot.width = t.dot.offsetWidth, this.props.line.width = t.line.offsetWidth, this.width = t.box.offsetWidth, this.height = t.box.offsetHeight, this.dirty = !1
            }
            this._repaintDeleteButton(t.box)
        }, o.prototype.show = function() {
            this.displayed || this.redraw()
        }, o.prototype.hide = function() {
            if (this.displayed) {
                var t = this.dom;
                t.box.parentNode && t.box.parentNode.removeChild(t.box), t.line.parentNode && t.line.parentNode.removeChild(t.line), t.dot.parentNode && t.dot.parentNode.removeChild(t.dot), this.displayed = !1
            }
        }, o.prototype.repositionX = function() {
            var t = this.conversion.toScreen(this.data.start),
                e = this.options.align;
            "right" == e ? this.options.rtl ? (this.right = t - this.width, this.dom.box.style.right = this.right + "px", this.dom.line.style.right = t - this.props.line.width + "px", this.dom.dot.style.right = t - this.props.line.width / 2 - this.props.dot.width / 2 + "px") : (this.left = t - this.width, this.dom.box.style.left = this.left + "px", this.dom.line.style.left = t - this.props.line.width + "px", this.dom.dot.style.left = t - this.props.line.width / 2 - this.props.dot.width / 2 + "px") : "left" == e ? this.options.rtl ? (this.right = t, this.dom.box.style.right = this.right + "px", this.dom.line.style.right = t + "px", this.dom.dot.style.right = t + this.props.line.width / 2 - this.props.dot.width / 2 + "px") : (this.left = t, this.dom.box.style.left = this.left + "px", this.dom.line.style.left = t + "px", this.dom.dot.style.left = t + this.props.line.width / 2 - this.props.dot.width / 2 + "px") : this.options.rtl ? (this.right = t - this.width / 2, this.dom.box.style.right = this.right + "px", this.dom.line.style.right = t - this.props.line.width + "px", this.dom.dot.style.right = t - this.props.dot.width / 2 + "px") : (this.left = t - this.width / 2, this.dom.box.style.left = this.left + "px", this.dom.line.style.left = t - this.props.line.width / 2 + "px", this.dom.dot.style.left = t - this.props.dot.width / 2 + "px")
        }, o.prototype.repositionY = function() {
            var t = this.options.orientation.item,
                e = this.dom.box,
                i = this.dom.line,
                o = this.dom.dot;
            if ("top" == t) e.style.top = (this.top || 0) + "px", i.style.top = "0", i.style.height = this.parent.top + this.top + 1 + "px", i.style.bottom = "";
            else {
                var n = this.parent.itemSet.props.height,
                    s = n - this.parent.top - this.parent.height + this.top;
                e.style.top = (this.parent.height - this.top - this.height || 0) + "px", i.style.top = n - s + "px", i.style.bottom = "0"
            }
            o.style.top = -this.props.dot.height / 2 + "px"
        }, o.prototype.getWidthLeft = function() {
            return this.width / 2
        }, o.prototype.getWidthRight = function() {
            return this.width / 2
        }, t.exports = o
    }, function(t, e, i) {
        function o(t, e, i) {
            if (this.props = {
                    dot: {
                        top: 0,
                        width: 0,
                        height: 0
                    },
                    content: {
                        height: 0,
                        marginLeft: 0,
                        marginRight: 0
                    }
                }, this.options = i, t && void 0 == t.start) throw new Error('Property "start" missing in item ' + t);
            n.call(this, t, e, i)
        }
        var n = i(39);
        o.prototype = new n(null, null, null), o.prototype.isVisible = function(t) {
            var e = (t.end - t.start) / 4;
            return this.data.start > t.start - e && this.data.start < t.end + e
        }, o.prototype.redraw = function() {
            var t = this.dom;
            if (t || (this.dom = {}, t = this.dom, t.point = document.createElement("div"), t.content = document.createElement("div"), t.content.className = "vis-item-content", t.point.appendChild(t.content), t.dot = document.createElement("div"), t.point.appendChild(t.dot), t.point["timeline-item"] = this, this.dirty = !0), !this.parent) throw new Error("Cannot redraw item: no parent attached");
            if (!t.point.parentNode) {
                var e = this.parent.dom.foreground;
                if (!e) throw new Error("Cannot redraw item: parent has no foreground container element");
                e.appendChild(t.point)
            }
            if (this.displayed = !0, this.dirty) {
                this._updateContents(this.dom.content), this._updateTitle(this.dom.point), this._updateDataAttributes(this.dom.point), this._updateStyle(this.dom.point);
                var i = (this.options.editable.updateTime || this.options.editable.updateGroup || this.editable === !0) && this.editable !== !1,
                    o = (this.data.className ? " " + this.data.className : "") + (this.selected ? " vis-selected" : "") + (i ? " vis-editable" : " vis-readonly");
                t.point.className = "vis-item vis-point" + o, t.dot.className = "vis-item vis-dot" + o, this.props.dot.width = t.dot.offsetWidth, this.props.dot.height = t.dot.offsetHeight, this.props.content.height = t.content.offsetHeight, this.options.rtl ? t.content.style.marginRight = 2 * this.props.dot.width + "px" : t.content.style.marginLeft = 2 * this.props.dot.width + "px", this.width = t.point.offsetWidth, this.height = t.point.offsetHeight, t.dot.style.top = (this.height - this.props.dot.height) / 2 + "px", this.options.rtl ? t.dot.style.right = this.props.dot.width / 2 + "px" : t.dot.style.left = this.props.dot.width / 2 + "px", this.dirty = !1
            }
            this._repaintDeleteButton(t.point)
        }, o.prototype.show = function() {
            this.displayed || this.redraw()
        }, o.prototype.hide = function() {
            this.displayed && (this.dom.point.parentNode && this.dom.point.parentNode.removeChild(this.dom.point), this.displayed = !1)
        }, o.prototype.repositionX = function() {
            var t = this.conversion.toScreen(this.data.start);
            this.options.rtl ? (this.right = t - this.props.dot.width, this.dom.point.style.right = this.right + "px") : (this.left = t - this.props.dot.width, this.dom.point.style.left = this.left + "px")
        }, o.prototype.repositionY = function() {
            var t = this.options.orientation.item,
                e = this.dom.point;
            "top" == t ? e.style.top = this.top + "px" : e.style.top = this.parent.height - this.top - this.height + "px"
        }, o.prototype.getWidthLeft = function() {
            return this.props.dot.width
        }, o.prototype.getWidthRight = function() {
            return this.props.dot.width
        }, t.exports = o
    }, function(t, e, i) {
        function o(t, e, i) {
            if (this.props = {
                    content: {
                        width: 0
                    }
                }, this.overflow = !1, t) {
                if (void 0 == t.start) throw new Error('Property "start" missing in item ' + t.id);
                if (void 0 == t.end) throw new Error('Property "end" missing in item ' + t.id)
            }
            n.call(this, t, e, i)
        }
        var n = (i(20), i(39)),
            s = i(40),
            r = i(38);
        o.prototype = new n(null, null, null), o.prototype.baseClassName = "vis-item vis-background", o.prototype.stack = !1, o.prototype.isVisible = function(t) {
            return this.data.start < t.end && this.data.end > t.start
        }, o.prototype.redraw = function() {
            var t = this.dom;
            if (t || (this.dom = {}, t = this.dom, t.box = document.createElement("div"), t.frame = document.createElement("div"), t.frame.className = "vis-item-overflow", t.box.appendChild(t.frame), t.content = document.createElement("div"), t.content.className = "vis-item-content", t.frame.appendChild(t.content), this.dirty = !0), !this.parent) throw new Error("Cannot redraw item: no parent attached");
            if (!t.box.parentNode) {
                var e = this.parent.dom.background;
                if (!e) throw new Error("Cannot redraw item: parent has no background container element");
                e.appendChild(t.box)
            }
            if (this.displayed = !0, this.dirty) {
                this._updateContents(this.dom.content), this._updateTitle(this.dom.content), this._updateDataAttributes(this.dom.content), this._updateStyle(this.dom.box);
                var i = (this.data.className ? " " + this.data.className : "") + (this.selected ? " vis-selected" : "");
                t.box.className = this.baseClassName + i, this.overflow = "hidden" !== window.getComputedStyle(t.content).overflow, this.props.content.width = this.dom.content.offsetWidth, this.height = 0, this.dirty = !1
            }
        }, o.prototype.show = r.prototype.show, o.prototype.hide = r.prototype.hide, o.prototype.repositionX = r.prototype.repositionX, o.prototype.repositionY = function(t) {
            var e = "top" === this.options.orientation.item;
            this.dom.content.style.top = e ? "" : "0", this.dom.content.style.bottom = e ? "0" : "";
            var i;
            if (void 0 !== this.data.subgroup) {
                var o = this.data.subgroup,
                    n = this.parent.subgroups,
                    r = n[o].index;
                if (1 == e) {
                    i = this.parent.subgroups[o].height + t.item.vertical, i += 0 == r ? t.axis - .5 * t.item.vertical : 0;
                    var a = this.parent.top;
                    for (var h in n) n.hasOwnProperty(h) && 1 == n[h].visible && n[h].index < r && (a += n[h].height + t.item.vertical);
                    a += 0 != r ? t.axis - .5 * t.item.vertical : 0, this.dom.box.style.top = a + "px", this.dom.box.style.bottom = ""
                } else {
                    var a = this.parent.top,
                        d = 0;
                    for (var h in n)
                        if (n.hasOwnProperty(h) && 1 == n[h].visible) {
                            var l = n[h].height + t.item.vertical;
                            d += l, n[h].index > r && (a += l)
                        }
                    i = this.parent.subgroups[o].height + t.item.vertical, this.dom.box.style.top = this.parent.height - d + a + "px", this.dom.box.style.bottom = ""
                }
            } else this.parent instanceof s ? (i = Math.max(this.parent.height, this.parent.itemSet.body.domProps.center.height, this.parent.itemSet.body.domProps.centerContainer.height), this.dom.box.style.top = e ? "0" : "", this.dom.box.style.bottom = e ? "" : "0") : (i = this.parent.height, this.dom.box.style.top = this.parent.top + "px", this.dom.box.style.bottom = "");
            this.dom.box.style.height = i + "px"
        }, t.exports = o
    }, function(t, e, i) {
        function o(t, e) {
            this.dom = {
                foreground: null,
                lines: [],
                majorTexts: [],
                minorTexts: [],
                redundant: {
                    lines: [],
                    majorTexts: [],
                    minorTexts: []
                }
            }, this.props = {
                range: {
                    start: 0,
                    end: 0,
                    minimumStep: 0
                },
                lineTop: 0
            }, this.defaultOptions = {
                orientation: {
                    axis: "bottom"
                },
                showMinorLabels: !0,
                showMajorLabels: !0,
                maxMinorChars: 7,
                format: a.FORMAT,
                moment: d,
                timeAxis: null
            }, this.options = s.extend({}, this.defaultOptions), this.body = t, this._create(), this.setOptions(e)
        }
        var n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            } : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol ? "symbol" : typeof t
            },
            s = i(1),
            r = i(31),
            a = i(35),
            h = i(32),
            d = i(2);
        o.prototype = new r, o.prototype.setOptions = function(t) {
            t && (s.selectiveExtend(["showMinorLabels", "showMajorLabels", "maxMinorChars", "hiddenDates", "timeAxis", "moment", "rtl"], this.options, t), s.selectiveDeepExtend(["format"], this.options, t), "orientation" in t && ("string" == typeof t.orientation ? this.options.orientation.axis = t.orientation : "object" === n(t.orientation) && "axis" in t.orientation && (this.options.orientation.axis = t.orientation.axis)), "locale" in t && ("function" == typeof d.locale ? d.locale(t.locale) : d.lang(t.locale)))
        }, o.prototype._create = function() {
            this.dom.foreground = document.createElement("div"), this.dom.background = document.createElement("div"), this.dom.foreground.className = "vis-time-axis vis-foreground", this.dom.background.className = "vis-time-axis vis-background"
        }, o.prototype.destroy = function() {
            this.dom.foreground.parentNode && this.dom.foreground.parentNode.removeChild(this.dom.foreground), this.dom.background.parentNode && this.dom.background.parentNode.removeChild(this.dom.background), this.body = null
        }, o.prototype.redraw = function() {
            var t = this.props,
                e = this.dom.foreground,
                i = this.dom.background,
                o = "top" == this.options.orientation.axis ? this.body.dom.top : this.body.dom.bottom,
                n = e.parentNode !== o;
            this._calculateCharSize();
            var s = this.options.showMinorLabels && "none" !== this.options.orientation.axis,
                r = this.options.showMajorLabels && "none" !== this.options.orientation.axis;
            t.minorLabelHeight = s ? t.minorCharHeight : 0, t.majorLabelHeight = r ? t.majorCharHeight : 0, t.height = t.minorLabelHeight + t.majorLabelHeight, t.width = e.offsetWidth, t.minorLineHeight = this.body.domProps.root.height - t.majorLabelHeight - ("top" == this.options.orientation.axis ? this.body.domProps.bottom.height : this.body.domProps.top.height), t.minorLineWidth = 1, t.majorLineHeight = t.minorLineHeight + t.majorLabelHeight, t.majorLineWidth = 1;
            var a = e.nextSibling,
                h = i.nextSibling;
            return e.parentNode && e.parentNode.removeChild(e), i.parentNode && i.parentNode.removeChild(i), e.style.height = this.props.height + "px", this._repaintLabels(), a ? o.insertBefore(e, a) : o.appendChild(e), h ? this.body.dom.backgroundVertical.insertBefore(i, h) : this.body.dom.backgroundVertical.appendChild(i), this._isResized() || n
        }, o.prototype._repaintLabels = function() {
            var t = this.options.orientation.axis,
                e = s.convert(this.body.range.start, "Number"),
                i = s.convert(this.body.range.end, "Number"),
                o = this.body.util.toTime((this.props.minorCharWidth || 10) * this.options.maxMinorChars).valueOf(),
                n = o - h.getHiddenDurationBefore(this.options.moment, this.body.hiddenDates, this.body.range, o);
            n -= this.body.util.toTime(0).valueOf();
            var r = new a(new Date(e), new Date(i), n, this.body.hiddenDates);
            r.setMoment(this.options.moment), this.options.format && r.setFormat(this.options.format), this.options.timeAxis && r.setScale(this.options.timeAxis), this.step = r;
            var d = this.dom;
            d.redundant.lines = d.lines, d.redundant.majorTexts = d.majorTexts, d.redundant.minorTexts = d.minorTexts, d.lines = [], d.majorTexts = [], d.minorTexts = [];
            var c, u, p, f, m, v, g, y, b, w, _ = 0,
                x = void 0,
                k = 0,
                O = 1e3;
            for (r.start(), u = r.getCurrent(), f = this.body.util.toScreen(u); r.hasNext() && O > k;) {
                k++, m = r.isMajor(), w = r.getClassName(), b = r.getLabelMinor(), c = u, p = f, r.next(), u = r.getCurrent(), v = r.isMajor(), f = this.body.util.toScreen(u), g = _, _ = f - p;
                var M = _ >= .4 * g;
                if (this.options.showMinorLabels && M) {
                    var D = this._repaintMinorText(p, b, t, w);
                    D.style.width = _ + "px"
                }
                m && this.options.showMajorLabels ? (p > 0 && (void 0 == x && (x = p), D = this._repaintMajorText(p, r.getLabelMajor(), t, w)), y = this._repaintMajorLine(p, _, t, w)) : M ? y = this._repaintMinorLine(p, _, t, w) : y && (y.style.width = parseInt(y.style.width) + _ + "px")
            }
            if (k !== O || l || (console.warn("Something is wrong with the Timeline scale. Limited drawing of grid lines to " + O + " lines."), l = !0), this.options.showMajorLabels) {
                var S = this.body.util.toTime(0),
                    C = r.getLabelMajor(S),
                    T = C.length * (this.props.majorCharWidth || 10) + 10;
                (void 0 == x || x > T) && this._repaintMajorText(0, C, t, w)
            }
            s.forEach(this.dom.redundant, function(t) {
                for (; t.length;) {
                    var e = t.pop();
                    e && e.parentNode && e.parentNode.removeChild(e)
                }
            })
        }, o.prototype._repaintMinorText = function(t, e, i, o) {
            var n = this.dom.redundant.minorTexts.shift();
            if (!n) {
                var s = document.createTextNode("");
                n = document.createElement("div"), n.appendChild(s), this.dom.foreground.appendChild(n)
            }
            return this.dom.minorTexts.push(n), n.childNodes[0].nodeValue = e, n.style.top = "top" == i ? this.props.majorLabelHeight + "px" : "0", this.options.rtl ? (n.style.left = "", n.style.right = t + "px") : n.style.left = t + "px", n.className = "vis-text vis-minor " + o, n
        }, o.prototype._repaintMajorText = function(t, e, i, o) {
            var n = this.dom.redundant.majorTexts.shift();
            if (!n) {
                var s = document.createTextNode(e);
                n = document.createElement("div"), n.appendChild(s), this.dom.foreground.appendChild(n)
            }
            return this.dom.majorTexts.push(n), n.childNodes[0].nodeValue = e, n.className = "vis-text vis-major " + o, n.style.top = "top" == i ? "0" : this.props.minorLabelHeight + "px", this.options.rtl ? (n.style.left = "", n.style.right = t + "px") : n.style.left = t + "px", n
        }, o.prototype._repaintMinorLine = function(t, e, i, o) {
            var n = this.dom.redundant.lines.shift();
            n || (n = document.createElement("div"), this.dom.background.appendChild(n)), this.dom.lines.push(n);
            var s = this.props;
            return "top" == i ? n.style.top = s.majorLabelHeight + "px" : n.style.top = this.body.domProps.top.height + "px", n.style.height = s.minorLineHeight + "px", this.options.rtl ? (n.style.left = "", n.style.right = t - s.minorLineWidth / 2 + "px", n.className = "vis-grid vis-vertical-rtl vis-minor " + o) : (n.style.left = t - s.minorLineWidth / 2 + "px", n.className = "vis-grid vis-vertical vis-minor " + o), n.style.width = e + "px", n
        }, o.prototype._repaintMajorLine = function(t, e, i, o) {
            var n = this.dom.redundant.lines.shift();
            n || (n = document.createElement("div"), this.dom.background.appendChild(n)), this.dom.lines.push(n);
            var s = this.props;
            return "top" == i ? n.style.top = "0" : n.style.top = this.body.domProps.top.height + "px", this.options.rtl ? (n.style.left = "", n.style.right = t - s.majorLineWidth / 2 + "px", n.className = "vis-grid vis-vertical-rtl vis-major " + o) : (n.style.left = t - s.majorLineWidth / 2 + "px", n.className = "vis-grid vis-vertical vis-major " + o), n.style.height = s.majorLineHeight + "px", n.style.width = e + "px", n
        }, o.prototype._calculateCharSize = function() {
            this.dom.measureCharMinor || (this.dom.measureCharMinor = document.createElement("DIV"), this.dom.measureCharMinor.className = "vis-text vis-minor vis-measure", this.dom.measureCharMinor.style.position = "absolute", this.dom.measureCharMinor.appendChild(document.createTextNode("0")), this.dom.foreground.appendChild(this.dom.measureCharMinor)), this.props.minorCharHeight = this.dom.measureCharMinor.clientHeight, this.props.minorCharWidth = this.dom.measureCharMinor.clientWidth, this.dom.measureCharMajor || (this.dom.measureCharMajor = document.createElement("DIV"), this.dom.measureCharMajor.className = "vis-text vis-major vis-measure", this.dom.measureCharMajor.style.position = "absolute", this.dom.measureCharMajor.appendChild(document.createTextNode("0")), this.dom.foreground.appendChild(this.dom.measureCharMajor)), this.props.majorCharHeight = this.dom.measureCharMajor.clientHeight, this.props.majorCharWidth = this.dom.measureCharMajor.clientWidth
        };
        var l = !1;
        t.exports = o
    }, function(t, e, i) {
        function o(t) {
            this.active = !1, this.dom = {
                container: t
            }, this.dom.overlay = document.createElement("div"), this.dom.overlay.className = "vis-overlay", this.dom.container.appendChild(this.dom.overlay), this.hammer = a(this.dom.overlay), this.hammer.on("tap", this._onTapOverlay.bind(this));
            var e = this,
                i = ["tap", "doubletap", "press", "pinch", "pan", "panstart", "panmove", "panend"];
            i.forEach(function(t) {
                e.hammer.on(t, function(t) {
                    t.stopPropagation()
                })
            }), document && document.body && (this.onClick = function(i) {
                n(i.target, t) || e.deactivate()
            }, document.body.addEventListener("click", this.onClick)), void 0 !== this.keycharm && this.keycharm.destroy(), this.keycharm = s(), this.escListener = this.deactivate.bind(this)
        }

        function n(t, e) {
            for (; t;) {
                if (t === e) return !0;
                t = t.parentNode
            }
            return !1
        }
        var s = i(23),
            r = i(13),
            a = i(20),
            h = i(1);
        r(o.prototype), o.current = null, o.prototype.destroy = function() {
            this.deactivate(), this.dom.overlay.parentNode.removeChild(this.dom.overlay), this.onClick && document.body.removeEventListener("click", this.onClick), this.hammer.destroy(), this.hammer = null
        }, o.prototype.activate = function() {
            o.current && o.current.deactivate(), o.current = this, this.active = !0, this.dom.overlay.style.display = "none", h.addClassName(this.dom.container, "vis-active"), this.emit("change"), this.emit("activate"), this.keycharm.bind("esc", this.escListener)
        }, o.prototype.deactivate = function() {
            this.active = !1, this.dom.overlay.style.display = "", h.removeClassName(this.dom.container, "vis-active"), this.keycharm.unbind("esc", this.escListener), this.emit("change"), this.emit("deactivate")
        }, o.prototype._onTapOverlay = function(t) {
            this.activate(), t.stopPropagation()
        }, t.exports = o
    }, function(t, e, i) {
        function o(t, e) {
            this.body = t, this.defaultOptions = {
                moment: a,
                locales: h,
                locale: "en",
                id: void 0,
                title: void 0
            }, this.options = s.extend({}, this.defaultOptions), e && e.time ? this.customTime = e.time : this.customTime = new Date, this.eventParams = {}, this.setOptions(e), this._create()
        }
        var n = i(20),
            s = i(1),
            r = i(31),
            a = i(2),
            h = i(47);
        o.prototype = new r, o.prototype.setOptions = function(t) {
            t && s.selectiveExtend(["moment", "locale", "locales", "id"], this.options, t)
        }, o.prototype._create = function() {
            var t = document.createElement("div");
            t["custom-time"] = this, t.className = "vis-custom-time " + (this.options.id || ""), t.style.position = "absolute", t.style.top = "0px", t.style.height = "100%", this.bar = t;
            var e = document.createElement("div");
            e.style.position = "relative", e.style.top = "0px", e.style.left = "-10px", e.style.height = "100%", e.style.width = "20px", t.appendChild(e), this.hammer = new n(e), this.hammer.on("panstart", this._onDragStart.bind(this)), this.hammer.on("panmove", this._onDrag.bind(this)), this.hammer.on("panend", this._onDragEnd.bind(this)), this.hammer.get("pan").set({
                threshold: 5,
                direction: n.DIRECTION_HORIZONTAL
            })
        }, o.prototype.destroy = function() {
            this.hide(), this.hammer.destroy(), this.hammer = null, this.body = null
        }, o.prototype.redraw = function() {
            var t = this.body.dom.backgroundVertical;
            this.bar.parentNode != t && (this.bar.parentNode && this.bar.parentNode.removeChild(this.bar), t.appendChild(this.bar));
            var e = this.body.util.toScreen(this.customTime),
                i = this.options.locales[this.options.locale];
            i || (this.warned || (console.log("WARNING: options.locales['" + this.options.locale + "'] not found. See http://visjs.org/docs/timeline.html#Localization"), this.warned = !0), i = this.options.locales.en);
            var o = this.options.title;
            return void 0 === o && (o = i.time + ": " + this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss"), o = o.charAt(0).toUpperCase() + o.substring(1)), this.bar.style.left = e + "px", this.bar.title = o, !1
        }, o.prototype.hide = function() {
            this.bar.parentNode && this.bar.parentNode.removeChild(this.bar)
        }, o.prototype.setCustomTime = function(t) {
            this.customTime = s.convert(t, "Date"), this.redraw()
        }, o.prototype.getCustomTime = function() {
            return new Date(this.customTime.valueOf())
        }, o.prototype.setCustomTitle = function(t) {
            this.options.title = t
        }, o.prototype._onDragStart = function(t) {
            this.eventParams.dragging = !0, this.eventParams.customTime = this.customTime, t.stopPropagation()
        }, o.prototype._onDrag = function(t) {
            if (this.eventParams.dragging) {
                var e = this.body.util.toScreen(this.eventParams.customTime) + t.deltaX,
                    i = this.body.util.toTime(e);
                this.setCustomTime(i), this.body.emitter.emit("timechange", {
                    id: this.options.id,
                    time: new Date(this.customTime.valueOf())
                }), t.stopPropagation()
            }
        }, o.prototype._onDragEnd = function(t) {
            this.eventParams.dragging && (this.body.emitter.emit("timechanged", {
                id: this.options.id,
                time: new Date(this.customTime.valueOf())
            }), t.stopPropagation())
        }, o.customTimeFromTarget = function(t) {
            for (var e = t.target; e;) {
                if (e.hasOwnProperty("custom-time")) return e["custom-time"];
                e = e.parentNode
            }
            return null
        }, t.exports = o
    }, function(t, e) {
        e.en = {
            current: "current",
            time: "time"
        }, e.en_EN = e.en, e.en_US = e.en, e.nl = {
            current: "huidige",
            time: "tijd"
        }, e.nl_NL = e.nl, e.nl_BE = e.nl
    }, function(t, e, i) {
        function o(t, e) {
            this.body = t, this.defaultOptions = {
                rtl: !1,
                showCurrentTime: !0,
                moment: r,
                locales: a,
                locale: "en"
            }, this.options = n.extend({}, this.defaultOptions), this.offset = 0, this._create(), this.setOptions(e)
        }
        var n = i(1),
            s = i(31),
            r = i(2),
            a = i(47);
        o.prototype = new s, o.prototype._create = function() {
            var t = document.createElement("div");
            t.className = "vis-current-time", t.style.position = "absolute", t.style.top = "0px", t.style.height = "100%", this.bar = t
        }, o.prototype.destroy = function() {
            this.options.showCurrentTime = !1, this.redraw(), this.body = null
        }, o.prototype.setOptions = function(t) {
            t && n.selectiveExtend(["rtl", "showCurrentTime", "moment", "locale", "locales"], this.options, t)
        }, o.prototype.redraw = function() {
            if (this.options.showCurrentTime) {
                var t = this.body.dom.backgroundVertical;
                this.bar.parentNode != t && (this.bar.parentNode && this.bar.parentNode.removeChild(this.bar), t.appendChild(this.bar), this.start());
                var e = this.options.moment((new Date).valueOf() + this.offset),
                    i = this.body.util.toScreen(e),
                    o = this.options.locales[this.options.locale];
                o || (this.warned || (console.log("WARNING: options.locales['" + this.options.locale + "'] not found. See http://visjs.org/docs/timeline/#Localization"), this.warned = !0), o = this.options.locales.en);
                var n = o.current + " " + o.time + ": " + e.format("dddd, MMMM Do YYYY, H:mm:ss");
                n = n.charAt(0).toUpperCase() + n.substring(1), this.options.rtl ? this.bar.style.right = i + "px" : this.bar.style.left = i + "px", this.bar.title = n
            } else this.bar.parentNode && this.bar.parentNode.removeChild(this.bar), this.stop();
            return !1
        }, o.prototype.start = function() {
            function t() {
                e.stop();
                var i = e.body.range.conversion(e.body.domProps.center.width).scale,
                    o = 1 / i / 10;
                30 > o && (o = 30), o > 1e3 && (o = 1e3), e.redraw(), e.body.emitter.emit("currentTimeTick"), e.currentTimeTimer = setTimeout(t, o)
            }
            var e = this;
            t()
        }, o.prototype.stop = function() {
            void 0 !== this.currentTimeTimer && (clearTimeout(this.currentTimeTimer), delete this.currentTimeTimer)
        }, o.prototype.setCurrentTime = function(t) {
            var e = n.convert(t, "Date").valueOf(),
                i = (new Date).valueOf();
            this.offset = e - i, this.redraw()
        }, o.prototype.getCurrentTime = function() {
            return new Date((new Date).valueOf() + this.offset)
        }, t.exports = o
    }, function(t, e) {
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var i = "string",
            o = "boolean",
            n = "number",
            s = "array",
            r = "date",
            a = "object",
            h = "dom",
            d = "moment",
            l = "any",
            c = {
                configure: {
                    enabled: {
                        "boolean": o
                    },
                    filter: {
                        "boolean": o,
                        "function": "function"
                    },
                    container: {
                        dom: h
                    },
                    __type__: {
                        object: a,
                        "boolean": o,
                        "function": "function"
                    }
                },
                align: {
                    string: i
                },
                rtl: {
                    "boolean": o,
                    undefined: "undefined"
                },
                autoResize: {
                    "boolean": o
                },
                throttleRedraw: {
                    number: n
                },
                clickToUse: {
                    "boolean": o
                },
                dataAttributes: {
                    string: i,
                    array: s
                },
                editable: {
                    add: {
                        "boolean": o,
                        undefined: "undefined"
                    },
                    remove: {
                        "boolean": o,
                        undefined: "undefined"
                    },
                    updateGroup: {
                        "boolean": o,
                        undefined: "undefined"
                    },
                    updateTime: {
                        "boolean": o,
                        undefined: "undefined"
                    },
                    __type__: {
                        "boolean": o,
                        object: a
                    }
                },
                end: {
                    number: n,
                    date: r,
                    string: i,
                    moment: d
                },
                format: {
                    minorLabels: {
                        millisecond: {
                            string: i,
                            undefined: "undefined"
                        },
                        second: {
                            string: i,
                            undefined: "undefined"
                        },
                        minute: {
                            string: i,
                            undefined: "undefined"
                        },
                        hour: {
                            string: i,
                            undefined: "undefined"
                        },
                        weekday: {
                            string: i,
                            undefined: "undefined"
                        },
                        day: {
                            string: i,
                            undefined: "undefined"
                        },
                        month: {
                            string: i,
                            undefined: "undefined"
                        },
                        year: {
                            string: i,
                            undefined: "undefined"
                        },
                        __type__: {
                            object: a
                        }
                    },
                    majorLabels: {
                        millisecond: {
                            string: i,
                            undefined: "undefined"
                        },
                        second: {
                            string: i,
                            undefined: "undefined"
                        },
                        minute: {
                            string: i,
                            undefined: "undefined"
                        },
                        hour: {
                            string: i,
                            undefined: "undefined"
                        },
                        weekday: {
                            string: i,
                            undefined: "undefined"
                        },
                        day: {
                            string: i,
                            undefined: "undefined"
                        },
                        month: {
                            string: i,
                            undefined: "undefined"
                        },
                        year: {
                            string: i,
                            undefined: "undefined"
                        },
                        __type__: {
                            object: a
                        }
                    },
                    __type__: {
                        object: a
                    }
                },
                moment: {
                    "function": "function"
                },
                groupOrder: {
                    string: i,
                    "function": "function"
                },
                groupEditable: {
                    add: {
                        "boolean": o,
                        undefined: "undefined"
                    },
                    remove: {
                        "boolean": o,
                        undefined: "undefined"
                    },
                    order: {
                        "boolean": o,
                        undefined: "undefined"
                    },
                    __type__: {
                        "boolean": o,
                        object: a
                    }
                },
                groupOrderSwap: {
                    "function": "function"
                },
                height: {
                    string: i,
                    number: n
                },
                hiddenDates: {
                    start: {
                        date: r,
                        number: n,
                        string: i,
                        moment: d
                    },
                    end: {
                        date: r,
                        number: n,
                        string: i,
                        moment: d
                    },
                    repeat: {
                        string: i
                    },
                    __type__: {
                        object: a,
                        array: s
                    }
                },
                itemsAlwaysDraggable: {
                    "boolean": o
                },
                locale: {
                    string: i
                },
                locales: {
                    __any__: {
                        any: l
                    },
                    __type__: {
                        object: a
                    }
                },
                margin: {
                    axis: {
                        number: n
                    },
                    item: {
                        horizontal: {
                            number: n,
                            undefined: "undefined"
                        },
                        vertical: {
                            number: n,
                            undefined: "undefined"
                        },
                        __type__: {
                            object: a,
                            number: n
                        }
                    },
                    __type__: {
                        object: a,
                        number: n
                    }
                },
                max: {
                    date: r,
                    number: n,
                    string: i,
                    moment: d
                },
                maxHeight: {
                    number: n,
                    string: i
                },
                maxMinorChars: {
                    number: n
                },
                min: {
                    date: r,
                    number: n,
                    string: i,
                    moment: d
                },
                minHeight: {
                    number: n,
                    string: i
                },
                moveable: {
                    "boolean": o
                },
                multiselect: {
                    "boolean": o
                },
                multiselectPerGroup: {
                    "boolean": o
                },
                onAdd: {
                    "function": "function"
                },
                onUpdate: {
                    "function": "function"
                },
                onMove: {
                    "function": "function"
                },
                onMoving: {
                    "function": "function"
                },
                onRemove: {
                    "function": "function"
                },
                onAddGroup: {
                    "function": "function"
                },
                onMoveGroup: {
                    "function": "function"
                },
                onRemoveGroup: {
                    "function": "function"
                },
                order: {
                    "function": "function"
                },
                orientation: {
                    axis: {
                        string: i,
                        undefined: "undefined"
                    },
                    item: {
                        string: i,
                        undefined: "undefined"
                    },
                    __type__: {
                        string: i,
                        object: a
                    }
                },
                selectable: {
                    "boolean": o
                },
                showCurrentTime: {
                    "boolean": o
                },
                showMajorLabels: {
                    "boolean": o
                },
                showMinorLabels: {
                    "boolean": o
                },
                stack: {
                    "boolean": o
                },
                snap: {
                    "function": "function",
                    "null": "null"
                },
                start: {
                    date: r,
                    number: n,
                    string: i,
                    moment: d
                },
                template: {
                    "function": "function"
                },
                groupTemplate: {
                    "function": "function"
                },
                timeAxis: {
                    scale: {
                        string: i,
                        undefined: "undefined"
                    },
                    step: {
                        number: n,
                        undefined: "undefined"
                    },
                    __type__: {
                        object: a
                    }
                },
                type: {
                    string: i
                },
                width: {
                    string: i,
                    number: n
                },
                zoomable: {
                    "boolean": o
                },
                zoomKey: {
                    string: ["ctrlKey", "altKey", "metaKey", ""]
                },
                zoomMax: {
                    number: n
                },
                zoomMin: {
                    number: n
                },
                __type__: {
                    object: a
                }
            },
            u = {
                global: {
                    align: ["center", "left", "right"],
                    direction: !1,
                    autoResize: !0,
                    throttleRedraw: [10, 0, 1e3, 10],
                    clickToUse: !1,
                    editable: {
                        add: !1,
                        remove: !1,
                        updateGroup: !1,
                        updateTime: !1
                    },
                    end: "",
                    format: {
                        minorLabels: {
                            millisecond: "SSS",
                            second: "s",
                            minute: "HH:mm",
                            hour: "HH:mm",
                            weekday: "ddd D",
                            day: "D",
                            month: "MMM",
                            year: "YYYY"
                        },
                        majorLabels: {
                            millisecond: "HH:mm:ss",
                            second: "D MMMM HH:mm",
                            minute: "ddd D MMMM",
                            hour: "ddd D MMMM",
                            weekday: "MMMM YYYY",
                            day: "MMMM YYYY",
                            month: "YYYY",
                            year: ""
                        }
                    },
                    groupsDraggable: !1,
                    height: "",
                    locale: "",
                    margin: {
                        axis: [20, 0, 100, 1],
                        item: {
                            horizontal: [10, 0, 100, 1],
                            vertical: [10, 0, 100, 1]
                        }
                    },
                    max: "",
                    maxHeight: "",
                    maxMinorChars: [7, 0, 20, 1],
                    min: "",
                    minHeight: "",
                    moveable: !1,
                    multiselect: !1,
                    multiselectPerGroup: !1,
                    orientation: {
                        axis: ["both", "bottom", "top"],
                        item: ["bottom", "top"]
                    },
                    selectable: !0,
                    showCurrentTime: !1,
                    showMajorLabels: !0,
                    showMinorLabels: !0,
                    stack: !0,
                    start: "",
                    type: ["box", "point", "range", "background"],
                    width: "100%",
                    zoomable: !0,
                    zoomKey: ["ctrlKey", "altKey", "metaKey", ""],
                    zoomMax: [31536e10, 10, 31536e10, 1],
                    zoomMin: [10, 10, 31536e10, 1]
                }
            };
        e.allOptions = c, e.configureOptions = u
    }, function(t, e, i) {
        function o(t) {
            return t && t.__esModule ? t : {
                "default": t
            }
        }

        function n(t, e, i, o) {
            if (!(Array.isArray(i) || i instanceof c || i instanceof u) && i instanceof Object) {
                var n = o;
                o = i, i = n
            }
            var s = this;
            this.defaultOptions = {
                start: null,
                end: null,
                autoResize: !0,
                orientation: {
                    axis: "bottom",
                    item: "bottom"
                },
                moment: d,
                width: null,
                height: null,
                maxHeight: null,
                minHeight: null
            }, this.options = l.deepExtend({}, this.defaultOptions), this._create(t), this.components = [], this.body = {
                dom: this.dom,
                domProps: this.props,
                emitter: {
                    on: this.on.bind(this),
                    off: this.off.bind(this),
                    emit: this.emit.bind(this)
                },
                hiddenDates: [],
                util: {
                    toScreen: s._toScreen.bind(s),
                    toGlobalScreen: s._toGlobalScreen.bind(s),
                    toTime: s._toTime.bind(s),
                    toGlobalTime: s._toGlobalTime.bind(s)
                }
            }, this.range = new p(this.body), this.components.push(this.range), this.body.range = this.range, this.timeAxis = new m(this.body), this.components.push(this.timeAxis), this.currentTime = new v(this.body), this.components.push(this.currentTime), this.linegraph = new y(this.body), this.components.push(this.linegraph), this.itemsData = null, this.groupsData = null, this.on("tap", function(t) {
                s.emit("click", s.getEventProperties(t))
            }), this.on("doubletap", function(t) {
                s.emit("doubleClick", s.getEventProperties(t))
            }), this.dom.root.oncontextmenu = function(t) {
                s.emit("contextmenu", s.getEventProperties(t))
            }, o && this.setOptions(o), i && this.setGroups(i), e && this.setItems(e), this._redraw()
        }
        var s = i(26),
            r = o(s),
            a = i(29),
            h = o(a),
            d = (i(13), i(20), i(2)),
            l = i(1),
            c = i(9),
            u = i(11),
            p = i(30),
            f = i(33),
            m = i(44),
            v = i(48),
            g = i(46),
            y = i(51),
            b = i(29).printStyle,
            w = i(59).allOptions,
            _ = i(59).configureOptions;
        n.prototype = new f, n.prototype.setOptions = function(t) {
            var e = h["default"].validate(t, w);
            e === !0 && console.log("%cErrors have been found in the supplied options object.", b), f.prototype.setOptions.call(this, t)
        }, n.prototype.setItems = function(t) {
            var e, i = null == this.itemsData;
            if (e = t ? t instanceof c || t instanceof u ? t : new c(t, {
                    type: {
                        start: "Date",
                        end: "Date"
                    }
                }) : null, this.itemsData = e, this.linegraph && this.linegraph.setItems(e), i)
                if (void 0 != this.options.start || void 0 != this.options.end) {
                    var o = void 0 != this.options.start ? this.options.start : null,
                        n = void 0 != this.options.end ? this.options.end : null;
                    this.setWindow(o, n, {
                        animation: !1
                    })
                } else this.fit({
                    animation: !1
                })
        }, n.prototype.setGroups = function(t) {
            var e;
            e = t ? t instanceof c || t instanceof u ? t : new c(t) : null, this.groupsData = e, this.linegraph.setGroups(e)
        }, n.prototype.getLegend = function(t, e, i) {
            return void 0 === e && (e = 15), void 0 === i && (i = 15), void 0 !== this.linegraph.groups[t] ? this.linegraph.groups[t].getLegend(e, i) : "cannot find group:'" + t + "'"
        }, n.prototype.isGroupVisible = function(t) {
            return void 0 !== this.linegraph.groups[t] ? this.linegraph.groups[t].visible && (void 0 === this.linegraph.options.groups.visibility[t] || 1 == this.linegraph.options.groups.visibility[t]) : !1
        }, n.prototype.getDataRange = function() {
            var t = null,
                e = null;
            for (var i in this.linegraph.groups)
                if (this.linegraph.groups.hasOwnProperty(i) && 1 == this.linegraph.groups[i].visible)
                    for (var o = 0; o < this.linegraph.groups[i].itemsData.length; o++) {
                        var n = this.linegraph.groups[i].itemsData[o],
                            s = l.convert(n.x, "Date").valueOf();
                        t = null == t ? s : t > s ? s : t, e = null == e ? s : s > e ? s : e
                    }
                return {
                    min: null != t ? new Date(t) : null,
                    max: null != e ? new Date(e) : null
                }
        }, n.prototype.getEventProperties = function(t) {
            var e = t.center ? t.center.x : t.clientX,
                i = t.center ? t.center.y : t.clientY,
                o = e - l.getAbsoluteLeft(this.dom.centerContainer),
                n = i - l.getAbsoluteTop(this.dom.centerContainer),
                s = this._toTime(o),
                r = g.customTimeFromTarget(t),
                a = l.getTarget(t),
                h = null;
            l.hasParent(a, this.timeAxis.dom.foreground) ? h = "axis" : this.timeAxis2 && l.hasParent(a, this.timeAxis2.dom.foreground) ? h = "axis" : l.hasParent(a, this.linegraph.yAxisLeft.dom.frame) ? h = "data-axis" : l.hasParent(a, this.linegraph.yAxisRight.dom.frame) ? h = "data-axis" : l.hasParent(a, this.linegraph.legendLeft.dom.frame) ? h = "legend" : l.hasParent(a, this.linegraph.legendRight.dom.frame) ? h = "legend" : null != r ? h = "custom-time" : l.hasParent(a, this.currentTime.bar) ? h = "current-time" : l.hasParent(a, this.dom.center) && (h = "background");
            var d = [],
                c = this.linegraph.yAxisLeft,
                u = this.linegraph.yAxisRight;
            return c.hidden || d.push(c.screenToValue(n)), u.hidden || d.push(u.screenToValue(n)), {
                event: t,
                what: h,
                pageX: t.srcEvent ? t.srcEvent.pageX : t.pageX,
                pageY: t.srcEvent ? t.srcEvent.pageY : t.pageY,
                x: o,
                y: n,
                time: s,
                value: d
            }
        }, n.prototype._createConfigurator = function() {
            return new r["default"](this, this.dom.container, _)
        }, t.exports = n
    }, function(t, e, i) {
        function o(t, e) {
            this.id = s.randomUUID(), this.body = t, this.defaultOptions = {
                yAxisOrientation: "left",
                defaultGroup: "default",
                sort: !0,
                sampling: !0,
                stack: !1,
                graphHeight: "400px",
                shaded: {
                    enabled: !1,
                    orientation: "bottom"
                },
                style: "line",
                barChart: {
                    width: 50,
                    sideBySide: !1,
                    align: "center"
                },
                interpolation: {
                    enabled: !0,
                    parametrization: "centripetal",
                    alpha: .5
                },
                drawPoints: {
                    enabled: !0,
                    size: 6,
                    style: "square"
                },
                dataAxis: {},
                legend: {},
                groups: {
                    visibility: {}
                }
            }, this.options = s.extend({}, this.defaultOptions), this.dom = {}, this.props = {}, this.hammer = null, this.groups = {}, this.abortedGraphUpdate = !1, this.updateSVGheight = !1, this.updateSVGheightOnResize = !1, this.forceGraphUpdate = !0;
            var i = this;
            this.itemsData = null, this.groupsData = null, this.itemListeners = {
                add: function(t, e, o) {
                    i._onAdd(e.items)
                },
                update: function(t, e, o) {
                    i._onUpdate(e.items)
                },
                remove: function(t, e, o) {
                    i._onRemove(e.items)
                }
            }, this.groupListeners = {
                add: function(t, e, o) {
                    i._onAddGroups(e.items)
                },
                update: function(t, e, o) {
                    i._onUpdateGroups(e.items)
                },
                remove: function(t, e, o) {
                    i._onRemoveGroups(e.items)
                }
            }, this.items = {}, this.selection = [], this.lastStart = this.body.range.start, this.touchParams = {}, this.svgElements = {}, this.setOptions(e), this.groupsUsingDefaultStyles = [0], this.body.emitter.on("rangechanged", function() {
                i.lastStart = i.body.range.start, i.svg.style.left = s.option.asSize(-i.props.width), i.forceGraphUpdate = !0, i.redraw.call(i)
            }), this._create(), this.framework = {
                svg: this.svg,
                svgElements: this.svgElements,
                options: this.options,
                groups: this.groups
            }
        }
        var n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            } : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol ? "symbol" : typeof t
            },
            s = i(1),
            r = i(8),
            a = i(9),
            h = i(11),
            d = i(31),
            l = i(52),
            c = i(54),
            u = i(58),
            p = i(55),
            f = i(57),
            m = i(56),
            v = "__ungrouped__";
        o.prototype = new d, o.prototype._create = function() {
            var t = document.createElement("div");
            t.className = "vis-line-graph", this.dom.frame = t, this.svg = document.createElementNS("http://www.w3.org/2000/svg", "svg"), this.svg.style.position = "relative", this.svg.style.height = ("" + this.options.graphHeight).replace("px", "") + "px", this.svg.style.display = "block", t.appendChild(this.svg), this.options.dataAxis.orientation = "left", this.yAxisLeft = new l(this.body, this.options.dataAxis, this.svg, this.options.groups), this.options.dataAxis.orientation = "right", this.yAxisRight = new l(this.body, this.options.dataAxis, this.svg, this.options.groups), delete this.options.dataAxis.orientation, this.legendLeft = new u(this.body, this.options.legend, "left", this.options.groups), this.legendRight = new u(this.body, this.options.legend, "right", this.options.groups), this.show()
        }, o.prototype.setOptions = function(t) {
            if (t) {
                var e = ["sampling", "defaultGroup", "stack", "height", "graphHeight", "yAxisOrientation", "style", "barChart", "dataAxis", "sort", "groups"];
                void 0 === t.graphHeight && void 0 !== t.height ? (this.updateSVGheight = !0, this.updateSVGheightOnResize = !0) : void 0 !== this.body.domProps.centerContainer.height && void 0 !== t.graphHeight && parseInt((t.graphHeight + "").replace("px", "")) < this.body.domProps.centerContainer.height && (this.updateSVGheight = !0), s.selectiveDeepExtend(e, this.options, t), s.mergeOptions(this.options, t, "interpolation"), s.mergeOptions(this.options, t, "drawPoints"), s.mergeOptions(this.options, t, "shaded"), s.mergeOptions(this.options, t, "legend"), t.interpolation && "object" == n(t.interpolation) && t.interpolation.parametrization && ("uniform" == t.interpolation.parametrization ? this.options.interpolation.alpha = 0 : "chordal" == t.interpolation.parametrization ? this.options.interpolation.alpha = 1 : (this.options.interpolation.parametrization = "centripetal", this.options.interpolation.alpha = .5)), this.yAxisLeft && void 0 !== t.dataAxis && (this.yAxisLeft.setOptions(this.options.dataAxis), this.yAxisRight.setOptions(this.options.dataAxis)), this.legendLeft && void 0 !== t.legend && (this.legendLeft.setOptions(this.options.legend), this.legendRight.setOptions(this.options.legend)), this.groups.hasOwnProperty(v) && this.groups[v].setOptions(t)
            }
            this.dom.frame && (this.forceGraphUpdate = !0, this.body.emitter.emit("_change", {
                queue: !0
            }))
        }, o.prototype.hide = function() {
            this.dom.frame.parentNode && this.dom.frame.parentNode.removeChild(this.dom.frame)
        }, o.prototype.show = function() {
            this.dom.frame.parentNode || this.body.dom.center.appendChild(this.dom.frame)
        }, o.prototype.setItems = function(t) {
            var e, i = this,
                o = this.itemsData;
            if (t) {
                if (!(t instanceof a || t instanceof h)) throw new TypeError("Data must be an instance of DataSet or DataView");
                this.itemsData = t
            } else this.itemsData = null;
            if (o && (s.forEach(this.itemListeners, function(t, e) {
                    o.off(e, t)
                }), e = o.getIds(), this._onRemove(e)), this.itemsData) {
                var n = this.id;
                s.forEach(this.itemListeners, function(t, e) {
                    i.itemsData.on(e, t, n)
                }), e = this.itemsData.getIds(), this._onAdd(e)
            }
        }, o.prototype.setGroups = function(t) {
            var e, i = this;
            if (this.groupsData) {
                s.forEach(this.groupListeners, function(t, e) {
                    i.groupsData.off(e, t)
                }), e = this.groupsData.getIds(), this.groupsData = null;
                for (var o = 0; o < e.length; o++) this._removeGroup(e[o])
            }
            if (t) {
                if (!(t instanceof a || t instanceof h)) throw new TypeError("Data must be an instance of DataSet or DataView");
                this.groupsData = t
            } else this.groupsData = null;
            if (this.groupsData) {
                var n = this.id;
                s.forEach(this.groupListeners, function(t, e) {
                    i.groupsData.on(e, t, n)
                }), e = this.groupsData.getIds(), this._onAddGroups(e)
            }
        }, o.prototype._onUpdate = function(t) {
            this._updateAllGroupData()
        }, o.prototype._onAdd = function(t) {
            this._onUpdate(t)
        }, o.prototype._onRemove = function(t) {
            this._onUpdate(t)
        }, o.prototype._onUpdateGroups = function(t) {
            this._updateAllGroupData()
        }, o.prototype._onAddGroups = function(t) {
            this._onUpdateGroups(t)
        }, o.prototype._onRemoveGroups = function(t) {
            for (var e = 0; e < t.length; e++) this._removeGroup(t[e]);
            this.forceGraphUpdate = !0, this.body.emitter.emit("_change", {
                queue: !0
            })
        }, o.prototype._removeGroup = function(t) {
            this.groups.hasOwnProperty(t) && ("right" == this.groups[t].options.yAxisOrientation ? (this.yAxisRight.removeGroup(t), this.legendRight.removeGroup(t), this.legendRight.redraw()) : (this.yAxisLeft.removeGroup(t), this.legendLeft.removeGroup(t), this.legendLeft.redraw()), delete this.groups[t])
        }, o.prototype._updateGroup = function(t, e) {
            this.groups.hasOwnProperty(e) ? (this.groups[e].update(t), "right" == this.groups[e].options.yAxisOrientation ? (this.yAxisRight.updateGroup(e, this.groups[e]), this.legendRight.updateGroup(e, this.groups[e]), this.yAxisLeft.removeGroup(e), this.legendLeft.removeGroup(e)) : (this.yAxisLeft.updateGroup(e, this.groups[e]), this.legendLeft.updateGroup(e, this.groups[e]), this.yAxisRight.removeGroup(e), this.legendRight.removeGroup(e))) : (this.groups[e] = new c(t, e, this.options, this.groupsUsingDefaultStyles), "right" == this.groups[e].options.yAxisOrientation ? (this.yAxisRight.addGroup(e, this.groups[e]), this.legendRight.addGroup(e, this.groups[e])) : (this.yAxisLeft.addGroup(e, this.groups[e]), this.legendLeft.addGroup(e, this.groups[e]))), this.legendLeft.redraw(), this.legendRight.redraw()
        }, o.prototype._updateAllGroupData = function() {
            if (null != this.itemsData) {
                for (var t = {}, e = this.itemsData.get(), i = {}, o = 0; o < e.length; o++) {
                    var n = e[o],
                        r = n.group;
                    null !== r && void 0 !== r || (r = v), i.hasOwnProperty(r) ? i[r]++ : i[r] = 1
                }
                for (var o = 0; o < e.length; o++) {
                    var n = e[o],
                        r = n.group;
                    null !== r && void 0 !== r || (r = v), t.hasOwnProperty(r) || (t[r] = new Array(i[r]));
                    var a = s.bridgeObject(n);
                    a.x = s.convert(n.x, "Date"), a.orginalY = n.y, a.y = Number(n.y);
                    var h = t[r].length - i[r]--;
                    t[r][h] = a
                }
                for (var r in this.groups) this.groups.hasOwnProperty(r) && (t.hasOwnProperty(r) || (t[r] = new Array(0)));
                for (var r in t)
                    if (t.hasOwnProperty(r))
                        if (0 == t[r].length) this.groups.hasOwnProperty(r) && this._removeGroup(r);
                        else {
                            var d = void 0;
                            void 0 != this.groupsData && (d = this.groupsData.get(r)), void 0 == d && (d = {
                                id: r,
                                content: this.options.defaultGroup + r
                            }), this._updateGroup(d, r), this.groups[r].setItems(t[r])
                        }
                this.forceGraphUpdate = !0, this.body.emitter.emit("_change", {
                    queue: !0
                })
            }
        }, o.prototype.redraw = function() {
            var t = !1;
            this.props.width = this.dom.frame.offsetWidth, this.props.height = this.body.domProps.centerContainer.height - this.body.domProps.border.top - this.body.domProps.border.bottom, t = this._isResized() || t;
            var e = this.body.range.end - this.body.range.start,
                i = e != this.lastVisibleInterval;
            if (this.lastVisibleInterval = e, 1 == t && (this.svg.style.width = s.option.asSize(3 * this.props.width), this.svg.style.left = s.option.asSize(-this.props.width), -1 == (this.options.height + "").indexOf("%") && 1 != this.updateSVGheightOnResize || (this.updateSVGheight = !0)), 1 == this.updateSVGheight ? (this.options.graphHeight != this.props.height + "px" && (this.options.graphHeight = this.props.height + "px", this.svg.style.height = this.props.height + "px"), this.updateSVGheight = !1) : this.svg.style.height = ("" + this.options.graphHeight).replace("px", "") + "px", 1 == t || 1 == i || 1 == this.abortedGraphUpdate || 1 == this.forceGraphUpdate) t = this._updateGraph() || t, this.forceGraphUpdate = !1;
            else if (0 != this.lastStart) {
                var o = this.body.range.start - this.lastStart,
                    n = this.body.range.end - this.body.range.start;
                if (0 != this.props.width) {
                    var r = this.props.width / n,
                        a = o * r;
                    this.svg.style.left = -this.props.width - a + "px"
                }
            }
            return this.legendLeft.redraw(), this.legendRight.redraw(), t
        }, o.prototype._getSortedGroupIds = function() {
            var t = [];
            for (var e in this.groups)
                if (this.groups.hasOwnProperty(e)) {
                    var i = this.groups[e];
                    1 != i.visible || void 0 !== this.options.groups.visibility[e] && 1 != this.options.groups.visibility[e] || t.push({
                        id: e,
                        zIndex: i.options.zIndex
                    })
                }
            s.insertSort(t, function(t, e) {
                var i = t.zIndex,
                    o = e.zIndex;
                return void 0 === i && (i = 0), void 0 === o && (o = 0), i == o ? 0 : o > i ? -1 : 1
            });
            for (var o = new Array(t.length), n = 0; n < t.length; n++) o[n] = t[n].id;
            return o
        }, o.prototype._updateGraph = function() {
            if (r.prepareElements(this.svgElements), 0 != this.props.width && null != this.itemsData) {
                var t, e, i = {},
                    o = !1,
                    n = this.body.util.toGlobalTime(-this.body.domProps.root.width),
                    s = this.body.util.toGlobalTime(2 * this.body.domProps.root.width),
                    a = this._getSortedGroupIds();
                if (a.length > 0) {
                    var h = {};
                    for (this._getRelevantData(a, h, n, s), this._applySampling(a, h), e = 0; e < a.length; e++) this._convertXcoordinates(h[a[e]]);
                    if (this._getYRanges(a, h, i), o = this._updateYAxis(a, i), 1 == o) return r.cleanupElements(this.svgElements), this.abortedGraphUpdate = !0, !0;
                    this.abortedGraphUpdate = !1;
                    var d = void 0;
                    for (e = 0; e < a.length; e++) t = this.groups[a[e]], this.options.stack === !0 && "line" === this.options.style && (void 0 != t.options.excludeFromStacking && t.options.excludeFromStacking || (void 0 != d && (this._stack(h[t.id], h[d.id]), 1 == t.options.shaded.enabled && "group" !== t.options.shaded.orientation && ("top" == t.options.shaded.orientation && "group" !== d.options.shaded.orientation ? (d.options.shaded.orientation = "group", d.options.shaded.groupId = t.id) : (t.options.shaded.orientation = "group", t.options.shaded.groupId = d.id))), d = t)), this._convertYcoordinates(h[a[e]], t);
                    var l = {};
                    for (e = 0; e < a.length; e++)
                        if (t = this.groups[a[e]], "line" === t.options.style && 1 == t.options.shaded.enabled) {
                            var c = h[a[e]];
                            if (null == c || 0 == c.length) continue;
                            if (l.hasOwnProperty(a[e]) || (l[a[e]] = f.calcPath(c, t)), "group" === t.options.shaded.orientation) {
                                var u = t.options.shaded.groupId;
                                if (-1 === a.indexOf(u)) {
                                    console.log(t.id + ": Unknown shading group target given:" + u);
                                    continue
                                }
                                l.hasOwnProperty(u) || (l[u] = f.calcPath(h[u], this.groups[u])), f.drawShading(l[a[e]], t, l[u], this.framework)
                            } else f.drawShading(l[a[e]], t, void 0, this.framework)
                        }
                    for (p.draw(a, h, this.framework), e = 0; e < a.length; e++)
                        if (t = this.groups[a[e]], h[a[e]].length > 0) switch (t.options.style) {
                            case "line":
                                l.hasOwnProperty(a[e]) || (l[a[e]] = f.calcPath(h[a[e]], t)), f.draw(l[a[e]], t, this.framework);
                            case "point":
                            case "points":
                                "point" != t.options.style && "points" != t.options.style && 1 != t.options.drawPoints.enabled || m.draw(h[a[e]], t, this.framework);
                                break;
                            case "bar":
                        }
                }
            }
            return r.cleanupElements(this.svgElements), !1
        }, o.prototype._stack = function(t, e) {
            var i, o, n, s, r;
            i = 0;
            for (var a = 0; a < t.length; a++) {
                s = void 0, r = void 0;
                for (var h = i; h < e.length; h++) {
                    if (e[h].x === t[a].x) {
                        s = e[h], r = e[h], i = h;
                        break
                    }
                    if (e[h].x > t[a].x) {
                        r = e[h], s = 0 == h ? r : e[h - 1], i = h;
                        break
                    }
                }
                void 0 === r && (s = e[e.length - 1], r = e[e.length - 1]), o = r.x - s.x, n = r.y - s.y, 0 == o ? t[a].y = t[a].orginalY + r.y : t[a].y = t[a].orginalY + n / o * (t[a].x - s.x) + s.y
            }
        }, o.prototype._getRelevantData = function(t, e, i, o) {
            var n, r, a, h;
            if (t.length > 0)
                for (r = 0; r < t.length; r++) {
                    n = this.groups[t[r]];
                    var d = n.getItems();
                    if (1 == n.options.sort) {
                        var l = function(t, e) {
                                return t.getTime() == e.getTime() ? 0 : e > t ? -1 : 1
                            },
                            c = Math.max(0, s.binarySearchValue(d, i, "x", "before", l)),
                            u = Math.min(d.length, s.binarySearchValue(d, o, "x", "after", l) + 1);
                        0 >= u && (u = d.length);
                        var p = new Array(u - c);
                        for (a = c; u > a; a++) h = n.itemsData[a], p[a - c] = h;
                        e[t[r]] = p
                    } else e[t[r]] = n.itemsData
                }
        }, o.prototype._applySampling = function(t, e) {
            var i;
            if (t.length > 0)
                for (var o = 0; o < t.length; o++)
                    if (i = this.groups[t[o]], 1 == i.options.sampling) {
                        var n = e[t[o]];
                        if (n.length > 0) {
                            var s = 1,
                                r = n.length,
                                a = this.body.util.toGlobalScreen(n[n.length - 1].x) - this.body.util.toGlobalScreen(n[0].x),
                                h = r / a;
                            s = Math.min(Math.ceil(.2 * r), Math.max(1, Math.round(h)));
                            for (var d = new Array(r), l = 0; r > l; l += s) {
                                var c = Math.round(l / s);
                                d[c] = n[l]
                            }
                            e[t[o]] = d.splice(0, Math.round(r / s))
                        }
                    }
        }, o.prototype._getYRanges = function(t, e, i) {
            var o, n, s, r, a = [],
                h = [];
            if (t.length > 0) {
                for (s = 0; s < t.length; s++) o = e[t[s]], r = this.groups[t[s]].options, o.length > 0 && (n = this.groups[t[s]], r.stack === !0 && "bar" === r.style ? "left" === r.yAxisOrientation ? a = a.concat(n.getItems()) : h = h.concat(n.getItems()) : i[t[s]] = n.getYRange(o, t[s]));
                p.getStackedYRange(a, i, t, "__barStackLeft", "left"), p.getStackedYRange(h, i, t, "__barStackRight", "right")
            }
        }, o.prototype._updateYAxis = function(t, e) {
            var i, o, n = !1,
                s = !1,
                r = !1,
                a = 1e9,
                h = 1e9,
                d = -1e9,
                l = -1e9;
            if (t.length > 0) {
                for (var c = 0; c < t.length; c++) {
                    var u = this.groups[t[c]];
                    u && "right" != u.options.yAxisOrientation ? (s = !0, a = 1e9, d = -1e9) : u && u.options.yAxisOrientation && (r = !0, h = 1e9, l = -1e9)
                }
                for (var c = 0; c < t.length; c++) e.hasOwnProperty(t[c]) && e[t[c]].ignore !== !0 && (i = e[t[c]].min, o = e[t[c]].max, "right" != e[t[c]].yAxisOrientation ? (s = !0, a = a > i ? i : a, d = o > d ? o : d) : (r = !0, h = h > i ? i : h, l = o > l ? o : l));
                1 == s && this.yAxisLeft.setRange(a, d), 1 == r && this.yAxisRight.setRange(h, l)
            }
            n = this._toggleAxisVisiblity(s, this.yAxisLeft) || n, n = this._toggleAxisVisiblity(r, this.yAxisRight) || n, 1 == r && 1 == s ? (this.yAxisLeft.drawIcons = !0, this.yAxisRight.drawIcons = !0) : (this.yAxisLeft.drawIcons = !1, this.yAxisRight.drawIcons = !1), this.yAxisRight.master = !s, this.yAxisRight.masterAxis = this.yAxisLeft, 0 == this.yAxisRight.master ? (1 == r ? this.yAxisLeft.lineOffset = this.yAxisRight.width : this.yAxisLeft.lineOffset = 0, n = this.yAxisLeft.redraw() || n, n = this.yAxisRight.redraw() || n) : n = this.yAxisRight.redraw() || n;
            for (var p = ["__barStackLeft", "__barStackRight", "__lineStackLeft", "__lineStackRight"], c = 0; c < p.length; c++) - 1 != t.indexOf(p[c]) && t.splice(t.indexOf(p[c]), 1);
            return n
        }, o.prototype._toggleAxisVisiblity = function(t, e) {
            var i = !1;
            return 0 == t ? e.dom.frame.parentNode && 0 == e.hidden && (e.hide(), i = !0) : e.dom.frame.parentNode || 1 != e.hidden || (e.show(), i = !0), i
        }, o.prototype._convertXcoordinates = function(t) {
            for (var e = this.body.util.toScreen, i = 0; i < t.length; i++) t[i].screen_x = e(t[i].x) + this.props.width, t[i].screen_y = t[i].y
        }, o.prototype._convertYcoordinates = function(t, e) {
            var i = this.yAxisLeft,
                o = Number(this.svg.style.height.replace("px", ""));
            "right" == e.options.yAxisOrientation && (i = this.yAxisRight);
            for (var n = 0; n < t.length; n++) t[n].screen_y = Math.round(i.convertValue(t[n].y));
            e.setZeroPosition(Math.min(o, i.convertValue(0)))
        }, t.exports = o
    }, function(t, e, i) {
        function o(t, e, i, o) {
            this.id = n.randomUUID(), this.body = t, this.defaultOptions = {
                orientation: "left",
                showMinorLabels: !0,
                showMajorLabels: !0,
                icons: !1,
                majorLinesOffset: 7,
                minorLinesOffset: 4,
                labelOffsetX: 10,
                labelOffsetY: 2,
                iconWidth: 20,
                width: "40px",
                visible: !0,
                alignZeros: !0,
                left: {
                    range: {
                        min: void 0,
                        max: void 0
                    },
                    format: function(t) {
                        return "" + parseFloat(t.toPrecision(3))
                    },
                    title: {
                        text: void 0,
                        style: void 0
                    }
                },
                right: {
                    range: {
                        min: void 0,
                        max: void 0
                    },
                    format: function(t) {
                        return "" + parseFloat(t.toPrecision(3))
                    },
                    title: {
                        text: void 0,
                        style: void 0
                    }
                }
            }, this.linegraphOptions = o, this.linegraphSVG = i, this.props = {}, this.DOMelements = {
                lines: {},
                labels: {},
                title: {}
            }, this.dom = {}, this.scale = void 0, this.range = {
                start: 0,
                end: 0
            }, this.options = n.extend({}, this.defaultOptions), this.conversionFactor = 1, this.setOptions(e), this.width = Number(("" + this.options.width).replace("px", "")), this.minWidth = this.width, this.height = this.linegraphSVG.getBoundingClientRect().height, this.hidden = !1, this.stepPixels = 25, this.zeroCrossing = -1, this.amountOfSteps = -1, this.lineOffset = 0, this.master = !0, this.masterAxis = null, this.svgElements = {}, this.iconsRemoved = !1, this.groups = {}, this.amountOfGroups = 0, this._create(), this.framework = {
                svg: this.svg,
                svgElements: this.svgElements,
                options: this.options,
                groups: this.groups
            };
            var s = this;
            this.body.emitter.on("verticalDrag", function() {
                s.dom.lineContainer.style.top = s.body.domProps.scrollTop + "px"
            })
        }
        var n = i(1),
            s = i(8),
            r = i(31),
            a = i(53);
        o.prototype = new r, o.prototype.addGroup = function(t, e) {
            this.groups.hasOwnProperty(t) || (this.groups[t] = e), this.amountOfGroups += 1
        }, o.prototype.updateGroup = function(t, e) {
            this.groups.hasOwnProperty(t) || (this.amountOfGroups += 1), this.groups[t] = e
        }, o.prototype.removeGroup = function(t) {
            this.groups.hasOwnProperty(t) && (delete this.groups[t], this.amountOfGroups -= 1)
        }, o.prototype.setOptions = function(t) {
            if (t) {
                var e = !1;
                this.options.orientation != t.orientation && void 0 !== t.orientation && (e = !0);
                var i = ["orientation", "showMinorLabels", "showMajorLabels", "icons", "majorLinesOffset", "minorLinesOffset", "labelOffsetX", "labelOffsetY", "iconWidth", "width", "visible", "left", "right", "alignZeros"];
                n.selectiveDeepExtend(i, this.options, t), this.minWidth = Number(("" + this.options.width).replace("px", "")), e === !0 && this.dom.frame && (this.hide(), this.show())
            }
        }, o.prototype._create = function() {
            this.dom.frame = document.createElement("div"), this.dom.frame.style.width = this.options.width, this.dom.frame.style.height = this.height, this.dom.lineContainer = document.createElement("div"), this.dom.lineContainer.style.width = "100%", this.dom.lineContainer.style.height = this.height, this.dom.lineContainer.style.position = "relative", this.svg = document.createElementNS("http://www.w3.org/2000/svg", "svg"), this.svg.style.position = "absolute", this.svg.style.top = "0px", this.svg.style.height = "100%", this.svg.style.width = "100%", this.svg.style.display = "block", this.dom.frame.appendChild(this.svg)
        }, o.prototype._redrawGroupIcons = function() {
            s.prepareElements(this.svgElements);
            var t, e = this.options.iconWidth,
                i = 15,
                o = 4,
                n = o + .5 * i;
            t = "left" === this.options.orientation ? o : this.width - e - o;
            var r = Object.keys(this.groups);
            r.sort(function(t, e) {
                return e > t ? -1 : 1
            });
            for (var a = 0; a < r.length; a++) {
                var h = r[a];
                this.groups[h].visible !== !0 || void 0 !== this.linegraphOptions.visibility[h] && this.linegraphOptions.visibility[h] !== !0 || (this.groups[h].getLegend(e, i, this.framework, t, n), n += i + o)
            }
            s.cleanupElements(this.svgElements), this.iconsRemoved = !1
        }, o.prototype._cleanupIcons = function() {
            this.iconsRemoved === !1 && (s.prepareElements(this.svgElements), s.cleanupElements(this.svgElements), this.iconsRemoved = !0)
        }, o.prototype.show = function() {
            this.hidden = !1, this.dom.frame.parentNode || (this.options.rtl ? this.body.dom.left.appendChild(this.dom.frame) : this.body.dom.left.appendChild(this.dom.frame)), this.dom.lineContainer.parentNode || this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer)
        }, o.prototype.hide = function() {
            this.hidden = !0, this.dom.frame.parentNode && this.dom.frame.parentNode.removeChild(this.dom.frame), this.dom.lineContainer.parentNode && this.dom.lineContainer.parentNode.removeChild(this.dom.lineContainer)
        }, o.prototype.setRange = function(t, e) {
            this.range.start = t, this.range.end = e
        }, o.prototype.redraw = function() {
            var t = !1,
                e = 0;
            this.dom.lineContainer.style.top = this.body.domProps.scrollTop + "px";
            for (var i in this.groups) this.groups.hasOwnProperty(i) && (this.groups[i].visible !== !0 || void 0 !== this.linegraphOptions.visibility[i] && this.linegraphOptions.visibility[i] !== !0 || e++);
            if (0 === this.amountOfGroups || 0 === e) this.hide();
            else {
                this.show(), this.height = Number(this.linegraphSVG.style.height.replace("px", "")), this.dom.lineContainer.style.height = this.height + "px", this.width = this.options.visible === !0 ? Number(("" + this.options.width).replace("px", "")) : 0;
                var o = this.props,
                    n = this.dom.frame;
                n.className = "vis-data-axis", this._calculateCharSize();
                var s = this.options.orientation,
                    r = this.options.showMinorLabels,
                    a = this.options.showMajorLabels;
                o.minorLabelHeight = r ? o.minorCharHeight : 0, o.majorLabelHeight = a ? o.majorCharHeight : 0, o.minorLineWidth = this.body.dom.backgroundHorizontal.offsetWidth - this.lineOffset - this.width + 2 * this.options.minorLinesOffset, o.minorLineHeight = 1, o.majorLineWidth = this.body.dom.backgroundHorizontal.offsetWidth - this.lineOffset - this.width + 2 * this.options.majorLinesOffset, o.majorLineHeight = 1, "left" === s ? (n.style.top = "0", n.style.left = "0", n.style.bottom = "", n.style.width = this.width + "px", n.style.height = this.height + "px", this.props.width = this.body.domProps.left.width, this.props.height = this.body.domProps.left.height) : (n.style.top = "", n.style.bottom = "0", n.style.left = "0", n.style.width = this.width + "px", n.style.height = this.height + "px", this.props.width = this.body.domProps.right.width,
                    this.props.height = this.body.domProps.right.height), t = this._redrawLabels(), t = this._isResized() || t, this.options.icons === !0 ? this._redrawGroupIcons() : this._cleanupIcons(), this._redrawTitle(s)
            }
            return t
        }, o.prototype._redrawLabels = function() {
            var t = this,
                e = !1;
            s.prepareElements(this.DOMelements.lines), s.prepareElements(this.DOMelements.labels);
            var i = this.options.orientation,
                o = void 0 != this.options[i].range ? this.options[i].range : {},
                n = !0;
            void 0 != o.max && (this.range.end = o.max, n = !1);
            var r = !0;
            void 0 != o.min && (this.range.start = o.min, r = !1), this.scale = new a(this.range.start, this.range.end, r, n, this.dom.frame.offsetHeight, this.props.majorCharHeight, this.options.alignZeros, this.options[i].format), this.master === !1 && void 0 != this.masterAxis && this.scale.followScale(this.masterAxis.scale), this.maxLabelSize = 0;
            var h = this.scale.getLines();
            h.forEach(function(e) {
                var o = e.y,
                    n = e.major;
                t.options.showMinorLabels && n === !1 && t._redrawLabel(o - 2, e.val, i, "vis-y-axis vis-minor", t.props.minorCharHeight), n && o >= 0 && t._redrawLabel(o - 2, e.val, i, "vis-y-axis vis-major", t.props.majorCharHeight), t.master === !0 && (n ? t._redrawLine(o, i, "vis-grid vis-horizontal vis-major", t.options.majorLinesOffset, t.props.majorLineWidth) : t._redrawLine(o, i, "vis-grid vis-horizontal vis-minor", t.options.minorLinesOffset, t.props.minorLineWidth))
            });
            var d = 0;
            void 0 !== this.options[i].title && void 0 !== this.options[i].title.text && (d = this.props.titleCharHeight);
            var l = this.options.icons === !0 ? Math.max(this.options.iconWidth, d) + this.options.labelOffsetX + 15 : d + this.options.labelOffsetX + 15;
            return this.maxLabelSize > this.width - l && this.options.visible === !0 ? (this.width = this.maxLabelSize + l, this.options.width = this.width + "px", s.cleanupElements(this.DOMelements.lines), s.cleanupElements(this.DOMelements.labels), this.redraw(), e = !0) : this.maxLabelSize < this.width - l && this.options.visible === !0 && this.width > this.minWidth ? (this.width = Math.max(this.minWidth, this.maxLabelSize + l), this.options.width = this.width + "px", s.cleanupElements(this.DOMelements.lines), s.cleanupElements(this.DOMelements.labels), this.redraw(), e = !0) : (s.cleanupElements(this.DOMelements.lines), s.cleanupElements(this.DOMelements.labels), e = !1), e
        }, o.prototype.convertValue = function(t) {
            return this.scale.convertValue(t)
        }, o.prototype.screenToValue = function(t) {
            return this.scale.screenToValue(t)
        }, o.prototype._redrawLabel = function(t, e, i, o, n) {
            var r = s.getDOMElement("div", this.DOMelements.labels, this.dom.frame);
            r.className = o, r.innerHTML = e, "left" === i ? (r.style.left = "-" + this.options.labelOffsetX + "px", r.style.textAlign = "right") : (r.style.right = "-" + this.options.labelOffsetX + "px", r.style.textAlign = "left"), r.style.top = t - .5 * n + this.options.labelOffsetY + "px", e += "";
            var a = Math.max(this.props.majorCharWidth, this.props.minorCharWidth);
            this.maxLabelSize < e.length * a && (this.maxLabelSize = e.length * a)
        }, o.prototype._redrawLine = function(t, e, i, o, n) {
            if (this.master === !0) {
                var r = s.getDOMElement("div", this.DOMelements.lines, this.dom.lineContainer);
                r.className = i, r.innerHTML = "", "left" === e ? r.style.left = this.width - o + "px" : r.style.right = this.width - o + "px", r.style.width = n + "px", r.style.top = t + "px"
            }
        }, o.prototype._redrawTitle = function(t) {
            if (s.prepareElements(this.DOMelements.title), void 0 !== this.options[t].title && void 0 !== this.options[t].title.text) {
                var e = s.getDOMElement("div", this.DOMelements.title, this.dom.frame);
                e.className = "vis-y-axis vis-title vis-" + t, e.innerHTML = this.options[t].title.text, void 0 !== this.options[t].title.style && n.addCssText(e, this.options[t].title.style), "left" === t ? e.style.left = this.props.titleCharHeight + "px" : e.style.right = this.props.titleCharHeight + "px", e.style.width = this.height + "px"
            }
            s.cleanupElements(this.DOMelements.title)
        }, o.prototype._calculateCharSize = function() {
            if (!("minorCharHeight" in this.props)) {
                var t = document.createTextNode("0"),
                    e = document.createElement("div");
                e.className = "vis-y-axis vis-minor vis-measure", e.appendChild(t), this.dom.frame.appendChild(e), this.props.minorCharHeight = e.clientHeight, this.props.minorCharWidth = e.clientWidth, this.dom.frame.removeChild(e)
            }
            if (!("majorCharHeight" in this.props)) {
                var i = document.createTextNode("0"),
                    o = document.createElement("div");
                o.className = "vis-y-axis vis-major vis-measure", o.appendChild(i), this.dom.frame.appendChild(o), this.props.majorCharHeight = o.clientHeight, this.props.majorCharWidth = o.clientWidth, this.dom.frame.removeChild(o)
            }
            if (!("titleCharHeight" in this.props)) {
                var n = document.createTextNode("0"),
                    s = document.createElement("div");
                s.className = "vis-y-axis vis-title vis-measure", s.appendChild(n), this.dom.frame.appendChild(s), this.props.titleCharHeight = s.clientHeight, this.props.titleCharWidth = s.clientWidth, this.dom.frame.removeChild(s)
            }
        }, t.exports = o
    }, function(t, e) {
        function i(t, e, i, o, n, s) {
            var r = arguments.length <= 6 || void 0 === arguments[6] ? !1 : arguments[6],
                a = arguments.length <= 7 || void 0 === arguments[7] ? !1 : arguments[7];
            if (this.majorSteps = [1, 2, 5, 10], this.minorSteps = [.25, .5, 1, 2], this.customLines = null, this.containerHeight = n, this.majorCharHeight = s, this._start = t, this._end = e, this.scale = 1, this.minorStepIdx = -1, this.magnitudefactor = 1, this.determineScale(), this.zeroAlign = r, this.autoScaleStart = i, this.autoScaleEnd = o, this.formattingFunction = a, i || o) {
                var h = this,
                    d = function(t) {
                        var e = t - t % (h.magnitudefactor * h.minorSteps[h.minorStepIdx]);
                        return t % (h.magnitudefactor * h.minorSteps[h.minorStepIdx]) > .5 * (h.magnitudefactor * h.minorSteps[h.minorStepIdx]) ? e + h.magnitudefactor * h.minorSteps[h.minorStepIdx] : e
                    };
                i && (this._start -= 2 * this.magnitudefactor * this.minorSteps[this.minorStepIdx], this._start = d(this._start)), o && (this._end += this.magnitudefactor * this.minorSteps[this.minorStepIdx], this._end = d(this._end)), this.determineScale()
            }
        }
        i.prototype.setCharHeight = function(t) {
            this.majorCharHeight = t
        }, i.prototype.setHeight = function(t) {
            this.containerHeight = t
        }, i.prototype.determineScale = function() {
            var t = this._end - this._start;
            this.scale = this.containerHeight / t;
            var e = this.majorCharHeight / this.scale,
                i = t > 0 ? Math.round(Math.log(t) / Math.LN10) : 0;
            this.minorStepIdx = -1, this.magnitudefactor = Math.pow(10, i);
            var o = 0;
            0 > i && (o = i);
            for (var n = !1, s = o; Math.abs(s) <= Math.abs(i); s++) {
                this.magnitudefactor = Math.pow(10, s);
                for (var r = 0; r < this.minorSteps.length; r++) {
                    var a = this.magnitudefactor * this.minorSteps[r];
                    if (a >= e) {
                        n = !0, this.minorStepIdx = r;
                        break
                    }
                }
                if (n === !0) break
            }
        }, i.prototype.is_major = function(t) {
            return t % (this.magnitudefactor * this.majorSteps[this.minorStepIdx]) === 0
        }, i.prototype.getStep = function() {
            return this.magnitudefactor * this.minorSteps[this.minorStepIdx]
        }, i.prototype.getFirstMajor = function() {
            var t = this.magnitudefactor * this.majorSteps[this.minorStepIdx];
            return this.convertValue(this._start + (t - this._start % t) % t)
        }, i.prototype.formatValue = function(t) {
            var e = t.toPrecision(5);
            return "function" == typeof this.formattingFunction && (e = this.formattingFunction(t)), "number" == typeof e ? "" + e : "string" == typeof e ? e : t.toPrecision(5)
        }, i.prototype.getLines = function() {
            for (var t = [], e = this.getStep(), i = (e - this._start % e) % e, o = this._start + i; this._end - o > 1e-5; o += e) o != this._start && t.push({
                major: this.is_major(o),
                y: this.convertValue(o),
                val: this.formatValue(o)
            });
            return t
        }, i.prototype.followScale = function(t) {
            var e = this.minorStepIdx,
                i = this._start,
                o = this._end,
                n = this,
                s = function() {
                    n.magnitudefactor *= 2
                },
                r = function() {
                    n.magnitudefactor /= 2
                };
            t.minorStepIdx <= 1 && this.minorStepIdx <= 1 || t.minorStepIdx > 1 && this.minorStepIdx > 1 || (t.minorStepIdx < this.minorStepIdx ? (this.minorStepIdx = 1, 2 == e ? s() : (s(), s())) : (this.minorStepIdx = 2, 1 == e ? r() : (r(), r())));
            for (var a = (t.getLines(), t.convertValue(0)), h = t.getStep() * t.scale, d = !1, l = 0; !d && l++ < 5;) {
                this.scale = h / (this.minorSteps[this.minorStepIdx] * this.magnitudefactor);
                var c = this.containerHeight / this.scale;
                this._start = i, this._end = this._start + c;
                var u = this._end * this.scale,
                    p = this.magnitudefactor * this.majorSteps[this.minorStepIdx],
                    f = this.getFirstMajor() - t.getFirstMajor();
                if (this.zeroAlign) {
                    var m = a - u;
                    this._end += m / this.scale, this._start = this._end - c
                } else this.autoScaleStart ? (this._start -= f / this.scale, this._end = this._start + c) : (this._start += p - f / this.scale, this._end = this._start + c);
                if (!this.autoScaleEnd && this._end > o + 1e-5) r(), d = !1;
                else {
                    if (!this.autoScaleStart && this._start < i - 1e-5) {
                        if (!(this.zeroAlign && i >= 0)) {
                            r(), d = !1;
                            continue
                        }
                        console.warn("Can't adhere to given 'min' range, due to zeroalign")
                    }
                    this.autoScaleStart && this.autoScaleEnd && o - i > c ? (s(), d = !1) : d = !0
                }
            }
        }, i.prototype.convertValue = function(t) {
            return this.containerHeight - (t - this._start) * this.scale
        }, i.prototype.screenToValue = function(t) {
            return (this.containerHeight - t) / this.scale + this._start
        }, t.exports = i
    }, function(t, e, i) {
        function o(t, e, i, o) {
            this.id = e;
            var n = ["sampling", "style", "sort", "yAxisOrientation", "barChart", "drawPoints", "shaded", "interpolation", "zIndex", "excludeFromStacking", "excludeFromLegend"];
            this.options = s.selectiveBridgeObject(n, i), this.usingDefaultStyle = void 0 === t.className, this.groupsUsingDefaultStyles = o, this.zeroPosition = 0, this.update(t), 1 == this.usingDefaultStyle && (this.groupsUsingDefaultStyles[0] += 1), this.itemsData = [], this.visible = void 0 === t.visible ? !0 : t.visible
        }
        var n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            } : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol ? "symbol" : typeof t
            },
            s = i(1),
            r = (i(8), i(55)),
            a = i(57),
            h = i(56);
        o.prototype.setItems = function(t) {
            null != t ? (this.itemsData = t, 1 == this.options.sort && s.insertSort(this.itemsData, function(t, e) {
                return t.x > e.x ? 1 : -1
            })) : this.itemsData = []
        }, o.prototype.getItems = function() {
            return this.itemsData
        }, o.prototype.setZeroPosition = function(t) {
            this.zeroPosition = t
        }, o.prototype.setOptions = function(t) {
            if (void 0 !== t) {
                var e = ["sampling", "style", "sort", "yAxisOrientation", "barChart", "zIndex", "excludeFromStacking", "excludeFromLegend"];
                s.selectiveDeepExtend(e, this.options, t), "function" == typeof t.drawPoints && (t.drawPoints = {
                    onRender: t.drawPoints
                }), s.mergeOptions(this.options, t, "interpolation"), s.mergeOptions(this.options, t, "drawPoints"), s.mergeOptions(this.options, t, "shaded"), t.interpolation && "object" == n(t.interpolation) && t.interpolation.parametrization && ("uniform" == t.interpolation.parametrization ? this.options.interpolation.alpha = 0 : "chordal" == t.interpolation.parametrization ? this.options.interpolation.alpha = 1 : (this.options.interpolation.parametrization = "centripetal", this.options.interpolation.alpha = .5))
            }
        }, o.prototype.update = function(t) {
            this.group = t, this.content = t.content || "graph", this.className = t.className || this.className || "vis-graph-group" + this.groupsUsingDefaultStyles[0] % 10, this.visible = void 0 === t.visible ? !0 : t.visible, this.style = t.style, this.setOptions(t.options)
        }, o.prototype.getLegend = function(t, e, i, o, n) {
            if (void 0 == i || null == i) {
                var s = document.createElementNS("http://www.w3.org/2000/svg", "svg");
                i = {
                    svg: s,
                    svgElements: {},
                    options: this.options,
                    groups: [this]
                }
            }
            switch (void 0 != o && null != o || (o = 0), void 0 != n && null != n || (n = .5 * e), this.options.style) {
                case "line":
                    a.drawIcon(this, o, n, t, e, i);
                    break;
                case "points":
                case "point":
                    h.drawIcon(this, o, n, t, e, i);
                    break;
                case "bar":
                    r.drawIcon(this, o, n, t, e, i)
            }
            return {
                icon: i.svg,
                label: this.content,
                orientation: this.options.yAxisOrientation
            }
        }, o.prototype.getYRange = function(t) {
            for (var e = t[0].y, i = t[0].y, o = 0; o < t.length; o++) e = e > t[o].y ? t[o].y : e, i = i < t[o].y ? t[o].y : i;
            return {
                min: e,
                max: i,
                yAxisOrientation: this.options.yAxisOrientation
            }
        }, t.exports = o
    }, function(t, e, i) {
        function o(t, e) {}
        var n = i(8),
            s = i(56);
        o.drawIcon = function(t, e, i, o, s, r) {
            var a = .5 * s,
                h = n.getSVGElement("rect", r.svgElements, r.svg);
            h.setAttributeNS(null, "x", e), h.setAttributeNS(null, "y", i - a), h.setAttributeNS(null, "width", o), h.setAttributeNS(null, "height", 2 * a), h.setAttributeNS(null, "class", "vis-outline");
            var d = Math.round(.3 * o),
                l = t.options.barChart.width,
                c = l / d,
                u = Math.round(.4 * s),
                p = Math.round(.75 * s),
                f = Math.round((o - 2 * d) / 3);
            if (n.drawBar(e + .5 * d + f, i + a - u - 1, d, u, t.className + " vis-bar", r.svgElements, r.svg, t.style), n.drawBar(e + 1.5 * d + f + 2, i + a - p - 1, d, p, t.className + " vis-bar", r.svgElements, r.svg, t.style), 1 == t.options.drawPoints.enabled) {
                var m = {
                    style: t.options.drawPoints.style,
                    styles: t.options.drawPoints.styles,
                    size: t.options.drawPoints.size / c,
                    className: t.className
                };
                n.drawPoint(e + .5 * d + f, i + a - u - 1, m, r.svgElements, r.svg), n.drawPoint(e + 1.5 * d + f + 2, i + a - p - 1, m, r.svgElements, r.svg)
            }
        }, o.draw = function(t, e, i) {
            var r, a, h, d, l, c, u = [],
                p = {},
                f = 0;
            for (l = 0; l < t.length; l++)
                if (d = i.groups[t[l]], "bar" === d.options.style && d.visible === !0 && (void 0 === i.options.groups.visibility[t[l]] || i.options.groups.visibility[t[l]] === !0))
                    for (c = 0; c < e[t[l]].length; c++) u.push({
                        screen_x: e[t[l]][c].screen_x,
                        screen_y: e[t[l]][c].screen_y,
                        x: e[t[l]][c].x,
                        y: e[t[l]][c].y,
                        groupId: t[l],
                        label: e[t[l]][c].label
                    }), f += 1;
            if (0 !== f)
                for (u.sort(function(t, e) {
                        return t.screen_x === e.screen_x ? t.groupId < e.groupId ? -1 : 1 : t.screen_x - e.screen_x
                    }), o._getDataIntersections(p, u), l = 0; l < u.length; l++) {
                    d = i.groups[u[l].groupId];
                    var m = void 0 != d.options.barChart.minWidth ? d.options.barChart.minWidth : .1 * d.options.barChart.width;
                    a = u[l].screen_x;
                    var v = 0;
                    if (void 0 === p[a]) l + 1 < u.length && (r = Math.abs(u[l + 1].screen_x - a)), h = o._getSafeDrawData(r, d, m);
                    else {
                        var g = l + (p[a].amount - p[a].resolved);
                        l - (p[a].resolved + 1);
                        g < u.length && (r = Math.abs(u[g].screen_x - a)), h = o._getSafeDrawData(r, d, m), p[a].resolved += 1, d.options.stack === !0 && d.options.excludeFromStacking !== !0 ? u[l].screen_y < d.zeroPosition ? (v = p[a].accumulatedNegative, p[a].accumulatedNegative += d.zeroPosition - u[l].screen_y) : (v = p[a].accumulatedPositive, p[a].accumulatedPositive += d.zeroPosition - u[l].screen_y) : d.options.barChart.sideBySide === !0 && (h.width = h.width / p[a].amount, h.offset += p[a].resolved * h.width - .5 * h.width * (p[a].amount + 1))
                    }
                    if (n.drawBar(u[l].screen_x + h.offset, u[l].screen_y - v, h.width, d.zeroPosition - u[l].screen_y, d.className + " vis-bar", i.svgElements, i.svg, d.style), d.options.drawPoints.enabled === !0) {
                        var y = {
                            screen_x: u[l].screen_x,
                            screen_y: u[l].screen_y - v,
                            x: u[l].x,
                            y: u[l].y,
                            groupId: u[l].groupId,
                            label: u[l].label
                        };
                        s.draw([y], d, i, h.offset)
                    }
                }
        }, o._getDataIntersections = function(t, e) {
            for (var i, o = 0; o < e.length; o++) o + 1 < e.length && (i = Math.abs(e[o + 1].screen_x - e[o].screen_x)), o > 0 && (i = Math.min(i, Math.abs(e[o - 1].screen_x - e[o].screen_x))), 0 === i && (void 0 === t[e[o].screen_x] && (t[e[o].screen_x] = {
                amount: 0,
                resolved: 0,
                accumulatedPositive: 0,
                accumulatedNegative: 0
            }), t[e[o].screen_x].amount += 1)
        }, o._getSafeDrawData = function(t, e, i) {
            var o, n;
            return t < e.options.barChart.width && t > 0 ? (o = i > t ? i : t, n = 0, "left" === e.options.barChart.align ? n -= .5 * t : "right" === e.options.barChart.align && (n += .5 * t)) : (o = e.options.barChart.width, n = 0, "left" === e.options.barChart.align ? n -= .5 * e.options.barChart.width : "right" === e.options.barChart.align && (n += .5 * e.options.barChart.width)), {
                width: o,
                offset: n
            }
        }, o.getStackedYRange = function(t, e, i, n, s) {
            if (t.length > 0) {
                t.sort(function(t, e) {
                    return t.screen_x === e.screen_x ? t.groupId < e.groupId ? -1 : 1 : t.screen_x - e.screen_x
                });
                var r = {};
                o._getDataIntersections(r, t), e[n] = o._getStackedYRange(r, t), e[n].yAxisOrientation = s, i.push(n)
            }
        }, o._getStackedYRange = function(t, e) {
            for (var i, o = e[0].screen_y, n = e[0].screen_y, s = 0; s < e.length; s++) i = e[s].screen_x, void 0 === t[i] ? (o = o > e[s].screen_y ? e[s].screen_y : o, n = n < e[s].screen_y ? e[s].screen_y : n) : e[s].screen_y < 0 ? t[i].accumulatedNegative += e[s].screen_y : t[i].accumulatedPositive += e[s].screen_y;
            for (var r in t) t.hasOwnProperty(r) && (o = o > t[r].accumulatedNegative ? t[r].accumulatedNegative : o, o = o > t[r].accumulatedPositive ? t[r].accumulatedPositive : o, n = n < t[r].accumulatedNegative ? t[r].accumulatedNegative : n, n = n < t[r].accumulatedPositive ? t[r].accumulatedPositive : n);
            return {
                min: o,
                max: n
            }
        }, t.exports = o
    }, function(t, e, i) {
        function o(t, e) {}

        function n(t, e) {
            return e = "undefined" == typeof e ? {} : e, {
                style: e.style || t.options.drawPoints.style,
                styles: e.styles || t.options.drawPoints.styles,
                size: e.size || t.options.drawPoints.size,
                className: e.className || t.className
            }
        }

        function s(t, e) {
            var i = void 0;
            return t.options && t.options.drawPoints && t.options.drawPoints.onRender && "function" == typeof t.options.drawPoints.onRender && (i = t.options.drawPoints.onRender), e.group.options && e.group.options.drawPoints && e.group.options.drawPoints.onRender && "function" == typeof e.group.options.drawPoints.onRender && (i = e.group.options.drawPoints.onRender), i
        }
        var r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            } : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol ? "symbol" : typeof t
            },
            a = i(8);
        o.draw = function(t, e, i, o) {
            o = o || 0;
            for (var h = s(i, e), d = 0; d < t.length; d++)
                if (h) {
                    var l = h(t[d], e);
                    l !== !0 && "object" !== ("undefined" == typeof l ? "undefined" : r(l)) || a.drawPoint(t[d].screen_x + o, t[d].screen_y, n(e, l), i.svgElements, i.svg, t[d].label)
                } else a.drawPoint(t[d].screen_x + o, t[d].screen_y, n(e), i.svgElements, i.svg, t[d].label)
        }, o.drawIcon = function(t, e, i, o, s, r) {
            var h = .5 * s,
                d = a.getSVGElement("rect", r.svgElements, r.svg);
            d.setAttributeNS(null, "x", e), d.setAttributeNS(null, "y", i - h), d.setAttributeNS(null, "width", o), d.setAttributeNS(null, "height", 2 * h), d.setAttributeNS(null, "class", "vis-outline"), a.drawPoint(e + .5 * o, i, n(t), r.svgElements, r.svg)
        }, t.exports = o
    }, function(t, e, i) {
        function o(t, e) {}
        var n = i(8);
        o.calcPath = function(t, e) {
            if (null != t && t.length > 0) {
                var i = [];
                return i = 1 == e.options.interpolation.enabled ? o._catmullRom(t, e) : o._linear(t)
            }
        }, o.drawIcon = function(t, e, i, o, s, r) {
            var a, h, d = .5 * s,
                l = n.getSVGElement("rect", r.svgElements, r.svg);
            if (l.setAttributeNS(null, "x", e), l.setAttributeNS(null, "y", i - d), l.setAttributeNS(null, "width", o), l.setAttributeNS(null, "height", 2 * d), l.setAttributeNS(null, "class", "vis-outline"), a = n.getSVGElement("path", r.svgElements, r.svg), a.setAttributeNS(null, "class", t.className), void 0 !== t.style && a.setAttributeNS(null, "style", t.style), a.setAttributeNS(null, "d", "M" + e + "," + i + " L" + (e + o) + "," + i), 1 == t.options.shaded.enabled && (h = n.getSVGElement("path", r.svgElements, r.svg), "top" == t.options.shaded.orientation ? h.setAttributeNS(null, "d", "M" + e + ", " + (i - d) + "L" + e + "," + i + " L" + (e + o) + "," + i + " L" + (e + o) + "," + (i - d)) : h.setAttributeNS(null, "d", "M" + e + "," + i + " L" + e + "," + (i + d) + " L" + (e + o) + "," + (i + d) + "L" + (e + o) + "," + i), h.setAttributeNS(null, "class", t.className + " vis-icon-fill"), void 0 !== t.options.shaded.style && "" !== t.options.shaded.style && h.setAttributeNS(null, "style", t.options.shaded.style)), 1 == t.options.drawPoints.enabled) {
                var c = {
                    style: t.options.drawPoints.style,
                    styles: t.options.drawPoints.styles,
                    size: t.options.drawPoints.size,
                    className: t.className
                };
                n.drawPoint(e + .5 * o, i, c, r.svgElements, r.svg)
            }
        }, o.drawShading = function(t, e, i, o) {
            if (1 == e.options.shaded.enabled) {
                var s = Number(o.svg.style.height.replace("px", "")),
                    r = n.getSVGElement("path", o.svgElements, o.svg),
                    a = "L";
                1 == e.options.interpolation.enabled && (a = "C");
                var h, d = 0;
                d = "top" == e.options.shaded.orientation ? 0 : "bottom" == e.options.shaded.orientation ? s : Math.min(Math.max(0, e.zeroPosition), s), h = "group" == e.options.shaded.orientation && null != i && void 0 != i ? "M" + t[0][0] + "," + t[0][1] + " " + this.serializePath(t, a, !1) + " L" + i[i.length - 1][0] + "," + i[i.length - 1][1] + " " + this.serializePath(i, a, !0) + i[0][0] + "," + i[0][1] + " Z" : "M" + t[0][0] + "," + t[0][1] + " " + this.serializePath(t, a, !1) + " V" + d + " H" + t[0][0] + " Z", r.setAttributeNS(null, "class", e.className + " vis-fill"), void 0 !== e.options.shaded.style && r.setAttributeNS(null, "style", e.options.shaded.style), r.setAttributeNS(null, "d", h)
            }
        }, o.draw = function(t, e, i) {
            if (null != t && void 0 != t) {
                var o = n.getSVGElement("path", i.svgElements, i.svg);
                o.setAttributeNS(null, "class", e.className), void 0 !== e.style && o.setAttributeNS(null, "style", e.style);
                var s = "L";
                1 == e.options.interpolation.enabled && (s = "C"), o.setAttributeNS(null, "d", "M" + t[0][0] + "," + t[0][1] + " " + this.serializePath(t, s, !1))
            }
        }, o.serializePath = function(t, e, i) {
            if (t.length < 2) return "";
            var o = e;
            if (i)
                for (var n = t.length - 2; n > 0; n--) o += t[n][0] + "," + t[n][1] + " ";
            else
                for (var n = 1; n < t.length; n++) o += t[n][0] + "," + t[n][1] + " ";
            return o
        }, o._catmullRomUniform = function(t) {
            var e, i, o, n, s, r, a = [];
            a.push([Math.round(t[0].screen_x), Math.round(t[0].screen_y)]);
            for (var h = 1 / 6, d = t.length, l = 0; d - 1 > l; l++) e = 0 == l ? t[0] : t[l - 1], i = t[l], o = t[l + 1], n = d > l + 2 ? t[l + 2] : o, s = {
                screen_x: (-e.screen_x + 6 * i.screen_x + o.screen_x) * h,
                screen_y: (-e.screen_y + 6 * i.screen_y + o.screen_y) * h
            }, r = {
                screen_x: (i.screen_x + 6 * o.screen_x - n.screen_x) * h,
                screen_y: (i.screen_y + 6 * o.screen_y - n.screen_y) * h
            }, a.push([s.screen_x, s.screen_y]), a.push([r.screen_x, r.screen_y]), a.push([o.screen_x, o.screen_y]);
            return a
        }, o._catmullRom = function(t, e) {
            var i = e.options.interpolation.alpha;
            if (0 == i || void 0 === i) return this._catmullRomUniform(t);
            var o, n, s, r, a, h, d, l, c, u, p, f, m, v, g, y, b, w, _, x = [];
            x.push([Math.round(t[0].screen_x), Math.round(t[0].screen_y)]);
            for (var k = t.length, O = 0; k - 1 > O; O++) o = 0 == O ? t[0] : t[O - 1], n = t[O], s = t[O + 1], r = k > O + 2 ? t[O + 2] : s, d = Math.sqrt(Math.pow(o.screen_x - n.screen_x, 2) + Math.pow(o.screen_y - n.screen_y, 2)), l = Math.sqrt(Math.pow(n.screen_x - s.screen_x, 2) + Math.pow(n.screen_y - s.screen_y, 2)), c = Math.sqrt(Math.pow(s.screen_x - r.screen_x, 2) + Math.pow(s.screen_y - r.screen_y, 2)), v = Math.pow(c, i), y = Math.pow(c, 2 * i), g = Math.pow(l, i), b = Math.pow(l, 2 * i), _ = Math.pow(d, i), w = Math.pow(d, 2 * i), u = 2 * w + 3 * _ * g + b, p = 2 * y + 3 * v * g + b, f = 3 * _ * (_ + g), f > 0 && (f = 1 / f), m = 3 * v * (v + g), m > 0 && (m = 1 / m), a = {
                screen_x: (-b * o.screen_x + u * n.screen_x + w * s.screen_x) * f,
                screen_y: (-b * o.screen_y + u * n.screen_y + w * s.screen_y) * f
            }, h = {
                screen_x: (y * n.screen_x + p * s.screen_x - b * r.screen_x) * m,
                screen_y: (y * n.screen_y + p * s.screen_y - b * r.screen_y) * m
            }, 0 == a.screen_x && 0 == a.screen_y && (a = n), 0 == h.screen_x && 0 == h.screen_y && (h = s), x.push([a.screen_x, a.screen_y]), x.push([h.screen_x, h.screen_y]), x.push([s.screen_x, s.screen_y]);
            return x
        }, o._linear = function(t) {
            for (var e = [], i = 0; i < t.length; i++) e.push([t[i].screen_x, t[i].screen_y]);
            return e
        }, t.exports = o
    }, function(t, e, i) {
        function o(t, e, i, o) {
            this.body = t, this.defaultOptions = {
                enabled: !1,
                icons: !0,
                iconSize: 20,
                iconSpacing: 6,
                left: {
                    visible: !0,
                    position: "top-left"
                },
                right: {
                    visible: !0,
                    position: "top-right"
                }
            }, this.side = i, this.options = n.extend({}, this.defaultOptions), this.linegraphOptions = o, this.svgElements = {}, this.dom = {}, this.groups = {}, this.amountOfGroups = 0, this._create(), this.framework = {
                svg: this.svg,
                svgElements: this.svgElements,
                options: this.options,
                groups: this.groups
            }, this.setOptions(e)
        }
        var n = i(1),
            s = i(8),
            r = i(31);
        o.prototype = new r, o.prototype.clear = function() {
            this.groups = {}, this.amountOfGroups = 0
        }, o.prototype.addGroup = function(t, e) {
            1 != e.options.excludeFromLegend && (this.groups.hasOwnProperty(t) || (this.groups[t] = e), this.amountOfGroups += 1)
        }, o.prototype.updateGroup = function(t, e) {
            this.groups[t] = e
        }, o.prototype.removeGroup = function(t) {
            this.groups.hasOwnProperty(t) && (delete this.groups[t], this.amountOfGroups -= 1)
        }, o.prototype._create = function() {
            this.dom.frame = document.createElement("div"), this.dom.frame.className = "vis-legend", this.dom.frame.style.position = "absolute", this.dom.frame.style.top = "10px", this.dom.frame.style.display = "block", this.dom.textArea = document.createElement("div"), this.dom.textArea.className = "vis-legend-text", this.dom.textArea.style.position = "relative", this.dom.textArea.style.top = "0px", this.svg = document.createElementNS("http://www.w3.org/2000/svg", "svg"), this.svg.style.position = "absolute", this.svg.style.top = "0px", this.svg.style.width = this.options.iconSize + 5 + "px", this.svg.style.height = "100%", this.dom.frame.appendChild(this.svg), this.dom.frame.appendChild(this.dom.textArea)
        }, o.prototype.hide = function() {
            this.dom.frame.parentNode && this.dom.frame.parentNode.removeChild(this.dom.frame)
        }, o.prototype.show = function() {
            this.dom.frame.parentNode || this.body.dom.center.appendChild(this.dom.frame)
        }, o.prototype.setOptions = function(t) {
            var e = ["enabled", "orientation", "icons", "left", "right"];
            n.selectiveDeepExtend(e, this.options, t)
        }, o.prototype.redraw = function() {
            var t = 0,
                e = Object.keys(this.groups);
            e.sort(function(t, e) {
                return e > t ? -1 : 1
            });
            for (var i = 0; i < e.length; i++) {
                var o = e[i];
                1 != this.groups[o].visible || void 0 !== this.linegraphOptions.visibility[o] && 1 != this.linegraphOptions.visibility[o] || t++
            }
            if (0 == this.options[this.side].visible || 0 == this.amountOfGroups || 0 == this.options.enabled || 0 == t) this.hide();
            else {
                if (this.show(), "top-left" == this.options[this.side].position || "bottom-left" == this.options[this.side].position ? (this.dom.frame.style.left = "4px", this.dom.frame.style.textAlign = "left", this.dom.textArea.style.textAlign = "left", this.dom.textArea.style.left = this.options.iconSize + 15 + "px", this.dom.textArea.style.right = "", this.svg.style.left = "0px", this.svg.style.right = "") : (this.dom.frame.style.right = "4px", this.dom.frame.style.textAlign = "right", this.dom.textArea.style.textAlign = "right", this.dom.textArea.style.right = this.options.iconSize + 15 + "px", this.dom.textArea.style.left = "", this.svg.style.right = "0px", this.svg.style.left = ""), "top-left" == this.options[this.side].position || "top-right" == this.options[this.side].position) this.dom.frame.style.top = 4 - Number(this.body.dom.center.style.top.replace("px", "")) + "px", this.dom.frame.style.bottom = "";
                else {
                    var n = this.body.domProps.center.height - this.body.domProps.centerContainer.height;
                    this.dom.frame.style.bottom = 4 + n + Number(this.body.dom.center.style.top.replace("px", "")) + "px", this.dom.frame.style.top = ""
                }
                0 == this.options.icons ? (this.dom.frame.style.width = this.dom.textArea.offsetWidth + 10 + "px", this.dom.textArea.style.right = "", this.dom.textArea.style.left = "", this.svg.style.width = "0px") : (this.dom.frame.style.width = this.options.iconSize + 15 + this.dom.textArea.offsetWidth + 10 + "px", this.drawLegendIcons());
                for (var s = "", i = 0; i < e.length; i++) {
                    var o = e[i];
                    1 != this.groups[o].visible || void 0 !== this.linegraphOptions.visibility[o] && 1 != this.linegraphOptions.visibility[o] || (s += this.groups[o].content + "<br />")
                }
                this.dom.textArea.innerHTML = s, this.dom.textArea.style.lineHeight = .75 * this.options.iconSize + this.options.iconSpacing + "px"
            }
        }, o.prototype.drawLegendIcons = function() {
            if (this.dom.frame.parentNode) {
                var t = Object.keys(this.groups);
                t.sort(function(t, e) {
                    return e > t ? -1 : 1
                }), s.resetElements(this.svgElements);
                var e = window.getComputedStyle(this.dom.frame).paddingTop,
                    i = Number(e.replace("px", "")),
                    o = i,
                    n = this.options.iconSize,
                    r = .75 * this.options.iconSize,
                    a = i + .5 * r + 3;
                this.svg.style.width = n + 5 + i + "px";
                for (var h = 0; h < t.length; h++) {
                    var d = t[h];
                    1 != this.groups[d].visible || void 0 !== this.linegraphOptions.visibility[d] && 1 != this.linegraphOptions.visibility[d] || (this.groups[d].getLegend(n, r, this.framework, o, a), a += r + this.options.iconSpacing)
                }
            }
        }, t.exports = o
    }, function(t, e) {
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var i = "string",
            o = "boolean",
            n = "number",
            s = "array",
            r = "date",
            a = "object",
            h = "dom",
            d = "moment",
            l = "any",
            c = {
                configure: {
                    enabled: {
                        "boolean": o
                    },
                    filter: {
                        "boolean": o,
                        "function": "function"
                    },
                    container: {
                        dom: h
                    },
                    __type__: {
                        object: a,
                        "boolean": o,
                        "function": "function"
                    }
                },
                yAxisOrientation: {
                    string: ["left", "right"]
                },
                defaultGroup: {
                    string: i
                },
                sort: {
                    "boolean": o
                },
                sampling: {
                    "boolean": o
                },
                stack: {
                    "boolean": o
                },
                graphHeight: {
                    string: i,
                    number: n
                },
                shaded: {
                    enabled: {
                        "boolean": o
                    },
                    orientation: {
                        string: ["bottom", "top", "zero", "group"]
                    },
                    groupId: {
                        object: a
                    },
                    __type__: {
                        "boolean": o,
                        object: a
                    }
                },
                style: {
                    string: ["line", "bar", "points"]
                },
                barChart: {
                    width: {
                        number: n
                    },
                    minWidth: {
                        number: n
                    },
                    sideBySide: {
                        "boolean": o
                    },
                    align: {
                        string: ["left", "center", "right"]
                    },
                    __type__: {
                        object: a
                    }
                },
                interpolation: {
                    enabled: {
                        "boolean": o
                    },
                    parametrization: {
                        string: ["centripetal", "chordal", "uniform"]
                    },
                    alpha: {
                        number: n
                    },
                    __type__: {
                        object: a,
                        "boolean": o
                    }
                },
                drawPoints: {
                    enabled: {
                        "boolean": o
                    },
                    onRender: {
                        "function": "function"
                    },
                    size: {
                        number: n
                    },
                    style: {
                        string: ["square", "circle"]
                    },
                    __type__: {
                        object: a,
                        "boolean": o,
                        "function": "function"
                    }
                },
                dataAxis: {
                    showMinorLabels: {
                        "boolean": o
                    },
                    showMajorLabels: {
                        "boolean": o
                    },
                    icons: {
                        "boolean": o
                    },
                    width: {
                        string: i,
                        number: n
                    },
                    visible: {
                        "boolean": o
                    },
                    alignZeros: {
                        "boolean": o
                    },
                    left: {
                        range: {
                            min: {
                                number: n
                            },
                            max: {
                                number: n
                            },
                            __type__: {
                                object: a
                            }
                        },
                        format: {
                            "function": "function"
                        },
                        title: {
                            text: {
                                string: i,
                                number: n
                            },
                            style: {
                                string: i
                            },
                            __type__: {
                                object: a
                            }
                        },
                        __type__: {
                            object: a
                        }
                    },
                    right: {
                        range: {
                            min: {
                                number: n
                            },
                            max: {
                                number: n
                            },
                            __type__: {
                                object: a
                            }
                        },
                        format: {
                            "function": "function"
                        },
                        title: {
                            text: {
                                string: i,
                                number: n
                            },
                            style: {
                                string: i
                            },
                            __type__: {
                                object: a
                            }
                        },
                        __type__: {
                            object: a
                        }
                    },
                    __type__: {
                        object: a
                    }
                },
                legend: {
                    enabled: {
                        "boolean": o
                    },
                    icons: {
                        "boolean": o
                    },
                    left: {
                        visible: {
                            "boolean": o
                        },
                        position: {
                            string: ["top-right", "bottom-right", "top-left", "bottom-left"]
                        },
                        __type__: {
                            object: a
                        }
                    },
                    right: {
                        visible: {
                            "boolean": o
                        },
                        position: {
                            string: ["top-right", "bottom-right", "top-left", "bottom-left"]
                        },
                        __type__: {
                            object: a
                        }
                    },
                    __type__: {
                        object: a,
                        "boolean": o
                    }
                },
                groups: {
                    visibility: {
                        any: l
                    },
                    __type__: {
                        object: a
                    }
                },
                autoResize: {
                    "boolean": o
                },
                throttleRedraw: {
                    number: n
                },
                clickToUse: {
                    "boolean": o
                },
                end: {
                    number: n,
                    date: r,
                    string: i,
                    moment: d
                },
                format: {
                    minorLabels: {
                        millisecond: {
                            string: i,
                            undefined: "undefined"
                        },
                        second: {
                            string: i,
                            undefined: "undefined"
                        },
                        minute: {
                            string: i,
                            undefined: "undefined"
                        },
                        hour: {
                            string: i,
                            undefined: "undefined"
                        },
                        weekday: {
                            string: i,
                            undefined: "undefined"
                        },
                        day: {
                            string: i,
                            undefined: "undefined"
                        },
                        month: {
                            string: i,
                            undefined: "undefined"
                        },
                        year: {
                            string: i,
                            undefined: "undefined"
                        },
                        __type__: {
                            object: a
                        }
                    },
                    majorLabels: {
                        millisecond: {
                            string: i,
                            undefined: "undefined"
                        },
                        second: {
                            string: i,
                            undefined: "undefined"
                        },
                        minute: {
                            string: i,
                            undefined: "undefined"
                        },
                        hour: {
                            string: i,
                            undefined: "undefined"
                        },
                        weekday: {
                            string: i,
                            undefined: "undefined"
                        },
                        day: {
                            string: i,
                            undefined: "undefined"
                        },
                        month: {
                            string: i,
                            undefined: "undefined"
                        },
                        year: {
                            string: i,
                            undefined: "undefined"
                        },
                        __type__: {
                            object: a
                        }
                    },
                    __type__: {
                        object: a
                    }
                },
                moment: {
                    "function": "function"
                },
                height: {
                    string: i,
                    number: n
                },
                hiddenDates: {
                    start: {
                        date: r,
                        number: n,
                        string: i,
                        moment: d
                    },
                    end: {
                        date: r,
                        number: n,
                        string: i,
                        moment: d
                    },
                    repeat: {
                        string: i
                    },
                    __type__: {
                        object: a,
                        array: s
                    }
                },
                locale: {
                    string: i
                },
                locales: {
                    __any__: {
                        any: l
                    },
                    __type__: {
                        object: a
                    }
                },
                max: {
                    date: r,
                    number: n,
                    string: i,
                    moment: d
                },
                maxHeight: {
                    number: n,
                    string: i
                },
                maxMinorChars: {
                    number: n
                },
                min: {
                    date: r,
                    number: n,
                    string: i,
                    moment: d
                },
                minHeight: {
                    number: n,
                    string: i
                },
                moveable: {
                    "boolean": o
                },
                multiselect: {
                    "boolean": o
                },
                orientation: {
                    string: i
                },
                showCurrentTime: {
                    "boolean": o
                },
                showMajorLabels: {
                    "boolean": o
                },
                showMinorLabels: {
                    "boolean": o
                },
                start: {
                    date: r,
                    number: n,
                    string: i,
                    moment: d
                },
                timeAxis: {
                    scale: {
                        string: i,
                        undefined: "undefined"
                    },
                    step: {
                        number: n,
                        undefined: "undefined"
                    },
                    __type__: {
                        object: a
                    }
                },
                width: {
                    string: i,
                    number: n
                },
                zoomable: {
                    "boolean": o
                },
                zoomKey: {
                    string: ["ctrlKey", "altKey", "metaKey", ""]
                },
                zoomMax: {
                    number: n
                },
                zoomMin: {
                    number: n
                },
                zIndex: {
                    number: n
                },
                __type__: {
                    object: a
                }
            },
            u = {
                global: {
                    sort: !0,
                    sampling: !0,
                    stack: !1,
                    shaded: {
                        enabled: !1,
                        orientation: ["zero", "top", "bottom", "group"]
                    },
                    style: ["line", "bar", "points"],
                    barChart: {
                        width: [50, 5, 100, 5],
                        minWidth: [50, 5, 100, 5],
                        sideBySide: !1,
                        align: ["left", "center", "right"]
                    },
                    interpolation: {
                        enabled: !0,
                        parametrization: ["centripetal", "chordal", "uniform"]
                    },
                    drawPoints: {
                        enabled: !0,
                        size: [6, 2, 30, 1],
                        style: ["square", "circle"]
                    },
                    dataAxis: {
                        showMinorLabels: !0,
                        showMajorLabels: !0,
                        icons: !1,
                        width: [40, 0, 200, 1],
                        visible: !0,
                        alignZeros: !0,
                        left: {
                            title: {
                                text: "",
                                style: ""
                            }
                        },
                        right: {
                            title: {
                                text: "",
                                style: ""
                            }
                        }
                    },
                    legend: {
                        enabled: !1,
                        icons: !0,
                        left: {
                            visible: !0,
                            position: ["top-right", "bottom-right", "top-left", "bottom-left"]
                        },
                        right: {
                            visible: !0,
                            position: ["top-right", "bottom-right", "top-left", "bottom-left"]
                        }
                    },
                    autoResize: !0,
                    throttleRedraw: [10, 0, 1e3, 10],
                    clickToUse: !1,
                    end: "",
                    format: {
                        minorLabels: {
                            millisecond: "SSS",
                            second: "s",
                            minute: "HH:mm",
                            hour: "HH:mm",
                            weekday: "ddd D",
                            day: "D",
                            month: "MMM",
                            year: "YYYY"
                        },
                        majorLabels: {
                            millisecond: "HH:mm:ss",
                            second: "D MMMM HH:mm",
                            minute: "ddd D MMMM",
                            hour: "ddd D MMMM",
                            weekday: "MMMM YYYY",
                            day: "MMMM YYYY",
                            month: "YYYY",
                            year: ""
                        }
                    },
                    height: "",
                    locale: "",
                    max: "",
                    maxHeight: "",
                    maxMinorChars: [7, 0, 20, 1],
                    min: "",
                    minHeight: "",
                    moveable: !0,
                    orientation: ["both", "bottom", "top"],
                    showCurrentTime: !1,
                    showMajorLabels: !0,
                    showMinorLabels: !0,
                    start: "",
                    width: "100%",
                    zoomable: !0,
                    zoomKey: ["ctrlKey", "altKey", "metaKey", ""],
                    zoomMax: [31536e10, 10, 31536e10, 1],
                    zoomMin: [10, 10, 31536e10, 1],
                    zIndex: 0
                }
            };
        e.allOptions = c, e.configureOptions = u
    }, function(t, e, i) {
        e.util = i(1), e.DOMutil = i(8), e.DataSet = i(9), e.DataView = i(11), e.Queue = i(10), e.Network = i(61), e.network = {
            Images: i(62),
            dotparser: i(118),
            gephiParser: i(119),
            allOptions: i(114)
        }, e.network.convertDot = function(t) {
            return e.network.dotparser.DOTToGraph(t)
        }, e.network.convertGephi = function(t, i) {
            return e.network.gephiParser.parseGephi(t, i)
        }, e.moment = i(2), e.Hammer = i(20), e.keycharm = i(23)
    }, function(t, e, i) {
        function o(t) {
            return t && t.__esModule ? t : {
                "default": t
            }
        }

        function n(t, e, i) {
            var o = this;
            if (!(this instanceof n)) throw new SyntaxError("Constructor must be called with the new operator");
            this.options = {}, this.defaultOptions = {
                locale: "en",
                locales: Y,
                clickToUse: !1
            }, F.extend(this.options, this.defaultOptions), this.body = {
                container: t,
                nodes: {},
                nodeIndices: [],
                edges: {},
                edgeIndices: [],
                emitter: {
                    on: this.on.bind(this),
                    off: this.off.bind(this),
                    emit: this.emit.bind(this),
                    once: this.once.bind(this)
                },
                eventListeners: {
                    onTap: function() {},
                    onTouch: function() {},
                    onDoubleTap: function() {},
                    onHold: function() {},
                    onDragStart: function() {},
                    onDrag: function() {},
                    onDragEnd: function() {},
                    onMouseWheel: function() {},
                    onPinch: function() {},
                    onMouseMove: function() {},
                    onRelease: function() {},
                    onContext: function() {}
                },
                data: {
                    nodes: null,
                    edges: null
                },
                functions: {
                    createNode: function() {},
                    createEdge: function() {},
                    getPointer: function() {}
                },
                modules: {},
                view: {
                    scale: 1,
                    translation: {
                        x: 0,
                        y: 0
                    }
                }
            }, this.bindEventListeners(), this.images = new r["default"](function() {
                return o.body.emitter.emit("_requestRedraw")
            }), this.groups = new h["default"], this.canvas = new w["default"](this.body), this.selectionHandler = new D["default"](this.body, this.canvas), this.interactionHandler = new O["default"](this.body, this.canvas, this.selectionHandler), this.view = new x["default"](this.body, this.canvas), this.renderer = new y["default"](this.body, this.canvas), this.physics = new f["default"](this.body), this.layoutEngine = new C["default"](this.body), this.clustering = new v["default"](this.body), this.manipulation = new E["default"](this.body, this.canvas, this.selectionHandler), this.nodesHandler = new l["default"](this.body, this.images, this.groups, this.layoutEngine), this.edgesHandler = new u["default"](this.body, this.images, this.groups), this.body.modules.kamadaKawai = new A["default"](this.body, 150, .05), this.body.modules.clustering = this.clustering, this.canvas._create(), this.setOptions(i), this.setData(e)
        }
        var s = i(62),
            r = o(s),
            a = i(63),
            h = o(a),
            d = i(64),
            l = o(d),
            c = i(84),
            u = o(c),
            p = i(93),
            f = o(p),
            m = i(102),
            v = o(m),
            g = i(105),
            y = o(g),
            b = i(106),
            w = o(b),
            _ = i(107),
            x = o(_),
            k = i(108),
            O = o(k),
            M = i(111),
            D = o(M),
            S = i(112),
            C = o(S),
            T = i(113),
            E = o(T),
            P = i(26),
            I = o(P),
            N = i(29),
            R = o(N),
            z = i(114),
            L = i(115),
            A = o(L);
        i(117);
        var B = i(13),
            F = i(1),
            j = (i(9), i(11), i(118)),
            H = i(119),
            W = i(45),
            Y = i(120);
        B(n.prototype), n.prototype.setOptions = function(t) {
            var e = this;
            if (void 0 !== t) {
                var i = R["default"].validate(t, z.allOptions);
                i === !0 && console.log("%cErrors have been found in the supplied options object.", N.printStyle);
                var o = ["locale", "locales", "clickToUse"];
                if (F.selectiveDeepExtend(o, this.options, t), t = this.layoutEngine.setOptions(t.layout, t), this.canvas.setOptions(t), this.groups.setOptions(t.groups), this.nodesHandler.setOptions(t.nodes), this.edgesHandler.setOptions(t.edges), this.physics.setOptions(t.physics), this.manipulation.setOptions(t.manipulation, t, this.options), this.interactionHandler.setOptions(t.interaction), this.renderer.setOptions(t.interaction), this.selectionHandler.setOptions(t.interaction), void 0 !== t.groups && this.body.emitter.emit("refreshNodes"), "configure" in t && (this.configurator || (this.configurator = new I["default"](this, this.body.container, z.configureOptions, this.canvas.pixelRatio)), this.configurator.setOptions(t.configure)), this.configurator && this.configurator.options.enabled === !0) {
                    var n = {
                        nodes: {},
                        edges: {},
                        layout: {},
                        interaction: {},
                        manipulation: {},
                        physics: {},
                        global: {}
                    };
                    F.deepExtend(n.nodes, this.nodesHandler.options), F.deepExtend(n.edges, this.edgesHandler.options), F.deepExtend(n.layout, this.layoutEngine.options), F.deepExtend(n.interaction, this.selectionHandler.options), F.deepExtend(n.interaction, this.renderer.options), F.deepExtend(n.interaction, this.interactionHandler.options), F.deepExtend(n.manipulation, this.manipulation.options), F.deepExtend(n.physics, this.physics.options), F.deepExtend(n.global, this.canvas.options), F.deepExtend(n.global, this.options), this.configurator.setModuleOptions(n)
                }
                void 0 !== t.clickToUse ? t.clickToUse === !0 ? void 0 === this.activator && (this.activator = new W(this.canvas.frame), this.activator.on("change", function() {
                    e.body.emitter.emit("activate")
                })) : (void 0 !== this.activator && (this.activator.destroy(), delete this.activator), this.body.emitter.emit("activate")) : this.body.emitter.emit("activate"), this.canvas.setSize(), this.body.emitter.emit("startSimulation")
            }
        }, n.prototype._updateVisibleIndices = function() {
            var t = this.body.nodes,
                e = this.body.edges;
            this.body.nodeIndices = [], this.body.edgeIndices = [];
            for (var i in t) t.hasOwnProperty(i) && t[i].options.hidden === !1 && this.body.nodeIndices.push(t[i].id);
            for (var o in e) e.hasOwnProperty(o) && e[o].options.hidden === !1 && this.body.edgeIndices.push(e[o].id)
        }, n.prototype.bindEventListeners = function() {
            var t = this;
            this.body.emitter.on("_dataChanged", function() {
                t._updateVisibleIndices(), t.body.emitter.emit("_requestRedraw"), t.body.emitter.emit("_dataUpdated")
            }), this.body.emitter.on("_dataUpdated", function() {
                t._updateValueRange(t.body.nodes), t._updateValueRange(t.body.edges), t.body.emitter.emit("startSimulation"), t.body.emitter.emit("_requestRedraw")
            })
        }, n.prototype.setData = function(t) {
            if (this.body.emitter.emit("resetPhysics"), this.body.emitter.emit("_resetData"), this.selectionHandler.unselectAll(), t && t.dot && (t.nodes || t.edges)) throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');
            if (this.setOptions(t && t.options), t && t.dot) {
                console.log("The dot property has been depricated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");
                var e = j.DOTToGraph(t.dot);
                return void this.setData(e)
            }
            if (t && t.gephi) {
                console.log("The gephi property has been depricated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");
                var i = H.parseGephi(t.gephi);
                return void this.setData(i)
            }
            this.nodesHandler.setData(t && t.nodes, !0), this.edgesHandler.setData(t && t.edges, !0), this.body.emitter.emit("_dataChanged"), this.body.emitter.emit("_dataLoaded"), this.body.emitter.emit("initPhysics")
        }, n.prototype.destroy = function() {
            this.body.emitter.emit("destroy"), this.body.emitter.off(), this.off(), delete this.groups, delete this.canvas, delete this.selectionHandler, delete this.interactionHandler, delete this.view, delete this.renderer, delete this.physics, delete this.layoutEngine, delete this.clustering, delete this.manipulation, delete this.nodesHandler, delete this.edgesHandler, delete this.configurator, delete this.images;
            for (var t in this.body.nodes) delete this.body.nodes[t];
            for (var e in this.body.edges) delete this.body.edges[e];
            F.recursiveDOMDelete(this.body.container)
        }, n.prototype._updateValueRange = function(t) {
            var e, i = void 0,
                o = void 0,
                n = 0;
            for (e in t)
                if (t.hasOwnProperty(e)) {
                    var s = t[e].getValue();
                    void 0 !== s && (i = void 0 === i ? s : Math.min(s, i), o = void 0 === o ? s : Math.max(s, o), n += s)
                }
            if (void 0 !== i && void 0 !== o)
                for (e in t) t.hasOwnProperty(e) && t[e].setValueRange(i, o, n)
        }, n.prototype.isActive = function() {
            return !this.activator || this.activator.active
        }, n.prototype.setSize = function() {
            return this.canvas.setSize.apply(this.canvas, arguments)
        }, n.prototype.canvasToDOM = function() {
            return this.canvas.canvasToDOM.apply(this.canvas, arguments)
        }, n.prototype.DOMtoCanvas = function() {
            return this.canvas.DOMtoCanvas.apply(this.canvas, arguments)
        }, n.prototype.findNode = function() {
            return this.clustering.findNode.apply(this.clustering, arguments)
        }, n.prototype.isCluster = function() {
            return this.clustering.isCluster.apply(this.clustering, arguments)
        }, n.prototype.openCluster = function() {
            return this.clustering.openCluster.apply(this.clustering, arguments)
        }, n.prototype.cluster = function() {
            return this.clustering.cluster.apply(this.clustering, arguments)
        }, n.prototype.getNodesInCluster = function() {
            return this.clustering.getNodesInCluster.apply(this.clustering, arguments)
        }, n.prototype.clusterByConnection = function() {
            return this.clustering.clusterByConnection.apply(this.clustering, arguments)
        }, n.prototype.clusterByHubsize = function() {
            return this.clustering.clusterByHubsize.apply(this.clustering, arguments)
        }, n.prototype.clusterOutliers = function() {
            return this.clustering.clusterOutliers.apply(this.clustering, arguments)
        }, n.prototype.getSeed = function() {
            return this.layoutEngine.getSeed.apply(this.layoutEngine, arguments)
        }, n.prototype.enableEditMode = function() {
            return this.manipulation.enableEditMode.apply(this.manipulation, arguments)
        }, n.prototype.disableEditMode = function() {
            return this.manipulation.disableEditMode.apply(this.manipulation, arguments)
        }, n.prototype.addNodeMode = function() {
            return this.manipulation.addNodeMode.apply(this.manipulation, arguments)
        }, n.prototype.editNode = function() {
            return this.manipulation.editNode.apply(this.manipulation, arguments)
        }, n.prototype.editNodeMode = function() {
            return console.log("Deprecated: Please use editNode instead of editNodeMode."), this.manipulation.editNode.apply(this.manipulation, arguments)
        }, n.prototype.addEdgeMode = function() {
            return this.manipulation.addEdgeMode.apply(this.manipulation, arguments)
        }, n.prototype.editEdgeMode = function() {
            return this.manipulation.editEdgeMode.apply(this.manipulation, arguments)
        }, n.prototype.deleteSelected = function() {
            return this.manipulation.deleteSelected.apply(this.manipulation, arguments)
        }, n.prototype.getPositions = function() {
            return this.nodesHandler.getPositions.apply(this.nodesHandler, arguments)
        }, n.prototype.storePositions = function() {
            return this.nodesHandler.storePositions.apply(this.nodesHandler, arguments)
        }, n.prototype.moveNode = function() {
            return this.nodesHandler.moveNode.apply(this.nodesHandler, arguments)
        }, n.prototype.getBoundingBox = function() {
            return this.nodesHandler.getBoundingBox.apply(this.nodesHandler, arguments)
        }, n.prototype.getConnectedNodes = function(t) {
            return void 0 !== this.body.nodes[t] ? this.nodesHandler.getConnectedNodes.apply(this.nodesHandler, arguments) : this.edgesHandler.getConnectedNodes.apply(this.edgesHandler, arguments)
        }, n.prototype.getConnectedEdges = function() {
            return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler, arguments)
        }, n.prototype.startSimulation = function() {
            return this.physics.startSimulation.apply(this.physics, arguments)
        }, n.prototype.stopSimulation = function() {
            return this.physics.stopSimulation.apply(this.physics, arguments)
        }, n.prototype.stabilize = function() {
            return this.physics.stabilize.apply(this.physics, arguments)
        }, n.prototype.getSelection = function() {
            return this.selectionHandler.getSelection.apply(this.selectionHandler, arguments)
        }, n.prototype.setSelection = function() {
            return this.selectionHandler.setSelection.apply(this.selectionHandler, arguments)
        }, n.prototype.getSelectedNodes = function() {
            return this.selectionHandler.getSelectedNodes.apply(this.selectionHandler, arguments)
        }, n.prototype.getSelectedEdges = function() {
            return this.selectionHandler.getSelectedEdges.apply(this.selectionHandler, arguments)
        }, n.prototype.getNodeAt = function() {
            var t = this.selectionHandler.getNodeAt.apply(this.selectionHandler, arguments);
            return void 0 !== t && void 0 !== t.id ? t.id : t
        }, n.prototype.getEdgeAt = function() {
            var t = this.selectionHandler.getEdgeAt.apply(this.selectionHandler, arguments);
            return void 0 !== t && void 0 !== t.id ? t.id : t
        }, n.prototype.selectNodes = function() {
            return this.selectionHandler.selectNodes.apply(this.selectionHandler, arguments)
        }, n.prototype.selectEdges = function() {
            return this.selectionHandler.selectEdges.apply(this.selectionHandler, arguments)
        }, n.prototype.unselectAll = function() {
            this.selectionHandler.unselectAll.apply(this.selectionHandler, arguments), this.redraw()
        }, n.prototype.redraw = function() {
            return this.renderer.redraw.apply(this.renderer, arguments)
        }, n.prototype.getScale = function() {
            return this.view.getScale.apply(this.view, arguments)
        }, n.prototype.getViewPosition = function() {
            return this.view.getViewPosition.apply(this.view, arguments)
        }, n.prototype.fit = function() {
            return this.view.fit.apply(this.view, arguments)
        }, n.prototype.moveTo = function() {
            return this.view.moveTo.apply(this.view, arguments)
        }, n.prototype.focus = function() {
            return this.view.focus.apply(this.view, arguments)
        }, n.prototype.releaseNode = function() {
            return this.view.releaseNode.apply(this.view, arguments)
        }, n.prototype.getOptionsFromConfigurator = function() {
            var t = {};
            return this.configurator && (t = this.configurator.getOptions.apply(this.configurator)), t
        }, t.exports = n
    }, function(t, e) {
        function i(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var o = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            n = function() {
                function t(e) {
                    i(this, t), this.images = {}, this.imageBroken = {}, this.callback = e
                }
                return o(t, [{
                    key: "_addImageToCache",
                    value: function(t, e) {
                        0 === e.width && (document.body.appendChild(e), e.width = e.offsetWidth, e.height = e.offsetHeight, document.body.removeChild(e)), this.images[t] = e
                    }
                }, {
                    key: "_tryloadBrokenUrl",
                    value: function(t, e, i) {
                        var o = this;
                        void 0 !== t && void 0 !== e && void 0 !== i && (i.onerror = function() {
                            console.error("Could not load brokenImage:", e), o._addImageToCache(t, new Image)
                        }, i.src = e)
                    }
                }, {
                    key: "_redrawWithImage",
                    value: function(t) {
                        this.callback && this.callback(t)
                    }
                }, {
                    key: "load",
                    value: function(t, e, i) {
                        var o = this,
                            n = this.images[t];
                        if (n) return n;
                        var s = new Image;
                        return s.onload = function() {
                            o._addImageToCache(t, s), o._redrawWithImage(s)
                        }, s.onerror = function() {
                            console.error("Could not load image:", t), o._tryloadBrokenUrl(t, e, s)
                        }, s.src = t, s
                    }
                }]), t
            }();
        e["default"] = n
    }, function(t, e, i) {
        function o(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var n = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            s = i(1),
            r = function() {
                function t() {
                    o(this, t), this.clear(), this.defaultIndex = 0, this.groupsArray = [], this.groupIndex = 0, this.defaultGroups = [{
                        border: "#2B7CE9",
                        background: "#97C2FC",
                        highlight: {
                            border: "#2B7CE9",
                            background: "#D2E5FF"
                        },
                        hover: {
                            border: "#2B7CE9",
                            background: "#D2E5FF"
                        }
                    }, {
                        border: "#FFA500",
                        background: "#FFFF00",
                        highlight: {
                            border: "#FFA500",
                            background: "#FFFFA3"
                        },
                        hover: {
                            border: "#FFA500",
                            background: "#FFFFA3"
                        }
                    }, {
                        border: "#FA0A10",
                        background: "#FB7E81",
                        highlight: {
                            border: "#FA0A10",
                            background: "#FFAFB1"
                        },
                        hover: {
                            border: "#FA0A10",
                            background: "#FFAFB1"
                        }
                    }, {
                        border: "#41A906",
                        background: "#7BE141",
                        highlight: {
                            border: "#41A906",
                            background: "#A1EC76"
                        },
                        hover: {
                            border: "#41A906",
                            background: "#A1EC76"
                        }
                    }, {
                        border: "#E129F0",
                        background: "#EB7DF4",
                        highlight: {
                            border: "#E129F0",
                            background: "#F0B3F5"
                        },
                        hover: {
                            border: "#E129F0",
                            background: "#F0B3F5"
                        }
                    }, {
                        border: "#7C29F0",
                        background: "#AD85E4",
                        highlight: {
                            border: "#7C29F0",
                            background: "#D3BDF0"
                        },
                        hover: {
                            border: "#7C29F0",
                            background: "#D3BDF0"
                        }
                    }, {
                        border: "#C37F00",
                        background: "#FFA807",
                        highlight: {
                            border: "#C37F00",
                            background: "#FFCA66"
                        },
                        hover: {
                            border: "#C37F00",
                            background: "#FFCA66"
                        }
                    }, {
                        border: "#4220FB",
                        background: "#6E6EFD",
                        highlight: {
                            border: "#4220FB",
                            background: "#9B9BFD"
                        },
                        hover: {
                            border: "#4220FB",
                            background: "#9B9BFD"
                        }
                    }, {
                        border: "#FD5A77",
                        background: "#FFC0CB",
                        highlight: {
                            border: "#FD5A77",
                            background: "#FFD1D9"
                        },
                        hover: {
                            border: "#FD5A77",
                            background: "#FFD1D9"
                        }
                    }, {
                        border: "#4AD63A",
                        background: "#C2FABC",
                        highlight: {
                            border: "#4AD63A",
                            background: "#E6FFE3"
                        },
                        hover: {
                            border: "#4AD63A",
                            background: "#E6FFE3"
                        }
                    }, {
                        border: "#990000",
                        background: "#EE0000",
                        highlight: {
                            border: "#BB0000",
                            background: "#FF3333"
                        },
                        hover: {
                            border: "#BB0000",
                            background: "#FF3333"
                        }
                    }, {
                        border: "#FF6000",
                        background: "#FF6000",
                        highlight: {
                            border: "#FF6000",
                            background: "#FF6000"
                        },
                        hover: {
                            border: "#FF6000",
                            background: "#FF6000"
                        }
                    }, {
                        border: "#97C2FC",
                        background: "#2B7CE9",
                        highlight: {
                            border: "#D2E5FF",
                            background: "#2B7CE9"
                        },
                        hover: {
                            border: "#D2E5FF",
                            background: "#2B7CE9"
                        }
                    }, {
                        border: "#399605",
                        background: "#255C03",
                        highlight: {
                            border: "#399605",
                            background: "#255C03"
                        },
                        hover: {
                            border: "#399605",
                            background: "#255C03"
                        }
                    }, {
                        border: "#B70054",
                        background: "#FF007E",
                        highlight: {
                            border: "#B70054",
                            background: "#FF007E"
                        },
                        hover: {
                            border: "#B70054",
                            background: "#FF007E"
                        }
                    }, {
                        border: "#AD85E4",
                        background: "#7C29F0",
                        highlight: {
                            border: "#D3BDF0",
                            background: "#7C29F0"
                        },
                        hover: {
                            border: "#D3BDF0",
                            background: "#7C29F0"
                        }
                    }, {
                        border: "#4557FA",
                        background: "#000EA1",
                        highlight: {
                            border: "#6E6EFD",
                            background: "#000EA1"
                        },
                        hover: {
                            border: "#6E6EFD",
                            background: "#000EA1"
                        }
                    }, {
                        border: "#FFC0CB",
                        background: "#FD5A77",
                        highlight: {
                            border: "#FFD1D9",
                            background: "#FD5A77"
                        },
                        hover: {
                            border: "#FFD1D9",
                            background: "#FD5A77"
                        }
                    }, {
                        border: "#C2FABC",
                        background: "#74D66A",
                        highlight: {
                            border: "#E6FFE3",
                            background: "#74D66A"
                        },
                        hover: {
                            border: "#E6FFE3",
                            background: "#74D66A"
                        }
                    }, {
                        border: "#EE0000",
                        background: "#990000",
                        highlight: {
                            border: "#FF3333",
                            background: "#BB0000"
                        },
                        hover: {
                            border: "#FF3333",
                            background: "#BB0000"
                        }
                    }], this.options = {}, this.defaultOptions = {
                        useDefaultGroups: !0
                    }, s.extend(this.options, this.defaultOptions)
                }
                return n(t, [{
                    key: "setOptions",
                    value: function(t) {
                        var e = ["useDefaultGroups"];
                        if (void 0 !== t)
                            for (var i in t)
                                if (t.hasOwnProperty(i) && -1 === e.indexOf(i)) {
                                    var o = t[i];
                                    this.add(i, o)
                                }
                    }
                }, {
                    key: "clear",
                    value: function() {
                        this.groups = {}, this.groupsArray = []
                    }
                }, {
                    key: "get",
                    value: function(t) {
                        var e = this.groups[t];
                        if (void 0 === e)
                            if (this.options.useDefaultGroups === !1 && this.groupsArray.length > 0) {
                                var i = this.groupIndex % this.groupsArray.length;
                                this.groupIndex++, e = {}, e.color = this.groups[this.groupsArray[i]], this.groups[t] = e
                            } else {
                                var o = this.defaultIndex % this.defaultGroups.length;
                                this.defaultIndex++, e = {}, e.color = this.defaultGroups[o], this.groups[t] = e
                            }
                        return e
                    }
                }, {
                    key: "add",
                    value: function(t, e) {
                        return this.groups[t] = e, this.groupsArray.push(t), e
                    }
                }]), t
            }();
        e["default"] = r
    }, function(t, e, i) {
        function o(t) {
            return t && t.__esModule ? t : {
                "default": t
            }
        }

        function n(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var s = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            r = i(65),
            a = o(r),
            h = i(66),
            d = o(h),
            l = i(1),
            c = i(9),
            u = i(11),
            p = function() {
                function t(e, i, o, s) {
                    var r = this;
                    n(this, t), this.body = e, this.images = i, this.groups = o, this.layoutEngine = s, this.body.functions.createNode = this.create.bind(this), this.nodesListeners = {
                        add: function(t, e) {
                            r.add(e.items)
                        },
                        update: function(t, e) {
                            r.update(e.items, e.data)
                        },
                        remove: function(t, e) {
                            r.remove(e.items)
                        }
                    }, this.options = {}, this.defaultOptions = {
                        borderWidth: 1,
                        borderWidthSelected: 2,
                        brokenImage: void 0,
                        color: {
                            border: "#2B7CE9",
                            background: "#97C2FC",
                            highlight: {
                                border: "#2B7CE9",
                                background: "#D2E5FF"
                            },
                            hover: {
                                border: "#2B7CE9",
                                background: "#D2E5FF"
                            }
                        },
                        fixed: {
                            x: !1,
                            y: !1
                        },
                        font: {
                            color: "#343434",
                            size: 14,
                            face: "arial",
                            background: "none",
                            strokeWidth: 0,
                            strokeColor: "#ffffff",
                            align: "center"
                        },
                        group: void 0,
                        hidden: !1,
                        icon: {
                            face: "FontAwesome",
                            code: void 0,
                            size: 50,
                            color: "#2B7CE9"
                        },
                        image: void 0,
                        label: void 0,
                        labelHighlightBold: !0,
                        level: void 0,
                        mass: 1,
                        physics: !0,
                        scaling: {
                            min: 10,
                            max: 30,
                            label: {
                                enabled: !1,
                                min: 14,
                                max: 30,
                                maxVisible: 30,
                                drawThreshold: 5
                            },
                            customScalingFunction: function(t, e, i, o) {
                                if (e === t) return .5;
                                var n = 1 / (e - t);
                                return Math.max(0, (o - t) * n)
                            }
                        },
                        shadow: {
                            enabled: !1,
                            color: "rgba(0,0,0,0.5)",
                            size: 10,
                            x: 5,
                            y: 5
                        },
                        shape: "ellipse",
                        shapeProperties: {
                            borderDashes: !1,
                            borderRadius: 6,
                            interpolation: !0,
                            useImageSize: !1,
                            useBorderWithImage: !1
                        },
                        size: 25,
                        title: void 0,
                        value: void 0,
                        x: void 0,
                        y: void 0
                    }, l.extend(this.options, this.defaultOptions), this.bindEventListeners()
                }
                return s(t, [{
                    key: "bindEventListeners",
                    value: function() {
                        var t = this;
                        this.body.emitter.on("refreshNodes", this.refresh.bind(this)), this.body.emitter.on("refresh", this.refresh.bind(this)), this.body.emitter.on("destroy", function() {
                            l.forEach(t.nodesListeners, function(e, i) {
                                t.body.data.nodes && t.body.data.nodes.off(i, e)
                            }), delete t.body.functions.createNode, delete t.nodesListeners.add, delete t.nodesListeners.update, delete t.nodesListeners.remove, delete t.nodesListeners
                        })
                    }
                }, {
                    key: "setOptions",
                    value: function(t) {
                        if (void 0 !== t) {
                            if (a["default"].parseOptions(this.options, t), void 0 !== t.shape)
                                for (var e in this.body.nodes) this.body.nodes.hasOwnProperty(e) && this.body.nodes[e].updateShape();
                            if (void 0 !== t.font) {
                                d["default"].parseOptions(this.options.font, t);
                                for (var i in this.body.nodes) this.body.nodes.hasOwnProperty(i) && (this.body.nodes[i].updateLabelModule(), this.body.nodes[i]._reset())
                            }
                            if (void 0 !== t.size)
                                for (var o in this.body.nodes) this.body.nodes.hasOwnProperty(o) && this.body.nodes[o]._reset();
                            void 0 === t.hidden && void 0 === t.physics || this.body.emitter.emit("_dataChanged")
                        }
                    }
                }, {
                    key: "setData",
                    value: function(t) {
                        var e = this,
                            i = arguments.length <= 1 || void 0 === arguments[1] ? !1 : arguments[1],
                            o = this.body.data.nodes;
                        if (t instanceof c || t instanceof u) this.body.data.nodes = t;
                        else if (Array.isArray(t)) this.body.data.nodes = new c, this.body.data.nodes.add(t);
                        else {
                            if (t) throw new TypeError("Array or DataSet expected");
                            this.body.data.nodes = new c
                        }
                        o && l.forEach(this.nodesListeners, function(t, e) {
                            o.off(e, t)
                        }), this.body.nodes = {}, this.body.data.nodes && ! function() {
                            var t = e;
                            l.forEach(e.nodesListeners, function(e, i) {
                                t.body.data.nodes.on(i, e)
                            });
                            var i = e.body.data.nodes.getIds();
                            e.add(i, !0)
                        }(), i === !1 && this.body.emitter.emit("_dataChanged")
                    }
                }, {
                    key: "add",
                    value: function(t) {
                        for (var e = arguments.length <= 1 || void 0 === arguments[1] ? !1 : arguments[1], i = void 0, o = [], n = 0; n < t.length; n++) {
                            i = t[n];
                            var s = this.body.data.nodes.get(i),
                                r = this.create(s);
                            o.push(r), this.body.nodes[i] = r
                        }
                        this.layoutEngine.positionInitially(o), e === !1 && this.body.emitter.emit("_dataChanged")
                    }
                }, {
                    key: "update",
                    value: function(t, e) {
                        for (var i = this.body.nodes, o = !1, n = 0; n < t.length; n++) {
                            var s = t[n],
                                r = i[s],
                                a = e[n];
                            void 0 !== r ? o = r.setOptions(a) : (o = !0, r = this.create(a), i[s] = r)
                        }
                        o === !0 ? this.body.emitter.emit("_dataChanged") : this.body.emitter.emit("_dataUpdated")
                    }
                }, {
                    key: "remove",
                    value: function(t) {
                        for (var e = this.body.nodes, i = 0; i < t.length; i++) {
                            var o = t[i];
                            delete e[o]
                        }
                        this.body.emitter.emit("_dataChanged")
                    }
                }, {
                    key: "create",
                    value: function(t) {
                        var e = arguments.length <= 1 || void 0 === arguments[1] ? a["default"] : arguments[1];
                        return new e(t, this.body, this.images, this.groups, this.options)
                    }
                }, {
                    key: "refresh",
                    value: function() {
                        var t = arguments.length <= 0 || void 0 === arguments[0] ? !1 : arguments[0],
                            e = this.body.nodes;
                        for (var i in e) {
                            var o = void 0;
                            e.hasOwnProperty(i) && (o = e[i]);
                            var n = this.body.data.nodes._data[i];
                            void 0 !== o && void 0 !== n && (t === !0 && o.setOptions({
                                x: null,
                                y: null
                            }), o.setOptions({
                                fixed: !1
                            }), o.setOptions(n))
                        }
                    }
                }, {
                    key: "getPositions",
                    value: function(t) {
                        var e = {};
                        if (void 0 !== t) {
                            if (Array.isArray(t) === !0) {
                                for (var i = 0; i < t.length; i++)
                                    if (void 0 !== this.body.nodes[t[i]]) {
                                        var o = this.body.nodes[t[i]];
                                        e[t[i]] = {
                                            x: Math.round(o.x),
                                            y: Math.round(o.y)
                                        }
                                    }
                            } else if (void 0 !== this.body.nodes[t]) {
                                var n = this.body.nodes[t];
                                e[t] = {
                                    x: Math.round(n.x),
                                    y: Math.round(n.y)
                                }
                            }
                        } else
                            for (var s = 0; s < this.body.nodeIndices.length; s++) {
                                var r = this.body.nodes[this.body.nodeIndices[s]];
                                e[this.body.nodeIndices[s]] = {
                                    x: Math.round(r.x),
                                    y: Math.round(r.y)
                                }
                            }
                        return e
                    }
                }, {
                    key: "storePositions",
                    value: function() {
                        var t = [],
                            e = this.body.data.nodes.getDataSet();
                        for (var i in e._data)
                            if (e._data.hasOwnProperty(i)) {
                                var o = this.body.nodes[i];
                                e._data[i].x == Math.round(o.x) && e._data[i].y == Math.round(o.y) || t.push({
                                    id: o.id,
                                    x: Math.round(o.x),
                                    y: Math.round(o.y)
                                })
                            }
                        e.update(t)
                    }
                }, {
                    key: "getBoundingBox",
                    value: function(t) {
                        return void 0 !== this.body.nodes[t] ? this.body.nodes[t].shape.boundingBox : void 0
                    }
                }, {
                    key: "getConnectedNodes",
                    value: function(t) {
                        var e = [];
                        if (void 0 !== this.body.nodes[t])
                            for (var i = this.body.nodes[t], o = {}, n = 0; n < i.edges.length; n++) {
                                var s = i.edges[n];
                                s.toId == i.id ? void 0 === o[s.fromId] && (e.push(s.fromId), o[s.fromId] = !0) : s.fromId == i.id && void 0 === o[s.toId] && (e.push(s.toId), o[s.toId] = !0)
                            }
                        return e
                    }
                }, {
                    key: "getConnectedEdges",
                    value: function(t) {
                        var e = [];
                        if (void 0 !== this.body.nodes[t])
                            for (var i = this.body.nodes[t], o = 0; o < i.edges.length; o++) e.push(i.edges[o].id);
                        else console.log("NodeId provided for getConnectedEdges does not exist. Provided: ", t);
                        return e
                    }
                }, {
                    key: "moveNode",
                    value: function(t, e, i) {
                        var o = this;
                        void 0 !== this.body.nodes[t] ? (this.body.nodes[t].x = Number(e), this.body.nodes[t].y = Number(i), setTimeout(function() {
                            o.body.emitter.emit("startSimulation")
                        }, 0)) : console.log("Node id supplied to moveNode does not exist. Provided: ", t)
                    }
                }]), t
            }();
        e["default"] = p
    }, function(t, e, i) {
        function o(t) {
            return t && t.__esModule ? t : {
                "default": t
            }
        }

        function n(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var s = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            r = i(66),
            a = o(r),
            h = i(67),
            d = o(h),
            l = i(69),
            c = o(l),
            u = i(71),
            p = o(u),
            f = i(72),
            m = o(f),
            v = i(73),
            g = o(v),
            y = i(75),
            b = o(y),
            w = i(76),
            _ = o(w),
            x = i(77),
            k = o(x),
            O = i(78),
            M = o(O),
            D = i(79),
            S = o(D),
            C = i(80),
            T = o(C),
            E = i(81),
            P = o(E),
            I = i(82),
            N = o(I),
            R = i(83),
            z = o(R),
            L = i(29),
            A = (o(L), i(1)),
            B = function() {
                function t(e, i, o, s, r) {
                    n(this, t), this.options = A.bridgeObject(r), this.globalOptions = r, this.body = i, this.edges = [], this.id = void 0, this.imagelist = o, this.grouplist = s, this.x = void 0, this.y = void 0, this.baseSize = this.options.size, this.baseFontSize = this.options.font.size, this.predefinedPosition = !1, this.selected = !1, this.hover = !1, this.labelModule = new a["default"](this.body, this.options, !1), this.setOptions(e)
                }
                return s(t, [{
                    key: "attachEdge",
                    value: function(t) {
                        -1 === this.edges.indexOf(t) && this.edges.push(t)
                    }
                }, {
                    key: "detachEdge",
                    value: function(t) {
                        var e = this.edges.indexOf(t); - 1 != e && this.edges.splice(e, 1)
                    }
                }, {
                    key: "setOptions",
                    value: function(e) {
                        var i = this.options.shape;
                        if (e) {
                            if (void 0 !== e.id && (this.id = e.id), void 0 === this.id) throw "Node must have an id";
                            if (void 0 !== e.x && (null === e.x ? (this.x = void 0, this.predefinedPosition = !1) : (this.x = parseInt(e.x), this.predefinedPosition = !0)), void 0 !== e.y && (null === e.y ? (this.y = void 0, this.predefinedPosition = !1) : (this.y = parseInt(e.y), this.predefinedPosition = !0)), void 0 !== e.size && (this.baseSize = e.size), void 0 !== e.value && (e.value = parseFloat(e.value)), "number" == typeof e.group || "string" == typeof e.group && "" != e.group) {
                                var o = this.grouplist.get(e.group);
                                A.deepExtend(this.options, o), this.options.color = A.parseColor(this.options.color)
                            }
                            if (t.parseOptions(this.options, e, !0, this.globalOptions), void 0 !== this.options.image) {
                                if (!this.imagelist) throw "No imagelist provided";
                                this.imageObj = this.imagelist.load(this.options.image, this.options.brokenImage, this.id)
                            }
                            return this.updateLabelModule(), this.updateShape(i), void 0 !== e.hidden || void 0 !== e.physics
                        }
                    }
                }, {
                    key: "updateLabelModule",
                    value: function() {
                        void 0 !== this.options.label && null !== this.options.label || (this.options.label = ""), this.labelModule.setOptions(this.options, !0), void 0 !== this.labelModule.baseSize && (this.baseFontSize = this.labelModule.baseSize)
                    }
                }, {
                    key: "updateShape",
                    value: function(t) {
                        if (t === this.options.shape && this.shape) this.shape.setOptions(this.options, this.imageObj);
                        else switch (this.options.shape) {
                            case "box":
                                this.shape = new d["default"](this.options, this.body, this.labelModule);
                                break;
                            case "circle":
                                this.shape = new c["default"](this.options, this.body, this.labelModule);
                                break;
                            case "circularImage":
                                this.shape = new p["default"](this.options, this.body, this.labelModule, this.imageObj);
                                break;
                            case "database":
                                this.shape = new m["default"](this.options, this.body, this.labelModule);
                                break;
                            case "diamond":
                                this.shape = new g["default"](this.options, this.body, this.labelModule);
                                break;
                            case "dot":
                                this.shape = new b["default"](this.options, this.body, this.labelModule);
                                break;
                            case "ellipse":
                                this.shape = new _["default"](this.options, this.body, this.labelModule);
                                break;
                            case "icon":
                                this.shape = new k["default"](this.options, this.body, this.labelModule);
                                break;
                            case "image":
                                this.shape = new M["default"](this.options, this.body, this.labelModule, this.imageObj);
                                break;
                            case "square":
                                this.shape = new S["default"](this.options, this.body, this.labelModule);
                                break;
                            case "star":
                                this.shape = new T["default"](this.options, this.body, this.labelModule);
                                break;
                            case "text":
                                this.shape = new P["default"](this.options, this.body, this.labelModule);
                                break;
                            case "triangle":
                                this.shape = new N["default"](this.options, this.body, this.labelModule);
                                break;
                            case "triangleDown":
                                this.shape = new z["default"](this.options, this.body, this.labelModule);
                                break;
                            default:
                                this.shape = new _["default"](this.options, this.body, this.labelModule)
                        }
                        this._reset()
                    }
                }, {
                    key: "select",
                    value: function() {
                        this.selected = !0, this._reset()
                    }
                }, {
                    key: "unselect",
                    value: function() {
                        this.selected = !1, this._reset()
                    }
                }, {
                    key: "_reset",
                    value: function() {
                        this.shape.width = void 0, this.shape.height = void 0
                    }
                }, {
                    key: "getTitle",
                    value: function() {
                        return this.options.title
                    }
                }, {
                    key: "distanceToBorder",
                    value: function(t, e) {
                        return this.shape.distanceToBorder(t, e)
                    }
                }, {
                    key: "isFixed",
                    value: function() {
                        return this.options.fixed.x && this.options.fixed.y
                    }
                }, {
                    key: "isSelected",
                    value: function() {
                        return this.selected
                    }
                }, {
                    key: "getValue",
                    value: function() {
                        return this.options.value
                    }
                }, {
                    key: "setValueRange",
                    value: function(t, e, i) {
                        if (void 0 !== this.options.value) {
                            var o = this.options.scaling.customScalingFunction(t, e, i, this.options.value),
                                n = this.options.scaling.max - this.options.scaling.min;
                            if (this.options.scaling.label.enabled === !0) {
                                var s = this.options.scaling.label.max - this.options.scaling.label.min;
                                this.options.font.size = this.options.scaling.label.min + o * s
                            }
                            this.options.size = this.options.scaling.min + o * n
                        } else this.options.size = this.baseSize, this.options.font.size = this.baseFontSize;
                        this.updateLabelModule()
                    }
                }, {
                    key: "draw",
                    value: function(t) {
                        this.shape.draw(t, this.x, this.y, this.selected, this.hover)
                    }
                }, {
                    key: "updateBoundingBox",
                    value: function(t) {
                        this.shape.updateBoundingBox(this.x, this.y, t)
                    }
                }, {
                    key: "resize",
                    value: function(t) {
                        this.shape.resize(t, this.selected)
                    }
                }, {
                    key: "isOverlappingWith",
                    value: function(t) {
                        return this.shape.left < t.right && this.shape.left + this.shape.width > t.left && this.shape.top < t.bottom && this.shape.top + this.shape.height > t.top
                    }
                }, {
                    key: "isBoundingBoxOverlappingWith",
                    value: function(t) {
                        return this.shape.boundingBox.left < t.right && this.shape.boundingBox.right > t.left && this.shape.boundingBox.top < t.bottom && this.shape.boundingBox.bottom > t.top
                    }
                }], [{
                    key: "parseOptions",
                    value: function(t, e) {
                        var i = arguments.length <= 2 || void 0 === arguments[2] ? !1 : arguments[2],
                            o = arguments.length <= 3 || void 0 === arguments[3] ? {} : arguments[3],
                            n = ["color", "font", "fixed", "shadow"];
                        if (A.selectiveNotDeepExtend(n, t, e, i), A.mergeOptions(t, e, "shadow", i, o), void 0 !== e.color && null !== e.color) {
                            var s = A.parseColor(e.color);
                            A.fillIfDefined(t.color, s)
                        } else i === !0 && null === e.color && (t.color = A.bridgeObject(o.color));
                        void 0 !== e.fixed && null !== e.fixed && ("boolean" == typeof e.fixed ? (t.fixed.x = e.fixed, t.fixed.y = e.fixed) : (void 0 !== e.fixed.x && "boolean" == typeof e.fixed.x && (t.fixed.x = e.fixed.x), void 0 !== e.fixed.y && "boolean" == typeof e.fixed.y && (t.fixed.y = e.fixed.y))), void 0 !== e.font && null !== e.font ? a["default"].parseOptions(t.font, e) : i === !0 && null === e.font && (t.font = A.bridgeObject(o.font)), void 0 !== e.scaling && A.mergeOptions(t.scaling, e.scaling, "label", i, o.scaling)
                    }
                }]), t
            }();
        e["default"] = B
    }, function(t, e, i) {
        function o(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var n = function() {
                function t(t, e) {
                    var i = [],
                        o = !0,
                        n = !1,
                        s = void 0;
                    try {
                        for (var r, a = t[Symbol.iterator](); !(o = (r = a.next()).done) && (i.push(r.value), !e || i.length !== e); o = !0);
                    } catch (h) {
                        n = !0, s = h
                    } finally {
                        try {
                            !o && a["return"] && a["return"]()
                        } finally {
                            if (n) throw s
                        }
                    }
                    return i
                }
                return function(e, i) {
                    if (Array.isArray(e)) return e;
                    if (Symbol.iterator in Object(e)) return t(e, i);
                    throw new TypeError("Invalid attempt to destructure non-iterable instance")
                }
            }(),
            s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            } : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol ? "symbol" : typeof t
            },
            r = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            a = i(1),
            h = function() {
                function t(e, i) {
                    var n = arguments.length <= 2 || void 0 === arguments[2] ? !1 : arguments[2];
                    o(this, t), this.body = e, this.pointToSelf = !1, this.baseSize = void 0, this.fontOptions = {}, this.setOptions(i), this.size = {
                        top: 0,
                        left: 0,
                        width: 0,
                        height: 0,
                        yLine: 0
                    }, this.isEdgeLabel = n
                }
                return r(t, [{
                    key: "setOptions",
                    value: function(e) {
                        var i = arguments.length <= 1 || void 0 === arguments[1] ? !1 : arguments[1];
                        this.nodeOptions = e, this.fontOptions = a.deepExtend({}, e.font, !0), void 0 !== e.label && (this.labelDirty = !0), void 0 !== e.font && (t.parseOptions(this.fontOptions, e, i), "string" == typeof e.font ? this.baseSize = this.fontOptions.size : "object" === s(e.font) && void 0 !== e.font.size && (this.baseSize = e.font.size))
                    }
                }, {
                    key: "draw",
                    value: function(t, e, i, o) {
                        var n = arguments.length <= 4 || void 0 === arguments[4] ? "middle" : arguments[4];
                        if (void 0 !== this.nodeOptions.label) {
                            var s = this.fontOptions.size * this.body.view.scale;
                            this.nodeOptions.label && s < this.nodeOptions.scaling.label.drawThreshold - 1 || (this.calculateLabelSize(t, o, e, i, n),
                                this._drawBackground(t), this._drawText(t, o, e, i, n))
                        }
                    }
                }, {
                    key: "_drawBackground",
                    value: function(t) {
                        if (void 0 !== this.fontOptions.background && "none" !== this.fontOptions.background) {
                            t.fillStyle = this.fontOptions.background;
                            var e = 2;
                            if (this.isEdgeLabel) switch (this.fontOptions.align) {
                                case "middle":
                                    t.fillRect(.5 * -this.size.width, .5 * -this.size.height, this.size.width, this.size.height);
                                    break;
                                case "top":
                                    t.fillRect(.5 * -this.size.width, -(this.size.height + e), this.size.width, this.size.height);
                                    break;
                                case "bottom":
                                    t.fillRect(.5 * -this.size.width, e, this.size.width, this.size.height);
                                    break;
                                default:
                                    t.fillRect(this.size.left, this.size.top - .5 * e, this.size.width, this.size.height)
                            } else t.fillRect(this.size.left, this.size.top - .5 * e, this.size.width, this.size.height)
                        }
                    }
                }, {
                    key: "_drawText",
                    value: function(t, e, i, o) {
                        var s = arguments.length <= 4 || void 0 === arguments[4] ? "middle" : arguments[4],
                            r = this.fontOptions.size,
                            a = r * this.body.view.scale;
                        a >= this.nodeOptions.scaling.label.maxVisible && (r = Number(this.nodeOptions.scaling.label.maxVisible) / this.body.view.scale);
                        var h = this.size.yLine,
                            d = this._getColor(a),
                            l = n(d, 2),
                            c = l[0],
                            u = l[1],
                            p = this._setAlignment(t, i, h, s),
                            f = n(p, 2);
                        i = f[0], h = f[1], t.font = (e && this.nodeOptions.labelHighlightBold ? "bold " : "") + r + "px " + this.fontOptions.face, t.fillStyle = c, this.isEdgeLabel || "left" !== this.fontOptions.align ? t.textAlign = "center" : (t.textAlign = this.fontOptions.align, i -= .5 * this.size.width), this.fontOptions.strokeWidth > 0 && (t.lineWidth = this.fontOptions.strokeWidth, t.strokeStyle = u, t.lineJoin = "round");
                        for (var m = 0; m < this.lineCount; m++) this.fontOptions.strokeWidth > 0 && t.strokeText(this.lines[m], i, h), t.fillText(this.lines[m], i, h), h += r
                    }
                }, {
                    key: "_setAlignment",
                    value: function(t, e, i, o) {
                        if (this.isEdgeLabel && "horizontal" !== this.fontOptions.align && this.pointToSelf === !1) {
                            e = 0, i = 0;
                            var n = 2;
                            "top" === this.fontOptions.align ? (t.textBaseline = "alphabetic", i -= 2 * n) : "bottom" === this.fontOptions.align ? (t.textBaseline = "hanging", i += 2 * n) : t.textBaseline = "middle"
                        } else t.textBaseline = o;
                        return [e, i]
                    }
                }, {
                    key: "_getColor",
                    value: function(t) {
                        var e = this.fontOptions.color || "#000000",
                            i = this.fontOptions.strokeColor || "#ffffff";
                        if (t <= this.nodeOptions.scaling.label.drawThreshold) {
                            var o = Math.max(0, Math.min(1, 1 - (this.nodeOptions.scaling.label.drawThreshold - t)));
                            e = a.overrideOpacity(e, o), i = a.overrideOpacity(i, o)
                        }
                        return [e, i]
                    }
                }, {
                    key: "getTextSize",
                    value: function(t) {
                        var e = arguments.length <= 1 || void 0 === arguments[1] ? !1 : arguments[1],
                            i = {
                                width: this._processLabel(t, e),
                                height: this.fontOptions.size * this.lineCount,
                                lineCount: this.lineCount
                            };
                        return i
                    }
                }, {
                    key: "calculateLabelSize",
                    value: function(t, e) {
                        var i = arguments.length <= 2 || void 0 === arguments[2] ? 0 : arguments[2],
                            o = arguments.length <= 3 || void 0 === arguments[3] ? 0 : arguments[3],
                            n = arguments.length <= 4 || void 0 === arguments[4] ? "middle" : arguments[4];
                        this.labelDirty === !0 && (this.size.width = this._processLabel(t, e)), this.size.height = this.fontOptions.size * this.lineCount, this.size.left = i - .5 * this.size.width, this.size.top = o - .5 * this.size.height, this.size.yLine = o + .5 * (1 - this.lineCount) * this.fontOptions.size, "hanging" === n && (this.size.top += .5 * this.fontOptions.size, this.size.top += 4, this.size.yLine += 4), this.labelDirty = !1
                    }
                }, {
                    key: "_processLabel",
                    value: function(t, e) {
                        var i = 0,
                            o = [""],
                            n = 0;
                        if (void 0 !== this.nodeOptions.label) {
                            o = String(this.nodeOptions.label).split("\n"), n = o.length, t.font = (e && this.nodeOptions.labelHighlightBold ? "bold " : "") + this.fontOptions.size + "px " + this.fontOptions.face, i = t.measureText(o[0]).width;
                            for (var s = 1; n > s; s++) {
                                var r = t.measureText(o[s]).width;
                                i = r > i ? r : i
                            }
                        }
                        return this.lines = o, this.lineCount = n, i
                    }
                }], [{
                    key: "parseOptions",
                    value: function(t, e) {
                        var i = arguments.length <= 2 || void 0 === arguments[2] ? !1 : arguments[2];
                        if ("string" == typeof e.font) {
                            var o = e.font.split(" ");
                            t.size = o[0].replace("px", ""), t.face = o[1], t.color = o[2]
                        } else "object" === s(e.font) && a.fillIfDefined(t, e.font, i);
                        t.size = Number(t.size)
                    }
                }]), t
            }();
        e["default"] = h
    }, function(t, e, i) {
        function o(t) {
            return t && t.__esModule ? t : {
                "default": t
            }
        }

        function n(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function s(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" != typeof e && "function" != typeof e ? t : e
        }

        function r(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var a = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            h = i(68),
            d = o(h),
            l = function(t) {
                function e(t, i, o) {
                    return n(this, e), s(this, Object.getPrototypeOf(e).call(this, t, i, o))
                }
                return r(e, t), a(e, [{
                    key: "resize",
                    value: function(t, e) {
                        if (void 0 === this.width) {
                            var i = 5,
                                o = this.labelModule.getTextSize(t, e);
                            this.width = o.width + 2 * i, this.height = o.height + 2 * i, this.radius = .5 * this.width
                        }
                    }
                }, {
                    key: "draw",
                    value: function(t, e, i, o, n) {
                        this.resize(t, o), this.left = e - this.width / 2, this.top = i - this.height / 2;
                        var s = this.options.borderWidth,
                            r = this.options.borderWidthSelected || 2 * this.options.borderWidth;
                        t.strokeStyle = o ? this.options.color.highlight.border : n ? this.options.color.hover.border : this.options.color.border, t.lineWidth = o ? r : s, t.lineWidth /= this.body.view.scale, t.lineWidth = Math.min(this.width, t.lineWidth), t.fillStyle = o ? this.options.color.highlight.background : n ? this.options.color.hover.background : this.options.color.background;
                        var a = this.options.shapeProperties.borderRadius;
                        t.roundRect(this.left, this.top, this.width, this.height, a), this.enableShadow(t), t.fill(), this.disableShadow(t), t.save(), s > 0 && (this.enableBorderDashes(t), t.stroke(), this.disableBorderDashes(t)), t.restore(), this.updateBoundingBox(e, i, t, o), this.labelModule.draw(t, e, i, o)
                    }
                }, {
                    key: "updateBoundingBox",
                    value: function(t, e, i, o) {
                        this.resize(i, o), this.left = t - .5 * this.width, this.top = e - .5 * this.height;
                        var n = this.options.shapeProperties.borderRadius;
                        this.boundingBox.left = this.left - n, this.boundingBox.top = this.top - n, this.boundingBox.bottom = this.top + this.height + n, this.boundingBox.right = this.left + this.width + n
                    }
                }, {
                    key: "distanceToBorder",
                    value: function(t, e) {
                        this.resize(t);
                        var i = this.options.borderWidth;
                        return Math.min(Math.abs(this.width / 2 / Math.cos(e)), Math.abs(this.height / 2 / Math.sin(e))) + i
                    }
                }]), e
            }(d["default"]);
        e["default"] = l
    }, function(t, e) {
        function i(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var o = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            n = function() {
                function t(e, o, n) {
                    i(this, t), this.body = o, this.labelModule = n, this.setOptions(e), this.top = void 0, this.left = void 0, this.height = void 0, this.width = void 0, this.radius = void 0, this.boundingBox = {
                        top: 0,
                        left: 0,
                        right: 0,
                        bottom: 0
                    }
                }
                return o(t, [{
                    key: "setOptions",
                    value: function(t) {
                        this.options = t
                    }
                }, {
                    key: "_distanceToBorder",
                    value: function(t, e) {
                        var i = this.options.borderWidth;
                        return this.resize(t), Math.min(Math.abs(this.width / 2 / Math.cos(e)), Math.abs(this.height / 2 / Math.sin(e))) + i
                    }
                }, {
                    key: "enableShadow",
                    value: function(t) {
                        this.options.shadow.enabled === !0 && (t.shadowColor = this.options.shadow.color, t.shadowBlur = this.options.shadow.size, t.shadowOffsetX = this.options.shadow.x, t.shadowOffsetY = this.options.shadow.y)
                    }
                }, {
                    key: "disableShadow",
                    value: function(t) {
                        this.options.shadow.enabled === !0 && (t.shadowColor = "rgba(0,0,0,0)", t.shadowBlur = 0, t.shadowOffsetX = 0, t.shadowOffsetY = 0)
                    }
                }, {
                    key: "enableBorderDashes",
                    value: function(t) {
                        if (this.options.shapeProperties.borderDashes !== !1)
                            if (void 0 !== t.setLineDash) {
                                var e = this.options.shapeProperties.borderDashes;
                                e === !0 && (e = [5, 15]), t.setLineDash(e)
                            } else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."), this.options.shapeProperties.borderDashes = !1
                    }
                }, {
                    key: "disableBorderDashes",
                    value: function(t) {
                        this.options.shapeProperties.borderDashes !== !1 && (void 0 !== t.setLineDash ? t.setLineDash([0]) : (console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."), this.options.shapeProperties.borderDashes = !1))
                    }
                }]), t
            }();
        e["default"] = n
    }, function(t, e, i) {
        function o(t) {
            return t && t.__esModule ? t : {
                "default": t
            }
        }

        function n(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function s(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" != typeof e && "function" != typeof e ? t : e
        }

        function r(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var a = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            h = i(70),
            d = o(h),
            l = function(t) {
                function e(t, i, o) {
                    return n(this, e), s(this, Object.getPrototypeOf(e).call(this, t, i, o))
                }
                return r(e, t), a(e, [{
                    key: "resize",
                    value: function(t, e) {
                        if (void 0 === this.width) {
                            var i = 5,
                                o = this.labelModule.getTextSize(t, e),
                                n = Math.max(o.width, o.height) + 2 * i;
                            this.options.size = n / 2, this.width = n, this.height = n, this.radius = .5 * this.width
                        }
                    }
                }, {
                    key: "draw",
                    value: function(t, e, i, o, n) {
                        this.resize(t, o), this.left = e - this.width / 2, this.top = i - this.height / 2, this._drawRawCircle(t, e, i, o, n, this.options.size), this.boundingBox.top = i - this.options.size, this.boundingBox.left = e - this.options.size, this.boundingBox.right = e + this.options.size, this.boundingBox.bottom = i + this.options.size, this.updateBoundingBox(e, i), this.labelModule.draw(t, e, i, o)
                    }
                }, {
                    key: "updateBoundingBox",
                    value: function(t, e) {
                        this.boundingBox.top = e - this.options.size, this.boundingBox.left = t - this.options.size, this.boundingBox.right = t + this.options.size, this.boundingBox.bottom = e + this.options.size
                    }
                }, {
                    key: "distanceToBorder",
                    value: function(t, e) {
                        return this.resize(t), .5 * this.width
                    }
                }]), e
            }(d["default"]);
        e["default"] = l
    }, function(t, e, i) {
        function o(t) {
            return t && t.__esModule ? t : {
                "default": t
            }
        }

        function n(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function s(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" != typeof e && "function" != typeof e ? t : e
        }

        function r(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var a = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            h = i(68),
            d = o(h),
            l = function(t) {
                function e(t, i, o) {
                    n(this, e);
                    var r = s(this, Object.getPrototypeOf(e).call(this, t, i, o));
                    return r.labelOffset = 0, r.imageLoaded = !1, r
                }
                return r(e, t), a(e, [{
                    key: "setOptions",
                    value: function(t, e) {
                        this.options = t, e && (this.imageObj = e)
                    }
                }, {
                    key: "_resizeImage",
                    value: function() {
                        var t = !1;
                        if (this.imageObj.width && this.imageObj.height ? this.imageLoaded === !1 && (this.imageLoaded = !0, t = !0) : this.imageLoaded = !1, !this.width || !this.height || t === !0) {
                            var e, i, o;
                            this.imageObj.width && this.imageObj.height && (e = 0, i = 0), this.options.shapeProperties.useImageSize === !1 ? this.imageObj.width > this.imageObj.height ? (o = this.imageObj.width / this.imageObj.height, e = 2 * this.options.size * o || this.imageObj.width, i = 2 * this.options.size || this.imageObj.height) : (o = this.imageObj.width && this.imageObj.height ? this.imageObj.height / this.imageObj.width : 1, e = 2 * this.options.size, i = 2 * this.options.size * o) : (e = this.imageObj.width, i = this.imageObj.height), this.width = e, this.height = i, this.radius = .5 * this.width
                        }
                    }
                }, {
                    key: "_drawRawCircle",
                    value: function(t, e, i, o, n, s) {
                        var r = this.options.borderWidth,
                            a = this.options.borderWidthSelected || 2 * this.options.borderWidth,
                            h = (o ? a : r) / this.body.view.scale;
                        t.lineWidth = Math.min(this.width, h), t.strokeStyle = o ? this.options.color.highlight.border : n ? this.options.color.hover.border : this.options.color.border, t.fillStyle = o ? this.options.color.highlight.background : n ? this.options.color.hover.background : this.options.color.background, t.circle(e, i, s), this.enableShadow(t), t.fill(), this.disableShadow(t), t.save(), h > 0 && (this.enableBorderDashes(t), t.stroke(), this.disableBorderDashes(t)), t.restore()
                    }
                }, {
                    key: "_drawImageAtPosition",
                    value: function(t) {
                        if (0 != this.imageObj.width) {
                            t.globalAlpha = 1, this.enableShadow(t);
                            var e = this.imageObj.width / this.width / this.body.view.scale;
                            if (e > 2 && this.options.shapeProperties.interpolation === !0) {
                                var i = this.imageObj.width,
                                    o = this.imageObj.height,
                                    n = document.createElement("canvas");
                                n.width = i, n.height = i;
                                var s = n.getContext("2d");
                                e *= .5, i *= .5, o *= .5, s.drawImage(this.imageObj, 0, 0, i, o);
                                for (var r = 0, a = 1; e > 2 && 4 > a;) s.drawImage(n, r, 0, i, o, r + i, 0, i / 2, o / 2), r += i, e *= .5, i *= .5, o *= .5, a += 1;
                                t.drawImage(n, r, 0, i, o, this.left, this.top, this.width, this.height)
                            } else t.drawImage(this.imageObj, this.left, this.top, this.width, this.height);
                            this.disableShadow(t)
                        }
                    }
                }, {
                    key: "_drawImageLabel",
                    value: function(t, e, i, o) {
                        var n, s = 0;
                        if (void 0 !== this.height) {
                            s = .5 * this.height;
                            var r = this.labelModule.getTextSize(t);
                            r.lineCount >= 1 && (s += r.height / 2)
                        }
                        n = i + s, this.options.label && (this.labelOffset = s), this.labelModule.draw(t, e, n, o, "hanging")
                    }
                }]), e
            }(d["default"]);
        e["default"] = l
    }, function(t, e, i) {
        function o(t) {
            return t && t.__esModule ? t : {
                "default": t
            }
        }

        function n(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function s(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" != typeof e && "function" != typeof e ? t : e
        }

        function r(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var a = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            h = i(70),
            d = o(h),
            l = function(t) {
                function e(t, i, o, r) {
                    n(this, e);
                    var a = s(this, Object.getPrototypeOf(e).call(this, t, i, o));
                    return a.imageObj = r, a._swapToImageResizeWhenImageLoaded = !0, a
                }
                return r(e, t), a(e, [{
                    key: "resize",
                    value: function() {
                        if (void 0 === this.imageObj.src || void 0 === this.imageObj.width || void 0 === this.imageObj.height) {
                            if (!this.width) {
                                var t = 2 * this.options.size;
                                this.width = t, this.height = t, this._swapToImageResizeWhenImageLoaded = !0, this.radius = .5 * this.width
                            }
                        } else this._swapToImageResizeWhenImageLoaded && (this.width = void 0, this.height = void 0, this._swapToImageResizeWhenImageLoaded = !1), this._resizeImage()
                    }
                }, {
                    key: "draw",
                    value: function(t, e, i, o, n) {
                        this.resize(), this.left = e - this.width / 2, this.top = i - this.height / 2;
                        var s = Math.min(.5 * this.height, .5 * this.width);
                        this._drawRawCircle(t, e, i, o, n, s), t.save(), t.clip(), this._drawImageAtPosition(t), t.restore(), this._drawImageLabel(t, e, i, o), this.updateBoundingBox(e, i)
                    }
                }, {
                    key: "updateBoundingBox",
                    value: function(t, e) {
                        this.boundingBox.top = e - this.options.size, this.boundingBox.left = t - this.options.size, this.boundingBox.right = t + this.options.size, this.boundingBox.bottom = e + this.options.size, this.boundingBox.left = Math.min(this.boundingBox.left, this.labelModule.size.left), this.boundingBox.right = Math.max(this.boundingBox.right, this.labelModule.size.left + this.labelModule.size.width), this.boundingBox.bottom = Math.max(this.boundingBox.bottom, this.boundingBox.bottom + this.labelOffset)
                    }
                }, {
                    key: "distanceToBorder",
                    value: function(t, e) {
                        return this.resize(t), .5 * this.width
                    }
                }]), e
            }(d["default"]);
        e["default"] = l
    }, function(t, e, i) {
        function o(t) {
            return t && t.__esModule ? t : {
                "default": t
            }
        }

        function n(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function s(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" != typeof e && "function" != typeof e ? t : e
        }

        function r(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var a = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            h = i(68),
            d = o(h),
            l = function(t) {
                function e(t, i, o) {
                    return n(this, e), s(this, Object.getPrototypeOf(e).call(this, t, i, o))
                }
                return r(e, t), a(e, [{
                    key: "resize",
                    value: function(t, e) {
                        if (void 0 === this.width) {
                            var i = 5,
                                o = this.labelModule.getTextSize(t, e),
                                n = o.width + 2 * i;
                            this.width = n, this.height = n, this.radius = .5 * this.width
                        }
                    }
                }, {
                    key: "draw",
                    value: function(t, e, i, o, n) {
                        this.resize(t, o), this.left = e - this.width / 2, this.top = i - this.height / 2;
                        var s = this.options.borderWidth,
                            r = this.options.borderWidthSelected || 2 * this.options.borderWidth,
                            a = (o ? r : s) / this.body.view.scale;
                        t.lineWidth = Math.min(this.width, a), t.strokeStyle = o ? this.options.color.highlight.border : n ? this.options.color.hover.border : this.options.color.border, t.fillStyle = o ? this.options.color.highlight.background : n ? this.options.color.hover.background : this.options.color.background, t.database(e - this.width / 2, i - .5 * this.height, this.width, this.height), this.enableShadow(t), t.fill(), this.disableShadow(t), t.save(), a > 0 && (this.enableBorderDashes(t), t.stroke(), this.disableBorderDashes(t)), t.restore(), this.updateBoundingBox(e, i, t, o), this.labelModule.draw(t, e, i, o)
                    }
                }, {
                    key: "updateBoundingBox",
                    value: function(t, e, i, o) {
                        this.resize(i, o), this.left = t - .5 * this.width, this.top = e - .5 * this.height, this.boundingBox.left = this.left, this.boundingBox.top = this.top, this.boundingBox.bottom = this.top + this.height, this.boundingBox.right = this.left + this.width
                    }
                }, {
                    key: "distanceToBorder",
                    value: function(t, e) {
                        return this._distanceToBorder(t, e)
                    }
                }]), e
            }(d["default"]);
        e["default"] = l
    }, function(t, e, i) {
        function o(t) {
            return t && t.__esModule ? t : {
                "default": t
            }
        }

        function n(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function s(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" != typeof e && "function" != typeof e ? t : e
        }

        function r(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var a = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            h = i(74),
            d = o(h),
            l = function(t) {
                function e(t, i, o) {
                    return n(this, e), s(this, Object.getPrototypeOf(e).call(this, t, i, o))
                }
                return r(e, t), a(e, [{
                    key: "resize",
                    value: function(t) {
                        this._resizeShape()
                    }
                }, {
                    key: "draw",
                    value: function(t, e, i, o, n) {
                        this._drawShape(t, "diamond", 4, e, i, o, n)
                    }
                }, {
                    key: "distanceToBorder",
                    value: function(t, e) {
                        return this._distanceToBorder(t, e)
                    }
                }]), e
            }(d["default"]);
        e["default"] = l
    }, function(t, e, i) {
        function o(t) {
            return t && t.__esModule ? t : {
                "default": t
            }
        }

        function n(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function s(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" != typeof e && "function" != typeof e ? t : e
        }

        function r(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var a = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            h = i(68),
            d = o(h),
            l = function(t) {
                function e(t, i, o) {
                    return n(this, e), s(this, Object.getPrototypeOf(e).call(this, t, i, o))
                }
                return r(e, t), a(e, [{
                    key: "_resizeShape",
                    value: function() {
                        if (void 0 === this.width) {
                            var t = 2 * this.options.size;
                            this.width = t, this.height = t, this.radius = .5 * this.width
                        }
                    }
                }, {
                    key: "_drawShape",
                    value: function(t, e, i, o, n, s, r) {
                        this._resizeShape(), this.left = o - this.width / 2, this.top = n - this.height / 2;
                        var a = this.options.borderWidth,
                            h = this.options.borderWidthSelected || 2 * this.options.borderWidth,
                            d = (s ? h : a) / this.body.view.scale;
                        if (t.lineWidth = Math.min(this.width, d), t.strokeStyle = s ? this.options.color.highlight.border : r ? this.options.color.hover.border : this.options.color.border, t.fillStyle = s ? this.options.color.highlight.background : r ? this.options.color.hover.background : this.options.color.background, t[e](o, n, this.options.size), this.enableShadow(t), t.fill(), this.disableShadow(t), t.save(), d > 0 && (this.enableBorderDashes(t), t.stroke(), this.disableBorderDashes(t)), t.restore(), void 0 !== this.options.label) {
                            var l = n + .5 * this.height + 3;
                            this.labelModule.draw(t, o, l, s, "hanging")
                        }
                        this.updateBoundingBox(o, n)
                    }
                }, {
                    key: "updateBoundingBox",
                    value: function(t, e) {
                        this.boundingBox.top = e - this.options.size, this.boundingBox.left = t - this.options.size, this.boundingBox.right = t + this.options.size, this.boundingBox.bottom = e + this.options.size, void 0 !== this.options.label && this.labelModule.size.width > 0 && (this.boundingBox.left = Math.min(this.boundingBox.left, this.labelModule.size.left), this.boundingBox.right = Math.max(this.boundingBox.right, this.labelModule.size.left + this.labelModule.size.width), this.boundingBox.bottom = Math.max(this.boundingBox.bottom, this.boundingBox.bottom + this.labelModule.size.height + 3))
                    }
                }]), e
            }(d["default"]);
        e["default"] = l
    }, function(t, e, i) {
        function o(t) {
            return t && t.__esModule ? t : {
                "default": t
            }
        }

        function n(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function s(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" != typeof e && "function" != typeof e ? t : e
        }

        function r(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var a = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            h = i(74),
            d = o(h),
            l = function(t) {
                function e(t, i, o) {
                    return n(this, e), s(this, Object.getPrototypeOf(e).call(this, t, i, o))
                }
                return r(e, t), a(e, [{
                    key: "resize",
                    value: function(t) {
                        this._resizeShape()
                    }
                }, {
                    key: "draw",
                    value: function(t, e, i, o, n) {
                        this._drawShape(t, "circle", 2, e, i, o, n)
                    }
                }, {
                    key: "distanceToBorder",
                    value: function(t, e) {
                        return this.resize(t), this.options.size
                    }
                }]), e
            }(d["default"]);
        e["default"] = l
    }, function(t, e, i) {
        function o(t) {
            return t && t.__esModule ? t : {
                "default": t
            }
        }

        function n(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function s(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" != typeof e && "function" != typeof e ? t : e
        }

        function r(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var a = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            h = i(68),
            d = o(h),
            l = function(t) {
                function e(t, i, o) {
                    return n(this, e), s(this, Object.getPrototypeOf(e).call(this, t, i, o))
                }
                return r(e, t), a(e, [{
                    key: "resize",
                    value: function(t, e) {
                        if (void 0 === this.width) {
                            var i = this.labelModule.getTextSize(t, e);
                            this.width = 1.5 * i.width, this.height = 2 * i.height, this.width < this.height && (this.width = this.height), this.radius = .5 * this.width
                        }
                    }
                }, {
                    key: "draw",
                    value: function(t, e, i, o, n) {
                        this.resize(t, o), this.left = e - .5 * this.width, this.top = i - .5 * this.height;
                        var s = this.options.borderWidth,
                            r = this.options.borderWidthSelected || 2 * this.options.borderWidth,
                            a = (o ? r : s) / this.body.view.scale;
                        t.lineWidth = Math.min(this.width, a), t.strokeStyle = o ? this.options.color.highlight.border : n ? this.options.color.hover.border : this.options.color.border, t.fillStyle = o ? this.options.color.highlight.background : n ? this.options.color.hover.background : this.options.color.background, t.ellipse(this.left, this.top, this.width, this.height), this.enableShadow(t), t.fill(), this.disableShadow(t), t.save(), a > 0 && (this.enableBorderDashes(t), t.stroke(), this.disableBorderDashes(t)), t.restore(), this.updateBoundingBox(e, i, t, o), this.labelModule.draw(t, e, i, o)
                    }
                }, {
                    key: "updateBoundingBox",
                    value: function(t, e, i, o) {
                        this.resize(i, o), this.left = t - .5 * this.width, this.top = e - .5 * this.height, this.boundingBox.left = this.left, this.boundingBox.top = this.top, this.boundingBox.bottom = this.top + this.height, this.boundingBox.right = this.left + this.width
                    }
                }, {
                    key: "distanceToBorder",
                    value: function(t, e) {
                        this.resize(t);
                        var i = .5 * this.width,
                            o = .5 * this.height,
                            n = Math.sin(e) * i,
                            s = Math.cos(e) * o;
                        return i * o / Math.sqrt(n * n + s * s)
                    }
                }]), e
            }(d["default"]);
        e["default"] = l
    }, function(t, e, i) {
        function o(t) {
            return t && t.__esModule ? t : {
                "default": t
            }
        }

        function n(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function s(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" != typeof e && "function" != typeof e ? t : e
        }

        function r(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var a = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            h = i(68),
            d = o(h),
            l = function(t) {
                function e(t, i, o) {
                    return n(this, e), s(this, Object.getPrototypeOf(e).call(this, t, i, o))
                }
                return r(e, t), a(e, [{
                    key: "resize",
                    value: function(t) {
                        if (void 0 === this.width) {
                            var e = 5,
                                i = {
                                    width: Number(this.options.icon.size),
                                    height: Number(this.options.icon.size)
                                };
                            this.width = i.width + 2 * e, this.height = i.height + 2 * e, this.radius = .5 * this.width
                        }
                    }
                }, {
                    key: "draw",
                    value: function(t, e, i, o, n) {
                        if (this.resize(t), this.options.icon.size = this.options.icon.size || 50, this.left = e - .5 * this.width, this.top = i - .5 * this.height, this._icon(t, e, i, o), void 0 !== this.options.label) {
                            var s = 5;
                            this.labelModule.draw(t, e, i + .5 * this.height + s, o)
                        }
                        this.updateBoundingBox(e, i)
                    }
                }, {
                    key: "updateBoundingBox",
                    value: function(t, e) {
                        if (this.boundingBox.top = e - .5 * this.options.icon.size, this.boundingBox.left = t - .5 * this.options.icon.size, this.boundingBox.right = t + .5 * this.options.icon.size, this.boundingBox.bottom = e + .5 * this.options.icon.size, void 0 !== this.options.label && this.labelModule.size.width > 0) {
                            var i = 5;
                            this.boundingBox.left = Math.min(this.boundingBox.left, this.labelModule.size.left), this.boundingBox.right = Math.max(this.boundingBox.right, this.labelModule.size.left + this.labelModule.size.width), this.boundingBox.bottom = Math.max(this.boundingBox.bottom, this.boundingBox.bottom + this.labelModule.size.height + i)
                        }
                    }
                }, {
                    key: "_icon",
                    value: function(t, e, i, o) {
                        var n = Number(this.options.icon.size);
                        void 0 !== this.options.icon.code ? (t.font = (o ? "bold " : "") + n + "px " + this.options.icon.face, t.fillStyle = this.options.icon.color || "black", t.textAlign = "center", t.textBaseline = "middle", this.enableShadow(t), t.fillText(this.options.icon.code, e, i), this.disableShadow(t)) : console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")
                    }
                }, {
                    key: "distanceToBorder",
                    value: function(t, e) {
                        return this._distanceToBorder(t, e)
                    }
                }]), e
            }(d["default"]);
        e["default"] = l
    }, function(t, e, i) {
        function o(t) {
            return t && t.__esModule ? t : {
                "default": t
            }
        }

        function n(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function s(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" != typeof e && "function" != typeof e ? t : e
        }

        function r(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var a = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            h = i(70),
            d = o(h),
            l = function(t) {
                function e(t, i, o, r) {
                    n(this, e);
                    var a = s(this, Object.getPrototypeOf(e).call(this, t, i, o));
                    return a.imageObj = r, a
                }
                return r(e, t), a(e, [{
                    key: "resize",
                    value: function() {
                        this._resizeImage()
                    }
                }, {
                    key: "draw",
                    value: function(t, e, i, o, n) {
                        if (this.resize(), this.left = e - this.width / 2, this.top = i - this.height / 2, this.options.shapeProperties.useBorderWithImage === !0) {
                            var s = this.options.borderWidth,
                                r = this.options.borderWidthSelected || 2 * this.options.borderWidth,
                                a = (o ? r : s) / this.body.view.scale;
                            t.lineWidth = Math.min(this.width, a), t.beginPath(), t.strokeStyle = o ? this.options.color.highlight.border : n ? this.options.color.hover.border : this.options.color.border, t.fillStyle = o ? this.options.color.highlight.background : n ? this.options.color.hover.background : this.options.color.background, t.rect(this.left - .5 * t.lineWidth, this.top - .5 * t.lineWidth, this.width + t.lineWidth, this.height + t.lineWidth), t.fill(), t.save(), a > 0 && (this.enableBorderDashes(t), t.stroke(), this.disableBorderDashes(t)), t.restore(), t.closePath()
                        }
                        this._drawImageAtPosition(t), this._drawImageLabel(t, e, i, o || n), this.updateBoundingBox(e, i)
                    }
                }, {
                    key: "updateBoundingBox",
                    value: function(t, e) {
                        this.resize(), this.left = t - this.width / 2, this.top = e - this.height / 2, this.boundingBox.top = this.top, this.boundingBox.left = this.left, this.boundingBox.right = this.left + this.width, this.boundingBox.bottom = this.top + this.height, void 0 !== this.options.label && this.labelModule.size.width > 0 && (this.boundingBox.left = Math.min(this.boundingBox.left, this.labelModule.size.left), this.boundingBox.right = Math.max(this.boundingBox.right, this.labelModule.size.left + this.labelModule.size.width), this.boundingBox.bottom = Math.max(this.boundingBox.bottom, this.boundingBox.bottom + this.labelOffset))
                    }
                }, {
                    key: "distanceToBorder",
                    value: function(t, e) {
                        return this._distanceToBorder(t, e)
                    }
                }]), e
            }(d["default"]);
        e["default"] = l
    }, function(t, e, i) {
        function o(t) {
            return t && t.__esModule ? t : {
                "default": t
            }
        }

        function n(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function s(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" != typeof e && "function" != typeof e ? t : e
        }

        function r(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var a = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            h = i(74),
            d = o(h),
            l = function(t) {
                function e(t, i, o) {
                    return n(this, e), s(this, Object.getPrototypeOf(e).call(this, t, i, o))
                }
                return r(e, t), a(e, [{
                    key: "resize",
                    value: function() {
                        this._resizeShape()
                    }
                }, {
                    key: "draw",
                    value: function(t, e, i, o, n) {
                        this._drawShape(t, "square", 2, e, i, o, n)
                    }
                }, {
                    key: "distanceToBorder",
                    value: function(t, e) {
                        return this._distanceToBorder(t, e)
                    }
                }]), e
            }(d["default"]);
        e["default"] = l
    }, function(t, e, i) {
        function o(t) {
            return t && t.__esModule ? t : {
                "default": t
            }
        }

        function n(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function s(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" != typeof e && "function" != typeof e ? t : e
        }

        function r(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var a = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            h = i(74),
            d = o(h),
            l = function(t) {
                function e(t, i, o) {
                    return n(this, e), s(this, Object.getPrototypeOf(e).call(this, t, i, o))
                }
                return r(e, t), a(e, [{
                    key: "resize",
                    value: function(t) {
                        this._resizeShape()
                    }
                }, {
                    key: "draw",
                    value: function(t, e, i, o, n) {
                        this._drawShape(t, "star", 4, e, i, o, n)
                    }
                }, {
                    key: "distanceToBorder",
                    value: function(t, e) {
                        return this._distanceToBorder(t, e)
                    }
                }]), e
            }(d["default"]);
        e["default"] = l
    }, function(t, e, i) {
        function o(t) {
            return t && t.__esModule ? t : {
                "default": t
            }
        }

        function n(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function s(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" != typeof e && "function" != typeof e ? t : e
        }

        function r(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var a = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            h = i(68),
            d = o(h),
            l = function(t) {
                function e(t, i, o) {
                    return n(this, e), s(this, Object.getPrototypeOf(e).call(this, t, i, o))
                }
                return r(e, t), a(e, [{
                    key: "resize",
                    value: function(t, e) {
                        if (void 0 === this.width) {
                            var i = 5,
                                o = this.labelModule.getTextSize(t, e);
                            this.width = o.width + 2 * i, this.height = o.height + 2 * i, this.radius = .5 * this.width
                        }
                    }
                }, {
                    key: "draw",
                    value: function(t, e, i, o, n) {
                        this.resize(t, o || n), this.left = e - this.width / 2, this.top = i - this.height / 2, this.enableShadow(t), this.labelModule.draw(t, e, i, o || n), this.disableShadow(t), this.updateBoundingBox(e, i, t, o)
                    }
                }, {
                    key: "updateBoundingBox",
                    value: function(t, e, i, o) {
                        this.resize(i, o), this.left = t - this.width / 2, this.top = e - this.height / 2, this.boundingBox.top = this.top, this.boundingBox.left = this.left, this.boundingBox.right = this.left + this.width, this.boundingBox.bottom = this.top + this.height
                    }
                }, {
                    key: "distanceToBorder",
                    value: function(t, e) {
                        return this._distanceToBorder(t, e)
                    }
                }]), e
            }(d["default"]);
        e["default"] = l
    }, function(t, e, i) {
        function o(t) {
            return t && t.__esModule ? t : {
                "default": t
            }
        }

        function n(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function s(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" != typeof e && "function" != typeof e ? t : e
        }

        function r(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var a = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            h = i(74),
            d = o(h),
            l = function(t) {
                function e(t, i, o) {
                    return n(this, e), s(this, Object.getPrototypeOf(e).call(this, t, i, o))
                }
                return r(e, t), a(e, [{
                    key: "resize",
                    value: function(t) {
                        this._resizeShape()
                    }
                }, {
                    key: "draw",
                    value: function(t, e, i, o, n) {
                        this._drawShape(t, "triangle", 3, e, i, o, n)
                    }
                }, {
                    key: "distanceToBorder",
                    value: function(t, e) {
                        return this._distanceToBorder(t, e)
                    }
                }]), e
            }(d["default"]);
        e["default"] = l
    }, function(t, e, i) {
        function o(t) {
            return t && t.__esModule ? t : {
                "default": t
            }
        }

        function n(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function s(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" != typeof e && "function" != typeof e ? t : e
        }

        function r(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var a = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            h = i(74),
            d = o(h),
            l = function(t) {
                function e(t, i, o) {
                    return n(this, e), s(this, Object.getPrototypeOf(e).call(this, t, i, o))
                }
                return r(e, t), a(e, [{
                    key: "resize",
                    value: function(t) {
                        this._resizeShape()
                    }
                }, {
                    key: "draw",
                    value: function(t, e, i, o, n) {
                        this._drawShape(t, "triangleDown", 3, e, i, o, n)
                    }
                }, {
                    key: "distanceToBorder",
                    value: function(t, e) {
                        return this._distanceToBorder(t, e)
                    }
                }]), e
            }(d["default"]);
        e["default"] = l
    }, function(t, e, i) {
        function o(t) {
            return t && t.__esModule ? t : {
                "default": t
            }
        }

        function n(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var s = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            r = i(85),
            a = o(r),
            h = i(66),
            d = o(h),
            l = i(1),
            c = i(9),
            u = i(11),
            p = function() {
                function t(e, i, o) {
                    var s = this;
                    n(this, t), this.body = e, this.images = i, this.groups = o, this.body.functions.createEdge = this.create.bind(this), this.edgesListeners = {
                        add: function(t, e) {
                            s.add(e.items)
                        },
                        update: function(t, e) {
                            s.update(e.items)
                        },
                        remove: function(t, e) {
                            s.remove(e.items)
                        }
                    }, this.options = {}, this.defaultOptions = {
                        arrows: {
                            to: {
                                enabled: !1,
                                scaleFactor: 1
                            },
                            middle: {
                                enabled: !1,
                                scaleFactor: 1
                            },
                            from: {
                                enabled: !1,
                                scaleFactor: 1
                            }
                        },
                        arrowStrikethrough: !0,
                        color: {
                            color: "#848484",
                            highlight: "#848484",
                            hover: "#848484",
                            inherit: "from",
                            opacity: 1
                        },
                        dashes: !1,
                        font: {
                            color: "#343434",
                            size: 14,
                            face: "arial",
                            background: "none",
                            strokeWidth: 2,
                            strokeColor: "#ffffff",
                            align: "horizontal"
                        },
                        hidden: !1,
                        hoverWidth: 1.5,
                        label: void 0,
                        labelHighlightBold: !0,
                        length: void 0,
                        physics: !0,
                        scaling: {
                            min: 1,
                            max: 15,
                            label: {
                                enabled: !0,
                                min: 14,
                                max: 30,
                                maxVisible: 30,
                                drawThreshold: 5
                            },
                            customScalingFunction: function(t, e, i, o) {
                                if (e === t) return .5;
                                var n = 1 / (e - t);
                                return Math.max(0, (o - t) * n)
                            }
                        },
                        selectionWidth: 1.5,
                        selfReferenceSize: 20,
                        shadow: {
                            enabled: !1,
                            color: "rgba(0,0,0,0.5)",
                            size: 10,
                            x: 5,
                            y: 5
                        },
                        smooth: {
                            enabled: !0,
                            type: "dynamic",
                            forceDirection: "none",
                            roundness: .5
                        },
                        title: void 0,
                        width: 1,
                        value: void 0
                    }, l.extend(this.options, this.defaultOptions), this.bindEventListeners()
                }
                return s(t, [{
                    key: "bindEventListeners",
                    value: function() {
                        var t = this;
                        this.body.emitter.on("_forceDisableDynamicCurves", function(e) {
                            "dynamic" === e && (e = "continuous");
                            var i = !1;
                            for (var o in t.body.edges)
                                if (t.body.edges.hasOwnProperty(o)) {
                                    var n = t.body.edges[o],
                                        s = t.body.data.edges._data[o];
                                    if (void 0 !== s) {
                                        var r = s.smooth;
                                        void 0 !== r && r.enabled === !0 && "dynamic" === r.type && (void 0 === e ? n.setOptions({
                                            smooth: !1
                                        }) : n.setOptions({
                                            smooth: {
                                                type: e
                                            }
                                        }), i = !0)
                                    }
                                }
                            i === !0 && t.body.emitter.emit("_dataChanged")
                        }), this.body.emitter.on("_dataUpdated", function() {
                            t.reconnectEdges(), t.markAllEdgesAsDirty()
                        }), this.body.emitter.on("refreshEdges", this.refresh.bind(this)), this.body.emitter.on("refresh", this.refresh.bind(this)), this.body.emitter.on("destroy", function() {
                            l.forEach(t.edgesListeners, function(e, i) {
                                t.body.data.edges && t.body.data.edges.off(i, e)
                            }), delete t.body.functions.createEdge, delete t.edgesListeners.add, delete t.edgesListeners.update, delete t.edgesListeners.remove, delete t.edgesListeners
                        })
                    }
                }, {
                    key: "setOptions",
                    value: function(t) {
                        if (void 0 !== t) {
                            a["default"].parseOptions(this.options, t), void 0 !== t.color && this.markAllEdgesAsDirty();
                            var e = !1;
                            if (void 0 !== t.smooth)
                                for (var i in this.body.edges) this.body.edges.hasOwnProperty(i) && (e = this.body.edges[i].updateEdgeType() || e);
                            if (void 0 !== t.font) {
                                d["default"].parseOptions(this.options.font, t);
                                for (var o in this.body.edges) this.body.edges.hasOwnProperty(o) && this.body.edges[o].updateLabelModule()
                            }
                            void 0 === t.hidden && void 0 === t.physics && e !== !0 || this.body.emitter.emit("_dataChanged")
                        }
                    }
                }, {
                    key: "setData",
                    value: function(t) {
                        var e = this,
                            i = arguments.length <= 1 || void 0 === arguments[1] ? !1 : arguments[1],
                            o = this.body.data.edges;
                        if (t instanceof c || t instanceof u) this.body.data.edges = t;
                        else if (Array.isArray(t)) this.body.data.edges = new c, this.body.data.edges.add(t);
                        else {
                            if (t) throw new TypeError("Array or DataSet expected");
                            this.body.data.edges = new c
                        }
                        if (o && l.forEach(this.edgesListeners, function(t, e) {
                                o.off(e, t)
                            }), this.body.edges = {}, this.body.data.edges) {
                            l.forEach(this.edgesListeners, function(t, i) {
                                e.body.data.edges.on(i, t)
                            });
                            var n = this.body.data.edges.getIds();
                            this.add(n, !0)
                        }
                        i === !1 && this.body.emitter.emit("_dataChanged")
                    }
                }, {
                    key: "add",
                    value: function(t) {
                        for (var e = arguments.length <= 1 || void 0 === arguments[1] ? !1 : arguments[1], i = this.body.edges, o = this.body.data.edges, n = 0; n < t.length; n++) {
                            var s = t[n],
                                r = i[s];
                            r && r.disconnect();
                            var a = o.get(s, {
                                showInternalIds: !0
                            });
                            i[s] = this.create(a)
                        }
                        e === !1 && this.body.emitter.emit("_dataChanged")
                    }
                }, {
                    key: "update",
                    value: function(t) {
                        for (var e = this.body.edges, i = this.body.data.edges, o = !1, n = 0; n < t.length; n++) {
                            var s = t[n],
                                r = i.get(s),
                                a = e[s];
                            void 0 !== a ? (a.disconnect(), o = a.setOptions(r) || o, a.connect()) : (this.body.edges[s] = this.create(r), o = !0)
                        }
                        o === !0 ? this.body.emitter.emit("_dataChanged") : this.body.emitter.emit("_dataUpdated")
                    }
                }, {
                    key: "remove",
                    value: function(t) {
                        for (var e = this.body.edges, i = 0; i < t.length; i++) {
                            var o = t[i],
                                n = e[o];
                            void 0 !== n && (n.cleanup(), n.disconnect(), delete e[o])
                        }
                        this.body.emitter.emit("_dataChanged")
                    }
                }, {
                    key: "refresh",
                    value: function() {
                        var t = this.body.edges;
                        for (var e in t) {
                            var i = void 0;
                            t.hasOwnProperty(e) && (i = t[e]);
                            var o = this.body.data.edges._data[e];
                            void 0 !== i && void 0 !== o && i.setOptions(o)
                        }
                    }
                }, {
                    key: "create",
                    value: function(t) {
                        return new a["default"](t, this.body, this.options)
                    }
                }, {
                    key: "markAllEdgesAsDirty",
                    value: function() {
                        for (var t in this.body.edges) this.body.edges[t].edgeType.colorDirty = !0
                    }
                }, {
                    key: "reconnectEdges",
                    value: function() {
                        var t, e = this.body.nodes,
                            i = this.body.edges;
                        for (t in e) e.hasOwnProperty(t) && (e[t].edges = []);
                        for (t in i)
                            if (i.hasOwnProperty(t)) {
                                var o = i[t];
                                o.from = null, o.to = null, o.connect()
                            }
                    }
                }, {
                    key: "getConnectedNodes",
                    value: function(t) {
                        var e = [];
                        if (void 0 !== this.body.edges[t]) {
                            var i = this.body.edges[t];
                            i.fromId && e.push(i.fromId), i.toId && e.push(i.toId)
                        }
                        return e
                    }
                }]), t
            }();
        e["default"] = p
    }, function(t, e, i) {
        function o(t) {
            return t && t.__esModule ? t : {
                "default": t
            }
        }

        function n(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            } : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol ? "symbol" : typeof t
            },
            r = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            a = i(66),
            h = o(a),
            d = i(86),
            l = o(d),
            c = i(90),
            u = o(c),
            p = i(91),
            f = o(p),
            m = i(92),
            v = o(m),
            g = i(1),
            y = function() {
                function t(e, i, o) {
                    if (n(this, t), void 0 === i) throw "No body provided";
                    this.options = g.bridgeObject(o), this.globalOptions = o, this.body = i, this.id = void 0, this.fromId = void 0, this.toId = void 0, this.selected = !1, this.hover = !1, this.labelDirty = !0, this.colorDirty = !0, this.baseWidth = this.options.width, this.baseFontSize = this.options.font.size, this.from = void 0, this.to = void 0, this.edgeType = void 0, this.connected = !1, this.labelModule = new h["default"](this.body, this.options, !0), this.setOptions(e)
                }
                return r(t, [{
                    key: "setOptions",
                    value: function(e) {
                        if (e) {
                            this.colorDirty = !0, t.parseOptions(this.options, e, !0, this.globalOptions), void 0 !== e.id && (this.id = e.id), void 0 !== e.from && (this.fromId = e.from), void 0 !== e.to && (this.toId = e.to), void 0 !== e.title && (this.title = e.title), void 0 !== e.value && (e.value = parseFloat(e.value)), this.updateLabelModule();
                            var i = this.updateEdgeType();
                            return this._setInteractionWidths(), this.connect(), void 0 === e.hidden && void 0 === e.physics || (i = !0), i
                        }
                    }
                }, {
                    key: "updateLabelModule",
                    value: function() {
                        this.labelModule.setOptions(this.options, !0), void 0 !== this.labelModule.baseSize && (this.baseFontSize = this.labelModule.baseSize)
                    }
                }, {
                    key: "updateEdgeType",
                    value: function() {
                        var t = !1,
                            e = !0,
                            i = this.options.smooth;
                        return void 0 !== this.edgeType && (this.edgeType instanceof u["default"] && i.enabled === !0 && "dynamic" === i.type && (e = !1), this.edgeType instanceof l["default"] && i.enabled === !0 && "cubicBezier" === i.type && (e = !1), this.edgeType instanceof f["default"] && i.enabled === !0 && "dynamic" !== i.type && "cubicBezier" !== i.type && (e = !1), this.edgeType instanceof v["default"] && i.enabled === !1 && (e = !1), e === !0 && (t = this.cleanup())), e === !0 ? this.options.smooth.enabled === !0 ? "dynamic" === this.options.smooth.type ? (t = !0, this.edgeType = new u["default"](this.options, this.body, this.labelModule)) : "cubicBezier" === this.options.smooth.type ? this.edgeType = new l["default"](this.options, this.body, this.labelModule) : this.edgeType = new f["default"](this.options, this.body, this.labelModule) : this.edgeType = new v["default"](this.options, this.body, this.labelModule) : this.edgeType.setOptions(this.options), t
                    }
                }, {
                    key: "connect",
                    value: function() {
                        this.disconnect(), this.from = this.body.nodes[this.fromId] || void 0, this.to = this.body.nodes[this.toId] || void 0, this.connected = void 0 !== this.from && void 0 !== this.to, this.connected === !0 ? (this.from.attachEdge(this), this.to.attachEdge(this)) : (this.from && this.from.detachEdge(this), this.to && this.to.detachEdge(this)), this.edgeType.connect()
                    }
                }, {
                    key: "disconnect",
                    value: function() {
                        this.from && (this.from.detachEdge(this), this.from = void 0), this.to && (this.to.detachEdge(this), this.to = void 0), this.connected = !1
                    }
                }, {
                    key: "getTitle",
                    value: function() {
                        return this.title
                    }
                }, {
                    key: "isSelected",
                    value: function() {
                        return this.selected
                    }
                }, {
                    key: "getValue",
                    value: function() {
                        return this.options.value
                    }
                }, {
                    key: "setValueRange",
                    value: function(t, e, i) {
                        if (void 0 !== this.options.value) {
                            var o = this.options.scaling.customScalingFunction(t, e, i, this.options.value),
                                n = this.options.scaling.max - this.options.scaling.min;
                            if (this.options.scaling.label.enabled === !0) {
                                var s = this.options.scaling.label.max - this.options.scaling.label.min;
                                this.options.font.size = this.options.scaling.label.min + o * s
                            }
                            this.options.width = this.options.scaling.min + o * n
                        } else this.options.width = this.baseWidth, this.options.font.size = this.baseFontSize;
                        this._setInteractionWidths(), this.updateLabelModule()
                    }
                }, {
                    key: "_setInteractionWidths",
                    value: function() {
                        "function" == typeof this.options.hoverWidth ? this.edgeType.hoverWidth = this.options.hoverWidth(this.options.width) : this.edgeType.hoverWidth = this.options.hoverWidth + this.options.width, "function" == typeof this.options.selectionWidth ? this.edgeType.selectionWidth = this.options.selectionWidth(this.options.width) : this.edgeType.selectionWidth = this.options.selectionWidth + this.options.width
                    }
                }, {
                    key: "draw",
                    value: function(t) {
                        var e = this.edgeType.getViaNode(),
                            i = {};
                        this.edgeType.fromPoint = this.edgeType.from, this.edgeType.toPoint = this.edgeType.to, this.options.arrows.from.enabled === !0 && (i.from = this.edgeType.getArrowData(t, "from", e, this.selected, this.hover), this.options.arrowStrikethrough === !1 && (this.edgeType.fromPoint = i.from.core)), this.options.arrows.to.enabled === !0 && (i.to = this.edgeType.getArrowData(t, "to", e, this.selected, this.hover), this.options.arrowStrikethrough === !1 && (this.edgeType.toPoint = i.to.core)), this.options.arrows.middle.enabled === !0 && (i.middle = this.edgeType.getArrowData(t, "middle", e, this.selected, this.hover)), this.edgeType.drawLine(t, this.selected, this.hover, e), this.drawArrows(t, i), this.drawLabel(t, e)
                    }
                }, {
                    key: "drawArrows",
                    value: function(t, e) {
                        this.options.arrows.from.enabled === !0 && this.edgeType.drawArrowHead(t, this.selected, this.hover, e.from), this.options.arrows.middle.enabled === !0 && this.edgeType.drawArrowHead(t, this.selected, this.hover, e.middle), this.options.arrows.to.enabled === !0 && this.edgeType.drawArrowHead(t, this.selected, this.hover, e.to)
                    }
                }, {
                    key: "drawLabel",
                    value: function(t, e) {
                        if (void 0 !== this.options.label) {
                            var i = this.from,
                                o = this.to,
                                n = this.from.selected || this.to.selected || this.selected;
                            if (i.id != o.id) {
                                this.labelModule.pointToSelf = !1;
                                var s = this.edgeType.getPoint(.5, e);
                                t.save(), "horizontal" !== this.options.font.align && (this.labelModule.calculateLabelSize(t, n, s.x, s.y), t.translate(s.x, this.labelModule.size.yLine), this._rotateForLabelAlignment(t)), this.labelModule.draw(t, s.x, s.y, n), t.restore()
                            } else {
                                this.labelModule.pointToSelf = !0;
                                var r, a, h = this.options.selfReferenceSize;
                                i.shape.width > i.shape.height ? (r = i.x + .5 * i.shape.width, a = i.y - h) : (r = i.x + h, a = i.y - .5 * i.shape.height), s = this._pointOnCircle(r, a, h, .125), this.labelModule.draw(t, s.x, s.y, n)
                            }
                        }
                    }
                }, {
                    key: "isOverlappingWith",
                    value: function(t) {
                        if (this.connected) {
                            var e = 10,
                                i = this.from.x,
                                o = this.from.y,
                                n = this.to.x,
                                s = this.to.y,
                                r = t.left,
                                a = t.top,
                                h = this.edgeType.getDistanceToEdge(i, o, n, s, r, a);
                            return e > h
                        }
                        return !1
                    }
                }, {
                    key: "_rotateForLabelAlignment",
                    value: function(t) {
                        var e = this.from.y - this.to.y,
                            i = this.from.x - this.to.x,
                            o = Math.atan2(e, i);
                        (-1 > o && 0 > i || o > 0 && 0 > i) && (o += Math.PI), t.rotate(o)
                    }
                }, {
                    key: "_pointOnCircle",
                    value: function(t, e, i, o) {
                        var n = 2 * o * Math.PI;
                        return {
                            x: t + i * Math.cos(n),
                            y: e - i * Math.sin(n)
                        }
                    }
                }, {
                    key: "select",
                    value: function() {
                        this.selected = !0
                    }
                }, {
                    key: "unselect",
                    value: function() {
                        this.selected = !1
                    }
                }, {
                    key: "cleanup",
                    value: function() {
                        return this.edgeType.cleanup()
                    }
                }], [{
                    key: "parseOptions",
                    value: function(t, e) {
                        var i = arguments.length <= 2 || void 0 === arguments[2] ? !1 : arguments[2],
                            o = arguments.length <= 3 || void 0 === arguments[3] ? {} : arguments[3],
                            n = ["arrowStrikethrough", "id", "from", "hidden", "hoverWidth", "label", "labelHighlightBold", "length", "line", "opacity", "physics", "scaling", "selectionWidth", "selfReferenceSize", "to", "title", "value", "width"];
                        if (g.selectiveDeepExtend(n, t, e, i), g.mergeOptions(t, e, "smooth", i, o), g.mergeOptions(t, e, "shadow", i, o), void 0 !== e.dashes && null !== e.dashes ? t.dashes = e.dashes : i === !0 && null === e.dashes && (t.dashes = Object.create(o.dashes)), void 0 !== e.scaling && null !== e.scaling ? (void 0 !== e.scaling.min && (t.scaling.min = e.scaling.min), void 0 !== e.scaling.max && (t.scaling.max = e.scaling.max), g.mergeOptions(t.scaling, e.scaling, "label", i, o.scaling)) : i === !0 && null === e.scaling && (t.scaling = Object.create(o.scaling)), void 0 !== e.arrows && null !== e.arrows)
                            if ("string" == typeof e.arrows) {
                                var r = e.arrows.toLowerCase();
                                t.arrows.to.enabled = -1 != r.indexOf("to"), t.arrows.middle.enabled = -1 != r.indexOf("middle"), t.arrows.from.enabled = -1 != r.indexOf("from")
                            } else {
                                if ("object" !== s(e.arrows)) throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:" + JSON.stringify(e.arrows));
                                g.mergeOptions(t.arrows, e.arrows, "to", i, o.arrows), g.mergeOptions(t.arrows, e.arrows, "middle", i, o.arrows), g.mergeOptions(t.arrows, e.arrows, "from", i, o.arrows)
                            }
                        else i === !0 && null === e.arrows && (t.arrows = Object.create(o.arrows));
                        if (void 0 !== e.color && null !== e.color)
                            if (t.color = g.deepExtend({}, t.color, !0), g.isString(e.color)) t.color.color = e.color, t.color.highlight = e.color, t.color.hover = e.color, t.color.inherit = !1;
                            else {
                                var a = !1;
                                void 0 !== e.color.color && (t.color.color = e.color.color, a = !0), void 0 !== e.color.highlight && (t.color.highlight = e.color.highlight, a = !0), void 0 !== e.color.hover && (t.color.hover = e.color.hover, a = !0), void 0 !== e.color.inherit && (t.color.inherit = e.color.inherit), void 0 !== e.color.opacity && (t.color.opacity = Math.min(1, Math.max(0, e.color.opacity))), void 0 === e.color.inherit && a === !0 && (t.color.inherit = !1)
                            }
                        else i === !0 && null === e.color && (t.color = g.bridgeObject(o.color));
                        void 0 !== e.font && null !== e.font ? h["default"].parseOptions(t.font, e) : i === !0 && null === e.font && (t.font = g.bridgeObject(o.font))
                    }
                }]), t
            }();
        e["default"] = y
    }, function(t, e, i) {
        function o(t) {
            return t && t.__esModule ? t : {
                "default": t
            }
        }

        function n(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function s(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" != typeof e && "function" != typeof e ? t : e
        }

        function r(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var a = function() {
                function t(t, e) {
                    var i = [],
                        o = !0,
                        n = !1,
                        s = void 0;
                    try {
                        for (var r, a = t[Symbol.iterator](); !(o = (r = a.next()).done) && (i.push(r.value), !e || i.length !== e); o = !0);
                    } catch (h) {
                        n = !0, s = h
                    } finally {
                        try {
                            !o && a["return"] && a["return"]()
                        } finally {
                            if (n) throw s
                        }
                    }
                    return i
                }
                return function(e, i) {
                    if (Array.isArray(e)) return e;
                    if (Symbol.iterator in Object(e)) return t(e, i);
                    throw new TypeError("Invalid attempt to destructure non-iterable instance")
                }
            }(),
            h = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            d = i(87),
            l = o(d),
            c = function(t) {
                function e(t, i, o) {
                    return n(this, e), s(this, Object.getPrototypeOf(e).call(this, t, i, o))
                }
                return r(e, t), h(e, [{
                    key: "_line",
                    value: function(t, e) {
                        var i = e[0],
                            o = e[1];
                        t.beginPath(), t.moveTo(this.fromPoint.x, this.fromPoint.y), void 0 === e || void 0 === i.x ? t.lineTo(this.toPoint.x, this.toPoint.y) : t.bezierCurveTo(i.x, i.y, o.x, o.y, this.toPoint.x, this.toPoint.y), this.enableShadow(t), t.stroke(), this.disableShadow(t)
                    }
                }, {
                    key: "_getViaCoordinates",
                    value: function() {
                        var t = this.from.x - this.to.x,
                            e = this.from.y - this.to.y,
                            i = void 0,
                            o = void 0,
                            n = void 0,
                            s = void 0,
                            r = this.options.smooth.roundness;
                        return (Math.abs(t) > Math.abs(e) || this.options.smooth.forceDirection === !0 || "horizontal" === this.options.smooth.forceDirection) && "vertical" !== this.options.smooth.forceDirection ? (o = this.from.y, s = this.to.y, i = this.from.x - r * t, n = this.to.x + r * t) : (o = this.from.y - r * e, s = this.to.y + r * e, i = this.from.x, n = this.to.x), [{
                            x: i,
                            y: o
                        }, {
                            x: n,
                            y: s
                        }]
                    }
                }, {
                    key: "getViaNode",
                    value: function() {
                        return this._getViaCoordinates()
                    }
                }, {
                    key: "_findBorderPosition",
                    value: function(t, e) {
                        return this._findBorderPositionBezier(t, e)
                    }
                }, {
                    key: "_getDistanceToEdge",
                    value: function(t, e, i, o, n, s) {
                        var r = arguments.length <= 6 || void 0 === arguments[6] ? this._getViaCoordinates() : arguments[6],
                            h = a(r, 2),
                            d = h[0],
                            l = h[1];
                        return this._getDistanceToBezierEdge(t, e, i, o, n, s, d, l)
                    }
                }, {
                    key: "getPoint",
                    value: function(t) {
                        var e = arguments.length <= 1 || void 0 === arguments[1] ? this._getViaCoordinates() : arguments[1],
                            i = a(e, 2),
                            o = i[0],
                            n = i[1],
                            s = t,
                            r = [];
                        r[0] = Math.pow(1 - s, 3), r[1] = 3 * s * Math.pow(1 - s, 2), r[2] = 3 * Math.pow(s, 2) * (1 - s), r[3] = Math.pow(s, 3);
                        var h = r[0] * this.fromPoint.x + r[1] * o.x + r[2] * n.x + r[3] * this.toPoint.x,
                            d = r[0] * this.fromPoint.y + r[1] * o.y + r[2] * n.y + r[3] * this.toPoint.y;
                        return {
                            x: h,
                            y: d
                        }
                    }
                }]), e
            }(l["default"]);
        e["default"] = c
    }, function(t, e, i) {
        function o(t) {
            return t && t.__esModule ? t : {
                "default": t
            }
        }

        function n(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function s(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" != typeof e && "function" != typeof e ? t : e
        }

        function r(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var a = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            h = i(88),
            d = o(h),
            l = function(t) {
                function e(t, i, o) {
                    return n(this, e), s(this, Object.getPrototypeOf(e).call(this, t, i, o))
                }
                return r(e, t), a(e, [{
                    key: "_getDistanceToBezierEdge",
                    value: function(t, e, i, o, n, s, r, a) {
                        var h = 1e9,
                            d = void 0,
                            l = void 0,
                            c = void 0,
                            u = void 0,
                            p = void 0,
                            f = t,
                            m = e,
                            v = [0, 0, 0, 0];
                        for (l = 1; 10 > l; l++) c = .1 * l, v[0] = Math.pow(1 - c, 3), v[1] = 3 * c * Math.pow(1 - c, 2), v[2] = 3 * Math.pow(c, 2) * (1 - c), v[3] = Math.pow(c, 3), u = v[0] * t + v[1] * r.x + v[2] * a.x + v[3] * i, p = v[0] * e + v[1] * r.y + v[2] * a.y + v[3] * o, l > 0 && (d = this._getDistanceToLine(f, m, u, p, n, s), h = h > d ? d : h), f = u, m = p;
                        return h
                    }
                }]), e
            }(d["default"]);
        e["default"] = l
    }, function(t, e, i) {
        function o(t) {
            return t && t.__esModule ? t : {
                "default": t
            }
        }

        function n(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function s(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" != typeof e && "function" != typeof e ? t : e
        }

        function r(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var a = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            h = i(89),
            d = o(h),
            l = function(t) {
                function e(t, i, o) {
                    return n(this, e), s(this, Object.getPrototypeOf(e).call(this, t, i, o))
                }
                return r(e, t), a(e, [{
                    key: "_findBorderPositionBezier",
                    value: function(t, e) {
                        var i, o, n, s, r, a = arguments.length <= 2 || void 0 === arguments[2] ? this._getViaCoordinates() : arguments[2],
                            h = 10,
                            d = 0,
                            l = 0,
                            c = 1,
                            u = .2,
                            p = this.to,
                            f = !1;
                        for (t.id === this.from.id && (p = this.from, f = !0); c >= l && h > d;) {
                            var m = .5 * (l + c);
                            if (i = this.getPoint(m, a), o = Math.atan2(p.y - i.y, p.x - i.x), n = p.distanceToBorder(e, o), s = Math.sqrt(Math.pow(i.x - p.x, 2) + Math.pow(i.y - p.y, 2)), r = n - s, Math.abs(r) < u) break;
                            0 > r ? f === !1 ? l = m : c = m : f === !1 ? c = m : l = m, d++
                        }
                        return i.t = m, i
                    }
                }, {
                    key: "_getDistanceToBezierEdge",
                    value: function(t, e, i, o, n, s, r) {
                        var a = 1e9,
                            h = void 0,
                            d = void 0,
                            l = void 0,
                            c = void 0,
                            u = void 0,
                            p = t,
                            f = e;
                        for (d = 1; 10 > d; d++) l = .1 * d, c = Math.pow(1 - l, 2) * t + 2 * l * (1 - l) * r.x + Math.pow(l, 2) * i, u = Math.pow(1 - l, 2) * e + 2 * l * (1 - l) * r.y + Math.pow(l, 2) * o, d > 0 && (h = this._getDistanceToLine(p, f, c, u, n, s), a = a > h ? h : a), p = c, f = u;
                        return a
                    }
                }]), e
            }(d["default"]);
        e["default"] = l
    }, function(t, e, i) {
        function o(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var n = function() {
                function t(t, e) {
                    var i = [],
                        o = !0,
                        n = !1,
                        s = void 0;
                    try {
                        for (var r, a = t[Symbol.iterator](); !(o = (r = a.next()).done) && (i.push(r.value), !e || i.length !== e); o = !0);
                    } catch (h) {
                        n = !0, s = h
                    } finally {
                        try {
                            !o && a["return"] && a["return"]()
                        } finally {
                            if (n) throw s
                        }
                    }
                    return i
                }
                return function(e, i) {
                    if (Array.isArray(e)) return e;
                    if (Symbol.iterator in Object(e)) return t(e, i);
                    throw new TypeError("Invalid attempt to destructure non-iterable instance")
                }
            }(),
            s = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            r = i(1),
            a = function() {
                function t(e, i, n) {
                    o(this, t), this.body = i, this.labelModule = n, this.options = {}, this.setOptions(e), this.colorDirty = !0, this.color = {}, this.selectionWidth = 2, this.hoverWidth = 1.5, this.fromPoint = this.from, this.toPoint = this.to
                }
                return s(t, [{
                    key: "connect",
                    value: function() {
                        this.from = this.body.nodes[this.options.from], this.to = this.body.nodes[this.options.to]
                    }
                }, {
                    key: "cleanup",
                    value: function() {
                        return !1
                    }
                }, {
                    key: "setOptions",
                    value: function(t) {
                        this.options = t, this.from = this.body.nodes[this.options.from], this.to = this.body.nodes[this.options.to], this.id = this.options.id
                    }
                }, {
                    key: "drawLine",
                    value: function(t, e, i, o) {
                        t.strokeStyle = this.getColor(t, e, i), t.lineWidth = this.getLineWidth(e, i), this.options.dashes !== !1 ? this._drawDashedLine(t, o) : this._drawLine(t, o)
                    }
                }, {
                    key: "_drawLine",
                    value: function(t, e, i, o) {
                        if (this.from != this.to) this._line(t, e, i, o);
                        else {
                            var s = this._getCircleData(t),
                                r = n(s, 3),
                                a = r[0],
                                h = r[1],
                                d = r[2];
                            this._circle(t, a, h, d)
                        }
                    }
                }, {
                    key: "_drawDashedLine",
                    value: function(t, e, i, o) {
                        t.lineCap = "round";
                        var s = [5, 5];
                        if (Array.isArray(this.options.dashes) === !0 && (s = this.options.dashes), void 0 !== t.setLineDash) {
                            if (t.save(), t.setLineDash(s), t.lineDashOffset = 0, this.from != this.to) this._line(t, e);
                            else {
                                var r = this._getCircleData(t),
                                    a = n(r, 3),
                                    h = a[0],
                                    d = a[1],
                                    l = a[2];
                                this._circle(t, h, d, l)
                            }
                            t.setLineDash([0]), t.lineDashOffset = 0, t.restore()
                        } else {
                            if (this.from != this.to) t.dashedLine(this.from.x, this.from.y, this.to.x, this.to.y, s);
                            else {
                                var c = this._getCircleData(t),
                                    u = n(c, 3),
                                    p = u[0],
                                    f = u[1],
                                    m = u[2];
                                this._circle(t, p, f, m)
                            }
                            this.enableShadow(t), t.stroke(), this.disableShadow(t)
                        }
                    }
                }, {
                    key: "findBorderPosition",
                    value: function(t, e, i) {
                        return this.from != this.to ? this._findBorderPosition(t, e, i) : this._findBorderPositionCircle(t, e, i)
                    }
                }, {
                    key: "findBorderPositions",
                    value: function(t) {
                        var e = {},
                            i = {};
                        if (this.from != this.to) e = this._findBorderPosition(this.from, t), i = this._findBorderPosition(this.to, t);
                        else {
                            var o = this._getCircleData(t),
                                s = n(o, 3),
                                r = s[0],
                                a = s[1];
                            s[2];
                            e = this._findBorderPositionCircle(this.from, t, {
                                x: r,
                                y: a,
                                low: .25,
                                high: .6,
                                direction: -1
                            }), i = this._findBorderPositionCircle(this.from, t, {
                                x: r,
                                y: a,
                                low: .6,
                                high: .8,
                                direction: 1
                            })
                        }
                        return {
                            from: e,
                            to: i
                        }
                    }
                }, {
                    key: "_getCircleData",
                    value: function(t) {
                        var e = void 0,
                            i = void 0,
                            o = this.from,
                            n = this.options.selfReferenceSize;
                        return void 0 !== t && void 0 === o.shape.width && o.shape.resize(t), o.shape.width > o.shape.height ? (e = o.x + .5 * o.shape.width, i = o.y - n) : (e = o.x + n, i = o.y - .5 * o.shape.height), [e, i, n]
                    }
                }, {
                    key: "_pointOnCircle",
                    value: function(t, e, i, o) {
                        var n = 2 * o * Math.PI;
                        return {
                            x: t + i * Math.cos(n),
                            y: e - i * Math.sin(n)
                        }
                    }
                }, {
                    key: "_findBorderPositionCircle",
                    value: function(t, e, i) {
                        for (var o = i.x, n = i.y, s = i.low, r = i.high, a = i.direction, h = 10, d = 0, l = this.options.selfReferenceSize, c = void 0, u = void 0, p = void 0, f = void 0, m = void 0, v = .05, g = .5 * (s + r); r >= s && h > d && (g = .5 * (s + r), c = this._pointOnCircle(o, n, l, g), u = Math.atan2(t.y - c.y, t.x - c.x), p = t.distanceToBorder(e, u), f = Math.sqrt(Math.pow(c.x - t.x, 2) + Math.pow(c.y - t.y, 2)),
                                m = p - f, !(Math.abs(m) < v));) m > 0 ? a > 0 ? s = g : r = g : a > 0 ? r = g : s = g, d++;
                        return c.t = g, c
                    }
                }, {
                    key: "getLineWidth",
                    value: function(t, e) {
                        return t === !0 ? Math.max(this.selectionWidth, .3 / this.body.view.scale) : e === !0 ? Math.max(this.hoverWidth, .3 / this.body.view.scale) : Math.max(this.options.width, .3 / this.body.view.scale)
                    }
                }, {
                    key: "getColor",
                    value: function(t, e, i) {
                        var o = this.options.color;
                        if (o.inherit !== !1) {
                            if ("both" === o.inherit && this.from.id !== this.to.id) {
                                var n = t.createLinearGradient(this.from.x, this.from.y, this.to.x, this.to.y),
                                    s = void 0,
                                    a = void 0;
                                return s = this.from.options.color.highlight.border, a = this.to.options.color.highlight.border, this.from.selected === !1 && this.to.selected === !1 ? (s = r.overrideOpacity(this.from.options.color.border, this.options.color.opacity), a = r.overrideOpacity(this.to.options.color.border, this.options.color.opacity)) : this.from.selected === !0 && this.to.selected === !1 ? a = this.to.options.color.border : this.from.selected === !1 && this.to.selected === !0 && (s = this.from.options.color.border), n.addColorStop(0, s), n.addColorStop(1, a), n
                            }
                            this.colorDirty === !0 && ("to" === o.inherit ? (this.color.highlight = this.to.options.color.highlight.border, this.color.hover = this.to.options.color.hover.border, this.color.color = r.overrideOpacity(this.to.options.color.border, o.opacity)) : (this.color.highlight = this.from.options.color.highlight.border, this.color.hover = this.from.options.color.hover.border, this.color.color = r.overrideOpacity(this.from.options.color.border, o.opacity)))
                        } else this.colorDirty === !0 && (this.color.highlight = o.highlight, this.color.hover = o.hover, this.color.color = r.overrideOpacity(o.color, o.opacity));
                        return this.colorDirty = !1, e === !0 ? this.color.highlight : i === !0 ? this.color.hover : this.color.color
                    }
                }, {
                    key: "_circle",
                    value: function(t, e, i, o) {
                        this.enableShadow(t), t.beginPath(), t.arc(e, i, o, 0, 2 * Math.PI, !1), t.stroke(), this.disableShadow(t)
                    }
                }, {
                    key: "getDistanceToEdge",
                    value: function(t, e, i, o, s, r, a) {
                        var h = 0;
                        if (this.from != this.to) h = this._getDistanceToEdge(t, e, i, o, s, r, a);
                        else {
                            var d = this._getCircleData(),
                                l = n(d, 3),
                                c = l[0],
                                u = l[1],
                                p = l[2],
                                f = c - s,
                                m = u - r;
                            h = Math.abs(Math.sqrt(f * f + m * m) - p)
                        }
                        return this.labelModule.size.left < s && this.labelModule.size.left + this.labelModule.size.width > s && this.labelModule.size.top < r && this.labelModule.size.top + this.labelModule.size.height > r ? 0 : h
                    }
                }, {
                    key: "_getDistanceToLine",
                    value: function(t, e, i, o, n, s) {
                        var r = i - t,
                            a = o - e,
                            h = r * r + a * a,
                            d = ((n - t) * r + (s - e) * a) / h;
                        d > 1 ? d = 1 : 0 > d && (d = 0);
                        var l = t + d * r,
                            c = e + d * a,
                            u = l - n,
                            p = c - s;
                        return Math.sqrt(u * u + p * p)
                    }
                }, {
                    key: "getArrowData",
                    value: function(t, e, i, o, s) {
                        var r = void 0,
                            a = void 0,
                            h = void 0,
                            d = void 0,
                            l = void 0,
                            c = void 0,
                            u = this.getLineWidth(o, s);
                        if ("from" === e ? (h = this.from, d = this.to, l = .1, c = this.options.arrows.from.scaleFactor) : "to" === e ? (h = this.to, d = this.from, l = -.1, c = this.options.arrows.to.scaleFactor) : (h = this.to, d = this.from, c = this.options.arrows.middle.scaleFactor), h != d)
                            if ("middle" !== e)
                                if (this.options.smooth.enabled === !0) {
                                    a = this.findBorderPosition(h, t, {
                                        via: i
                                    });
                                    var p = this.getPoint(Math.max(0, Math.min(1, a.t + l)), i);
                                    r = Math.atan2(a.y - p.y, a.x - p.x)
                                } else r = Math.atan2(h.y - d.y, h.x - d.x), a = this.findBorderPosition(h, t);
                        else r = Math.atan2(h.y - d.y, h.x - d.x), a = this.getPoint(.5, i);
                        else {
                            var f = this._getCircleData(t),
                                m = n(f, 3),
                                v = m[0],
                                g = m[1],
                                y = m[2];
                            "from" === e ? (a = this.findBorderPosition(this.from, t, {
                                x: v,
                                y: g,
                                low: .25,
                                high: .6,
                                direction: -1
                            }), r = -2 * a.t * Math.PI + 1.5 * Math.PI + .1 * Math.PI) : "to" === e ? (a = this.findBorderPosition(this.from, t, {
                                x: v,
                                y: g,
                                low: .6,
                                high: 1,
                                direction: 1
                            }), r = -2 * a.t * Math.PI + 1.5 * Math.PI - 1.1 * Math.PI) : (a = this._pointOnCircle(v, g, y, .175), r = 3.9269908169872414)
                        }
                        var b = 15 * c + 3 * u,
                            w = a.x - .9 * b * Math.cos(r),
                            _ = a.y - .9 * b * Math.sin(r),
                            x = {
                                x: w,
                                y: _
                            };
                        return {
                            point: a,
                            core: x,
                            angle: r,
                            length: b
                        }
                    }
                }, {
                    key: "drawArrowHead",
                    value: function(t, e, i, o) {
                        t.strokeStyle = this.getColor(t, e, i), t.fillStyle = t.strokeStyle, t.lineWidth = this.getLineWidth(e, i), t.arrow(o.point.x, o.point.y, o.angle, o.length), this.enableShadow(t), t.fill(), this.disableShadow(t)
                    }
                }, {
                    key: "enableShadow",
                    value: function(t) {
                        this.options.shadow.enabled === !0 && (t.shadowColor = this.options.shadow.color, t.shadowBlur = this.options.shadow.size, t.shadowOffsetX = this.options.shadow.x, t.shadowOffsetY = this.options.shadow.y)
                    }
                }, {
                    key: "disableShadow",
                    value: function(t) {
                        this.options.shadow.enabled === !0 && (t.shadowColor = "rgba(0,0,0,0)", t.shadowBlur = 0, t.shadowOffsetX = 0, t.shadowOffsetY = 0)
                    }
                }]), t
            }();
        e["default"] = a
    }, function(t, e, i) {
        function o(t) {
            return t && t.__esModule ? t : {
                "default": t
            }
        }

        function n(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function s(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" != typeof e && "function" != typeof e ? t : e
        }

        function r(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var a = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            h = i(88),
            d = o(h),
            l = function(t) {
                function e(t, i, o) {
                    n(this, e);
                    var r = s(this, Object.getPrototypeOf(e).call(this, t, i, o));
                    return r._boundFunction = function() {
                        r.positionBezierNode()
                    }, r.body.emitter.on("_repositionBezierNodes", r._boundFunction), r
                }
                return r(e, t), a(e, [{
                    key: "setOptions",
                    value: function(t) {
                        var e = !1;
                        this.options.physics !== t.physics && (e = !0), this.options = t, this.id = this.options.id, this.from = this.body.nodes[this.options.from], this.to = this.body.nodes[this.options.to], this.setupSupportNode(), this.connect(), e === !0 && (this.via.setOptions({
                            physics: this.options.physics
                        }), this.positionBezierNode())
                    }
                }, {
                    key: "connect",
                    value: function() {
                        this.from = this.body.nodes[this.options.from], this.to = this.body.nodes[this.options.to], void 0 === this.from || void 0 === this.to || this.options.physics === !1 ? this.via.setOptions({
                            physics: !1
                        }) : this.from.id === this.to.id ? this.via.setOptions({
                            physics: !1
                        }) : this.via.setOptions({
                            physics: !0
                        })
                    }
                }, {
                    key: "cleanup",
                    value: function() {
                        return this.body.emitter.off("_repositionBezierNodes", this._boundFunction), void 0 !== this.via ? (delete this.body.nodes[this.via.id], this.via = void 0, !0) : !1
                    }
                }, {
                    key: "setupSupportNode",
                    value: function() {
                        if (void 0 === this.via) {
                            var t = "edgeId:" + this.id,
                                e = this.body.functions.createNode({
                                    id: t,
                                    shape: "circle",
                                    physics: !0,
                                    hidden: !0
                                });
                            this.body.nodes[t] = e, this.via = e, this.via.parentEdgeId = this.id, this.positionBezierNode()
                        }
                    }
                }, {
                    key: "positionBezierNode",
                    value: function() {
                        void 0 !== this.via && void 0 !== this.from && void 0 !== this.to ? (this.via.x = .5 * (this.from.x + this.to.x), this.via.y = .5 * (this.from.y + this.to.y)) : void 0 !== this.via && (this.via.x = 0, this.via.y = 0)
                    }
                }, {
                    key: "_line",
                    value: function(t, e) {
                        t.beginPath(), t.moveTo(this.fromPoint.x, this.fromPoint.y), void 0 === e.x ? t.lineTo(this.toPoint.x, this.toPoint.y) : t.quadraticCurveTo(e.x, e.y, this.toPoint.x, this.toPoint.y), this.enableShadow(t), t.stroke(), this.disableShadow(t)
                    }
                }, {
                    key: "getViaNode",
                    value: function() {
                        return this.via
                    }
                }, {
                    key: "getPoint",
                    value: function(t) {
                        var e = arguments.length <= 1 || void 0 === arguments[1] ? this.via : arguments[1],
                            i = t,
                            o = Math.pow(1 - i, 2) * this.fromPoint.x + 2 * i * (1 - i) * e.x + Math.pow(i, 2) * this.toPoint.x,
                            n = Math.pow(1 - i, 2) * this.fromPoint.y + 2 * i * (1 - i) * e.y + Math.pow(i, 2) * this.toPoint.y;
                        return {
                            x: o,
                            y: n
                        }
                    }
                }, {
                    key: "_findBorderPosition",
                    value: function(t, e) {
                        return this._findBorderPositionBezier(t, e, this.via)
                    }
                }, {
                    key: "_getDistanceToEdge",
                    value: function(t, e, i, o, n, s) {
                        return this._getDistanceToBezierEdge(t, e, i, o, n, s, this.via)
                    }
                }]), e
            }(d["default"]);
        e["default"] = l
    }, function(t, e, i) {
        function o(t) {
            return t && t.__esModule ? t : {
                "default": t
            }
        }

        function n(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function s(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" != typeof e && "function" != typeof e ? t : e
        }

        function r(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var a = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            h = i(88),
            d = o(h),
            l = function(t) {
                function e(t, i, o) {
                    return n(this, e), s(this, Object.getPrototypeOf(e).call(this, t, i, o))
                }
                return r(e, t), a(e, [{
                    key: "_line",
                    value: function(t, e) {
                        t.beginPath(), t.moveTo(this.fromPoint.x, this.fromPoint.y), void 0 === e.x ? t.lineTo(this.toPoint.x, this.toPoint.y) : t.quadraticCurveTo(e.x, e.y, this.toPoint.x, this.toPoint.y), this.enableShadow(t), t.stroke(), this.disableShadow(t)
                    }
                }, {
                    key: "getViaNode",
                    value: function() {
                        return this._getViaCoordinates()
                    }
                }, {
                    key: "_getViaCoordinates",
                    value: function() {
                        var t = void 0,
                            e = void 0,
                            i = this.options.smooth.roundness,
                            o = this.options.smooth.type,
                            n = Math.abs(this.from.x - this.to.x),
                            s = Math.abs(this.from.y - this.to.y);
                        if ("discrete" === o || "diagonalCross" === o) Math.abs(this.from.x - this.to.x) <= Math.abs(this.from.y - this.to.y) ? (this.from.y >= this.to.y ? this.from.x <= this.to.x ? (t = this.from.x + i * s, e = this.from.y - i * s) : this.from.x > this.to.x && (t = this.from.x - i * s, e = this.from.y - i * s) : this.from.y < this.to.y && (this.from.x <= this.to.x ? (t = this.from.x + i * s, e = this.from.y + i * s) : this.from.x > this.to.x && (t = this.from.x - i * s, e = this.from.y + i * s)), "discrete" === o && (t = i * s > n ? this.from.x : t)) : Math.abs(this.from.x - this.to.x) > Math.abs(this.from.y - this.to.y) && (this.from.y >= this.to.y ? this.from.x <= this.to.x ? (t = this.from.x + i * n, e = this.from.y - i * n) : this.from.x > this.to.x && (t = this.from.x - i * n, e = this.from.y - i * n) : this.from.y < this.to.y && (this.from.x <= this.to.x ? (t = this.from.x + i * n, e = this.from.y + i * n) : this.from.x > this.to.x && (t = this.from.x - i * n, e = this.from.y + i * n)), "discrete" === o && (e = i * n > s ? this.from.y : e));
                        else if ("straightCross" === o) Math.abs(this.from.x - this.to.x) <= Math.abs(this.from.y - this.to.y) ? (t = this.from.x, e = this.from.y < this.to.y ? this.to.y - (1 - i) * s : this.to.y + (1 - i) * s) : Math.abs(this.from.x - this.to.x) > Math.abs(this.from.y - this.to.y) && (t = this.from.x < this.to.x ? this.to.x - (1 - i) * n : this.to.x + (1 - i) * n, e = this.from.y);
                        else if ("horizontal" === o) t = this.from.x < this.to.x ? this.to.x - (1 - i) * n : this.to.x + (1 - i) * n, e = this.from.y;
                        else if ("vertical" === o) t = this.from.x, e = this.from.y < this.to.y ? this.to.y - (1 - i) * s : this.to.y + (1 - i) * s;
                        else if ("curvedCW" === o) {
                            n = this.to.x - this.from.x, s = this.from.y - this.to.y;
                            var r = Math.sqrt(n * n + s * s),
                                a = Math.PI,
                                h = Math.atan2(s, n),
                                d = (h + (.5 * i + .5) * a) % (2 * a);
                            t = this.from.x + (.5 * i + .5) * r * Math.sin(d), e = this.from.y + (.5 * i + .5) * r * Math.cos(d)
                        } else if ("curvedCCW" === o) {
                            n = this.to.x - this.from.x, s = this.from.y - this.to.y;
                            var l = Math.sqrt(n * n + s * s),
                                c = Math.PI,
                                u = Math.atan2(s, n),
                                p = (u + (.5 * -i + .5) * c) % (2 * c);
                            t = this.from.x + (.5 * i + .5) * l * Math.sin(p), e = this.from.y + (.5 * i + .5) * l * Math.cos(p)
                        } else Math.abs(this.from.x - this.to.x) <= Math.abs(this.from.y - this.to.y) ? this.from.y >= this.to.y ? this.from.x <= this.to.x ? (t = this.from.x + i * s, e = this.from.y - i * s, t = this.to.x < t ? this.to.x : t) : this.from.x > this.to.x && (t = this.from.x - i * s, e = this.from.y - i * s, t = this.to.x > t ? this.to.x : t) : this.from.y < this.to.y && (this.from.x <= this.to.x ? (t = this.from.x + i * s, e = this.from.y + i * s, t = this.to.x < t ? this.to.x : t) : this.from.x > this.to.x && (t = this.from.x - i * s, e = this.from.y + i * s, t = this.to.x > t ? this.to.x : t)) : Math.abs(this.from.x - this.to.x) > Math.abs(this.from.y - this.to.y) && (this.from.y >= this.to.y ? this.from.x <= this.to.x ? (t = this.from.x + i * n, e = this.from.y - i * n, e = this.to.y > e ? this.to.y : e) : this.from.x > this.to.x && (t = this.from.x - i * n, e = this.from.y - i * n, e = this.to.y > e ? this.to.y : e) : this.from.y < this.to.y && (this.from.x <= this.to.x ? (t = this.from.x + i * n, e = this.from.y + i * n, e = this.to.y < e ? this.to.y : e) : this.from.x > this.to.x && (t = this.from.x - i * n, e = this.from.y + i * n, e = this.to.y < e ? this.to.y : e)));
                        return {
                            x: t,
                            y: e
                        }
                    }
                }, {
                    key: "_findBorderPosition",
                    value: function(t, e) {
                        var i = arguments.length <= 2 || void 0 === arguments[2] ? {} : arguments[2];
                        return this._findBorderPositionBezier(t, e, i.via)
                    }
                }, {
                    key: "_getDistanceToEdge",
                    value: function(t, e, i, o, n, s) {
                        var r = arguments.length <= 6 || void 0 === arguments[6] ? this._getViaCoordinates() : arguments[6];
                        return this._getDistanceToBezierEdge(t, e, i, o, n, s, r)
                    }
                }, {
                    key: "getPoint",
                    value: function(t) {
                        var e = arguments.length <= 1 || void 0 === arguments[1] ? this._getViaCoordinates() : arguments[1],
                            i = t,
                            o = Math.pow(1 - i, 2) * this.fromPoint.x + 2 * i * (1 - i) * e.x + Math.pow(i, 2) * this.toPoint.x,
                            n = Math.pow(1 - i, 2) * this.fromPoint.y + 2 * i * (1 - i) * e.y + Math.pow(i, 2) * this.toPoint.y;
                        return {
                            x: o,
                            y: n
                        }
                    }
                }]), e
            }(d["default"]);
        e["default"] = l
    }, function(t, e, i) {
        function o(t) {
            return t && t.__esModule ? t : {
                "default": t
            }
        }

        function n(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function s(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" != typeof e && "function" != typeof e ? t : e
        }

        function r(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var a = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            h = i(89),
            d = o(h),
            l = function(t) {
                function e(t, i, o) {
                    return n(this, e), s(this, Object.getPrototypeOf(e).call(this, t, i, o))
                }
                return r(e, t), a(e, [{
                    key: "_line",
                    value: function(t) {
                        t.beginPath(), t.moveTo(this.fromPoint.x, this.fromPoint.y), t.lineTo(this.toPoint.x, this.toPoint.y), this.enableShadow(t), t.stroke(), this.disableShadow(t)
                    }
                }, {
                    key: "getViaNode",
                    value: function() {}
                }, {
                    key: "getPoint",
                    value: function(t) {
                        return {
                            x: (1 - t) * this.fromPoint.x + t * this.toPoint.x,
                            y: (1 - t) * this.fromPoint.y + t * this.toPoint.y
                        }
                    }
                }, {
                    key: "_findBorderPosition",
                    value: function(t, e) {
                        var i = this.to,
                            o = this.from;
                        t.id === this.from.id && (i = this.from, o = this.to);
                        var n = Math.atan2(i.y - o.y, i.x - o.x),
                            s = i.x - o.x,
                            r = i.y - o.y,
                            a = Math.sqrt(s * s + r * r),
                            h = t.distanceToBorder(e, n),
                            d = (a - h) / a,
                            l = {};
                        return l.x = (1 - d) * o.x + d * i.x, l.y = (1 - d) * o.y + d * i.y, l
                    }
                }, {
                    key: "_getDistanceToEdge",
                    value: function(t, e, i, o, n, s) {
                        return this._getDistanceToLine(t, e, i, o, n, s)
                    }
                }]), e
            }(d["default"]);
        e["default"] = l
    }, function(t, e, i) {
        function o(t) {
            return t && t.__esModule ? t : {
                "default": t
            }
        }

        function n(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var s = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            r = i(94),
            a = o(r),
            h = i(95),
            d = o(h),
            l = i(96),
            c = o(l),
            u = i(97),
            p = o(u),
            f = i(98),
            m = o(f),
            v = i(99),
            g = o(v),
            y = i(100),
            b = o(y),
            w = i(101),
            _ = o(w),
            x = i(1),
            k = function() {
                function t(e) {
                    n(this, t), this.body = e, this.physicsBody = {
                        physicsNodeIndices: [],
                        physicsEdgeIndices: [],
                        forces: {},
                        velocities: {}
                    }, this.physicsEnabled = !0, this.simulationInterval = 1e3 / 60, this.requiresTimeout = !0, this.previousStates = {}, this.referenceState = {}, this.freezeCache = {}, this.renderTimer = void 0, this.adaptiveTimestep = !1, this.adaptiveTimestepEnabled = !1, this.adaptiveCounter = 0, this.adaptiveInterval = 3, this.stabilized = !1, this.startedStabilization = !1, this.stabilizationIterations = 0, this.ready = !1, this.options = {}, this.defaultOptions = {
                        enabled: !0,
                        barnesHut: {
                            theta: .5,
                            gravitationalConstant: -2e3,
                            centralGravity: .3,
                            springLength: 95,
                            springConstant: .04,
                            damping: .09,
                            avoidOverlap: 0
                        },
                        forceAtlas2Based: {
                            theta: .5,
                            gravitationalConstant: -50,
                            centralGravity: .01,
                            springConstant: .08,
                            springLength: 100,
                            damping: .4,
                            avoidOverlap: 0
                        },
                        repulsion: {
                            centralGravity: .2,
                            springLength: 200,
                            springConstant: .05,
                            nodeDistance: 100,
                            damping: .09,
                            avoidOverlap: 0
                        },
                        hierarchicalRepulsion: {
                            centralGravity: 0,
                            springLength: 100,
                            springConstant: .01,
                            nodeDistance: 120,
                            damping: .09
                        },
                        maxVelocity: 50,
                        minVelocity: .75,
                        solver: "barnesHut",
                        stabilization: {
                            enabled: !0,
                            iterations: 1e3,
                            updateInterval: 50,
                            onlyDynamicEdges: !1,
                            fit: !0
                        },
                        timestep: .5,
                        adaptiveTimestep: !0
                    }, x.extend(this.options, this.defaultOptions), this.timestep = .5, this.layoutFailed = !1, this.bindEventListeners()
                }
                return s(t, [{
                    key: "bindEventListeners",
                    value: function() {
                        var t = this;
                        this.body.emitter.on("initPhysics", function() {
                            t.initPhysics()
                        }), this.body.emitter.on("_layoutFailed", function() {
                            t.layoutFailed = !0
                        }), this.body.emitter.on("resetPhysics", function() {
                            t.stopSimulation(), t.ready = !1
                        }), this.body.emitter.on("disablePhysics", function() {
                            t.physicsEnabled = !1, t.stopSimulation()
                        }), this.body.emitter.on("restorePhysics", function() {
                            t.setOptions(t.options), t.ready === !0 && t.startSimulation()
                        }), this.body.emitter.on("startSimulation", function() {
                            t.ready === !0 && t.startSimulation()
                        }), this.body.emitter.on("stopSimulation", function() {
                            t.stopSimulation()
                        }), this.body.emitter.on("destroy", function() {
                            t.stopSimulation(!1), t.body.emitter.off()
                        }), this.body.emitter.on("_dataChanged", function() {
                            t.updatePhysicsData()
                        })
                    }
                }, {
                    key: "setOptions",
                    value: function(t) {
                        void 0 !== t && (t === !1 ? (this.options.enabled = !1, this.physicsEnabled = !1, this.stopSimulation()) : (this.physicsEnabled = !0, x.selectiveNotDeepExtend(["stabilization"], this.options, t), x.mergeOptions(this.options, t, "stabilization"), void 0 === t.enabled && (this.options.enabled = !0), this.options.enabled === !1 && (this.physicsEnabled = !1, this.stopSimulation()), this.timestep = this.options.timestep)), this.init()
                    }
                }, {
                    key: "init",
                    value: function() {
                        var t;
                        "forceAtlas2Based" === this.options.solver ? (t = this.options.forceAtlas2Based, this.nodesSolver = new b["default"](this.body, this.physicsBody, t), this.edgesSolver = new p["default"](this.body, this.physicsBody, t), this.gravitySolver = new _["default"](this.body, this.physicsBody, t)) : "repulsion" === this.options.solver ? (t = this.options.repulsion, this.nodesSolver = new d["default"](this.body, this.physicsBody, t), this.edgesSolver = new p["default"](this.body, this.physicsBody, t), this.gravitySolver = new g["default"](this.body, this.physicsBody, t)) : "hierarchicalRepulsion" === this.options.solver ? (t = this.options.hierarchicalRepulsion, this.nodesSolver = new c["default"](this.body, this.physicsBody, t), this.edgesSolver = new m["default"](this.body, this.physicsBody, t), this.gravitySolver = new g["default"](this.body, this.physicsBody, t)) : (t = this.options.barnesHut, this.nodesSolver = new a["default"](this.body, this.physicsBody, t), this.edgesSolver = new p["default"](this.body, this.physicsBody, t), this.gravitySolver = new g["default"](this.body, this.physicsBody, t)), this.modelOptions = t
                    }
                }, {
                    key: "initPhysics",
                    value: function() {
                        this.physicsEnabled === !0 && this.options.enabled === !0 ? this.options.stabilization.enabled === !0 ? this.stabilize() : (this.stabilized = !1, this.ready = !0, this.body.emitter.emit("fit", {}, this.layoutFailed), this.startSimulation()) : (this.ready = !0, this.body.emitter.emit("fit"))
                    }
                }, {
                    key: "startSimulation",
                    value: function() {
                        this.physicsEnabled === !0 && this.options.enabled === !0 ? (this.stabilized = !1, this.adaptiveTimestep = !1, this.body.emitter.emit("_resizeNodes"), void 0 === this.viewFunction && (this.viewFunction = this.simulationStep.bind(this), this.body.emitter.on("initRedraw", this.viewFunction), this.body.emitter.emit("_startRendering"))) : this.body.emitter.emit("_redraw")
                    }
                }, {
                    key: "stopSimulation",
                    value: function() {
                        var t = arguments.length <= 0 || void 0 === arguments[0] ? !0 : arguments[0];
                        this.stabilized = !0, t === !0 && this._emitStabilized(), void 0 !== this.viewFunction && (this.body.emitter.off("initRedraw", this.viewFunction), this.viewFunction = void 0, t === !0 && this.body.emitter.emit("_stopRendering"))
                    }
                }, {
                    key: "simulationStep",
                    value: function() {
                        var t = Date.now();
                        this.physicsTick();
                        var e = Date.now() - t;
                        (e < .4 * this.simulationInterval || this.runDoubleSpeed === !0) && this.stabilized === !1 && (this.physicsTick(), this.runDoubleSpeed = !0), this.stabilized === !0 && this.stopSimulation()
                    }
                }, {
                    key: "_emitStabilized",
                    value: function() {
                        var t = this,
                            e = arguments.length <= 0 || void 0 === arguments[0] ? this.stabilizationIterations : arguments[0];
                        (this.stabilizationIterations > 1 || this.startedStabilization === !0) && setTimeout(function() {
                            t.body.emitter.emit("stabilized", {
                                iterations: e
                            }), t.startedStabilization = !1, t.stabilizationIterations = 0
                        }, 0)
                    }
                }, {
                    key: "physicsTick",
                    value: function() {
                        if (this.startedStabilization === !1 && (this.body.emitter.emit("startStabilizing"), this.startedStabilization = !0), this.stabilized === !1) {
                            if (this.adaptiveTimestep === !0 && this.adaptiveTimestepEnabled === !0) {
                                var t = 1.2;
                                this.adaptiveCounter % this.adaptiveInterval === 0 ? (this.timestep = 2 * this.timestep, this.calculateForces(), this.moveNodes(), this.revert(), this.timestep = .5 * this.timestep, this.calculateForces(), this.moveNodes(), this.calculateForces(), this.moveNodes(), this._evaluateStepQuality() === !0 ? this.timestep = t * this.timestep : this.timestep / t < this.options.timestep ? this.timestep = this.options.timestep : (this.adaptiveCounter = -1, this.timestep = Math.max(this.options.timestep, this.timestep / t))) : (this.calculateForces(), this.moveNodes()), this.adaptiveCounter += 1
                            } else this.timestep = this.options.timestep, this.calculateForces(), this.moveNodes();
                            this.stabilized === !0 && this.revert(), this.stabilizationIterations++
                        }
                    }
                }, {
                    key: "updatePhysicsData",
                    value: function() {
                        this.physicsBody.forces = {}, this.physicsBody.physicsNodeIndices = [], this.physicsBody.physicsEdgeIndices = [];
                        var t = this.body.nodes,
                            e = this.body.edges;
                        for (var i in t) t.hasOwnProperty(i) && t[i].options.physics === !0 && this.physicsBody.physicsNodeIndices.push(t[i].id);
                        for (var o in e) e.hasOwnProperty(o) && e[o].options.physics === !0 && this.physicsBody.physicsEdgeIndices.push(e[o].id);
                        for (var n = 0; n < this.physicsBody.physicsNodeIndices.length; n++) {
                            var s = this.physicsBody.physicsNodeIndices[n];
                            this.physicsBody.forces[s] = {
                                x: 0,
                                y: 0
                            }, void 0 === this.physicsBody.velocities[s] && (this.physicsBody.velocities[s] = {
                                x: 0,
                                y: 0
                            })
                        }
                        for (var r in this.physicsBody.velocities) void 0 === t[r] && delete this.physicsBody.velocities[r]
                    }
                }, {
                    key: "revert",
                    value: function() {
                        var t = Object.keys(this.previousStates),
                            e = this.body.nodes,
                            i = this.physicsBody.velocities;
                        this.referenceState = {};
                        for (var o = 0; o < t.length; o++) {
                            var n = t[o];
                            void 0 !== e[n] ? e[n].options.physics === !0 && (this.referenceState[n] = {
                                positions: {
                                    x: e[n].x,
                                    y: e[n].y
                                }
                            }, i[n].x = this.previousStates[n].vx, i[n].y = this.previousStates[n].vy, e[n].x = this.previousStates[n].x, e[n].y = this.previousStates[n].y) : delete this.previousStates[n]
                        }
                    }
                }, {
                    key: "_evaluateStepQuality",
                    value: function() {
                        var t = void 0,
                            e = void 0,
                            i = void 0,
                            o = this.body.nodes,
                            n = this.referenceState,
                            s = .3;
                        for (var r in this.referenceState)
                            if (this.referenceState.hasOwnProperty(r) && void 0 !== o[r] && (t = o[r].x - n[r].positions.x, e = o[r].y - n[r].positions.y, i = Math.sqrt(Math.pow(t, 2) + Math.pow(e, 2)), i > s)) return !1;
                        return !0
                    }
                }, {
                    key: "moveNodes",
                    value: function() {
                        for (var t = this.physicsBody.physicsNodeIndices, e = this.options.maxVelocity ? this.options.maxVelocity : 1e9, i = 0, o = 0, n = 5, s = 0; s < t.length; s++) {
                            var r = t[s],
                                a = this._performStep(r, e);
                            i = Math.max(i, a), o += a
                        }
                        this.adaptiveTimestepEnabled = o / t.length < n, this.stabilized = i < this.options.minVelocity
                    }
                }, {
                    key: "_performStep",
                    value: function(t, e) {
                        var i = this.body.nodes[t],
                            o = this.timestep,
                            n = this.physicsBody.forces,
                            s = this.physicsBody.velocities;
                        if (this.previousStates[t] = {
                                x: i.x,
                                y: i.y,
                                vx: s[t].x,
                                vy: s[t].y
                            }, i.options.fixed.x === !1) {
                            var r = this.modelOptions.damping * s[t].x,
                                a = (n[t].x - r) / i.options.mass;
                            s[t].x += a * o, s[t].x = Math.abs(s[t].x) > e ? s[t].x > 0 ? e : -e : s[t].x, i.x += s[t].x * o
                        } else n[t].x = 0, s[t].x = 0;
                        if (i.options.fixed.y === !1) {
                            var h = this.modelOptions.damping * s[t].y,
                                d = (n[t].y - h) / i.options.mass;
                            s[t].y += d * o, s[t].y = Math.abs(s[t].y) > e ? s[t].y > 0 ? e : -e : s[t].y, i.y += s[t].y * o
                        } else n[t].y = 0, s[t].y = 0;
                        var l = Math.sqrt(Math.pow(s[t].x, 2) + Math.pow(s[t].y, 2));
                        return l
                    }
                }, {
                    key: "calculateForces",
                    value: function() {
                        this.gravitySolver.solve(), this.nodesSolver.solve(), this.edgesSolver.solve()
                    }
                }, {
                    key: "_freezeNodes",
                    value: function() {
                        var t = this.body.nodes;
                        for (var e in t) t.hasOwnProperty(e) && t[e].x && t[e].y && (this.freezeCache[e] = {
                            x: t[e].options.fixed.x,
                            y: t[e].options.fixed.y
                        }, t[e].options.fixed.x = !0, t[e].options.fixed.y = !0)
                    }
                }, {
                    key: "_restoreFrozenNodes",
                    value: function() {
                        var t = this.body.nodes;
                        for (var e in t) t.hasOwnProperty(e) && void 0 !== this.freezeCache[e] && (t[e].options.fixed.x = this.freezeCache[e].x, t[e].options.fixed.y = this.freezeCache[e].y);
                        this.freezeCache = {}
                    }
                }, {
                    key: "stabilize",
                    value: function() {
                        var t = this,
                            e = arguments.length <= 0 || void 0 === arguments[0] ? this.options.stabilization.iterations : arguments[0];
                        return "number" != typeof e && (console.log("The stabilize method needs a numeric amount of iterations. Switching to default: ", this.options.stabilization.iterations), e = this.options.stabilization.iterations), 0 === this.physicsBody.physicsNodeIndices.length ? void(this.ready = !0) : (this.adaptiveTimestep = this.options.adaptiveTimestep, this.body.emitter.emit("_resizeNodes"), this.stopSimulation(), this.stabilized = !1, this.body.emitter.emit("_blockRedraw"), this.targetIterations = e, this.options.stabilization.onlyDynamicEdges === !0 && this._freezeNodes(), this.stabilizationIterations = 0, void setTimeout(function() {
                            return t._stabilizationBatch()
                        }, 0))
                    }
                }, {
                    key: "_stabilizationBatch",
                    value: function() {
                        this.startedStabilization === !1 && (this.body.emitter.emit("startStabilizing"), this.startedStabilization = !0);
                        for (var t = 0; this.stabilized === !1 && t < this.options.stabilization.updateInterval && this.stabilizationIterations < this.targetIterations;) this.physicsTick(), t++;
                        this.stabilized === !1 && this.stabilizationIterations < this.targetIterations ? (this.body.emitter.emit("stabilizationProgress", {
                            iterations: this.stabilizationIterations,
                            total: this.targetIterations
                        }), setTimeout(this._stabilizationBatch.bind(this), 0)) : this._finalizeStabilization()
                    }
                }, {
                    key: "_finalizeStabilization",
                    value: function() {
                        this.body.emitter.emit("_allowRedraw"), this.options.stabilization.fit === !0 && this.body.emitter.emit("fit"), this.options.stabilization.onlyDynamicEdges === !0 && this._restoreFrozenNodes(), this.body.emitter.emit("stabilizationIterationsDone"), this.body.emitter.emit("_requestRedraw"), this.stabilized === !0 ? this._emitStabilized() : this.startSimulation(), this.ready = !0
                    }
                }, {
                    key: "_drawForces",
                    value: function(t) {
                        for (var e = 0; e < this.physicsBody.physicsNodeIndices.length; e++) {
                            var i = this.body.nodes[this.physicsBody.physicsNodeIndices[e]],
                                o = this.physicsBody.forces[this.physicsBody.physicsNodeIndices[e]],
                                n = 20,
                                s = .03,
                                r = Math.sqrt(Math.pow(o.x, 2) + Math.pow(o.x, 2)),
                                a = Math.min(Math.max(5, r), 15),
                                h = 3 * a,
                                d = x.HSVToHex((180 - 180 * Math.min(1, Math.max(0, s * r))) / 360, 1, 1);
                            t.lineWidth = a, t.strokeStyle = d, t.beginPath(), t.moveTo(i.x, i.y), t.lineTo(i.x + n * o.x, i.y + n * o.y), t.stroke();
                            var l = Math.atan2(o.y, o.x);
                            t.fillStyle = d, t.arrow(i.x + n * o.x + Math.cos(l) * h, i.y + n * o.y + Math.sin(l) * h, l, h), t.fill()
                        }
                    }
                }]), t
            }();
        e["default"] = k
    }, function(t, e) {
        function i(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var o = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            n = function() {
                function t(e, o, n) {
                    i(this, t), this.body = e, this.physicsBody = o, this.barnesHutTree, this.setOptions(n), this.randomSeed = 5
                }
                return o(t, [{
                    key: "setOptions",
                    value: function(t) {
                        this.options = t, this.thetaInversed = 1 / this.options.theta, this.overlapAvoidanceFactor = 1 - Math.max(0, Math.min(1, this.options.avoidOverlap))
                    }
                }, {
                    key: "seededRandom",
                    value: function() {
                        var t = 1e4 * Math.sin(this.randomSeed++);
                        return t - Math.floor(t)
                    }
                }, {
                    key: "solve",
                    value: function() {
                        if (0 !== this.options.gravitationalConstant && this.physicsBody.physicsNodeIndices.length > 0) {
                            var t = void 0,
                                e = this.body.nodes,
                                i = this.physicsBody.physicsNodeIndices,
                                o = i.length,
                                n = this._formBarnesHutTree(e, i);
                            this.barnesHutTree = n;
                            for (var s = 0; o > s; s++) t = e[i[s]], t.options.mass > 0 && (this._getForceContribution(n.root.children.NW, t), this._getForceContribution(n.root.children.NE, t), this._getForceContribution(n.root.children.SW, t), this._getForceContribution(n.root.children.SE, t))
                        }
                    }
                }, {
                    key: "_getForceContribution",
                    value: function(t, e) {
                        if (t.childrenCount > 0) {
                            var i = void 0,
                                o = void 0,
                                n = void 0;
                            i = t.centerOfMass.x - e.x, o = t.centerOfMass.y - e.y, n = Math.sqrt(i * i + o * o), n * t.calcSize > this.thetaInversed ? this._calculateForces(n, i, o, e, t) : 4 === t.childrenCount ? (this._getForceContribution(t.children.NW, e), this._getForceContribution(t.children.NE, e), this._getForceContribution(t.children.SW, e), this._getForceContribution(t.children.SE, e)) : t.children.data.id != e.id && this._calculateForces(n, i, o, e, t)
                        }
                    }
                }, {
                    key: "_calculateForces",
                    value: function(t, e, i, o, n) {
                        0 === t && (t = .1, e = t), this.overlapAvoidanceFactor < 1 && (t = Math.max(.1 + this.overlapAvoidanceFactor * o.shape.radius, t - o.shape.radius));
                        var s = this.options.gravitationalConstant * n.mass * o.options.mass / Math.pow(t, 3),
                            r = e * s,
                            a = i * s;
                        this.physicsBody.forces[o.id].x += r, this.physicsBody.forces[o.id].y += a
                    }
                }, {
                    key: "_formBarnesHutTree",
                    value: function(t, e) {
                        for (var i = void 0, o = e.length, n = t[e[0]].x, s = t[e[0]].y, r = t[e[0]].x, a = t[e[0]].y, h = 1; o > h; h++) {
                            var d = t[e[h]].x,
                                l = t[e[h]].y;
                            t[e[h]].options.mass > 0 && (n > d && (n = d), d > r && (r = d), s > l && (s = l), l > a && (a = l))
                        }
                        var c = Math.abs(r - n) - Math.abs(a - s);
                        c > 0 ? (s -= .5 * c, a += .5 * c) : (n += .5 * c, r -= .5 * c);
                        var u = 1e-5,
                            p = Math.max(u, Math.abs(r - n)),
                            f = .5 * p,
                            m = .5 * (n + r),
                            v = .5 * (s + a),
                            g = {
                                root: {
                                    centerOfMass: {
                                        x: 0,
                                        y: 0
                                    },
                                    mass: 0,
                                    range: {
                                        minX: m - f,
                                        maxX: m + f,
                                        minY: v - f,
                                        maxY: v + f
                                    },
                                    size: p,
                                    calcSize: 1 / p,
                                    children: {
                                        data: null
                                    },
                                    maxWidth: 0,
                                    level: 0,
                                    childrenCount: 4
                                }
                            };
                        this._splitBranch(g.root);
                        for (var y = 0; o > y; y++) i = t[e[y]], i.options.mass > 0 && this._placeInTree(g.root, i);
                        return g
                    }
                }, {
                    key: "_updateBranchMass",
                    value: function(t, e) {
                        var i = t.mass + e.options.mass,
                            o = 1 / i;
                        t.centerOfMass.x = t.centerOfMass.x * t.mass + e.x * e.options.mass, t.centerOfMass.x *= o, t.centerOfMass.y = t.centerOfMass.y * t.mass + e.y * e.options.mass, t.centerOfMass.y *= o, t.mass = i;
                        var n = Math.max(Math.max(e.height, e.radius), e.width);
                        t.maxWidth = t.maxWidth < n ? n : t.maxWidth
                    }
                }, {
                    key: "_placeInTree",
                    value: function(t, e, i) {
                        1 == i && void 0 !== i || this._updateBranchMass(t, e), t.children.NW.range.maxX > e.x ? t.children.NW.range.maxY > e.y ? this._placeInRegion(t, e, "NW") : this._placeInRegion(t, e, "SW") : t.children.NW.range.maxY > e.y ? this._placeInRegion(t, e, "NE") : this._placeInRegion(t, e, "SE")
                    }
                }, {
                    key: "_placeInRegion",
                    value: function(t, e, i) {
                        switch (t.children[i].childrenCount) {
                            case 0:
                                t.children[i].children.data = e, t.children[i].childrenCount = 1, this._updateBranchMass(t.children[i], e);
                                break;
                            case 1:
                                t.children[i].children.data.x === e.x && t.children[i].children.data.y === e.y ? (e.x += this.seededRandom(), e.y += this.seededRandom()) : (this._splitBranch(t.children[i]), this._placeInTree(t.children[i], e));
                                break;
                            case 4:
                                this._placeInTree(t.children[i], e)
                        }
                    }
                }, {
                    key: "_splitBranch",
                    value: function(t) {
                        var e = null;
                        1 === t.childrenCount && (e = t.children.data, t.mass = 0, t.centerOfMass.x = 0, t.centerOfMass.y = 0), t.childrenCount = 4, t.children.data = null, this._insertRegion(t, "NW"), this._insertRegion(t, "NE"), this._insertRegion(t, "SW"), this._insertRegion(t, "SE"), null != e && this._placeInTree(t, e)
                    }
                }, {
                    key: "_insertRegion",
                    value: function(t, e) {
                        var i = void 0,
                            o = void 0,
                            n = void 0,
                            s = void 0,
                            r = .5 * t.size;
                        switch (e) {
                            case "NW":
                                i = t.range.minX, o = t.range.minX + r, n = t.range.minY, s = t.range.minY + r;
                                break;
                            case "NE":
                                i = t.range.minX + r, o = t.range.maxX, n = t.range.minY, s = t.range.minY + r;
                                break;
                            case "SW":
                                i = t.range.minX, o = t.range.minX + r, n = t.range.minY + r, s = t.range.maxY;
                                break;
                            case "SE":
                                i = t.range.minX + r, o = t.range.maxX, n = t.range.minY + r, s = t.range.maxY
                        }
                        t.children[e] = {
                            centerOfMass: {
                                x: 0,
                                y: 0
                            },
                            mass: 0,
                            range: {
                                minX: i,
                                maxX: o,
                                minY: n,
                                maxY: s
                            },
                            size: .5 * t.size,
                            calcSize: 2 * t.calcSize,
                            children: {
                                data: null
                            },
                            maxWidth: 0,
                            level: t.level + 1,
                            childrenCount: 0
                        }
                    }
                }, {
                    key: "_debug",
                    value: function(t, e) {
                        void 0 !== this.barnesHutTree && (t.lineWidth = 1, this._drawBranch(this.barnesHutTree.root, t, e))
                    }
                }, {
                    key: "_drawBranch",
                    value: function(t, e, i) {
                        void 0 === i && (i = "#FF0000"), 4 === t.childrenCount && (this._drawBranch(t.children.NW, e), this._drawBranch(t.children.NE, e), this._drawBranch(t.children.SE, e), this._drawBranch(t.children.SW, e)), e.strokeStyle = i, e.beginPath(), e.moveTo(t.range.minX, t.range.minY), e.lineTo(t.range.maxX, t.range.minY), e.stroke(), e.beginPath(), e.moveTo(t.range.maxX, t.range.minY), e.lineTo(t.range.maxX, t.range.maxY), e.stroke(), e.beginPath(), e.moveTo(t.range.maxX, t.range.maxY),
                            e.lineTo(t.range.minX, t.range.maxY), e.stroke(), e.beginPath(), e.moveTo(t.range.minX, t.range.maxY), e.lineTo(t.range.minX, t.range.minY), e.stroke()
                    }
                }]), t
            }();
        e["default"] = n
    }, function(t, e) {
        function i(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var o = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            n = function() {
                function t(e, o, n) {
                    i(this, t), this.body = e, this.physicsBody = o, this.setOptions(n)
                }
                return o(t, [{
                    key: "setOptions",
                    value: function(t) {
                        this.options = t
                    }
                }, {
                    key: "solve",
                    value: function() {
                        for (var t, e, i, o, n, s, r, a, h = this.body.nodes, d = this.physicsBody.physicsNodeIndices, l = this.physicsBody.forces, c = this.options.nodeDistance, u = -2 / 3 / c, p = 4 / 3, f = 0; f < d.length - 1; f++) {
                            r = h[d[f]];
                            for (var m = f + 1; m < d.length; m++) a = h[d[m]], t = a.x - r.x, e = a.y - r.y, i = Math.sqrt(t * t + e * e), 0 === i && (i = .1 * Math.random(), t = i), 2 * c > i && (s = .5 * c > i ? 1 : u * i + p, s /= i, o = t * s, n = e * s, l[r.id].x -= o, l[r.id].y -= n, l[a.id].x += o, l[a.id].y += n)
                        }
                    }
                }]), t
            }();
        e["default"] = n
    }, function(t, e) {
        function i(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var o = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            n = function() {
                function t(e, o, n) {
                    i(this, t), this.body = e, this.physicsBody = o, this.setOptions(n)
                }
                return o(t, [{
                    key: "setOptions",
                    value: function(t) {
                        this.options = t
                    }
                }, {
                    key: "solve",
                    value: function() {
                        var t, e, i, o, n, s, r, a, h, d, l = this.body.nodes,
                            c = this.physicsBody.physicsNodeIndices,
                            u = this.physicsBody.forces,
                            p = this.options.nodeDistance;
                        for (h = 0; h < c.length - 1; h++)
                            for (r = l[c[h]], d = h + 1; d < c.length; d++)
                                if (a = l[c[d]], r.level === a.level) {
                                    t = a.x - r.x, e = a.y - r.y, i = Math.sqrt(t * t + e * e);
                                    var f = .05;
                                    s = p > i ? -Math.pow(f * i, 2) + Math.pow(f * p, 2) : 0, 0 === i ? i = .01 : s /= i, o = t * s, n = e * s, u[r.id].x -= o, u[r.id].y -= n, u[a.id].x += o, u[a.id].y += n
                                }
                    }
                }]), t
            }();
        e["default"] = n
    }, function(t, e) {
        function i(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var o = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            n = function() {
                function t(e, o, n) {
                    i(this, t), this.body = e, this.physicsBody = o, this.setOptions(n)
                }
                return o(t, [{
                    key: "setOptions",
                    value: function(t) {
                        this.options = t
                    }
                }, {
                    key: "solve",
                    value: function() {
                        for (var t = void 0, e = void 0, i = this.physicsBody.physicsEdgeIndices, o = this.body.edges, n = void 0, s = void 0, r = void 0, a = 0; a < i.length; a++) e = o[i[a]], e.connected === !0 && e.toId !== e.fromId && void 0 !== this.body.nodes[e.toId] && void 0 !== this.body.nodes[e.fromId] && (void 0 !== e.edgeType.via ? (t = void 0 === e.options.length ? this.options.springLength : e.options.length, n = e.to, s = e.edgeType.via, r = e.from, this._calculateSpringForce(n, s, .5 * t), this._calculateSpringForce(s, r, .5 * t)) : (t = void 0 === e.options.length ? 1.5 * this.options.springLength : e.options.length, this._calculateSpringForce(e.from, e.to, t)))
                    }
                }, {
                    key: "_calculateSpringForce",
                    value: function(t, e, i) {
                        var o = t.x - e.x,
                            n = t.y - e.y,
                            s = Math.max(Math.sqrt(o * o + n * n), .01),
                            r = this.options.springConstant * (i - s) / s,
                            a = o * r,
                            h = n * r;
                        void 0 !== this.physicsBody.forces[t.id] && (this.physicsBody.forces[t.id].x += a, this.physicsBody.forces[t.id].y += h), void 0 !== this.physicsBody.forces[e.id] && (this.physicsBody.forces[e.id].x -= a, this.physicsBody.forces[e.id].y -= h)
                    }
                }]), t
            }();
        e["default"] = n
    }, function(t, e) {
        function i(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var o = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            n = function() {
                function t(e, o, n) {
                    i(this, t), this.body = e, this.physicsBody = o, this.setOptions(n)
                }
                return o(t, [{
                    key: "setOptions",
                    value: function(t) {
                        this.options = t
                    }
                }, {
                    key: "solve",
                    value: function() {
                        for (var t, e, i, o, n, s, r, a, h = this.body.edges, d = .5, l = this.physicsBody.physicsEdgeIndices, c = this.physicsBody.physicsNodeIndices, u = this.physicsBody.forces, p = 0; p < c.length; p++) {
                            var f = c[p];
                            u[f].springFx = 0, u[f].springFy = 0
                        }
                        for (var m = 0; m < l.length; m++) e = h[l[m]], e.connected === !0 && (t = void 0 === e.options.length ? this.options.springLength : e.options.length, i = e.from.x - e.to.x, o = e.from.y - e.to.y, a = Math.sqrt(i * i + o * o), a = 0 === a ? .01 : a, r = this.options.springConstant * (t - a) / a, n = i * r, s = o * r, e.to.level != e.from.level ? (void 0 !== u[e.toId] && (u[e.toId].springFx -= n, u[e.toId].springFy -= s), void 0 !== u[e.fromId] && (u[e.fromId].springFx += n, u[e.fromId].springFy += s)) : (void 0 !== u[e.toId] && (u[e.toId].x -= d * n, u[e.toId].y -= d * s), void 0 !== u[e.fromId] && (u[e.fromId].x += d * n, u[e.fromId].y += d * s)));
                        for (var v, g, r = 1, y = 0; y < c.length; y++) {
                            var b = c[y];
                            v = Math.min(r, Math.max(-r, u[b].springFx)), g = Math.min(r, Math.max(-r, u[b].springFy)), u[b].x += v, u[b].y += g
                        }
                        for (var w = 0, _ = 0, x = 0; x < c.length; x++) {
                            var k = c[x];
                            w += u[k].x, _ += u[k].y
                        }
                        for (var O = w / c.length, M = _ / c.length, D = 0; D < c.length; D++) {
                            var S = c[D];
                            u[S].x -= O, u[S].y -= M
                        }
                    }
                }]), t
            }();
        e["default"] = n
    }, function(t, e) {
        function i(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var o = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            n = function() {
                function t(e, o, n) {
                    i(this, t), this.body = e, this.physicsBody = o, this.setOptions(n)
                }
                return o(t, [{
                    key: "setOptions",
                    value: function(t) {
                        this.options = t
                    }
                }, {
                    key: "solve",
                    value: function() {
                        for (var t = void 0, e = void 0, i = void 0, o = void 0, n = this.body.nodes, s = this.physicsBody.physicsNodeIndices, r = this.physicsBody.forces, a = 0; a < s.length; a++) {
                            var h = s[a];
                            o = n[h], t = -o.x, e = -o.y, i = Math.sqrt(t * t + e * e), this._calculateForces(i, t, e, r, o)
                        }
                    }
                }, {
                    key: "_calculateForces",
                    value: function(t, e, i, o, n) {
                        var s = 0 === t ? 0 : this.options.centralGravity / t;
                        o[n.id].x = e * s, o[n.id].y = i * s
                    }
                }]), t
            }();
        e["default"] = n
    }, function(t, e, i) {
        function o(t) {
            return t && t.__esModule ? t : {
                "default": t
            }
        }

        function n(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function s(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" != typeof e && "function" != typeof e ? t : e
        }

        function r(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var a = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            h = i(94),
            d = o(h),
            l = function(t) {
                function e(t, i, o) {
                    return n(this, e), s(this, Object.getPrototypeOf(e).call(this, t, i, o))
                }
                return r(e, t), a(e, [{
                    key: "_calculateForces",
                    value: function(t, e, i, o, n) {
                        0 === t && (t = .1 * Math.random(), e = t), this.overlapAvoidanceFactor < 1 && (t = Math.max(.1 + this.overlapAvoidanceFactor * o.shape.radius, t - o.shape.radius));
                        var s = o.edges.length + 1,
                            r = this.options.gravitationalConstant * n.mass * o.options.mass * s / Math.pow(t, 2),
                            a = e * r,
                            h = i * r;
                        this.physicsBody.forces[o.id].x += a, this.physicsBody.forces[o.id].y += h
                    }
                }]), e
            }(d["default"]);
        e["default"] = l
    }, function(t, e, i) {
        function o(t) {
            return t && t.__esModule ? t : {
                "default": t
            }
        }

        function n(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function s(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" != typeof e && "function" != typeof e ? t : e
        }

        function r(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var a = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            h = i(99),
            d = o(h),
            l = function(t) {
                function e(t, i, o) {
                    return n(this, e), s(this, Object.getPrototypeOf(e).call(this, t, i, o))
                }
                return r(e, t), a(e, [{
                    key: "_calculateForces",
                    value: function(t, e, i, o, n) {
                        if (t > 0) {
                            var s = n.edges.length + 1,
                                r = this.options.centralGravity * s * n.options.mass;
                            o[n.id].x = e * r, o[n.id].y = i * r
                        }
                    }
                }]), e
            }(d["default"]);
        e["default"] = l
    }, function(t, e, i) {
        function o(t) {
            return t && t.__esModule ? t : {
                "default": t
            }
        }

        function n(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            } : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol ? "symbol" : typeof t
            },
            r = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            a = i(103),
            h = o(a),
            d = i(104),
            l = o(d),
            c = i(1),
            u = function() {
                function t(e) {
                    var i = this;
                    n(this, t), this.body = e, this.clusteredNodes = {}, this.clusteredEdges = {}, this.options = {}, this.defaultOptions = {}, c.extend(this.options, this.defaultOptions), this.body.emitter.on("_resetData", function() {
                        i.clusteredNodes = {}, i.clusteredEdges = {}
                    })
                }
                return r(t, [{
                    key: "setOptions",
                    value: function(t) {}
                }, {
                    key: "clusterByHubsize",
                    value: function(t, e) {
                        void 0 === t ? t = this._getHubSize() : "object" === ("undefined" == typeof t ? "undefined" : s(t)) && (e = this._checkOptions(t), t = this._getHubSize());
                        for (var i = [], o = 0; o < this.body.nodeIndices.length; o++) {
                            var n = this.body.nodes[this.body.nodeIndices[o]];
                            n.edges.length >= t && i.push(n.id)
                        }
                        for (var r = 0; r < i.length; r++) this.clusterByConnection(i[r], e, !0);
                        this.body.emitter.emit("_dataChanged")
                    }
                }, {
                    key: "cluster",
                    value: function() {
                        var t = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0],
                            e = arguments.length <= 1 || void 0 === arguments[1] ? !0 : arguments[1];
                        if (void 0 === t.joinCondition) throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");
                        t = this._checkOptions(t);
                        for (var i = {}, o = {}, n = 0; n < this.body.nodeIndices.length; n++) {
                            var s = this.body.nodeIndices[n],
                                r = this.body.nodes[s],
                                a = h["default"].cloneOptions(r);
                            if (t.joinCondition(a) === !0) {
                                i[s] = this.body.nodes[s];
                                for (var d = 0; d < r.edges.length; d++) {
                                    var l = r.edges[d];
                                    void 0 === this.clusteredEdges[l.id] && (o[l.id] = l)
                                }
                            }
                        }
                        this._cluster(i, o, t, e)
                    }
                }, {
                    key: "clusterByEdgeCount",
                    value: function(t, e) {
                        var i = arguments.length <= 2 || void 0 === arguments[2] ? !0 : arguments[2];
                        e = this._checkOptions(e);
                        for (var o = [], n = {}, s = void 0, r = void 0, a = void 0, d = void 0, l = void 0, c = 0; c < this.body.nodeIndices.length; c++) {
                            var u = {},
                                p = {};
                            if (d = this.body.nodeIndices[c], void 0 === n[d]) {
                                l = 0, a = this.body.nodes[d], r = [];
                                for (var f = 0; f < a.edges.length; f++) s = a.edges[f], void 0 === this.clusteredEdges[s.id] && (s.toId !== s.fromId && l++, r.push(s));
                                if (l === t) {
                                    for (var m = !0, v = 0; v < r.length; v++) {
                                        s = r[v];
                                        var g = this._getConnectedId(s, d);
                                        if (void 0 === e.joinCondition) p[s.id] = s, u[d] = this.body.nodes[d], u[g] = this.body.nodes[g], n[d] = !0;
                                        else {
                                            var y = h["default"].cloneOptions(this.body.nodes[d]);
                                            if (e.joinCondition(y) !== !0) {
                                                m = !1;
                                                break
                                            }
                                            p[s.id] = s, u[d] = this.body.nodes[d], n[d] = !0
                                        }
                                    }
                                    Object.keys(u).length > 0 && Object.keys(p).length > 0 && m === !0 && o.push({
                                        nodes: u,
                                        edges: p
                                    })
                                }
                            }
                        }
                        for (var b = 0; b < o.length; b++) this._cluster(o[b].nodes, o[b].edges, e, !1);
                        i === !0 && this.body.emitter.emit("_dataChanged")
                    }
                }, {
                    key: "clusterOutliers",
                    value: function(t) {
                        var e = arguments.length <= 1 || void 0 === arguments[1] ? !0 : arguments[1];
                        this.clusterByEdgeCount(1, t, e)
                    }
                }, {
                    key: "clusterBridges",
                    value: function(t) {
                        var e = arguments.length <= 1 || void 0 === arguments[1] ? !0 : arguments[1];
                        this.clusterByEdgeCount(2, t, e)
                    }
                }, {
                    key: "clusterByConnection",
                    value: function(t, e) {
                        var i = arguments.length <= 2 || void 0 === arguments[2] ? !0 : arguments[2];
                        if (void 0 === t) throw new Error("No nodeId supplied to clusterByConnection!");
                        if (void 0 === this.body.nodes[t]) throw new Error("The nodeId given to clusterByConnection does not exist!");
                        var o = this.body.nodes[t];
                        e = this._checkOptions(e, o), void 0 === e.clusterNodeProperties.x && (e.clusterNodeProperties.x = o.x), void 0 === e.clusterNodeProperties.y && (e.clusterNodeProperties.y = o.y), void 0 === e.clusterNodeProperties.fixed && (e.clusterNodeProperties.fixed = {}, e.clusterNodeProperties.fixed.x = o.options.fixed.x, e.clusterNodeProperties.fixed.y = o.options.fixed.y);
                        var n = {},
                            s = {},
                            r = o.id,
                            a = h["default"].cloneOptions(o);
                        n[r] = o;
                        for (var d = 0; d < o.edges.length; d++) {
                            var l = o.edges[d];
                            if (void 0 === this.clusteredEdges[l.id]) {
                                var c = this._getConnectedId(l, r);
                                if (void 0 === this.clusteredNodes[c])
                                    if (c !== r)
                                        if (void 0 === e.joinCondition) s[l.id] = l, n[c] = this.body.nodes[c];
                                        else {
                                            var u = h["default"].cloneOptions(this.body.nodes[c]);
                                            e.joinCondition(a, u) === !0 && (s[l.id] = l, n[c] = this.body.nodes[c])
                                        }
                                else s[l.id] = l
                            }
                        }
                        this._cluster(n, s, e, i)
                    }
                }, {
                    key: "_createClusterEdges",
                    value: function(t, e, i, o) {
                        for (var n = void 0, s = void 0, r = void 0, a = void 0, d = void 0, l = void 0, u = Object.keys(t), p = [], f = 0; f < u.length; f++) {
                            s = u[f], r = t[s];
                            for (var m = 0; m < r.edges.length; m++) n = r.edges[m], void 0 === this.clusteredEdges[n.id] && (n.toId == n.fromId ? e[n.id] = n : n.toId == s ? (a = i.id, d = n.fromId, l = d) : (a = n.toId, d = i.id, l = a), void 0 === t[l] && p.push({
                                edge: n,
                                fromId: d,
                                toId: a
                            }))
                        }
                        for (var v = 0; v < p.length; v++) {
                            var g = p[v].edge,
                                y = h["default"].cloneOptions(g, "edge");
                            c.deepExtend(y, o), y.from = p[v].fromId, y.to = p[v].toId, y.id = "clusterEdge:" + c.randomUUID();
                            var b = this.body.functions.createEdge(y);
                            b.clusteringEdgeReplacingId = g.id, this.body.edges[b.id] = b, b.connect(), this._backupEdgeOptions(g), g.setOptions({
                                physics: !1,
                                hidden: !0
                            })
                        }
                    }
                }, {
                    key: "_checkOptions",
                    value: function() {
                        var t = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                        return void 0 === t.clusterEdgeProperties && (t.clusterEdgeProperties = {}), void 0 === t.clusterNodeProperties && (t.clusterNodeProperties = {}), t
                    }
                }, {
                    key: "_cluster",
                    value: function(t, e, i) {
                        var o = arguments.length <= 3 || void 0 === arguments[3] ? !0 : arguments[3];
                        if (!(Object.keys(t).length < 2)) {
                            for (var n in t)
                                if (t.hasOwnProperty(n) && void 0 !== this.clusteredNodes[n]) return;
                            var s = c.deepExtend({}, i.clusterNodeProperties);
                            if (void 0 !== i.processProperties) {
                                var r = [];
                                for (var a in t)
                                    if (t.hasOwnProperty(a)) {
                                        var d = h["default"].cloneOptions(t[a]);
                                        r.push(d)
                                    }
                                var u = [];
                                for (var p in e)
                                    if (e.hasOwnProperty(p) && "clusterEdge:" !== p.substr(0, 12)) {
                                        var f = h["default"].cloneOptions(e[p], "edge");
                                        u.push(f)
                                    }
                                if (s = i.processProperties(s, r, u), !s) throw new Error("The processProperties function does not return properties!")
                            }
                            void 0 === s.id && (s.id = "cluster:" + c.randomUUID());
                            var m = s.id;
                            void 0 === s.label && (s.label = "cluster");
                            var v = void 0;
                            void 0 === s.x && (v = this._getClusterPosition(t), s.x = v.x), void 0 === s.y && (void 0 === v && (v = this._getClusterPosition(t)), s.y = v.y), s.id = m;
                            var g = this.body.functions.createNode(s, l["default"]);
                            g.isCluster = !0, g.containedNodes = t, g.containedEdges = e, g.clusterEdgeProperties = i.clusterEdgeProperties, this.body.nodes[s.id] = g, this._createClusterEdges(t, e, s, i.clusterEdgeProperties);
                            for (var y in e)
                                if (e.hasOwnProperty(y) && void 0 !== this.body.edges[y]) {
                                    var b = this.body.edges[y];
                                    this._backupEdgeOptions(b), b.setOptions({
                                        physics: !1,
                                        hidden: !0
                                    })
                                }
                            for (var w in t) t.hasOwnProperty(w) && (this.clusteredNodes[w] = {
                                clusterId: s.id,
                                node: this.body.nodes[w]
                            }, this.body.nodes[w].setOptions({
                                hidden: !0,
                                physics: !1
                            }));
                            s.id = void 0, o === !0 && this.body.emitter.emit("_dataChanged")
                        }
                    }
                }, {
                    key: "_backupEdgeOptions",
                    value: function(t) {
                        void 0 === this.clusteredEdges[t.id] && (this.clusteredEdges[t.id] = {
                            physics: t.options.physics,
                            hidden: t.options.hidden
                        })
                    }
                }, {
                    key: "_restoreEdge",
                    value: function(t) {
                        var e = this.clusteredEdges[t.id];
                        void 0 !== e && (t.setOptions({
                            physics: e.physics,
                            hidden: e.hidden
                        }), delete this.clusteredEdges[t.id])
                    }
                }, {
                    key: "isCluster",
                    value: function(t) {
                        return void 0 !== this.body.nodes[t] ? this.body.nodes[t].isCluster === !0 : (console.log("Node does not exist."), !1)
                    }
                }, {
                    key: "_getClusterPosition",
                    value: function(t) {
                        for (var e = Object.keys(t), i = t[e[0]].x, o = t[e[0]].x, n = t[e[0]].y, s = t[e[0]].y, r = void 0, a = 1; a < e.length; a++) r = t[e[a]], i = r.x < i ? r.x : i, o = r.x > o ? r.x : o, n = r.y < n ? r.y : n, s = r.y > s ? r.y : s;
                        return {
                            x: .5 * (i + o),
                            y: .5 * (n + s)
                        }
                    }
                }, {
                    key: "openCluster",
                    value: function(t, e) {
                        var i = arguments.length <= 2 || void 0 === arguments[2] ? !0 : arguments[2];
                        if (void 0 === t) throw new Error("No clusterNodeId supplied to openCluster.");
                        if (void 0 === this.body.nodes[t]) throw new Error("The clusterNodeId supplied to openCluster does not exist.");
                        if (void 0 === this.body.nodes[t].containedNodes) return void console.log("The node:" + t + " is not a cluster.");
                        var o = this.body.nodes[t],
                            n = o.containedNodes,
                            s = o.containedEdges;
                        if (void 0 !== e && void 0 !== e.releaseFunction && "function" == typeof e.releaseFunction) {
                            var r = {},
                                a = {
                                    x: o.x,
                                    y: o.y
                                };
                            for (var d in n)
                                if (n.hasOwnProperty(d)) {
                                    var l = this.body.nodes[d];
                                    r[d] = {
                                        x: l.x,
                                        y: l.y
                                    }
                                }
                            var u = e.releaseFunction(a, r);
                            for (var p in n)
                                if (n.hasOwnProperty(p)) {
                                    var f = this.body.nodes[p];
                                    void 0 !== u[p] && (f.x = void 0 === u[p].x ? o.x : u[p].x, f.y = void 0 === u[p].y ? o.y : u[p].y)
                                }
                        } else
                            for (var m in n)
                                if (n.hasOwnProperty(m)) {
                                    var v = this.body.nodes[m];
                                    v = n[m], v.options.fixed.x === !1 && (v.x = o.x), v.options.fixed.y === !1 && (v.y = o.y)
                                } for (var g in n)
                            if (n.hasOwnProperty(g)) {
                                var y = this.body.nodes[g];
                                y.vx = o.vx, y.vy = o.vy, y.setOptions({
                                    hidden: !1,
                                    physics: !0
                                }), delete this.clusteredNodes[g]
                            }
                        for (var b = [], w = 0; w < o.edges.length; w++) b.push(o.edges[w]);
                        for (var _ = 0; _ < b.length; _++) {
                            var x = b[_],
                                k = this._getConnectedId(x, t);
                            if (void 0 !== this.clusteredNodes[k]) {
                                var O = this.body.nodes[this.clusteredNodes[k].clusterId],
                                    M = this.body.edges[x.clusteringEdgeReplacingId];
                                if (void 0 !== M) {
                                    O.containedEdges[M.id] = M, delete s[M.id];
                                    var D = M.fromId,
                                        S = M.toId;
                                    M.toId == k ? S = this.clusteredNodes[k].clusterId : D = this.clusteredNodes[k].clusterId;
                                    var C = h["default"].cloneOptions(M, "edge");
                                    c.deepExtend(C, O.clusterEdgeProperties);
                                    var T = "clusterEdge:" + c.randomUUID();
                                    c.deepExtend(C, {
                                        from: D,
                                        to: S,
                                        hidden: !1,
                                        physics: !0,
                                        id: T
                                    });
                                    var E = this.body.functions.createEdge(C);
                                    E.clusteringEdgeReplacingId = M.id, this.body.edges[T] = E, this.body.edges[T].connect()
                                }
                            } else {
                                var P = this.body.edges[x.clusteringEdgeReplacingId];
                                void 0 !== P && this._restoreEdge(P)
                            }
                            x.cleanup(), x.disconnect(), delete this.body.edges[x.id]
                        }
                        for (var I in s) s.hasOwnProperty(I) && this._restoreEdge(s[I]);
                        delete this.body.nodes[t], i === !0 && this.body.emitter.emit("_dataChanged")
                    }
                }, {
                    key: "getNodesInCluster",
                    value: function(t) {
                        var e = [];
                        if (this.isCluster(t) === !0) {
                            var i = this.body.nodes[t].containedNodes;
                            for (var o in i) i.hasOwnProperty(o) && e.push(this.body.nodes[o].id)
                        }
                        return e
                    }
                }, {
                    key: "findNode",
                    value: function(t) {
                        for (var e = [], i = 100, o = 0; void 0 !== this.clusteredNodes[t] && i > o;) e.push(this.body.nodes[t].id), t = this.clusteredNodes[t].clusterId, o++;
                        return e.push(this.body.nodes[t].id), e.reverse(), e
                    }
                }, {
                    key: "_getConnectedId",
                    value: function(t, e) {
                        return t.toId != e ? t.toId : t.fromId != e ? t.fromId : t.fromId
                    }
                }, {
                    key: "_getHubSize",
                    value: function() {
                        for (var t = 0, e = 0, i = 0, o = 0, n = 0; n < this.body.nodeIndices.length; n++) {
                            var s = this.body.nodes[this.body.nodeIndices[n]];
                            s.edges.length > o && (o = s.edges.length), t += s.edges.length, e += Math.pow(s.edges.length, 2), i += 1
                        }
                        t /= i, e /= i;
                        var r = e - Math.pow(t, 2),
                            a = Math.sqrt(r),
                            h = Math.floor(t + 2 * a);
                        return h > o && (h = o), h
                    }
                }]), t
            }();
        e["default"] = u
    }, function(t, e, i) {
        function o(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var n = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            s = i(1),
            r = function() {
                function t() {
                    o(this, t)
                }
                return n(t, null, [{
                    key: "getRange",
                    value: function(t) {
                        var e, i = arguments.length <= 1 || void 0 === arguments[1] ? [] : arguments[1],
                            o = 1e9,
                            n = -1e9,
                            s = 1e9,
                            r = -1e9;
                        if (i.length > 0)
                            for (var a = 0; a < i.length; a++) e = t[i[a]], s > e.shape.boundingBox.left && (s = e.shape.boundingBox.left), r < e.shape.boundingBox.right && (r = e.shape.boundingBox.right), o > e.shape.boundingBox.top && (o = e.shape.boundingBox.top), n < e.shape.boundingBox.bottom && (n = e.shape.boundingBox.bottom);
                        return 1e9 === s && -1e9 === r && 1e9 === o && -1e9 === n && (o = 0, n = 0, s = 0, r = 0), {
                            minX: s,
                            maxX: r,
                            minY: o,
                            maxY: n
                        }
                    }
                }, {
                    key: "getRangeCore",
                    value: function(t) {
                        var e, i = arguments.length <= 1 || void 0 === arguments[1] ? [] : arguments[1],
                            o = 1e9,
                            n = -1e9,
                            s = 1e9,
                            r = -1e9;
                        if (i.length > 0)
                            for (var a = 0; a < i.length; a++) e = t[i[a]], s > e.x && (s = e.x), r < e.x && (r = e.x), o > e.y && (o = e.y), n < e.y && (n = e.y);
                        return 1e9 === s && -1e9 === r && 1e9 === o && -1e9 === n && (o = 0, n = 0, s = 0, r = 0), {
                            minX: s,
                            maxX: r,
                            minY: o,
                            maxY: n
                        }
                    }
                }, {
                    key: "findCenter",
                    value: function(t) {
                        return {
                            x: .5 * (t.maxX + t.minX),
                            y: .5 * (t.maxY + t.minY)
                        }
                    }
                }, {
                    key: "cloneOptions",
                    value: function(t, e) {
                        var i = {};
                        return void 0 === e || "node" === e ? (s.deepExtend(i, t.options, !0), i.x = t.x, i.y = t.y, i.amountOfConnections = t.edges.length) : s.deepExtend(i, t.options, !0), i
                    }
                }]), t
            }();
        e["default"] = r
    }, function(t, e, i) {
        function o(t) {
            return t && t.__esModule ? t : {
                "default": t
            }
        }

        function n(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }

        function s(t, e) {
            if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return !e || "object" != typeof e && "function" != typeof e ? t : e
        }

        function r(t, e) {
            if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
            t.prototype = Object.create(e && e.prototype, {
                constructor: {
                    value: t,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var a = i(65),
            h = o(a),
            d = function(t) {
                function e(t, i, o, r, a) {
                    n(this, e);
                    var h = s(this, Object.getPrototypeOf(e).call(this, t, i, o, r, a));
                    return h.isCluster = !0, h.containedNodes = {}, h.containedEdges = {}, h
                }
                return r(e, t), e
            }(h["default"]);
        e["default"] = d
    }, function(t, e, i) {
        function o(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var n = function() {
            function t(t, e) {
                for (var i = 0; i < e.length; i++) {
                    var o = e[i];
                    o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                }
            }
            return function(e, i, o) {
                return i && t(e.prototype, i), o && t(e, o), e
            }
        }();
        "undefined" != typeof window && (window.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame);
        var s = i(1),
            r = function() {
                function t(e, i) {
                    o(this, t), this.body = e, this.canvas = i, this.redrawRequested = !1, this.renderTimer = void 0, this.requiresTimeout = !0, this.renderingActive = !1, this.renderRequests = 0, this.pixelRatio = void 0, this.allowRedraw = !0, this.dragging = !1, this.options = {}, this.defaultOptions = {
                        hideEdgesOnDrag: !1,
                        hideNodesOnDrag: !1
                    }, s.extend(this.options, this.defaultOptions), this._determineBrowserMethod(), this.bindEventListeners()
                }
                return n(t, [{
                    key: "bindEventListeners",
                    value: function() {
                        var t = this;
                        this.body.emitter.on("dragStart", function() {
                            t.dragging = !0
                        }), this.body.emitter.on("dragEnd", function() {
                            return t.dragging = !1
                        }), this.body.emitter.on("_resizeNodes", function() {
                            return t._resizeNodes()
                        }), this.body.emitter.on("_redraw", function() {
                            t.renderingActive === !1 && t._redraw()
                        }), this.body.emitter.on("_blockRedraw", function() {
                            t.allowRedraw = !1
                        }), this.body.emitter.on("_allowRedraw", function() {
                            t.allowRedraw = !0, t.redrawRequested = !1
                        }), this.body.emitter.on("_requestRedraw", this._requestRedraw.bind(this)), this.body.emitter.on("_startRendering", function() {
                            t.renderRequests += 1, t.renderingActive = !0, t._startRendering()
                        }), this.body.emitter.on("_stopRendering", function() {
                            t.renderRequests -= 1, t.renderingActive = t.renderRequests > 0, t.renderTimer = void 0
                        }), this.body.emitter.on("destroy", function() {
                            t.renderRequests = 0, t.allowRedraw = !1, t.renderingActive = !1, t.requiresTimeout === !0 ? clearTimeout(t.renderTimer) : cancelAnimationFrame(t.renderTimer), t.body.emitter.off()
                        })
                    }
                }, {
                    key: "setOptions",
                    value: function(t) {
                        if (void 0 !== t) {
                            var e = ["hideEdgesOnDrag", "hideNodesOnDrag"];
                            s.selectiveDeepExtend(e, this.options, t)
                        }
                    }
                }, {
                    key: "_startRendering",
                    value: function() {
                        this.renderingActive === !0 && void 0 === this.renderTimer && (this.requiresTimeout === !0 ? this.renderTimer = window.setTimeout(this._renderStep.bind(this), this.simulationInterval) : this.renderTimer = window.requestAnimationFrame(this._renderStep.bind(this)))
                    }
                }, {
                    key: "_renderStep",
                    value: function() {
                        this.renderingActive === !0 && (this.renderTimer = void 0, this.requiresTimeout === !0 && this._startRendering(), this._redraw(), this.requiresTimeout === !1 && this._startRendering())
                    }
                }, {
                    key: "redraw",
                    value: function() {
                        this.body.emitter.emit("setSize"), this._redraw()
                    }
                }, {
                    key: "_requestRedraw",
                    value: function() {
                        var t = this;
                        this.redrawRequested !== !0 && this.renderingActive === !1 && this.allowRedraw === !0 && (this.redrawRequested = !0, this.requiresTimeout === !0 ? window.setTimeout(function() {
                            t._redraw(!1)
                        }, 0) : window.requestAnimationFrame(function() {
                            t._redraw(!1)
                        }))
                    }
                }, {
                    key: "_redraw",
                    value: function() {
                        var t = arguments.length <= 0 || void 0 === arguments[0] ? !1 : arguments[0];
                        if (this.allowRedraw === !0) {
                            this.body.emitter.emit("initRedraw"), this.redrawRequested = !1;
                            var e = this.canvas.frame.canvas.getContext("2d");
                            0 !== this.canvas.frame.canvas.width && 0 !== this.canvas.frame.canvas.height || this.canvas.setSize(), this.pixelRatio = (window.devicePixelRatio || 1) / (e.webkitBackingStorePixelRatio || e.mozBackingStorePixelRatio || e.msBackingStorePixelRatio || e.oBackingStorePixelRatio || e.backingStorePixelRatio || 1), e.setTransform(this.pixelRatio, 0, 0, this.pixelRatio, 0, 0);
                            var i = this.canvas.frame.canvas.clientWidth,
                                o = this.canvas.frame.canvas.clientHeight;
                            if (e.clearRect(0, 0, i, o), 0 === this.canvas.frame.clientWidth) return;
                            e.save(), e.translate(this.body.view.translation.x, this.body.view.translation.y), e.scale(this.body.view.scale, this.body.view.scale), e.beginPath(), this.body.emitter.emit("beforeDrawing", e), e.closePath(), t === !1 && (this.dragging === !1 || this.dragging === !0 && this.options.hideEdgesOnDrag === !1) && this._drawEdges(e), (this.dragging === !1 || this.dragging === !0 && this.options.hideNodesOnDrag === !1) && this._drawNodes(e, t), e.beginPath(), this.body.emitter.emit("afterDrawing", e), e.closePath(), e.restore(), t === !0 && e.clearRect(0, 0, i, o)
                        }
                    }
                }, {
                    key: "_resizeNodes",
                    value: function() {
                        var t = this.canvas.frame.canvas.getContext("2d");
                        void 0 === this.pixelRatio && (this.pixelRatio = (window.devicePixelRatio || 1) / (t.webkitBackingStorePixelRatio || t.mozBackingStorePixelRatio || t.msBackingStorePixelRatio || t.oBackingStorePixelRatio || t.backingStorePixelRatio || 1)), t.setTransform(this.pixelRatio, 0, 0, this.pixelRatio, 0, 0), t.save(), t.translate(this.body.view.translation.x, this.body.view.translation.y), t.scale(this.body.view.scale, this.body.view.scale);
                        var e = this.body.nodes,
                            i = void 0;
                        for (var o in e) e.hasOwnProperty(o) && (i = e[o], i.resize(t), i.updateBoundingBox(t, i.selected));
                        t.restore()
                    }
                }, {
                    key: "_drawNodes",
                    value: function(t) {
                        for (var e = arguments.length <= 1 || void 0 === arguments[1] ? !1 : arguments[1], i = this.body.nodes, o = this.body.nodeIndices, n = void 0, s = [], r = 20, a = this.canvas.DOMtoCanvas({
                                x: -r,
                                y: -r
                            }), h = this.canvas.DOMtoCanvas({
                                x: this.canvas.frame.canvas.clientWidth + r,
                                y: this.canvas.frame.canvas.clientHeight + r
                            }), d = {
                                top: a.y,
                                left: a.x,
                                bottom: h.y,
                                right: h.x
                            }, l = 0; l < o.length; l++) n = i[o[l]], n.isSelected() ? s.push(o[l]) : e === !0 ? n.draw(t) : n.isBoundingBoxOverlappingWith(d) === !0 ? n.draw(t) : n.updateBoundingBox(t, n.selected);
                        for (var c = 0; c < s.length; c++) n = i[s[c]], n.draw(t)
                    }
                }, {
                    key: "_drawEdges",
                    value: function(t) {
                        for (var e = this.body.edges, i = this.body.edgeIndices, o = void 0, n = 0; n < i.length; n++) o = e[i[n]], o.connected === !0 && o.draw(t)
                    }
                }, {
                    key: "_determineBrowserMethod",
                    value: function() {
                        if ("undefined" != typeof window) {
                            var t = navigator.userAgent.toLowerCase();
                            this.requiresTimeout = !1, -1 != t.indexOf("msie 9.0") ? this.requiresTimeout = !0 : -1 != t.indexOf("safari") && t.indexOf("chrome") <= -1 && (this.requiresTimeout = !0)
                        } else this.requiresTimeout = !0
                    }
                }]), t
            }();
        e["default"] = r
    }, function(t, e, i) {
        function o(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var n = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            s = i(20),
            r = i(28),
            a = i(1),
            h = function() {
                function t(e) {
                    o(this, t), this.body = e, this.pixelRatio = 1, this.resizeTimer = void 0, this.resizeFunction = this._onResize.bind(this), this.cameraState = {}, this.initialized = !1, this.options = {}, this.defaultOptions = {
                        autoResize: !0,
                        height: "100%",
                        width: "100%"
                    }, a.extend(this.options, this.defaultOptions), this.bindEventListeners()
                }
                return n(t, [{
                    key: "bindEventListeners",
                    value: function() {
                        var t = this;
                        this.body.emitter.once("resize", function(e) {
                            0 !== e.width && (t.body.view.translation.x = .5 * e.width), 0 !== e.height && (t.body.view.translation.y = .5 * e.height)
                        }), this.body.emitter.on("setSize", this.setSize.bind(this)), this.body.emitter.on("destroy", function() {
                            t.hammerFrame.destroy(), t.hammer.destroy(), t._cleanUp()
                        })
                    }
                }, {
                    key: "setOptions",
                    value: function(t) {
                        var e = this;
                        if (void 0 !== t) {
                            var i = ["width", "height", "autoResize"];
                            a.selectiveDeepExtend(i, this.options, t)
                        }
                        this.options.autoResize === !0 && (this._cleanUp(), this.resizeTimer = setInterval(function() {
                            var t = e.setSize();
                            t === !0 && e.body.emitter.emit("_requestRedraw")
                        }, 1e3), this.resizeFunction = this._onResize.bind(this), a.addEventListener(window, "resize", this.resizeFunction))
                    }
                }, {
                    key: "_cleanUp",
                    value: function() {
                        void 0 !== this.resizeTimer && clearInterval(this.resizeTimer), a.removeEventListener(window, "resize", this.resizeFunction), this.resizeFunction = void 0
                    }
                }, {
                    key: "_onResize",
                    value: function() {
                        this.setSize(), this.body.emitter.emit("_redraw")
                    }
                }, {
                    key: "_getCameraState",
                    value: function() {
                        var t = arguments.length <= 0 || void 0 === arguments[0] ? this.pixelRatio : arguments[0];
                        this.initialized === !0 && (this.cameraState.previousWidth = this.frame.canvas.width / t, this.cameraState.previousHeight = this.frame.canvas.height / t, this.cameraState.scale = this.body.view.scale, this.cameraState.position = this.DOMtoCanvas({
                            x: .5 * this.frame.canvas.width / t,
                            y: .5 * this.frame.canvas.height / t
                        }))
                    }
                }, {
                    key: "_setCameraState",
                    value: function() {
                        if (void 0 !== this.cameraState.scale && 0 !== this.frame.canvas.clientWidth && 0 !== this.frame.canvas.clientHeight && 0 !== this.pixelRatio && this.cameraState.previousWidth > 0) {
                            var t = this.frame.canvas.width / this.pixelRatio / this.cameraState.previousWidth,
                                e = this.frame.canvas.height / this.pixelRatio / this.cameraState.previousHeight,
                                i = this.cameraState.scale;
                            1 != t && 1 != e ? i = .5 * this.cameraState.scale * (t + e) : 1 != t ? i = this.cameraState.scale * t : 1 != e && (i = this.cameraState.scale * e), this.body.view.scale = i;
                            var o = this.DOMtoCanvas({
                                    x: .5 * this.frame.canvas.clientWidth,
                                    y: .5 * this.frame.canvas.clientHeight
                                }),
                                n = {
                                    x: o.x - this.cameraState.position.x,
                                    y: o.y - this.cameraState.position.y
                                };
                            this.body.view.translation.x += n.x * this.body.view.scale, this.body.view.translation.y += n.y * this.body.view.scale
                        }
                    }
                }, {
                    key: "_prepareValue",
                    value: function(t) {
                        if ("number" == typeof t) return t + "px";
                        if ("string" == typeof t) {
                            if (-1 !== t.indexOf("%") || -1 !== t.indexOf("px")) return t;
                            if (-1 === t.indexOf("%")) return t + "px"
                        }
                        throw new Error("Could not use the value supplied for width or height:" + t)
                    }
                }, {
                    key: "_create",
                    value: function() {
                        for (; this.body.container.hasChildNodes();) this.body.container.removeChild(this.body.container.firstChild);
                        if (this.frame = document.createElement("div"), this.frame.className = "vis-network", this.frame.style.position = "relative", this.frame.style.overflow = "hidden", this.frame.tabIndex = 900, this.frame.canvas = document.createElement("canvas"), this.frame.canvas.style.position = "relative", this.frame.appendChild(this.frame.canvas), this.frame.canvas.getContext) {
                            var t = this.frame.canvas.getContext("2d");
                            this.pixelRatio = (window.devicePixelRatio || 1) / (t.webkitBackingStorePixelRatio || t.mozBackingStorePixelRatio || t.msBackingStorePixelRatio || t.oBackingStorePixelRatio || t.backingStorePixelRatio || 1),
                                this.frame.canvas.getContext("2d").setTransform(this.pixelRatio, 0, 0, this.pixelRatio, 0, 0)
                        } else {
                            var e = document.createElement("DIV");
                            e.style.color = "red", e.style.fontWeight = "bold", e.style.padding = "10px", e.innerHTML = "Error: your browser does not support HTML canvas", this.frame.canvas.appendChild(e)
                        }
                        this.body.container.appendChild(this.frame), this.body.view.scale = 1, this.body.view.translation = {
                            x: .5 * this.frame.canvas.clientWidth,
                            y: .5 * this.frame.canvas.clientHeight
                        }, this._bindHammer()
                    }
                }, {
                    key: "_bindHammer",
                    value: function() {
                        var t = this;
                        void 0 !== this.hammer && this.hammer.destroy(), this.drag = {}, this.pinch = {}, this.hammer = new s(this.frame.canvas), this.hammer.get("pinch").set({
                            enable: !0
                        }), this.hammer.get("pan").set({
                            threshold: 5,
                            direction: s.DIRECTION_ALL
                        }), r.onTouch(this.hammer, function(e) {
                            t.body.eventListeners.onTouch(e)
                        }), this.hammer.on("tap", function(e) {
                            t.body.eventListeners.onTap(e)
                        }), this.hammer.on("doubletap", function(e) {
                            t.body.eventListeners.onDoubleTap(e)
                        }), this.hammer.on("press", function(e) {
                            t.body.eventListeners.onHold(e)
                        }), this.hammer.on("panstart", function(e) {
                            t.body.eventListeners.onDragStart(e)
                        }), this.hammer.on("panmove", function(e) {
                            t.body.eventListeners.onDrag(e)
                        }), this.hammer.on("panend", function(e) {
                            t.body.eventListeners.onDragEnd(e)
                        }), this.hammer.on("pinch", function(e) {
                            t.body.eventListeners.onPinch(e)
                        }), this.frame.canvas.addEventListener("mousewheel", function(e) {
                            t.body.eventListeners.onMouseWheel(e)
                        }), this.frame.canvas.addEventListener("DOMMouseScroll", function(e) {
                            t.body.eventListeners.onMouseWheel(e)
                        }), this.frame.canvas.addEventListener("mousemove", function(e) {
                            t.body.eventListeners.onMouseMove(e)
                        }), this.frame.canvas.addEventListener("contextmenu", function(e) {
                            t.body.eventListeners.onContext(e)
                        }), this.hammerFrame = new s(this.frame), r.onRelease(this.hammerFrame, function(e) {
                            t.body.eventListeners.onRelease(e)
                        })
                    }
                }, {
                    key: "setSize",
                    value: function() {
                        var t = arguments.length <= 0 || void 0 === arguments[0] ? this.options.width : arguments[0],
                            e = arguments.length <= 1 || void 0 === arguments[1] ? this.options.height : arguments[1];
                        t = this._prepareValue(t), e = this._prepareValue(e);
                        var i = !1,
                            o = this.frame.canvas.width,
                            n = this.frame.canvas.height,
                            s = this.frame.canvas.getContext("2d"),
                            r = this.pixelRatio;
                        return this.pixelRatio = (window.devicePixelRatio || 1) / (s.webkitBackingStorePixelRatio || s.mozBackingStorePixelRatio || s.msBackingStorePixelRatio || s.oBackingStorePixelRatio || s.backingStorePixelRatio || 1), t != this.options.width || e != this.options.height || this.frame.style.width != t || this.frame.style.height != e ? (this._getCameraState(r), this.frame.style.width = t, this.frame.style.height = e, this.frame.canvas.style.width = "100%", this.frame.canvas.style.height = "100%", this.frame.canvas.width = Math.round(this.frame.canvas.clientWidth * this.pixelRatio), this.frame.canvas.height = Math.round(this.frame.canvas.clientHeight * this.pixelRatio), this.options.width = t, this.options.height = e, i = !0) : (this.frame.canvas.width == Math.round(this.frame.canvas.clientWidth * this.pixelRatio) && this.frame.canvas.height == Math.round(this.frame.canvas.clientHeight * this.pixelRatio) || this._getCameraState(r), this.frame.canvas.width != Math.round(this.frame.canvas.clientWidth * this.pixelRatio) && (this.frame.canvas.width = Math.round(this.frame.canvas.clientWidth * this.pixelRatio), i = !0), this.frame.canvas.height != Math.round(this.frame.canvas.clientHeight * this.pixelRatio) && (this.frame.canvas.height = Math.round(this.frame.canvas.clientHeight * this.pixelRatio), i = !0)), i === !0 && (this.body.emitter.emit("resize", {
                            width: Math.round(this.frame.canvas.width / this.pixelRatio),
                            height: Math.round(this.frame.canvas.height / this.pixelRatio),
                            oldWidth: Math.round(o / this.pixelRatio),
                            oldHeight: Math.round(n / this.pixelRatio)
                        }), this._setCameraState()), this.initialized = !0, i
                    }
                }, {
                    key: "_XconvertDOMtoCanvas",
                    value: function(t) {
                        return (t - this.body.view.translation.x) / this.body.view.scale
                    }
                }, {
                    key: "_XconvertCanvasToDOM",
                    value: function(t) {
                        return t * this.body.view.scale + this.body.view.translation.x
                    }
                }, {
                    key: "_YconvertDOMtoCanvas",
                    value: function(t) {
                        return (t - this.body.view.translation.y) / this.body.view.scale
                    }
                }, {
                    key: "_YconvertCanvasToDOM",
                    value: function(t) {
                        return t * this.body.view.scale + this.body.view.translation.y
                    }
                }, {
                    key: "canvasToDOM",
                    value: function(t) {
                        return {
                            x: this._XconvertCanvasToDOM(t.x),
                            y: this._YconvertCanvasToDOM(t.y)
                        }
                    }
                }, {
                    key: "DOMtoCanvas",
                    value: function(t) {
                        return {
                            x: this._XconvertDOMtoCanvas(t.x),
                            y: this._YconvertDOMtoCanvas(t.y)
                        }
                    }
                }]), t
            }();
        e["default"] = h
    }, function(t, e, i) {
        function o(t) {
            return t && t.__esModule ? t : {
                "default": t
            }
        }

        function n(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var s = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            r = i(103),
            a = o(r),
            h = i(1),
            d = function() {
                function t(e, i) {
                    var o = this;
                    n(this, t), this.body = e, this.canvas = i, this.animationSpeed = 1 / this.renderRefreshRate, this.animationEasingFunction = "easeInOutQuint", this.easingTime = 0, this.sourceScale = 0, this.targetScale = 0, this.sourceTranslation = 0, this.targetTranslation = 0, this.lockedOnNodeId = void 0, this.lockedOnNodeOffset = void 0, this.touchTime = 0, this.viewFunction = void 0, this.body.emitter.on("fit", this.fit.bind(this)), this.body.emitter.on("animationFinished", function() {
                        o.body.emitter.emit("_stopRendering")
                    }), this.body.emitter.on("unlockNode", this.releaseNode.bind(this))
                }
                return s(t, [{
                    key: "setOptions",
                    value: function() {
                        var t = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0];
                        this.options = t
                    }
                }, {
                    key: "fit",
                    value: function() {
                        var t = arguments.length <= 0 || void 0 === arguments[0] ? {
                                nodes: []
                            } : arguments[0],
                            e = arguments.length <= 1 || void 0 === arguments[1] ? !1 : arguments[1],
                            i = void 0,
                            o = void 0;
                        if (void 0 !== t.nodes && 0 !== t.nodes.length || (t.nodes = this.body.nodeIndices), e === !0) {
                            var n = 0;
                            for (var s in this.body.nodes)
                                if (this.body.nodes.hasOwnProperty(s)) {
                                    var r = this.body.nodes[s];
                                    r.predefinedPosition === !0 && (n += 1)
                                }
                            if (n > .5 * this.body.nodeIndices.length) return void this.fit(t, !1);
                            i = a["default"].getRange(this.body.nodes, t.nodes);
                            var h = this.body.nodeIndices.length;
                            o = 12.662 / (h + 7.4147) + .0964822;
                            var d = Math.min(this.canvas.frame.canvas.clientWidth / 600, this.canvas.frame.canvas.clientHeight / 600);
                            o *= d
                        } else {
                            this.body.emitter.emit("_resizeNodes"), i = a["default"].getRange(this.body.nodes, t.nodes);
                            var l = 1.1 * Math.abs(i.maxX - i.minX),
                                c = 1.1 * Math.abs(i.maxY - i.minY),
                                u = this.canvas.frame.canvas.clientWidth / l,
                                p = this.canvas.frame.canvas.clientHeight / c;
                            o = p >= u ? u : p
                        }
                        o > 1 ? o = 1 : 0 === o && (o = 1);
                        var f = a["default"].findCenter(i),
                            m = {
                                position: f,
                                scale: o,
                                animation: t.animation
                            };
                        this.moveTo(m)
                    }
                }, {
                    key: "focus",
                    value: function(t) {
                        var e = arguments.length <= 1 || void 0 === arguments[1] ? {} : arguments[1];
                        if (void 0 !== this.body.nodes[t]) {
                            var i = {
                                x: this.body.nodes[t].x,
                                y: this.body.nodes[t].y
                            };
                            e.position = i, e.lockedOnNode = t, this.moveTo(e)
                        } else console.log("Node: " + t + " cannot be found.")
                    }
                }, {
                    key: "moveTo",
                    value: function(t) {
                        return void 0 === t ? void(t = {}) : (void 0 === t.offset && (t.offset = {
                            x: 0,
                            y: 0
                        }), void 0 === t.offset.x && (t.offset.x = 0), void 0 === t.offset.y && (t.offset.y = 0), void 0 === t.scale && (t.scale = this.body.view.scale), void 0 === t.position && (t.position = this.getViewPosition()), void 0 === t.animation && (t.animation = {
                            duration: 0
                        }), t.animation === !1 && (t.animation = {
                            duration: 0
                        }), t.animation === !0 && (t.animation = {}), void 0 === t.animation.duration && (t.animation.duration = 1e3), void 0 === t.animation.easingFunction && (t.animation.easingFunction = "easeInOutQuad"), void this.animateView(t))
                    }
                }, {
                    key: "animateView",
                    value: function(t) {
                        if (void 0 !== t) {
                            this.animationEasingFunction = t.animation.easingFunction, this.releaseNode(), t.locked === !0 && (this.lockedOnNodeId = t.lockedOnNode, this.lockedOnNodeOffset = t.offset), 0 != this.easingTime && this._transitionRedraw(!0), this.sourceScale = this.body.view.scale, this.sourceTranslation = this.body.view.translation, this.targetScale = t.scale, this.body.view.scale = this.targetScale;
                            var e = this.canvas.DOMtoCanvas({
                                    x: .5 * this.canvas.frame.canvas.clientWidth,
                                    y: .5 * this.canvas.frame.canvas.clientHeight
                                }),
                                i = {
                                    x: e.x - t.position.x,
                                    y: e.y - t.position.y
                                };
                            this.targetTranslation = {
                                x: this.sourceTranslation.x + i.x * this.targetScale + t.offset.x,
                                y: this.sourceTranslation.y + i.y * this.targetScale + t.offset.y
                            }, 0 === t.animation.duration ? void 0 != this.lockedOnNodeId ? (this.viewFunction = this._lockedRedraw.bind(this), this.body.emitter.on("initRedraw", this.viewFunction)) : (this.body.view.scale = this.targetScale, this.body.view.translation = this.targetTranslation, this.body.emitter.emit("_requestRedraw")) : (this.animationSpeed = 1 / (60 * t.animation.duration * .001) || 1 / 60, this.animationEasingFunction = t.animation.easingFunction, this.viewFunction = this._transitionRedraw.bind(this), this.body.emitter.on("initRedraw", this.viewFunction), this.body.emitter.emit("_startRendering"))
                        }
                    }
                }, {
                    key: "_lockedRedraw",
                    value: function() {
                        var t = {
                                x: this.body.nodes[this.lockedOnNodeId].x,
                                y: this.body.nodes[this.lockedOnNodeId].y
                            },
                            e = this.canvas.DOMtoCanvas({
                                x: .5 * this.canvas.frame.canvas.clientWidth,
                                y: .5 * this.canvas.frame.canvas.clientHeight
                            }),
                            i = {
                                x: e.x - t.x,
                                y: e.y - t.y
                            },
                            o = this.body.view.translation,
                            n = {
                                x: o.x + i.x * this.body.view.scale + this.lockedOnNodeOffset.x,
                                y: o.y + i.y * this.body.view.scale + this.lockedOnNodeOffset.y
                            };
                        this.body.view.translation = n
                    }
                }, {
                    key: "releaseNode",
                    value: function() {
                        void 0 !== this.lockedOnNodeId && void 0 !== this.viewFunction && (this.body.emitter.off("initRedraw", this.viewFunction), this.lockedOnNodeId = void 0, this.lockedOnNodeOffset = void 0)
                    }
                }, {
                    key: "_transitionRedraw",
                    value: function() {
                        var t = arguments.length <= 0 || void 0 === arguments[0] ? !1 : arguments[0];
                        this.easingTime += this.animationSpeed, this.easingTime = t === !0 ? 1 : this.easingTime;
                        var e = h.easingFunctions[this.animationEasingFunction](this.easingTime);
                        this.body.view.scale = this.sourceScale + (this.targetScale - this.sourceScale) * e, this.body.view.translation = {
                            x: this.sourceTranslation.x + (this.targetTranslation.x - this.sourceTranslation.x) * e,
                            y: this.sourceTranslation.y + (this.targetTranslation.y - this.sourceTranslation.y) * e
                        }, this.easingTime >= 1 && (this.body.emitter.off("initRedraw", this.viewFunction), this.easingTime = 0, void 0 != this.lockedOnNodeId && (this.viewFunction = this._lockedRedraw.bind(this), this.body.emitter.on("initRedraw", this.viewFunction)), this.body.emitter.emit("animationFinished"))
                    }
                }, {
                    key: "getScale",
                    value: function() {
                        return this.body.view.scale
                    }
                }, {
                    key: "getViewPosition",
                    value: function() {
                        return this.canvas.DOMtoCanvas({
                            x: .5 * this.canvas.frame.canvas.clientWidth,
                            y: .5 * this.canvas.frame.canvas.clientHeight
                        })
                    }
                }]), t
            }();
        e["default"] = d
    }, function(t, e, i) {
        function o(t) {
            return t && t.__esModule ? t : {
                "default": t
            }
        }

        function n(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var s = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            r = i(109),
            a = o(r),
            h = i(110),
            d = o(h),
            l = i(1),
            c = function() {
                function t(e, i, o) {
                    n(this, t), this.body = e, this.canvas = i, this.selectionHandler = o, this.navigationHandler = new a["default"](e, i), this.body.eventListeners.onTap = this.onTap.bind(this), this.body.eventListeners.onTouch = this.onTouch.bind(this), this.body.eventListeners.onDoubleTap = this.onDoubleTap.bind(this), this.body.eventListeners.onHold = this.onHold.bind(this), this.body.eventListeners.onDragStart = this.onDragStart.bind(this), this.body.eventListeners.onDrag = this.onDrag.bind(this), this.body.eventListeners.onDragEnd = this.onDragEnd.bind(this), this.body.eventListeners.onMouseWheel = this.onMouseWheel.bind(this), this.body.eventListeners.onPinch = this.onPinch.bind(this), this.body.eventListeners.onMouseMove = this.onMouseMove.bind(this), this.body.eventListeners.onRelease = this.onRelease.bind(this), this.body.eventListeners.onContext = this.onContext.bind(this), this.touchTime = 0, this.drag = {}, this.pinch = {}, this.popup = void 0, this.popupObj = void 0, this.popupTimer = void 0, this.body.functions.getPointer = this.getPointer.bind(this), this.options = {}, this.defaultOptions = {
                        dragNodes: !0,
                        dragView: !0,
                        hover: !1,
                        keyboard: {
                            enabled: !1,
                            speed: {
                                x: 10,
                                y: 10,
                                zoom: .02
                            },
                            bindToWindow: !0
                        },
                        navigationButtons: !1,
                        tooltipDelay: 300,
                        zoomView: !0
                    }, l.extend(this.options, this.defaultOptions), this.bindEventListeners()
                }
                return s(t, [{
                    key: "bindEventListeners",
                    value: function() {
                        var t = this;
                        this.body.emitter.on("destroy", function() {
                            clearTimeout(t.popupTimer), delete t.body.functions.getPointer
                        })
                    }
                }, {
                    key: "setOptions",
                    value: function(t) {
                        if (void 0 !== t) {
                            var e = ["hideEdgesOnDrag", "hideNodesOnDrag", "keyboard", "multiselect", "selectable", "selectConnectedEdges"];
                            l.selectiveNotDeepExtend(e, this.options, t), l.mergeOptions(this.options, t, "keyboard"), t.tooltip && (l.extend(this.options.tooltip, t.tooltip), t.tooltip.color && (this.options.tooltip.color = l.parseColor(t.tooltip.color)))
                        }
                        this.navigationHandler.setOptions(this.options)
                    }
                }, {
                    key: "getPointer",
                    value: function(t) {
                        return {
                            x: t.x - l.getAbsoluteLeft(this.canvas.frame.canvas),
                            y: t.y - l.getAbsoluteTop(this.canvas.frame.canvas)
                        }
                    }
                }, {
                    key: "onTouch",
                    value: function(t) {
                        (new Date).valueOf() - this.touchTime > 50 && (this.drag.pointer = this.getPointer(t.center), this.drag.pinched = !1, this.pinch.scale = this.body.view.scale, this.touchTime = (new Date).valueOf())
                    }
                }, {
                    key: "onTap",
                    value: function(t) {
                        var e = this.getPointer(t.center),
                            i = this.selectionHandler.options.multiselect && (t.changedPointers[0].ctrlKey || t.changedPointers[0].metaKey);
                        this.checkSelectionChanges(e, t, i), this.selectionHandler._generateClickEvent("click", t, e)
                    }
                }, {
                    key: "onDoubleTap",
                    value: function(t) {
                        var e = this.getPointer(t.center);
                        this.selectionHandler._generateClickEvent("doubleClick", t, e)
                    }
                }, {
                    key: "onHold",
                    value: function(t) {
                        var e = this.getPointer(t.center),
                            i = this.selectionHandler.options.multiselect;
                        this.checkSelectionChanges(e, t, i), this.selectionHandler._generateClickEvent("click", t, e), this.selectionHandler._generateClickEvent("hold", t, e)
                    }
                }, {
                    key: "onRelease",
                    value: function(t) {
                        if ((new Date).valueOf() - this.touchTime > 10) {
                            var e = this.getPointer(t.center);
                            this.selectionHandler._generateClickEvent("release", t, e), this.touchTime = (new Date).valueOf()
                        }
                    }
                }, {
                    key: "onContext",
                    value: function(t) {
                        var e = this.getPointer({
                            x: t.clientX,
                            y: t.clientY
                        });
                        this.selectionHandler._generateClickEvent("oncontext", t, e)
                    }
                }, {
                    key: "checkSelectionChanges",
                    value: function(t, e) {
                        var i = arguments.length <= 2 || void 0 === arguments[2] ? !1 : arguments[2],
                            o = this.selectionHandler._getSelectedEdgeCount(),
                            n = this.selectionHandler._getSelectedNodeCount(),
                            s = this.selectionHandler.getSelection(),
                            r = void 0;
                        r = i === !0 ? this.selectionHandler.selectAdditionalOnPoint(t) : this.selectionHandler.selectOnPoint(t);
                        var a = this.selectionHandler._getSelectedEdgeCount(),
                            h = this.selectionHandler._getSelectedNodeCount(),
                            d = this.selectionHandler.getSelection(),
                            l = this._determineIfDifferent(s, d),
                            c = l.nodesChanged,
                            u = l.edgesChanged,
                            p = !1;
                        h - n > 0 ? (this.selectionHandler._generateClickEvent("selectNode", e, t), r = !0, p = !0) : c === !0 && h > 0 ? (this.selectionHandler._generateClickEvent("deselectNode", e, t, s), this.selectionHandler._generateClickEvent("selectNode", e, t), p = !0, r = !0) : 0 > h - n && (this.selectionHandler._generateClickEvent("deselectNode", e, t, s), r = !0), a - o > 0 && p === !1 ? (this.selectionHandler._generateClickEvent("selectEdge", e, t), r = !0) : a > 0 && u === !0 ? (this.selectionHandler._generateClickEvent("deselectEdge", e, t, s), this.selectionHandler._generateClickEvent("selectEdge", e, t), r = !0) : 0 > a - o && (this.selectionHandler._generateClickEvent("deselectEdge", e, t, s), r = !0), r === !0 && this.selectionHandler._generateClickEvent("select", e, t)
                    }
                }, {
                    key: "_determineIfDifferent",
                    value: function(t, e) {
                        for (var i = !1, o = !1, n = 0; n < t.nodes.length; n++) - 1 === e.nodes.indexOf(t.nodes[n]) && (i = !0);
                        for (var s = 0; s < e.nodes.length; s++) - 1 === t.nodes.indexOf(t.nodes[s]) && (i = !0);
                        for (var r = 0; r < t.edges.length; r++) - 1 === e.edges.indexOf(t.edges[r]) && (o = !0);
                        for (var a = 0; a < e.edges.length; a++) - 1 === t.edges.indexOf(t.edges[a]) && (o = !0);
                        return {
                            nodesChanged: i,
                            edgesChanged: o
                        }
                    }
                }, {
                    key: "onDragStart",
                    value: function(t) {
                        void 0 === this.drag.pointer && this.onTouch(t);
                        var e = this.selectionHandler.getNodeAt(this.drag.pointer);
                        if (this.drag.dragging = !0, this.drag.selection = [], this.drag.translation = l.extend({}, this.body.view.translation), this.drag.nodeId = void 0, void 0 !== e && this.options.dragNodes === !0) {
                            this.drag.nodeId = e.id, e.isSelected() === !1 && (this.selectionHandler.unselectAll(), this.selectionHandler.selectObject(e)), this.selectionHandler._generateClickEvent("dragStart", t, this.drag.pointer);
                            var i = this.selectionHandler.selectionObj.nodes;
                            for (var o in i)
                                if (i.hasOwnProperty(o)) {
                                    var n = i[o],
                                        s = {
                                            id: n.id,
                                            node: n,
                                            x: n.x,
                                            y: n.y,
                                            xFixed: n.options.fixed.x,
                                            yFixed: n.options.fixed.y
                                        };
                                    n.options.fixed.x = !0, n.options.fixed.y = !0, this.drag.selection.push(s)
                                }
                        } else this.selectionHandler._generateClickEvent("dragStart", t, this.drag.pointer, void 0, !0)
                    }
                }, {
                    key: "onDrag",
                    value: function(t) {
                        var e = this;
                        if (this.drag.pinched !== !0) {
                            this.body.emitter.emit("unlockNode");
                            var i = this.getPointer(t.center),
                                o = this.drag.selection;
                            if (o && o.length && this.options.dragNodes === !0) ! function() {
                                e.selectionHandler._generateClickEvent("dragging", t, i);
                                var n = i.x - e.drag.pointer.x,
                                    s = i.y - e.drag.pointer.y;
                                o.forEach(function(t) {
                                    var i = t.node;
                                    t.xFixed === !1 && (i.x = e.canvas._XconvertDOMtoCanvas(e.canvas._XconvertCanvasToDOM(t.x) + n)), t.yFixed === !1 && (i.y = e.canvas._YconvertDOMtoCanvas(e.canvas._YconvertCanvasToDOM(t.y) + s))
                                }), e.body.emitter.emit("startSimulation")
                            }();
                            else if (this.options.dragView === !0) {
                                if (this.selectionHandler._generateClickEvent("dragging", t, i, void 0, !0), void 0 === this.drag.pointer) return void this.onDragStart(t);
                                var n = i.x - this.drag.pointer.x,
                                    s = i.y - this.drag.pointer.y;
                                this.body.view.translation = {
                                    x: this.drag.translation.x + n,
                                    y: this.drag.translation.y + s
                                }, this.body.emitter.emit("_redraw")
                            }
                        }
                    }
                }, {
                    key: "onDragEnd",
                    value: function(t) {
                        this.drag.dragging = !1;
                        var e = this.drag.selection;
                        e && e.length ? (e.forEach(function(t) {
                            t.node.options.fixed.x = t.xFixed, t.node.options.fixed.y = t.yFixed
                        }), this.selectionHandler._generateClickEvent("dragEnd", t, this.getPointer(t.center)), this.body.emitter.emit("startSimulation")) : (this.selectionHandler._generateClickEvent("dragEnd", t, this.getPointer(t.center), void 0, !0), this.body.emitter.emit("_requestRedraw"))
                    }
                }, {
                    key: "onPinch",
                    value: function(t) {
                        var e = this.getPointer(t.center);
                        this.drag.pinched = !0, void 0 === this.pinch.scale && (this.pinch.scale = 1);
                        var i = this.pinch.scale * t.scale;
                        this.zoom(i, e)
                    }
                }, {
                    key: "zoom",
                    value: function(t, e) {
                        if (this.options.zoomView === !0) {
                            var i = this.body.view.scale;
                            1e-5 > t && (t = 1e-5), t > 10 && (t = 10);
                            var o = void 0;
                            void 0 !== this.drag && this.drag.dragging === !0 && (o = this.canvas.DOMtoCanvas(this.drag.pointer));
                            var n = this.body.view.translation,
                                s = t / i,
                                r = (1 - s) * e.x + n.x * s,
                                a = (1 - s) * e.y + n.y * s;
                            if (this.body.view.scale = t, this.body.view.translation = {
                                    x: r,
                                    y: a
                                }, void 0 != o) {
                                var h = this.canvas.canvasToDOM(o);
                                this.drag.pointer.x = h.x, this.drag.pointer.y = h.y
                            }
                            this.body.emitter.emit("_requestRedraw"), t > i ? this.body.emitter.emit("zoom", {
                                direction: "+",
                                scale: this.body.view.scale
                            }) : this.body.emitter.emit("zoom", {
                                direction: "-",
                                scale: this.body.view.scale
                            })
                        }
                    }
                }, {
                    key: "onMouseWheel",
                    value: function(t) {
                        if (this.options.zoomView === !0) {
                            var e = 0;
                            if (t.wheelDelta ? e = t.wheelDelta / 120 : t.detail && (e = -t.detail / 3), 0 !== e) {
                                var i = this.body.view.scale,
                                    o = e / 10;
                                0 > e && (o /= 1 - o), i *= 1 + o;
                                var n = this.getPointer({
                                    x: t.clientX,
                                    y: t.clientY
                                });
                                this.zoom(i, n)
                            }
                            t.preventDefault()
                        }
                    }
                }, {
                    key: "onMouseMove",
                    value: function(t) {
                        var e = this,
                            i = this.getPointer({
                                x: t.clientX,
                                y: t.clientY
                            }),
                            o = !1;
                        if (void 0 !== this.popup && (this.popup.hidden === !1 && this._checkHidePopup(i), this.popup.hidden === !1 && (o = !0, this.popup.setPosition(i.x + 3, i.y - 5), this.popup.show())), this.options.keyboard.bindToWindow === !1 && this.options.keyboard.enabled === !0 && this.canvas.frame.focus(), o === !1 && (void 0 !== this.popupTimer && (clearInterval(this.popupTimer), this.popupTimer = void 0), this.drag.dragging || (this.popupTimer = setTimeout(function() {
                                return e._checkShowPopup(i)
                            }, this.options.tooltipDelay))), this.options.hover === !0) {
                            var n = this.selectionHandler.getNodeAt(i);
                            void 0 === n && (n = this.selectionHandler.getEdgeAt(i)), this.selectionHandler.hoverObject(n)
                        }
                    }
                }, {
                    key: "_checkShowPopup",
                    value: function(t) {
                        var e = this.canvas._XconvertDOMtoCanvas(t.x),
                            i = this.canvas._YconvertDOMtoCanvas(t.y),
                            o = {
                                left: e,
                                top: i,
                                right: e,
                                bottom: i
                            },
                            n = void 0 === this.popupObj ? void 0 : this.popupObj.id,
                            s = !1,
                            r = "node";
                        if (void 0 === this.popupObj) {
                            for (var a = this.body.nodeIndices, h = this.body.nodes, l = void 0, c = [], u = 0; u < a.length; u++) l = h[a[u]], l.isOverlappingWith(o) === !0 && void 0 !== l.getTitle() && c.push(a[u]);
                            c.length > 0 && (this.popupObj = h[c[c.length - 1]], s = !0)
                        }
                        if (void 0 === this.popupObj && s === !1) {
                            for (var p = this.body.edgeIndices, f = this.body.edges, m = void 0, v = [], g = 0; g < p.length; g++) m = f[p[g]], m.isOverlappingWith(o) === !0 && m.connected === !0 && void 0 !== m.getTitle() && v.push(p[g]);
                            v.length > 0 && (this.popupObj = f[v[v.length - 1]], r = "edge")
                        }
                        void 0 !== this.popupObj ? this.popupObj.id !== n && (void 0 === this.popup && (this.popup = new d["default"](this.canvas.frame)), this.popup.popupTargetType = r, this.popup.popupTargetId = this.popupObj.id, this.popup.setPosition(t.x + 3, t.y - 5), this.popup.setText(this.popupObj.getTitle()), this.popup.show(), this.body.emitter.emit("showPopup", this.popupObj.id)) : void 0 !== this.popup && (this.popup.hide(), this.body.emitter.emit("hidePopup"))
                    }
                }, {
                    key: "_checkHidePopup",
                    value: function(t) {
                        var e = this.selectionHandler._pointerToPositionObject(t),
                            i = !1;
                        if ("node" === this.popup.popupTargetType) {
                            if (void 0 !== this.body.nodes[this.popup.popupTargetId] && (i = this.body.nodes[this.popup.popupTargetId].isOverlappingWith(e), i === !0)) {
                                var o = this.selectionHandler.getNodeAt(t);
                                i = o.id === this.popup.popupTargetId
                            }
                        } else void 0 === this.selectionHandler.getNodeAt(t) && void 0 !== this.body.edges[this.popup.popupTargetId] && (i = this.body.edges[this.popup.popupTargetId].isOverlappingWith(e));
                        i === !1 && (this.popupObj = void 0, this.popup.hide(), this.body.emitter.emit("hidePopup"))
                    }
                }]), t
            }();
        e["default"] = c
    }, function(t, e, i) {
        function o(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var n = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            s = (i(1), i(20)),
            r = i(28),
            a = i(23),
            h = function() {
                function t(e, i) {
                    var n = this;
                    o(this, t), this.body = e, this.canvas = i, this.iconsCreated = !1, this.navigationHammers = [], this.boundFunctions = {}, this.touchTime = 0, this.activated = !1, this.body.emitter.on("activate", function() {
                        n.activated = !0, n.configureKeyboardBindings()
                    }), this.body.emitter.on("deactivate", function() {
                        n.activated = !1, n.configureKeyboardBindings()
                    }), this.body.emitter.on("destroy", function() {
                        void 0 !== n.keycharm && n.keycharm.destroy()
                    }), this.options = {}
                }
                return n(t, [{
                    key: "setOptions",
                    value: function(t) {
                        void 0 !== t && (this.options = t, this.create())
                    }
                }, {
                    key: "create",
                    value: function() {
                        this.options.navigationButtons === !0 ? this.iconsCreated === !1 && this.loadNavigationElements() : this.iconsCreated === !0 && this.cleanNavigation(), this.configureKeyboardBindings()
                    }
                }, {
                    key: "cleanNavigation",
                    value: function() {
                        if (0 != this.navigationHammers.length) {
                            for (var t = 0; t < this.navigationHammers.length; t++) this.navigationHammers[t].destroy();
                            this.navigationHammers = []
                        }
                        this.navigationDOM && this.navigationDOM.wrapper && this.navigationDOM.wrapper.parentNode && this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper), this.iconsCreated = !1
                    }
                }, {
                    key: "loadNavigationElements",
                    value: function() {
                        var t = this;
                        this.cleanNavigation(), this.navigationDOM = {};
                        var e = ["up", "down", "left", "right", "zoomIn", "zoomOut", "zoomExtends"],
                            i = ["_moveUp", "_moveDown", "_moveLeft", "_moveRight", "_zoomIn", "_zoomOut", "_fit"];
                        this.navigationDOM.wrapper = document.createElement("div"), this.navigationDOM.wrapper.className = "vis-navigation", this.canvas.frame.appendChild(this.navigationDOM.wrapper);
                        for (var o = 0; o < e.length; o++) {
                            this.navigationDOM[e[o]] = document.createElement("div"), this.navigationDOM[e[o]].className = "vis-button vis-" + e[o], this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[o]]);
                            var n = new s(this.navigationDOM[e[o]]);
                            "_fit" === i[o] ? r.onTouch(n, this._fit.bind(this)) : r.onTouch(n, this.bindToRedraw.bind(this, i[o])), this.navigationHammers.push(n)
                        }
                        var a = new s(this.canvas.frame);
                        r.onRelease(a, function() {
                            t._stopMovement()
                        }), this.navigationHammers.push(a), this.iconsCreated = !0
                    }
                }, {
                    key: "bindToRedraw",
                    value: function(t) {
                        void 0 === this.boundFunctions[t] && (this.boundFunctions[t] = this[t].bind(this), this.body.emitter.on("initRedraw", this.boundFunctions[t]), this.body.emitter.emit("_startRendering"))
                    }
                }, {
                    key: "unbindFromRedraw",
                    value: function(t) {
                        void 0 !== this.boundFunctions[t] && (this.body.emitter.off("initRedraw", this.boundFunctions[t]), this.body.emitter.emit("_stopRendering"), delete this.boundFunctions[t])
                    }
                }, {
                    key: "_fit",
                    value: function() {
                        (new Date).valueOf() - this.touchTime > 700 && (this.body.emitter.emit("fit", {
                            duration: 700
                        }), this.touchTime = (new Date).valueOf())
                    }
                }, {
                    key: "_stopMovement",
                    value: function() {
                        for (var t in this.boundFunctions) this.boundFunctions.hasOwnProperty(t) && (this.body.emitter.off("initRedraw", this.boundFunctions[t]), this.body.emitter.emit("_stopRendering"));
                        this.boundFunctions = {}
                    }
                }, {
                    key: "_moveUp",
                    value: function() {
                        this.body.view.translation.y += this.options.keyboard.speed.y
                    }
                }, {
                    key: "_moveDown",
                    value: function() {
                        this.body.view.translation.y -= this.options.keyboard.speed.y
                    }
                }, {
                    key: "_moveLeft",
                    value: function() {
                        this.body.view.translation.x += this.options.keyboard.speed.x
                    }
                }, {
                    key: "_moveRight",
                    value: function() {
                        this.body.view.translation.x -= this.options.keyboard.speed.x
                    }
                }, {
                    key: "_zoomIn",
                    value: function() {
                        this.body.view.scale *= 1 + this.options.keyboard.speed.zoom, this.body.emitter.emit("zoom", {
                            direction: "+",
                            scale: this.body.view.scale
                        })
                    }
                }, {
                    key: "_zoomOut",
                    value: function() {
                        this.body.view.scale /= 1 + this.options.keyboard.speed.zoom, this.body.emitter.emit("zoom", {
                            direction: "-",
                            scale: this.body.view.scale
                        })
                    }
                }, {
                    key: "configureKeyboardBindings",
                    value: function() {
                        var t = this;
                        void 0 !== this.keycharm && this.keycharm.destroy(), this.options.keyboard.enabled === !0 && (this.options.keyboard.bindToWindow === !0 ? this.keycharm = a({
                            container: window,
                            preventDefault: !0
                        }) : this.keycharm = a({
                            container: this.canvas.frame,
                            preventDefault: !0
                        }), this.keycharm.reset(), this.activated === !0 && (this.keycharm.bind("up", function() {
                            t.bindToRedraw("_moveUp")
                        }, "keydown"), this.keycharm.bind("down", function() {
                            t.bindToRedraw("_moveDown")
                        }, "keydown"), this.keycharm.bind("left", function() {
                            t.bindToRedraw("_moveLeft")
                        }, "keydown"), this.keycharm.bind("right", function() {
                            t.bindToRedraw("_moveRight")
                        }, "keydown"), this.keycharm.bind("=", function() {
                            t.bindToRedraw("_zoomIn")
                        }, "keydown"), this.keycharm.bind("num+", function() {
                            t.bindToRedraw("_zoomIn")
                        }, "keydown"), this.keycharm.bind("num-", function() {
                            t.bindToRedraw("_zoomOut")
                        }, "keydown"), this.keycharm.bind("-", function() {
                            t.bindToRedraw("_zoomOut")
                        }, "keydown"), this.keycharm.bind("[", function() {
                            t.bindToRedraw("_zoomOut")
                        }, "keydown"), this.keycharm.bind("]", function() {
                            t.bindToRedraw("_zoomIn")
                        }, "keydown"), this.keycharm.bind("pageup", function() {
                            t.bindToRedraw("_zoomIn")
                        }, "keydown"), this.keycharm.bind("pagedown", function() {
                            t.bindToRedraw("_zoomOut")
                        }, "keydown"), this.keycharm.bind("up", function() {
                            t.unbindFromRedraw("_moveUp")
                        }, "keyup"), this.keycharm.bind("down", function() {
                            t.unbindFromRedraw("_moveDown")
                        }, "keyup"), this.keycharm.bind("left", function() {
                            t.unbindFromRedraw("_moveLeft")
                        }, "keyup"), this.keycharm.bind("right", function() {
                            t.unbindFromRedraw("_moveRight")
                        }, "keyup"), this.keycharm.bind("=", function() {
                            t.unbindFromRedraw("_zoomIn")
                        }, "keyup"), this.keycharm.bind("num+", function() {
                            t.unbindFromRedraw("_zoomIn")
                        }, "keyup"), this.keycharm.bind("num-", function() {
                            t.unbindFromRedraw("_zoomOut")
                        }, "keyup"), this.keycharm.bind("-", function() {
                            t.unbindFromRedraw("_zoomOut")
                        }, "keyup"), this.keycharm.bind("[", function() {
                            t.unbindFromRedraw("_zoomOut")
                        }, "keyup"), this.keycharm.bind("]", function() {
                            t.unbindFromRedraw("_zoomIn")
                        }, "keyup"), this.keycharm.bind("pageup", function() {
                            t.unbindFromRedraw("_zoomIn")
                        }, "keyup"), this.keycharm.bind("pagedown", function() {
                            t.unbindFromRedraw("_zoomOut")
                        }, "keyup")))
                    }
                }]), t
            }();
        e["default"] = h
    }, function(t, e) {
        function i(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var o = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            n = function() {
                function t(e) {
                    i(this, t), this.container = e, this.x = 0, this.y = 0, this.padding = 5, this.hidden = !1, this.frame = document.createElement("div"), this.frame.className = "vis-network-tooltip", this.container.appendChild(this.frame)
                }
                return o(t, [{
                    key: "setPosition",
                    value: function(t, e) {
                        this.x = parseInt(t), this.y = parseInt(e)
                    }
                }, {
                    key: "setText",
                    value: function(t) {
                        t instanceof Element ? (this.frame.innerHTML = "", this.frame.appendChild(t)) : this.frame.innerHTML = t
                    }
                }, {
                    key: "show",
                    value: function(t) {
                        if (void 0 === t && (t = !0), t === !0) {
                            var e = this.frame.clientHeight,
                                i = this.frame.clientWidth,
                                o = this.frame.parentNode.clientHeight,
                                n = this.frame.parentNode.clientWidth,
                                s = this.y - e;
                            s + e + this.padding > o && (s = o - e - this.padding), s < this.padding && (s = this.padding);
                            var r = this.x;
                            r + i + this.padding > n && (r = n - i - this.padding), r < this.padding && (r = this.padding), this.frame.style.left = r + "px", this.frame.style.top = s + "px", this.frame.style.visibility = "visible", this.hidden = !1
                        } else this.hide()
                    }
                }, {
                    key: "hide",
                    value: function() {
                        this.hidden = !0, this.frame.style.visibility = "hidden"
                    }
                }]), t
            }();
        e["default"] = n
    }, function(t, e, i) {
        function o(t) {
            return t && t.__esModule ? t : {
                "default": t
            }
        }

        function n(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var s = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            r = i(65),
            a = o(r),
            h = i(85),
            d = o(h),
            l = i(1),
            c = function() {
                function t(e, i) {
                    var o = this;
                    n(this, t), this.body = e, this.canvas = i, this.selectionObj = {
                        nodes: [],
                        edges: []
                    }, this.hoverObj = {
                        nodes: {},
                        edges: {}
                    }, this.options = {}, this.defaultOptions = {
                        multiselect: !1,
                        selectable: !0,
                        selectConnectedEdges: !0,
                        hoverConnectedEdges: !0
                    }, l.extend(this.options, this.defaultOptions), this.body.emitter.on("_dataChanged", function() {
                        o.updateSelection()
                    })
                }
                return s(t, [{
                    key: "setOptions",
                    value: function(t) {
                        if (void 0 !== t) {
                            var e = ["multiselect", "hoverConnectedEdges", "selectable", "selectConnectedEdges"];
                            l.selectiveDeepExtend(e, this.options, t)
                        }
                    }
                }, {
                    key: "selectOnPoint",
                    value: function(t) {
                        var e = !1;
                        if (this.options.selectable === !0) {
                            var i = this.getNodeAt(t) || this.getEdgeAt(t);
                            this.unselectAll(), void 0 !== i && (e = this.selectObject(i)), this.body.emitter.emit("_requestRedraw")
                        }
                        return e
                    }
                }, {
                    key: "selectAdditionalOnPoint",
                    value: function(t) {
                        var e = !1;
                        if (this.options.selectable === !0) {
                            var i = this.getNodeAt(t) || this.getEdgeAt(t);
                            void 0 !== i && (e = !0, i.isSelected() === !0 ? this.deselectObject(i) : this.selectObject(i), this.body.emitter.emit("_requestRedraw"))
                        }
                        return e
                    }
                }, {
                    key: "_generateClickEvent",
                    value: function(t, e, i, o) {
                        var n = arguments.length <= 4 || void 0 === arguments[4] ? !1 : arguments[4],
                            s = void 0;
                        s = n === !0 ? {
                            nodes: [],
                            edges: []
                        } : this.getSelection(), s.pointer = {
                            DOM: {
                                x: i.x,
                                y: i.y
                            },
                            canvas: this.canvas.DOMtoCanvas(i)
                        }, s.event = e, void 0 !== o && (s.previousSelection = o), this.body.emitter.emit(t, s)
                    }
                }, {
                    key: "selectObject",
                    value: function(t) {
                        var e = arguments.length <= 1 || void 0 === arguments[1] ? this.options.selectConnectedEdges : arguments[1];
                        return void 0 !== t ? (t instanceof a["default"] && e === !0 && this._selectConnectedEdges(t), t.select(), this._addToSelection(t), !0) : !1
                    }
                }, {
                    key: "deselectObject",
                    value: function(t) {
                        t.isSelected() === !0 && (t.selected = !1, this._removeFromSelection(t))
                    }
                }, {
                    key: "_getAllNodesOverlappingWith",
                    value: function(t) {
                        for (var e = [], i = this.body.nodes, o = 0; o < this.body.nodeIndices.length; o++) {
                            var n = this.body.nodeIndices[o];
                            i[n].isOverlappingWith(t) && e.push(n)
                        }
                        return e
                    }
                }, {
                    key: "_pointerToPositionObject",
                    value: function(t) {
                        var e = this.canvas.DOMtoCanvas(t);
                        return {
                            left: e.x - 1,
                            top: e.y + 1,
                            right: e.x + 1,
                            bottom: e.y - 1
                        }
                    }
                }, {
                    key: "getNodeAt",
                    value: function(t) {
                        var e = arguments.length <= 1 || void 0 === arguments[1] ? !0 : arguments[1],
                            i = this._pointerToPositionObject(t),
                            o = this._getAllNodesOverlappingWith(i);
                        return o.length > 0 ? e === !0 ? this.body.nodes[o[o.length - 1]] : o[o.length - 1] : void 0
                    }
                }, {
                    key: "_getEdgesOverlappingWith",
                    value: function(t, e) {
                        for (var i = this.body.edges, o = 0; o < this.body.edgeIndices.length; o++) {
                            var n = this.body.edgeIndices[o];
                            i[n].isOverlappingWith(t) && e.push(n)
                        }
                    }
                }, {
                    key: "_getAllEdgesOverlappingWith",
                    value: function(t) {
                        var e = [];
                        return this._getEdgesOverlappingWith(t, e), e
                    }
                }, {
                    key: "getEdgeAt",
                    value: function(t) {
                        var e = arguments.length <= 1 || void 0 === arguments[1] ? !0 : arguments[1],
                            i = this._pointerToPositionObject(t),
                            o = this._getAllEdgesOverlappingWith(i);
                        return o.length > 0 ? e === !0 ? this.body.edges[o[o.length - 1]] : o[o.length - 1] : void 0
                    }
                }, {
                    key: "_addToSelection",
                    value: function(t) {
                        t instanceof a["default"] ? this.selectionObj.nodes[t.id] = t : this.selectionObj.edges[t.id] = t
                    }
                }, {
                    key: "_addToHover",
                    value: function(t) {
                        t instanceof a["default"] ? this.hoverObj.nodes[t.id] = t : this.hoverObj.edges[t.id] = t
                    }
                }, {
                    key: "_removeFromSelection",
                    value: function(t) {
                        t instanceof a["default"] ? (delete this.selectionObj.nodes[t.id], this._unselectConnectedEdges(t)) : delete this.selectionObj.edges[t.id]
                    }
                }, {
                    key: "unselectAll",
                    value: function() {
                        for (var t in this.selectionObj.nodes) this.selectionObj.nodes.hasOwnProperty(t) && this.selectionObj.nodes[t].unselect();
                        for (var e in this.selectionObj.edges) this.selectionObj.edges.hasOwnProperty(e) && this.selectionObj.edges[e].unselect();
                        this.selectionObj = {
                            nodes: {},
                            edges: {}
                        }
                    }
                }, {
                    key: "_getSelectedNodeCount",
                    value: function() {
                        var t = 0;
                        for (var e in this.selectionObj.nodes) this.selectionObj.nodes.hasOwnProperty(e) && (t += 1);
                        return t
                    }
                }, {
                    key: "_getSelectedNode",
                    value: function() {
                        for (var t in this.selectionObj.nodes)
                            if (this.selectionObj.nodes.hasOwnProperty(t)) return this.selectionObj.nodes[t]
                    }
                }, {
                    key: "_getSelectedEdge",
                    value: function() {
                        for (var t in this.selectionObj.edges)
                            if (this.selectionObj.edges.hasOwnProperty(t)) return this.selectionObj.edges[t]
                    }
                }, {
                    key: "_getSelectedEdgeCount",
                    value: function() {
                        var t = 0;
                        for (var e in this.selectionObj.edges) this.selectionObj.edges.hasOwnProperty(e) && (t += 1);
                        return t
                    }
                }, {
                    key: "_getSelectedObjectCount",
                    value: function() {
                        var t = 0;
                        for (var e in this.selectionObj.nodes) this.selectionObj.nodes.hasOwnProperty(e) && (t += 1);
                        for (var i in this.selectionObj.edges) this.selectionObj.edges.hasOwnProperty(i) && (t += 1);
                        return t
                    }
                }, {
                    key: "_selectionIsEmpty",
                    value: function() {
                        for (var t in this.selectionObj.nodes)
                            if (this.selectionObj.nodes.hasOwnProperty(t)) return !1;
                        for (var e in this.selectionObj.edges)
                            if (this.selectionObj.edges.hasOwnProperty(e)) return !1;
                        return !0
                    }
                }, {
                    key: "_clusterInSelection",
                    value: function() {
                        for (var t in this.selectionObj.nodes)
                            if (this.selectionObj.nodes.hasOwnProperty(t) && this.selectionObj.nodes[t].clusterSize > 1) return !0;
                        return !1
                    }
                }, {
                    key: "_selectConnectedEdges",
                    value: function(t) {
                        for (var e = 0; e < t.edges.length; e++) {
                            var i = t.edges[e];
                            i.select(), this._addToSelection(i)
                        }
                    }
                }, {
                    key: "_hoverConnectedEdges",
                    value: function(t) {
                        for (var e = 0; e < t.edges.length; e++) {
                            var i = t.edges[e];
                            i.hover = !0, this._addToHover(i)
                        }
                    }
                }, {
                    key: "_unselectConnectedEdges",
                    value: function(t) {
                        for (var e = 0; e < t.edges.length; e++) {
                            var i = t.edges[e];
                            i.unselect(), this._removeFromSelection(i)
                        }
                    }
                }, {
                    key: "blurObject",
                    value: function(t) {
                        t.hover === !0 && (t.hover = !1, t instanceof a["default"] ? this.body.emitter.emit("blurNode", {
                            node: t.id
                        }) : this.body.emitter.emit("blurEdge", {
                            edge: t.id
                        }))
                    }
                }, {
                    key: "hoverObject",
                    value: function(t) {
                        var e = !1;
                        for (var i in this.hoverObj.nodes) this.hoverObj.nodes.hasOwnProperty(i) && (void 0 === t || t instanceof a["default"] && t.id != i || t instanceof d["default"]) && (this.blurObject(this.hoverObj.nodes[i]), delete this.hoverObj.nodes[i], e = !0);
                        for (var o in this.hoverObj.edges) this.hoverObj.edges.hasOwnProperty(o) && (e === !0 ? (this.hoverObj.edges[o].hover = !1, delete this.hoverObj.edges[o]) : void 0 === t && (this.blurObject(this.hoverObj.edges[o]), delete this.hoverObj.edges[o], e = !0));
                        void 0 !== t && (t.hover === !1 && (t.hover = !0, this._addToHover(t), e = !0, t instanceof a["default"] ? this.body.emitter.emit("hoverNode", {
                            node: t.id
                        }) : this.body.emitter.emit("hoverEdge", {
                            edge: t.id
                        })), t instanceof a["default"] && this.options.hoverConnectedEdges === !0 && this._hoverConnectedEdges(t)), e === !0 && this.body.emitter.emit("_requestRedraw")
                    }
                }, {
                    key: "getSelection",
                    value: function() {
                        var t = this.getSelectedNodes(),
                            e = this.getSelectedEdges();
                        return {
                            nodes: t,
                            edges: e
                        }
                    }
                }, {
                    key: "getSelectedNodes",
                    value: function() {
                        var t = [];
                        if (this.options.selectable === !0)
                            for (var e in this.selectionObj.nodes) this.selectionObj.nodes.hasOwnProperty(e) && t.push(this.selectionObj.nodes[e].id);
                        return t
                    }
                }, {
                    key: "getSelectedEdges",
                    value: function() {
                        var t = [];
                        if (this.options.selectable === !0)
                            for (var e in this.selectionObj.edges) this.selectionObj.edges.hasOwnProperty(e) && t.push(this.selectionObj.edges[e].id);
                        return t
                    }
                }, {
                    key: "setSelection",
                    value: function(t) {
                        var e = arguments.length <= 1 || void 0 === arguments[1] ? {} : arguments[1],
                            i = void 0,
                            o = void 0;
                        if (!t || !t.nodes && !t.edges) throw "Selection must be an object with nodes and/or edges properties";
                        if ((e.unselectAll || void 0 === e.unselectAll) && this.unselectAll(), t.nodes)
                            for (i = 0; i < t.nodes.length; i++) {
                                o = t.nodes[i];
                                var n = this.body.nodes[o];
                                if (!n) throw new RangeError('Node with id "' + o + '" not found');
                                this.selectObject(n, e.highlightEdges)
                            }
                        if (t.edges)
                            for (i = 0; i < t.edges.length; i++) {
                                o = t.edges[i];
                                var s = this.body.edges[o];
                                if (!s) throw new RangeError('Edge with id "' + o + '" not found');
                                this.selectObject(s)
                            }
                        this.body.emitter.emit("_requestRedraw")
                    }
                }, {
                    key: "selectNodes",
                    value: function(t) {
                        var e = arguments.length <= 1 || void 0 === arguments[1] ? !0 : arguments[1];
                        if (!t || void 0 === t.length) throw "Selection must be an array with ids";
                        this.setSelection({
                            nodes: t
                        }, {
                            highlightEdges: e
                        })
                    }
                }, {
                    key: "selectEdges",
                    value: function(t) {
                        if (!t || void 0 === t.length) throw "Selection must be an array with ids";
                        this.setSelection({
                            edges: t
                        })
                    }
                }, {
                    key: "updateSelection",
                    value: function() {
                        for (var t in this.selectionObj.nodes) this.selectionObj.nodes.hasOwnProperty(t) && (this.body.nodes.hasOwnProperty(t) || delete this.selectionObj.nodes[t]);
                        for (var e in this.selectionObj.edges) this.selectionObj.edges.hasOwnProperty(e) && (this.body.edges.hasOwnProperty(e) || delete this.selectionObj.edges[e])
                    }
                }]), t
            }();
        e["default"] = c
    }, function(t, e, i) {
        function o(t) {
            return t && t.__esModule ? t : {
                "default": t
            }
        }

        function n(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var s = function() {
                function t(t, e) {
                    var i = [],
                        o = !0,
                        n = !1,
                        s = void 0;
                    try {
                        for (var r, a = t[Symbol.iterator](); !(o = (r = a.next()).done) && (i.push(r.value), !e || i.length !== e); o = !0);
                    } catch (h) {
                        n = !0, s = h
                    } finally {
                        try {
                            !o && a["return"] && a["return"]()
                        } finally {
                            if (n) throw s
                        }
                    }
                    return i
                }
                return function(e, i) {
                    if (Array.isArray(e)) return e;
                    if (Symbol.iterator in Object(e)) return t(e, i);
                    throw new TypeError("Invalid attempt to destructure non-iterable instance")
                }
            }(),
            r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            } : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol ? "symbol" : typeof t
            },
            a = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            h = i(103),
            d = o(h),
            l = i(1),
            c = function() {
                function t(e) {
                    n(this, t), this.body = e, this.initialRandomSeed = Math.round(1e6 * Math.random()), this.randomSeed = this.initialRandomSeed, this.setPhysics = !1, this.options = {}, this.optionsBackup = {
                        physics: {}
                    }, this.defaultOptions = {
                        randomSeed: void 0,
                        improvedLayout: !0,
                        hierarchical: {
                            enabled: !1,
                            levelSeparation: 150,
                            nodeSpacing: 100,
                            treeSpacing: 200,
                            blockShifting: !0,
                            edgeMinimization: !0,
                            parentCentralization: !0,
                            direction: "UD",
                            sortMethod: "hubsize"
                        }
                    }, l.extend(this.options, this.defaultOptions), this.bindEventListeners()
                }
                return a(t, [{
                    key: "bindEventListeners",
                    value: function() {
                        var t = this;
                        this.body.emitter.on("_dataChanged", function() {
                            t.setupHierarchicalLayout()
                        }), this.body.emitter.on("_dataLoaded", function() {
                            t.layoutNetwork()
                        }), this.body.emitter.on("_resetHierarchicalLayout", function() {
                            t.setupHierarchicalLayout()
                        })
                    }
                }, {
                    key: "setOptions",
                    value: function(t, e) {
                        if (void 0 !== t) {
                            var i = this.options.hierarchical.enabled;
                            if (l.selectiveDeepExtend(["randomSeed", "improvedLayout"], this.options, t), l.mergeOptions(this.options, t, "hierarchical"), void 0 !== t.randomSeed && (this.initialRandomSeed = t.randomSeed), this.options.hierarchical.enabled === !0) return i === !0 && this.body.emitter.emit("refresh", !0), "RL" === this.options.hierarchical.direction || "DU" === this.options.hierarchical.direction ? this.options.hierarchical.levelSeparation > 0 && (this.options.hierarchical.levelSeparation *= -1) : this.options.hierarchical.levelSeparation < 0 && (this.options.hierarchical.levelSeparation *= -1), this.body.emitter.emit("_resetHierarchicalLayout"), this.adaptAllOptionsForHierarchicalLayout(e);
                            if (i === !0) return this.body.emitter.emit("refresh"), l.deepExtend(e, this.optionsBackup)
                        }
                        return e
                    }
                }, {
                    key: "adaptAllOptionsForHierarchicalLayout",
                    value: function(t) {
                        if (this.options.hierarchical.enabled === !0) {
                            void 0 === t.physics || t.physics === !0 ? (t.physics = {
                                enabled: void 0 === this.optionsBackup.physics.enabled ? !0 : this.optionsBackup.physics.enabled,
                                solver: "hierarchicalRepulsion"
                            }, this.optionsBackup.physics.enabled = void 0 === this.optionsBackup.physics.enabled ? !0 : this.optionsBackup.physics.enabled, this.optionsBackup.physics.solver = this.optionsBackup.physics.solver || "barnesHut") : "object" === r(t.physics) ? (this.optionsBackup.physics.enabled = void 0 === t.physics.enabled ? !0 : t.physics.enabled, this.optionsBackup.physics.solver = t.physics.solver || "barnesHut", t.physics.solver = "hierarchicalRepulsion") : t.physics !== !1 && (this.optionsBackup.physics.solver = "barnesHut", t.physics = {
                                solver: "hierarchicalRepulsion"
                            });
                            var e = "horizontal";
                            "RL" !== this.options.hierarchical.direction && "LR" !== this.options.hierarchical.direction || (e = "vertical"), void 0 === t.edges ? (this.optionsBackup.edges = {
                                smooth: {
                                    enabled: !0,
                                    type: "dynamic"
                                }
                            }, t.edges = {
                                smooth: !1
                            }) : void 0 === t.edges.smooth ? (this.optionsBackup.edges = {
                                smooth: {
                                    enabled: !0,
                                    type: "dynamic"
                                }
                            }, t.edges.smooth = !1) : "boolean" == typeof t.edges.smooth ? (this.optionsBackup.edges = {
                                smooth: t.edges.smooth
                            }, t.edges.smooth = {
                                enabled: t.edges.smooth,
                                type: e
                            }) : (void 0 !== t.edges.smooth.type && "dynamic" !== t.edges.smooth.type && (e = t.edges.smooth.type), this.optionsBackup.edges = {
                                smooth: void 0 === t.edges.smooth.enabled ? !0 : t.edges.smooth.enabled,
                                type: void 0 === t.edges.smooth.type ? "dynamic" : t.edges.smooth.type,
                                roundness: void 0 === t.edges.smooth.roundness ? .5 : t.edges.smooth.roundness,
                                forceDirection: void 0 === t.edges.smooth.forceDirection ? !1 : t.edges.smooth.forceDirection
                            }, t.edges.smooth = {
                                enabled: void 0 === t.edges.smooth.enabled ? !0 : t.edges.smooth.enabled,
                                type: e,
                                roundness: void 0 === t.edges.smooth.roundness ? .5 : t.edges.smooth.roundness,
                                forceDirection: void 0 === t.edges.smooth.forceDirection ? !1 : t.edges.smooth.forceDirection
                            }), this.body.emitter.emit("_forceDisableDynamicCurves", e)
                        }
                        return t
                    }
                }, {
                    key: "seededRandom",
                    value: function() {
                        var t = 1e4 * Math.sin(this.randomSeed++);
                        return t - Math.floor(t)
                    }
                }, {
                    key: "positionInitially",
                    value: function(t) {
                        if (this.options.hierarchical.enabled !== !0) {
                            this.randomSeed = this.initialRandomSeed;
                            for (var e = 0; e < t.length; e++) {
                                var i = t[e],
                                    o = 1 * t.length + 10,
                                    n = 2 * Math.PI * this.seededRandom();
                                void 0 === i.x && (i.x = o * Math.cos(n)), void 0 === i.y && (i.y = o * Math.sin(n))
                            }
                        }
                    }
                }, {
                    key: "layoutNetwork",
                    value: function() {
                        if (this.options.hierarchical.enabled !== !0 && this.options.improvedLayout === !0) {
                            for (var t = 0, e = 0; e < this.body.nodeIndices.length; e++) {
                                var i = this.body.nodes[this.body.nodeIndices[e]];
                                i.predefinedPosition === !0 && (t += 1)
                            }
                            if (t < .5 * this.body.nodeIndices.length) {
                                var o = 10,
                                    n = 0,
                                    s = 100;
                                if (this.body.nodeIndices.length > s) {
                                    for (var r = this.body.nodeIndices.length; this.body.nodeIndices.length > s;) {
                                        n += 1;
                                        var a = this.body.nodeIndices.length;
                                        n % 3 === 0 ? this.body.modules.clustering.clusterBridges() : this.body.modules.clustering.clusterOutliers();
                                        var h = this.body.nodeIndices.length;
                                        if (a == h && n % 3 !== 0 || n > o) return this._declusterAll(), this.body.emitter.emit("_layoutFailed"), void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")
                                    }
                                    this.body.modules.kamadaKawai.setOptions({
                                        springLength: Math.max(150, 2 * r)
                                    })
                                }
                                this.body.modules.kamadaKawai.solve(this.body.nodeIndices, this.body.edgeIndices, !0), this._shiftToCenter();
                                for (var d = 70, l = 0; l < this.body.nodeIndices.length; l++) this.body.nodes[this.body.nodeIndices[l]].x += (.5 - this.seededRandom()) * d, this.body.nodes[this.body.nodeIndices[l]].y += (.5 - this.seededRandom()) * d;
                                this._declusterAll(), this.body.emitter.emit("_repositionBezierNodes")
                            }
                        }
                    }
                }, {
                    key: "_shiftToCenter",
                    value: function() {
                        for (var t = d["default"].getRangeCore(this.body.nodes, this.body.nodeIndices), e = d["default"].findCenter(t), i = 0; i < this.body.nodeIndices.length; i++) this.body.nodes[this.body.nodeIndices[i]].x -= e.x, this.body.nodes[this.body.nodeIndices[i]].y -= e.y
                    }
                }, {
                    key: "_declusterAll",
                    value: function() {
                        for (var t = !0; t === !0;) {
                            t = !1;
                            for (var e = 0; e < this.body.nodeIndices.length; e++) this.body.nodes[this.body.nodeIndices[e]].isCluster === !0 && (t = !0, this.body.modules.clustering.openCluster(this.body.nodeIndices[e], {}, !1));
                            t === !0 && this.body.emitter.emit("_dataChanged")
                        }
                    }
                }, {
                    key: "getSeed",
                    value: function() {
                        return this.initialRandomSeed
                    }
                }, {
                    key: "setupHierarchicalLayout",
                    value: function() {
                        if (this.options.hierarchical.enabled === !0 && this.body.nodeIndices.length > 0) {
                            var t = void 0,
                                e = void 0,
                                i = !1,
                                o = !0,
                                n = !1;
                            this.hierarchicalLevels = {}, this.lastNodeOnLevel = {}, this.hierarchicalChildrenReference = {}, this.hierarchicalParentReference = {}, this.hierarchicalTrees = {}, this.treeIndex = -1, this.distributionOrdering = {}, this.distributionIndex = {}, this.distributionOrderingPresence = {};
                            for (e in this.body.nodes) this.body.nodes.hasOwnProperty(e) && (t = this.body.nodes[e], void 0 === t.options.x && void 0 === t.options.y && (o = !1), void 0 !== t.options.level ? (i = !0, this.hierarchicalLevels[e] = t.options.level) : n = !0);
                            if (n === !0 && i === !0) throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");
                            n === !0 && ("hubsize" === this.options.hierarchical.sortMethod ? this._determineLevelsByHubsize() : "directed" === this.options.hierarchical.sortMethod ? this._determineLevelsDirected() : "custom" === this.options.hierarchical.sortMethod && this._determineLevelsCustomCallback());
                            for (var s in this.body.nodes) this.body.nodes.hasOwnProperty(s) && void 0 === this.hierarchicalLevels[s] && (this.hierarchicalLevels[s] = 0);
                            var r = this._getDistribution();
                            this._generateMap(), this._placeNodesByHierarchy(r), this._condenseHierarchy(), this._shiftToCenter()
                        }
                    }
                }, {
                    key: "_condenseHierarchy",
                    value: function() {
                        var t = this,
                            e = !1,
                            i = {},
                            o = function() {
                                for (var e = a(), i = 0; i < e.length - 1; i++) {
                                    var o = e[i].max - e[i + 1].min;
                                    n(i + 1, o + t.options.hierarchical.treeSpacing)
                                }
                            },
                            n = function(e, i) {
                                for (var o in t.hierarchicalTrees)
                                    if (t.hierarchicalTrees.hasOwnProperty(o) && t.hierarchicalTrees[o] === e) {
                                        var n = t.body.nodes[o],
                                            s = t._getPositionForHierarchy(n);
                                        t._setPositionForHierarchy(n, s + i, void 0, !0)
                                    }
                            },
                            r = function(e) {
                                var i = 1e9,
                                    o = -1e9;
                                for (var n in t.hierarchicalTrees)
                                    if (t.hierarchicalTrees.hasOwnProperty(n) && t.hierarchicalTrees[n] === e) {
                                        var s = t._getPositionForHierarchy(t.body.nodes[n]);
                                        i = Math.min(s, i), o = Math.max(s, o)
                                    }
                                return {
                                    min: i,
                                    max: o
                                }
                            },
                            a = function() {
                                for (var e = [], i = 0; i <= t.treeIndex; i++) e.push(r(i));
                                return e
                            },
                            h = function w(e, i) {
                                if (i[e.id] = !0, t.hierarchicalChildrenReference[e.id]) {
                                    var o = t.hierarchicalChildrenReference[e.id];
                                    if (o.length > 0)
                                        for (var n = 0; n < o.length; n++) w(t.body.nodes[o[n]], i)
                                }
                            },
                            d = function(e) {
                                var i = arguments.length <= 1 || void 0 === arguments[1] ? 1e9 : arguments[1],
                                    o = 1e9,
                                    n = 1e9,
                                    r = 1e9,
                                    a = -1e9;
                                for (var h in e)
                                    if (e.hasOwnProperty(h)) {
                                        var d = t.body.nodes[h],
                                            l = t.hierarchicalLevels[d.id],
                                            c = t._getPositionForHierarchy(d),
                                            u = t._getSpaceAroundNode(d, e),
                                            p = s(u, 2),
                                            f = p[0],
                                            m = p[1];
                                        o = Math.min(f, o), n = Math.min(m, n), i >= l && (r = Math.min(c, r), a = Math.max(c, a))
                                    }
                                return [r, a, o, n]
                            },
                            l = function _(e) {
                                var i = t.hierarchicalLevels[e];
                                if (t.hierarchicalChildrenReference[e]) {
                                    var o = t.hierarchicalChildrenReference[e];
                                    if (o.length > 0)
                                        for (var n = 0; n < o.length; n++) i = Math.max(i, _(o[n]))
                                }
                                return i
                            },
                            c = function(t, e) {
                                var i = l(t.id),
                                    o = l(e.id);
                                return Math.min(i, o)
                            },
                            u = function(e, i) {
                                var o = t.hierarchicalParentReference[e.id],
                                    n = t.hierarchicalParentReference[i.id];
                                if (void 0 === o || void 0 === n) return !1;
                                for (var s = 0; s < o.length; s++)
                                    for (var r = 0; r < n.length; r++)
                                        if (o[s] == n[r]) return !0;
                                return !1
                            },
                            p = function(e, i, o) {
                                for (var n = 0; n < i.length; n++) {
                                    var s = i[n],
                                        r = t.distributionOrdering[s];
                                    if (r.length > 1)
                                        for (var a = 0; a < r.length - 1; a++) u(r[a], r[a + 1]) === !0 && t.hierarchicalTrees[r[a].id] === t.hierarchicalTrees[r[a + 1].id] && e(r[a], r[a + 1], o)
                                }
                            },
                            f = function(i, o) {
                                var n = arguments.length <= 2 || void 0 === arguments[2] ? !1 : arguments[2],
                                    r = t._getPositionForHierarchy(i),
                                    a = t._getPositionForHierarchy(o),
                                    l = Math.abs(a - r);
                                if (l > t.options.hierarchical.nodeSpacing) {
                                    var u = {};
                                    u[i.id] = !0;
                                    var p = {};
                                    p[o.id] = !0, h(i, u), h(o, p);
                                    var f = c(i, o),
                                        m = d(u, f),
                                        v = s(m, 4),
                                        g = (v[0], v[1]),
                                        y = (v[2], v[3], d(p, f)),
                                        b = s(y, 4),
                                        w = b[0],
                                        _ = (b[1], b[2]),
                                        x = (b[3], Math.abs(g - w));
                                    if (x > t.options.hierarchical.nodeSpacing) {
                                        var k = g - w + t.options.hierarchical.nodeSpacing;
                                        k < -_ + t.options.hierarchical.nodeSpacing && (k = -_ + t.options.hierarchical.nodeSpacing), 0 > k && (t._shiftBlock(o.id, k), e = !0, n === !0 && t._centerParent(o))
                                    }
                                }
                            },
                            m = function(o, n) {
                                for (var r = n.id, a = n.edges, l = t.hierarchicalLevels[n.id], c = t.options.hierarchical.levelSeparation * t.options.hierarchical.levelSeparation, u = {}, p = [], f = 0; f < a.length; f++) {
                                    var m = a[f];
                                    if (m.toId != m.fromId) {
                                        var v = m.toId == r ? m.from : m.to;
                                        u[a[f].id] = v, t.hierarchicalLevels[v.id] < l && p.push(m)
                                    }
                                }
                                var g = function(e, i) {
                                        for (var o = 0, n = 0; n < i.length; n++)
                                            if (void 0 !== u[i[n].id]) {
                                                var s = t._getPositionForHierarchy(u[i[n].id]) - e;
                                                o += s / Math.sqrt(s * s + c)
                                            }
                                        return o
                                    },
                                    y = function(e, i) {
                                        for (var o = 0, n = 0; n < i.length; n++)
                                            if (void 0 !== u[i[n].id]) {
                                                var s = t._getPositionForHierarchy(u[i[n].id]) - e;
                                                o -= c * Math.pow(s * s + c, -1.5)
                                            }
                                        return o
                                    },
                                    b = function(e, i) {
                                        for (var o = t._getPositionForHierarchy(n), s = {}, r = 0; e > r; r++) {
                                            var a = g(o, i),
                                                h = y(o, i),
                                                d = 40,
                                                l = Math.max(-d, Math.min(d, Math.round(a / h)));
                                            if (o -= l, void 0 !== s[o]) break;
                                            s[o] = r
                                        }
                                        return o
                                    },
                                    w = function(o) {
                                        var r = t._getPositionForHierarchy(n);
                                        if (void 0 === i[n.id]) {
                                            var a = {};
                                            a[n.id] = !0, h(n, a), i[n.id] = a
                                        }
                                        var l = d(i[n.id]),
                                            c = s(l, 4),
                                            u = (c[0], c[1], c[2]),
                                            p = c[3],
                                            f = o - r,
                                            m = 0;
                                        f > 0 ? m = Math.min(f, p - t.options.hierarchical.nodeSpacing) : 0 > f && (m = -Math.min(-f, u - t.options.hierarchical.nodeSpacing)), 0 != m && (t._shiftBlock(n.id, m), e = !0)
                                    },
                                    _ = function(i) {
                                        var o = t._getPositionForHierarchy(n),
                                            r = t._getSpaceAroundNode(n),
                                            a = s(r, 2),
                                            h = a[0],
                                            d = a[1],
                                            l = i - o,
                                            c = o;
                                        l > 0 ? c = Math.min(o + (d - t.options.hierarchical.nodeSpacing), i) : 0 > l && (c = Math.max(o - (h - t.options.hierarchical.nodeSpacing), i)), c !== o && (t._setPositionForHierarchy(n, c, void 0, !0), e = !0)
                                    },
                                    x = b(o, p);
                                w(x), x = b(o, a), _(x)
                            },
                            v = function(i) {
                                var o = Object.keys(t.distributionOrdering);
                                o = o.reverse();
                                for (var n = 0; i > n; n++) {
                                    e = !1;
                                    for (var s = 0; s < o.length; s++)
                                        for (var r = o[s], a = t.distributionOrdering[r], h = 0; h < a.length; h++) m(1e3, a[h]);
                                    if (e !== !0) break
                                }
                            },
                            g = function(i) {
                                var o = Object.keys(t.distributionOrdering);
                                o = o.reverse();
                                for (var n = 0; i > n && (e = !1, p(f, o, !0), e === !0); n++);
                            },
                            y = function() {
                                for (var e in t.body.nodes) t.body.nodes.hasOwnProperty(e) && t._centerParent(t.body.nodes[e])
                            },
                            b = function() {
                                var e = Object.keys(t.distributionOrdering);
                                e = e.reverse();
                                for (var i = 0; i < e.length; i++)
                                    for (var o = e[i], n = t.distributionOrdering[o], s = 0; s < n.length; s++) t._centerParent(n[s])
                            };
                        this.options.hierarchical.blockShifting === !0 && (g(5), y()), this.options.hierarchical.edgeMinimization === !0 && v(20), this.options.hierarchical.parentCentralization === !0 && b(), o()
                    }
                }, {
                    key: "_getSpaceAroundNode",
                    value: function(t, e) {
                        var i = !0;
                        void 0 === e && (i = !1);
                        var o = this.hierarchicalLevels[t.id];
                        if (void 0 !== o) {
                            var n = this.distributionIndex[t.id],
                                s = this._getPositionForHierarchy(t),
                                r = 1e9,
                                a = 1e9;
                            if (0 !== n) {
                                var h = this.distributionOrdering[o][n - 1];
                                if (i === !0 && void 0 === e[h.id] || i === !1) {
                                    var d = this._getPositionForHierarchy(h);
                                    r = s - d
                                }
                            }
                            if (n != this.distributionOrdering[o].length - 1) {
                                var l = this.distributionOrdering[o][n + 1];
                                if (i === !0 && void 0 === e[l.id] || i === !1) {
                                    var c = this._getPositionForHierarchy(l);
                                    a = Math.min(a, c - s)
                                }
                            }
                            return [r, a]
                        }
                        return [0, 0]
                    }
                }, {
                    key: "_centerParent",
                    value: function(t) {
                        if (this.hierarchicalParentReference[t.id])
                            for (var e = this.hierarchicalParentReference[t.id], i = 0; i < e.length; i++) {
                                var o = e[i],
                                    n = this.body.nodes[o];
                                if (this.hierarchicalChildrenReference[o]) {
                                    var r = 1e9,
                                        a = -1e9,
                                        h = this.hierarchicalChildrenReference[o];
                                    if (h.length > 0)
                                        for (var d = 0; d < h.length; d++) {
                                            var l = this.body.nodes[h[d]];
                                            r = Math.min(r, this._getPositionForHierarchy(l)), a = Math.max(a, this._getPositionForHierarchy(l))
                                        }
                                    var c = this._getPositionForHierarchy(n),
                                        u = this._getSpaceAroundNode(n),
                                        p = s(u, 2),
                                        f = p[0],
                                        m = p[1],
                                        v = .5 * (r + a),
                                        g = c - v;
                                    (0 > g && Math.abs(g) < m - this.options.hierarchical.nodeSpacing || g > 0 && Math.abs(g) < f - this.options.hierarchical.nodeSpacing) && this._setPositionForHierarchy(n, v, void 0, !0)
                                }
                            }
                    }
                }, {
                    key: "_placeNodesByHierarchy",
                    value: function(t) {
                        this.positionedNodes = {};
                        for (var e in t)
                            if (t.hasOwnProperty(e)) {
                                var i = Object.keys(t[e]);
                                i = this._indexArrayToNodes(i), this._sortNodeArray(i);
                                for (var o = 0, n = 0; n < i.length; n++) {
                                    var s = i[n];
                                    if (void 0 === this.positionedNodes[s.id]) {
                                        var r = this.options.hierarchical.nodeSpacing * o;
                                        o > 0 && (r = this._getPositionForHierarchy(i[n - 1]) + this.options.hierarchical.nodeSpacing), this._setPositionForHierarchy(s, r, e), this._validataPositionAndContinue(s, e, r), o++
                                    }
                                }
                            }
                    }
                }, {
                    key: "_placeBranchNodes",
                    value: function(t, e) {
                        if (void 0 !== this.hierarchicalChildrenReference[t]) {
                            for (var i = [], o = 0; o < this.hierarchicalChildrenReference[t].length; o++) i.push(this.body.nodes[this.hierarchicalChildrenReference[t][o]]);
                            this._sortNodeArray(i);
                            for (var n = 0; n < i.length; n++) {
                                var s = i[n],
                                    r = this.hierarchicalLevels[s.id];
                                if (!(r > e && void 0 === this.positionedNodes[s.id])) return;
                                var a = void 0;
                                a = 0 === n ? this._getPositionForHierarchy(this.body.nodes[t]) : this._getPositionForHierarchy(i[n - 1]) + this.options.hierarchical.nodeSpacing, this._setPositionForHierarchy(s, a, r), this._validataPositionAndContinue(s, r, a)
                            }
                            for (var h = 1e9, d = -1e9, l = 0; l < i.length; l++) {
                                var c = i[l].id;
                                h = Math.min(h, this._getPositionForHierarchy(this.body.nodes[c])), d = Math.max(d, this._getPositionForHierarchy(this.body.nodes[c]))
                            }
                            this._setPositionForHierarchy(this.body.nodes[t], .5 * (h + d), e)
                        }
                    }
                }, {
                    key: "_validataPositionAndContinue",
                    value: function(t, e, i) {
                        if (void 0 !== this.lastNodeOnLevel[e]) {
                            var o = this._getPositionForHierarchy(this.body.nodes[this.lastNodeOnLevel[e]]);
                            if (i - o < this.options.hierarchical.nodeSpacing) {
                                var n = o + this.options.hierarchical.nodeSpacing - i,
                                    s = this._findCommonParent(this.lastNodeOnLevel[e], t.id);
                                this._shiftBlock(s.withChild, n)
                            }
                        }
                        this.lastNodeOnLevel[e] = t.id, this.positionedNodes[t.id] = !0, this._placeBranchNodes(t.id, e)
                    }
                }, {
                    key: "_indexArrayToNodes",
                    value: function(t) {
                        for (var e = [], i = 0; i < t.length; i++) e.push(this.body.nodes[t[i]]);
                        return e
                    }
                }, {
                    key: "_getDistribution",
                    value: function() {
                        var t = {},
                            e = void 0,
                            i = void 0;
                        for (e in this.body.nodes)
                            if (this.body.nodes.hasOwnProperty(e)) {
                                i = this.body.nodes[e];
                                var o = void 0 === this.hierarchicalLevels[e] ? 0 : this.hierarchicalLevels[e];
                                "UD" === this.options.hierarchical.direction || "DU" === this.options.hierarchical.direction ? (i.y = this.options.hierarchical.levelSeparation * o, i.options.fixed.y = !0) : (i.x = this.options.hierarchical.levelSeparation * o, i.options.fixed.x = !0), void 0 === t[o] && (t[o] = {}), t[o][e] = i
                            }
                        return t
                    }
                }, {
                    key: "_getHubSize",
                    value: function() {
                        var t = 0;
                        for (var e in this.body.nodes)
                            if (this.body.nodes.hasOwnProperty(e)) {
                                var i = this.body.nodes[e];
                                void 0 === this.hierarchicalLevels[e] && (t = i.edges.length < t ? t : i.edges.length)
                            }
                        return t
                    }
                }, {
                    key: "_determineLevelsByHubsize",
                    value: function() {
                        for (var t = this, e = 1, i = function(e, i) {
                                void 0 === t.hierarchicalLevels[i.id] && (void 0 === t.hierarchicalLevels[e.id] && (t.hierarchicalLevels[e.id] = 0), t.hierarchicalLevels[i.id] = t.hierarchicalLevels[e.id] + 1)
                            }; e > 0 && (e = this._getHubSize(), 0 !== e);)
                            for (var o in this.body.nodes)
                                if (this.body.nodes.hasOwnProperty(o)) {
                                    var n = this.body.nodes[o];
                                    n.edges.length === e && this._crawlNetwork(i, o)
                                }
                    }
                }, {
                    key: "_determineLevelsCustomCallback",
                    value: function() {
                        var t = this,
                            e = 1e5,
                            i = function(t, e, i) {},
                            o = function(o, n, s) {
                                var r = t.hierarchicalLevels[o.id];
                                void 0 === r && (t.hierarchicalLevels[o.id] = e);
                                var a = i(d["default"].cloneOptions(o, "node"), d["default"].cloneOptions(n, "node"), d["default"].cloneOptions(s, "edge"));
                                t.hierarchicalLevels[n.id] = t.hierarchicalLevels[o.id] + a
                            };
                        this._crawlNetwork(o), this._setMinLevelToZero()
                    }
                }, {
                    key: "_determineLevelsDirected",
                    value: function() {
                        var t = this,
                            e = 1e4,
                            i = function(i, o, n) {
                                var s = t.hierarchicalLevels[i.id];
                                void 0 === s && (t.hierarchicalLevels[i.id] = e), n.toId == o.id ? t.hierarchicalLevels[o.id] = t.hierarchicalLevels[i.id] + 1 : t.hierarchicalLevels[o.id] = t.hierarchicalLevels[i.id] - 1
                            };
                        this._crawlNetwork(i), this._setMinLevelToZero()
                    }
                }, {
                    key: "_setMinLevelToZero",
                    value: function() {
                        var t = 1e9;
                        for (var e in this.body.nodes) this.body.nodes.hasOwnProperty(e) && void 0 !== this.hierarchicalLevels[e] && (t = Math.min(this.hierarchicalLevels[e], t));
                        for (var i in this.body.nodes) this.body.nodes.hasOwnProperty(i) && void 0 !== this.hierarchicalLevels[i] && (this.hierarchicalLevels[i] -= t)
                    }
                }, {
                    key: "_generateMap",
                    value: function() {
                        var t = this,
                            e = function(e, i) {
                                if (t.hierarchicalLevels[i.id] > t.hierarchicalLevels[e.id]) {
                                    var o = e.id,
                                        n = i.id;
                                    void 0 === t.hierarchicalChildrenReference[o] && (t.hierarchicalChildrenReference[o] = []), t.hierarchicalChildrenReference[o].push(n), void 0 === t.hierarchicalParentReference[n] && (t.hierarchicalParentReference[n] = []), t.hierarchicalParentReference[n].push(o)
                                }
                            };
                        this._crawlNetwork(e)
                    }
                }, {
                    key: "_crawlNetwork",
                    value: function() {
                        var t = this,
                            e = arguments.length <= 0 || void 0 === arguments[0] ? function() {} : arguments[0],
                            i = arguments[1],
                            o = {},
                            n = 0,
                            s = function d(i, n) {
                                if (void 0 === o[i.id]) {
                                    void 0 === t.hierarchicalTrees[i.id] && (t.hierarchicalTrees[i.id] = n, t.treeIndex = Math.max(n, t.treeIndex)), o[i.id] = !0;
                                    for (var s = void 0, r = 0; r < i.edges.length; r++) i.edges[r].connected === !0 && (s = i.edges[r].toId === i.id ? i.edges[r].from : i.edges[r].to, i.id !== s.id && (e(i, s, i.edges[r]), d(s, n)))
                                }
                            };
                        if (void 0 === i)
                            for (var r = 0; r < this.body.nodeIndices.length; r++) {
                                var a = this.body.nodes[this.body.nodeIndices[r]];
                                void 0 === o[a.id] && (s(a, n), n += 1)
                            } else {
                                var h = this.body.nodes[i];
                                if (void 0 === h) return void console.error("Node not found:", i);
                                s(h)
                            }
                    }
                }, {
                    key: "_shiftBlock",
                    value: function(t, e) {
                        if ("UD" === this.options.hierarchical.direction || "DU" === this.options.hierarchical.direction ? this.body.nodes[t].x += e : this.body.nodes[t].y += e, void 0 !== this.hierarchicalChildrenReference[t])
                            for (var i = 0; i < this.hierarchicalChildrenReference[t].length; i++) this._shiftBlock(this.hierarchicalChildrenReference[t][i], e)
                    }
                }, {
                    key: "_findCommonParent",
                    value: function(t, e) {
                        var i = this,
                            o = {},
                            n = function r(t, e) {
                                if (void 0 !== i.hierarchicalParentReference[e])
                                    for (var o = 0; o < i.hierarchicalParentReference[e].length; o++) {
                                        var n = i.hierarchicalParentReference[e][o];
                                        t[n] = !0, r(t, n)
                                    }
                            },
                            s = function a(t, e) {
                                if (void 0 !== i.hierarchicalParentReference[e])
                                    for (var o = 0; o < i.hierarchicalParentReference[e].length; o++) {
                                        var n = i.hierarchicalParentReference[e][o];
                                        if (void 0 !== t[n]) return {
                                            foundParent: n,
                                            withChild: e
                                        };
                                        var s = a(t, n);
                                        if (null !== s.foundParent) return s
                                    }
                                return {
                                    foundParent: null,
                                    withChild: e
                                }
                            };
                        return n(o, t), s(o, e)
                    }
                }, {
                    key: "_setPositionForHierarchy",
                    value: function(t, e, i) {
                        var o = arguments.length <= 3 || void 0 === arguments[3] ? !1 : arguments[3];
                        o !== !0 && (void 0 === this.distributionOrdering[i] && (this.distributionOrdering[i] = [], this.distributionOrderingPresence[i] = {}), void 0 === this.distributionOrderingPresence[i][t.id] && (this.distributionOrdering[i].push(t), this.distributionIndex[t.id] = this.distributionOrdering[i].length - 1), this.distributionOrderingPresence[i][t.id] = !0), "UD" === this.options.hierarchical.direction || "DU" === this.options.hierarchical.direction ? t.x = e : t.y = e
                    }
                }, {
                    key: "_getPositionForHierarchy",
                    value: function(t) {
                        return "UD" === this.options.hierarchical.direction || "DU" === this.options.hierarchical.direction ? t.x : t.y
                    }
                }, {
                    key: "_sortNodeArray",
                    value: function(t) {
                        t.length > 1 && ("UD" === this.options.hierarchical.direction || "DU" === this.options.hierarchical.direction ? t.sort(function(t, e) {
                            return t.x - e.x
                        }) : t.sort(function(t, e) {
                            return t.y - e.y
                        }))
                    }
                }]), t
            }();
        e["default"] = c
    }, function(t, e, i) {
        function o(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var n = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            s = i(1),
            r = i(20),
            a = i(28),
            h = function() {
                function t(e, i, n) {
                    var r = this;
                    o(this, t), this.body = e, this.canvas = i, this.selectionHandler = n, this.editMode = !1, this.manipulationDiv = void 0, this.editModeDiv = void 0, this.closeDiv = void 0, this.manipulationHammers = [], this.temporaryUIFunctions = {}, this.temporaryEventFunctions = [], this.touchTime = 0, this.temporaryIds = {
                        nodes: [],
                        edges: []
                    }, this.guiEnabled = !1, this.inMode = !1, this.selectedControlNode = void 0, this.options = {}, this.defaultOptions = {
                        enabled: !1,
                        initiallyActive: !1,
                        addNode: !0,
                        addEdge: !0,
                        editNode: void 0,
                        editEdge: !0,
                        deleteNode: !0,
                        deleteEdge: !0,
                        controlNodeStyle: {
                            shape: "dot",
                            size: 6,
                            color: {
                                background: "#ff0000",
                                border: "#3c3c3c",
                                highlight: {
                                    background: "#07f968",
                                    border: "#3c3c3c"
                                }
                            },
                            borderWidth: 2,
                            borderWidthSelected: 2
                        }
                    }, s.extend(this.options, this.defaultOptions), this.body.emitter.on("destroy", function() {
                        r._clean()
                    }), this.body.emitter.on("_dataChanged", this._restore.bind(this)), this.body.emitter.on("_resetData", this._restore.bind(this))
                }
                return n(t, [{
                    key: "_restore",
                    value: function() {
                        this.inMode !== !1 && (this.options.initiallyActive === !0 ? this.enableEditMode() : this.disableEditMode())
                    }
                }, {
                    key: "setOptions",
                    value: function(t, e, i) {
                        void 0 !== e && (void 0 !== e.locale ? this.options.locale = e.locale : this.options.locale = i.locale, void 0 !== e.locales ? this.options.locales = e.locales : this.options.locales = i.locales), void 0 !== t && ("boolean" == typeof t ? this.options.enabled = t : (this.options.enabled = !0, s.deepExtend(this.options, t)), this.options.initiallyActive === !0 && (this.editMode = !0), this._setup())
                    }
                }, {
                    key: "toggleEditMode",
                    value: function() {
                        this.editMode === !0 ? this.disableEditMode() : this.enableEditMode()
                    }
                }, {
                    key: "enableEditMode",
                    value: function() {
                        this.editMode = !0, this._clean(), this.guiEnabled === !0 && (this.manipulationDiv.style.display = "block", this.closeDiv.style.display = "block", this.editModeDiv.style.display = "none", this.showManipulatorToolbar())
                    }
                }, {
                    key: "disableEditMode",
                    value: function() {
                        this.editMode = !1, this._clean(), this.guiEnabled === !0 && (this.manipulationDiv.style.display = "none", this.closeDiv.style.display = "none", this.editModeDiv.style.display = "block", this._createEditButton())
                    }
                }, {
                    key: "showManipulatorToolbar",
                    value: function() {
                        if (this._clean(), this.manipulationDOM = {}, this.guiEnabled === !0) {
                            this.editMode = !0, this.manipulationDiv.style.display = "block", this.closeDiv.style.display = "block";
                            var t = this.selectionHandler._getSelectedNodeCount(),
                                e = this.selectionHandler._getSelectedEdgeCount(),
                                i = t + e,
                                o = this.options.locales[this.options.locale],
                                n = !1;
                            this.options.addNode !== !1 && (this._createAddNodeButton(o), n = !0), this.options.addEdge !== !1 && (n === !0 ? this._createSeperator(1) : n = !0, this._createAddEdgeButton(o)), 1 === t && "function" == typeof this.options.editNode ? (n === !0 ? this._createSeperator(2) : n = !0, this._createEditNodeButton(o)) : 1 === e && 0 === t && this.options.editEdge !== !1 && (n === !0 ? this._createSeperator(3) : n = !0, this._createEditEdgeButton(o)), 0 !== i && (t > 0 && this.options.deleteNode !== !1 ? (n === !0 && this._createSeperator(4), this._createDeleteButton(o)) : 0 === t && this.options.deleteEdge !== !1 && (n === !0 && this._createSeperator(4), this._createDeleteButton(o))), this._bindHammerToDiv(this.closeDiv, this.toggleEditMode.bind(this)), this._temporaryBindEvent("select", this.showManipulatorToolbar.bind(this))
                        }
                        this.body.emitter.emit("_redraw")
                    }
                }, {
                    key: "addNodeMode",
                    value: function() {
                        if (this.editMode !== !0 && this.enableEditMode(), this._clean(), this.inMode = "addNode", this.guiEnabled === !0) {
                            var t = this.options.locales[this.options.locale];
                            this.manipulationDOM = {}, this._createBackButton(t), this._createSeperator(), this._createDescription(t.addDescription || this.options.locales.en.addDescription), this._bindHammerToDiv(this.closeDiv, this.toggleEditMode.bind(this))
                        }
                        this._temporaryBindEvent("click", this._performAddNode.bind(this))
                    }
                }, {
                    key: "editNode",
                    value: function() {
                        var t = this;
                        this.editMode !== !0 && this.enableEditMode(), this._clean();
                        var e = this.selectionHandler._getSelectedNode();
                        if (void 0 !== e) {
                            if (this.inMode = "editNode", "function" != typeof this.options.editNode) throw new Error("No function has been configured to handle the editing of nodes.");
                            if (e.isCluster !== !0) {
                                var i = s.deepExtend({}, e.options, !1);
                                if (i.x = e.x, i.y = e.y, 2 !== this.options.editNode.length) throw new Error("The function for edit does not support two arguments (data, callback)");
                                this.options.editNode(i, function(e) {
                                    null !== e && void 0 !== e && "editNode" === t.inMode && t.body.data.nodes.getDataSet().update(e), t.showManipulatorToolbar()
                                })
                            } else alert(this.options.locales[this.options.locale].editClusterError || this.options.locales.en.editClusterError)
                        } else this.showManipulatorToolbar()
                    }
                }, {
                    key: "addEdgeMode",
                    value: function() {
                        if (this.editMode !== !0 && this.enableEditMode(), this._clean(), this.inMode = "addEdge", this.guiEnabled === !0) {
                            var t = this.options.locales[this.options.locale];
                            this.manipulationDOM = {}, this._createBackButton(t), this._createSeperator(), this._createDescription(t.edgeDescription || this.options.locales.en.edgeDescription), this._bindHammerToDiv(this.closeDiv, this.toggleEditMode.bind(this))
                        }
                        this._temporaryBindUI("onTouch", this._handleConnect.bind(this)), this._temporaryBindUI("onDragEnd", this._finishConnect.bind(this)), this._temporaryBindUI("onDrag", this._dragControlNode.bind(this)), this._temporaryBindUI("onRelease", this._finishConnect.bind(this)), this._temporaryBindUI("onDragStart", function() {}), this._temporaryBindUI("onHold", function() {})
                    }
                }, {
                    key: "editEdgeMode",
                    value: function() {
                        var t = this;
                        if (this.editMode !== !0 && this.enableEditMode(), this._clean(), this.inMode = "editEdge", this.guiEnabled === !0) {
                            var e = this.options.locales[this.options.locale];
                            this.manipulationDOM = {}, this._createBackButton(e), this._createSeperator(), this._createDescription(e.editEdgeDescription || this.options.locales.en.editEdgeDescription), this._bindHammerToDiv(this.closeDiv, this.toggleEditMode.bind(this))
                        }
                        this.edgeBeingEditedId = this.selectionHandler.getSelectedEdges()[0], void 0 !== this.edgeBeingEditedId ? ! function() {
                            var e = t.body.edges[t.edgeBeingEditedId],
                                i = t._getNewTargetNode(e.from.x, e.from.y),
                                o = t._getNewTargetNode(e.to.x, e.to.y);
                            t.temporaryIds.nodes.push(i.id), t.temporaryIds.nodes.push(o.id), t.body.nodes[i.id] = i, t.body.nodeIndices.push(i.id), t.body.nodes[o.id] = o, t.body.nodeIndices.push(o.id), t._temporaryBindUI("onTouch", t._controlNodeTouch.bind(t)), t._temporaryBindUI("onTap", function() {}), t._temporaryBindUI("onHold", function() {}), t._temporaryBindUI("onDragStart", t._controlNodeDragStart.bind(t)), t._temporaryBindUI("onDrag", t._controlNodeDrag.bind(t)), t._temporaryBindUI("onDragEnd", t._controlNodeDragEnd.bind(t)), t._temporaryBindUI("onMouseMove", function() {}), t._temporaryBindEvent("beforeDrawing", function(t) {
                                var n = e.edgeType.findBorderPositions(t);
                                i.selected === !1 && (i.x = n.from.x, i.y = n.from.y), o.selected === !1 && (o.x = n.to.x, o.y = n.to.y)
                            }), t.body.emitter.emit("_redraw")
                        }() : this.showManipulatorToolbar()
                    }
                }, {
                    key: "deleteSelected",
                    value: function() {
                        var t = this;
                        this.editMode !== !0 && this.enableEditMode(), this._clean(), this.inMode = "delete";
                        var e = this.selectionHandler.getSelectedNodes(),
                            i = this.selectionHandler.getSelectedEdges(),
                            o = void 0;
                        if (e.length > 0) {
                            for (var n = 0; n < e.length; n++)
                                if (this.body.nodes[e[n]].isCluster === !0) return void alert(this.options.locales[this.options.locale].deleteClusterError || this.options.locales.en.deleteClusterError);
                                "function" == typeof this.options.deleteNode && (o = this.options.deleteNode)
                        } else i.length > 0 && "function" == typeof this.options.deleteEdge && (o = this.options.deleteEdge);
                        if ("function" == typeof o) {
                            var s = {
                                nodes: e,
                                edges: i
                            };
                            if (2 !== o.length) throw new Error("The function for delete does not support two arguments (data, callback)");
                            o(s, function(e) {
                                null !== e && void 0 !== e && "delete" === t.inMode ? (t.body.data.edges.getDataSet().remove(e.edges), t.body.data.nodes.getDataSet().remove(e.nodes), t.body.emitter.emit("startSimulation"), t.showManipulatorToolbar()) : (t.body.emitter.emit("startSimulation"), t.showManipulatorToolbar())
                            })
                        } else this.body.data.edges.getDataSet().remove(i), this.body.data.nodes.getDataSet().remove(e), this.body.emitter.emit("startSimulation"), this.showManipulatorToolbar()
                    }
                }, {
                    key: "_setup",
                    value: function() {
                        this.options.enabled === !0 ? (this.guiEnabled = !0, this._createWrappers(), this.editMode === !1 ? this._createEditButton() : this.showManipulatorToolbar()) : (this._removeManipulationDOM(), this.guiEnabled = !1)
                    }
                }, {
                    key: "_createWrappers",
                    value: function() {
                        void 0 === this.manipulationDiv && (this.manipulationDiv = document.createElement("div"), this.manipulationDiv.className = "vis-manipulation", this.editMode === !0 ? this.manipulationDiv.style.display = "block" : this.manipulationDiv.style.display = "none", this.canvas.frame.appendChild(this.manipulationDiv)), void 0 === this.editModeDiv && (this.editModeDiv = document.createElement("div"), this.editModeDiv.className = "vis-edit-mode", this.editMode === !0 ? this.editModeDiv.style.display = "none" : this.editModeDiv.style.display = "block", this.canvas.frame.appendChild(this.editModeDiv)), void 0 === this.closeDiv && (this.closeDiv = document.createElement("div"), this.closeDiv.className = "vis-close", this.closeDiv.style.display = this.manipulationDiv.style.display, this.canvas.frame.appendChild(this.closeDiv))
                    }
                }, {
                    key: "_getNewTargetNode",
                    value: function(t, e) {
                        var i = s.deepExtend({}, this.options.controlNodeStyle);
                        i.id = "targetNode" + s.randomUUID(), i.hidden = !1, i.physics = !1, i.x = t, i.y = e;
                        var o = this.body.functions.createNode(i);
                        return o.shape.boundingBox = {
                            left: t,
                            right: t,
                            top: e,
                            bottom: e
                        }, o
                    }
                }, {
                    key: "_createEditButton",
                    value: function() {
                        this._clean(), this.manipulationDOM = {}, s.recursiveDOMDelete(this.editModeDiv);
                        var t = this.options.locales[this.options.locale],
                            e = this._createButton("editMode", "vis-button vis-edit vis-edit-mode", t.edit || this.options.locales.en.edit);
                        this.editModeDiv.appendChild(e), this._bindHammerToDiv(e, this.toggleEditMode.bind(this))
                    }
                }, {
                    key: "_clean",
                    value: function() {
                        this.inMode = !1, this.guiEnabled === !0 && (s.recursiveDOMDelete(this.editModeDiv), s.recursiveDOMDelete(this.manipulationDiv), this._cleanManipulatorHammers()), this._cleanupTemporaryNodesAndEdges(), this._unbindTemporaryUIs(), this._unbindTemporaryEvents(), this.body.emitter.emit("restorePhysics")
                    }
                }, {
                    key: "_cleanManipulatorHammers",
                    value: function() {
                        if (0 != this.manipulationHammers.length) {
                            for (var t = 0; t < this.manipulationHammers.length; t++) this.manipulationHammers[t].destroy();
                            this.manipulationHammers = []
                        }
                    }
                }, {
                    key: "_removeManipulationDOM",
                    value: function() {
                        this._clean(), s.recursiveDOMDelete(this.manipulationDiv), s.recursiveDOMDelete(this.editModeDiv), s.recursiveDOMDelete(this.closeDiv), this.manipulationDiv && this.canvas.frame.removeChild(this.manipulationDiv), this.editModeDiv && this.canvas.frame.removeChild(this.editModeDiv), this.closeDiv && this.canvas.frame.removeChild(this.closeDiv), this.manipulationDiv = void 0, this.editModeDiv = void 0, this.closeDiv = void 0
                    }
                }, {
                    key: "_createSeperator",
                    value: function() {
                        var t = arguments.length <= 0 || void 0 === arguments[0] ? 1 : arguments[0];
                        this.manipulationDOM["seperatorLineDiv" + t] = document.createElement("div"), this.manipulationDOM["seperatorLineDiv" + t].className = "vis-separator-line", this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv" + t])
                    }
                }, {
                    key: "_createAddNodeButton",
                    value: function(t) {
                        var e = this._createButton("addNode", "vis-button vis-add", t.addNode || this.options.locales.en.addNode);
                        this.manipulationDiv.appendChild(e), this._bindHammerToDiv(e, this.addNodeMode.bind(this))
                    }
                }, {
                    key: "_createAddEdgeButton",
                    value: function(t) {
                        var e = this._createButton("addEdge", "vis-button vis-connect", t.addEdge || this.options.locales.en.addEdge);
                        this.manipulationDiv.appendChild(e), this._bindHammerToDiv(e, this.addEdgeMode.bind(this))
                    }
                }, {
                    key: "_createEditNodeButton",
                    value: function(t) {
                        var e = this._createButton("editNode", "vis-button vis-edit", t.editNode || this.options.locales.en.editNode);
                        this.manipulationDiv.appendChild(e), this._bindHammerToDiv(e, this.editNode.bind(this))
                    }
                }, {
                    key: "_createEditEdgeButton",
                    value: function(t) {
                        var e = this._createButton("editEdge", "vis-button vis-edit", t.editEdge || this.options.locales.en.editEdge);
                        this.manipulationDiv.appendChild(e), this._bindHammerToDiv(e, this.editEdgeMode.bind(this))
                    }
                }, {
                    key: "_createDeleteButton",
                    value: function(t) {
                        if (this.options.rtl) var e = "vis-button vis-delete-rtl";
                        else var e = "vis-button vis-delete";
                        var i = this._createButton("delete", e, t.del || this.options.locales.en.del);
                        this.manipulationDiv.appendChild(i), this._bindHammerToDiv(i, this.deleteSelected.bind(this))
                    }
                }, {
                    key: "_createBackButton",
                    value: function(t) {
                        var e = this._createButton("back", "vis-button vis-back", t.back || this.options.locales.en.back);
                        this.manipulationDiv.appendChild(e), this._bindHammerToDiv(e, this.showManipulatorToolbar.bind(this))
                    }
                }, {
                    key: "_createButton",
                    value: function(t, e, i) {
                        var o = arguments.length <= 3 || void 0 === arguments[3] ? "vis-label" : arguments[3];
                        return this.manipulationDOM[t + "Div"] = document.createElement("div"), this.manipulationDOM[t + "Div"].className = e, this.manipulationDOM[t + "Label"] = document.createElement("div"), this.manipulationDOM[t + "Label"].className = o, this.manipulationDOM[t + "Label"].innerHTML = i, this.manipulationDOM[t + "Div"].appendChild(this.manipulationDOM[t + "Label"]), this.manipulationDOM[t + "Div"]
                    }
                }, {
                    key: "_createDescription",
                    value: function(t) {
                        this.manipulationDiv.appendChild(this._createButton("description", "vis-button vis-none", t))
                    }
                }, {
                    key: "_temporaryBindEvent",
                    value: function(t, e) {
                        this.temporaryEventFunctions.push({
                            event: t,
                            boundFunction: e
                        }), this.body.emitter.on(t, e)
                    }
                }, {
                    key: "_temporaryBindUI",
                    value: function(t, e) {
                        if (void 0 === this.body.eventListeners[t]) throw new Error("This UI function does not exist. Typo? You tried: " + t + " possible are: " + JSON.stringify(Object.keys(this.body.eventListeners)));
                        this.temporaryUIFunctions[t] = this.body.eventListeners[t], this.body.eventListeners[t] = e
                    }
                }, {
                    key: "_unbindTemporaryUIs",
                    value: function() {
                        for (var t in this.temporaryUIFunctions) this.temporaryUIFunctions.hasOwnProperty(t) && (this.body.eventListeners[t] = this.temporaryUIFunctions[t], delete this.temporaryUIFunctions[t]);
                        this.temporaryUIFunctions = {}
                    }
                }, {
                    key: "_unbindTemporaryEvents",
                    value: function() {
                        for (var t = 0; t < this.temporaryEventFunctions.length; t++) {
                            var e = this.temporaryEventFunctions[t].event,
                                i = this.temporaryEventFunctions[t].boundFunction;
                            this.body.emitter.off(e, i)
                        }
                        this.temporaryEventFunctions = []
                    }
                }, {
                    key: "_bindHammerToDiv",
                    value: function(t, e) {
                        var i = new r(t, {});
                        a.onTouch(i, e), this.manipulationHammers.push(i)
                    }
                }, {
                    key: "_cleanupTemporaryNodesAndEdges",
                    value: function() {
                        for (var t = 0; t < this.temporaryIds.edges.length; t++) {
                            this.body.edges[this.temporaryIds.edges[t]].disconnect(), delete this.body.edges[this.temporaryIds.edges[t]];
                            var e = this.body.edgeIndices.indexOf(this.temporaryIds.edges[t]); - 1 !== e && this.body.edgeIndices.splice(e, 1)
                        }
                        for (var i = 0; i < this.temporaryIds.nodes.length; i++) {
                            delete this.body.nodes[this.temporaryIds.nodes[i]];
                            var o = this.body.nodeIndices.indexOf(this.temporaryIds.nodes[i]); - 1 !== o && this.body.nodeIndices.splice(o, 1)
                        }
                        this.temporaryIds = {
                            nodes: [],
                            edges: []
                        }
                    }
                }, {
                    key: "_controlNodeTouch",
                    value: function(t) {
                        this.selectionHandler.unselectAll(), this.lastTouch = this.body.functions.getPointer(t.center), this.lastTouch.translation = s.extend({}, this.body.view.translation)
                    }
                }, {
                    key: "_controlNodeDragStart",
                    value: function(t) {
                        var e = this.lastTouch,
                            i = this.selectionHandler._pointerToPositionObject(e),
                            o = this.body.nodes[this.temporaryIds.nodes[0]],
                            n = this.body.nodes[this.temporaryIds.nodes[1]],
                            s = this.body.edges[this.edgeBeingEditedId];
                        this.selectedControlNode = void 0;
                        var r = o.isOverlappingWith(i),
                            a = n.isOverlappingWith(i);
                        r === !0 ? (this.selectedControlNode = o, s.edgeType.from = o) : a === !0 && (this.selectedControlNode = n, s.edgeType.to = n), void 0 !== this.selectedControlNode && this.selectionHandler.selectObject(this.selectedControlNode), this.body.emitter.emit("_redraw")
                    }
                }, {
                    key: "_controlNodeDrag",
                    value: function(t) {
                        this.body.emitter.emit("disablePhysics");
                        var e = this.body.functions.getPointer(t.center),
                            i = this.canvas.DOMtoCanvas(e);
                        if (void 0 !== this.selectedControlNode) this.selectedControlNode.x = i.x, this.selectedControlNode.y = i.y;
                        else {
                            var o = e.x - this.lastTouch.x,
                                n = e.y - this.lastTouch.y;
                            this.body.view.translation = {
                                x: this.lastTouch.translation.x + o,
                                y: this.lastTouch.translation.y + n
                            }
                        }
                        this.body.emitter.emit("_redraw")
                    }
                }, {
                    key: "_controlNodeDragEnd",
                    value: function(t) {
                        var e = this.body.functions.getPointer(t.center),
                            i = this.selectionHandler._pointerToPositionObject(e),
                            o = this.body.edges[this.edgeBeingEditedId];
                        if (void 0 !== this.selectedControlNode) {
                            this.selectionHandler.unselectAll();
                            for (var n = this.selectionHandler._getAllNodesOverlappingWith(i), s = void 0, r = n.length - 1; r >= 0; r--)
                                if (n[r] !== this.selectedControlNode.id) {
                                    s = this.body.nodes[n[r]];
                                    break
                                }
                            if (void 0 !== s && void 0 !== this.selectedControlNode)
                                if (s.isCluster === !0) alert(this.options.locales[this.options.locale].createEdgeError || this.options.locales.en.createEdgeError);
                                else {
                                    var a = this.body.nodes[this.temporaryIds.nodes[0]];
                                    this.selectedControlNode.id === a.id ? this._performEditEdge(s.id, o.to.id) : this._performEditEdge(o.from.id, s.id)
                                }
                            else o.updateEdgeType(), this.body.emitter.emit("restorePhysics");
                            this.body.emitter.emit("_redraw")
                        }
                    }
                }, {
                    key: "_handleConnect",
                    value: function(t) {
                        if ((new Date).valueOf() - this.touchTime > 100) {
                            this.lastTouch = this.body.functions.getPointer(t.center), this.lastTouch.translation = s.extend({}, this.body.view.translation);
                            var e = this.lastTouch,
                                i = this.selectionHandler.getNodeAt(e);
                            if (void 0 !== i)
                                if (i.isCluster === !0) alert(this.options.locales[this.options.locale].createEdgeError || this.options.locales.en.createEdgeError);
                                else {
                                    var o = this._getNewTargetNode(i.x, i.y);
                                    this.body.nodes[o.id] = o, this.body.nodeIndices.push(o.id);
                                    var n = this.body.functions.createEdge({
                                        id: "connectionEdge" + s.randomUUID(),
                                        from: i.id,
                                        to: o.id,
                                        physics: !1,
                                        smooth: {
                                            enabled: !0,
                                            type: "continuous",
                                            roundness: .5
                                        }
                                    });
                                    this.body.edges[n.id] = n, this.body.edgeIndices.push(n.id), this.temporaryIds.nodes.push(o.id), this.temporaryIds.edges.push(n.id)
                                }
                            this.touchTime = (new Date).valueOf()
                        }
                    }
                }, {
                    key: "_dragControlNode",
                    value: function(t) {
                        var e = this.body.functions.getPointer(t.center);
                        if (void 0 !== this.temporaryIds.nodes[0]) {
                            var i = this.body.nodes[this.temporaryIds.nodes[0]];
                            i.x = this.canvas._XconvertDOMtoCanvas(e.x), i.y = this.canvas._YconvertDOMtoCanvas(e.y), this.body.emitter.emit("_redraw")
                        } else {
                            var o = e.x - this.lastTouch.x,
                                n = e.y - this.lastTouch.y;
                            this.body.view.translation = {
                                x: this.lastTouch.translation.x + o,
                                y: this.lastTouch.translation.y + n
                            }
                        }
                    }
                }, {
                    key: "_finishConnect",
                    value: function(t) {
                        var e = this.body.functions.getPointer(t.center),
                            i = this.selectionHandler._pointerToPositionObject(e),
                            o = void 0;
                        void 0 !== this.temporaryIds.edges[0] && (o = this.body.edges[this.temporaryIds.edges[0]].fromId);
                        for (var n = this.selectionHandler._getAllNodesOverlappingWith(i), s = void 0, r = n.length - 1; r >= 0; r--)
                            if (-1 === this.temporaryIds.nodes.indexOf(n[r])) {
                                s = this.body.nodes[n[r]];
                                break
                            }
                        this._cleanupTemporaryNodesAndEdges(), void 0 !== s && (s.isCluster === !0 ? alert(this.options.locales[this.options.locale].createEdgeError || this.options.locales.en.createEdgeError) : void 0 !== this.body.nodes[o] && void 0 !== this.body.nodes[s.id] && this._performAddEdge(o, s.id)), this.body.emitter.emit("_redraw")
                    }
                }, {
                    key: "_performAddNode",
                    value: function(t) {
                        var e = this,
                            i = {
                                id: s.randomUUID(),
                                x: t.pointer.canvas.x,
                                y: t.pointer.canvas.y,
                                label: "new"
                            };
                        if ("function" == typeof this.options.addNode) {
                            if (2 !== this.options.addNode.length) throw new Error("The function for add does not support two arguments (data,callback)");
                            this.options.addNode(i, function(t) {
                                null !== t && void 0 !== t && "addNode" === e.inMode && (e.body.data.nodes.getDataSet().add(t), e.showManipulatorToolbar())
                            })
                        } else this.body.data.nodes.getDataSet().add(i), this.showManipulatorToolbar()
                    }
                }, {
                    key: "_performAddEdge",
                    value: function(t, e) {
                        var i = this,
                            o = {
                                from: t,
                                to: e
                            };
                        if ("function" == typeof this.options.addEdge) {
                            if (2 !== this.options.addEdge.length) throw new Error("The function for connect does not support two arguments (data,callback)");
                            this.options.addEdge(o, function(t) {
                                null !== t && void 0 !== t && "addEdge" === i.inMode && (i.body.data.edges.getDataSet().add(t), i.selectionHandler.unselectAll(), i.showManipulatorToolbar())
                            })
                        } else this.body.data.edges.getDataSet().add(o), this.selectionHandler.unselectAll(), this.showManipulatorToolbar()
                    }
                }, {
                    key: "_performEditEdge",
                    value: function(t, e) {
                        var i = this,
                            o = {
                                id: this.edgeBeingEditedId,
                                from: t,
                                to: e
                            };
                        if ("function" == typeof this.options.editEdge) {
                            if (2 !== this.options.editEdge.length) throw new Error("The function for edit does not support two arguments (data, callback)");
                            this.options.editEdge(o, function(t) {
                                null === t || void 0 === t || "editEdge" !== i.inMode ? (i.body.edges[o.id].updateEdgeType(), i.body.emitter.emit("_redraw")) : (i.body.data.edges.getDataSet().update(t), i.selectionHandler.unselectAll(), i.showManipulatorToolbar())
                            })
                        } else this.body.data.edges.getDataSet().update(o), this.selectionHandler.unselectAll(), this.showManipulatorToolbar()
                    }
                }]), t
            }();
        e["default"] = h
    }, function(t, e) {
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var i = "string",
            o = "boolean",
            n = "number",
            s = "array",
            r = "object",
            a = "dom",
            h = "any",
            d = {
                configure: {
                    enabled: {
                        "boolean": o
                    },
                    filter: {
                        "boolean": o,
                        string: i,
                        array: s,
                        "function": "function"
                    },
                    container: {
                        dom: a
                    },
                    showButton: {
                        "boolean": o
                    },
                    __type__: {
                        object: r,
                        "boolean": o,
                        string: i,
                        array: s,
                        "function": "function"
                    }
                },
                edges: {
                    arrows: {
                        to: {
                            enabled: {
                                "boolean": o
                            },
                            scaleFactor: {
                                number: n
                            },
                            __type__: {
                                object: r,
                                "boolean": o
                            }
                        },
                        middle: {
                            enabled: {
                                "boolean": o
                            },
                            scaleFactor: {
                                number: n
                            },
                            __type__: {
                                object: r,
                                "boolean": o
                            }
                        },
                        from: {
                            enabled: {
                                "boolean": o
                            },
                            scaleFactor: {
                                number: n
                            },
                            __type__: {
                                object: r,
                                "boolean": o
                            }
                        },
                        __type__: {
                            string: ["from", "to", "middle"],
                            object: r
                        }
                    },
                    arrowStrikethrough: {
                        "boolean": o
                    },
                    color: {
                        color: {
                            string: i
                        },
                        highlight: {
                            string: i
                        },
                        hover: {
                            string: i
                        },
                        inherit: {
                            string: ["from", "to", "both"],
                            "boolean": o
                        },
                        opacity: {
                            number: n
                        },
                        __type__: {
                            object: r,
                            string: i
                        }
                    },
                    dashes: {
                        "boolean": o,
                        array: s
                    },
                    font: {
                        color: {
                            string: i
                        },
                        size: {
                            number: n
                        },
                        face: {
                            string: i
                        },
                        background: {
                            string: i
                        },
                        strokeWidth: {
                            number: n
                        },
                        strokeColor: {
                            string: i
                        },
                        align: {
                            string: ["horizontal", "top", "middle", "bottom"]
                        },
                        __type__: {
                            object: r,
                            string: i
                        }
                    },
                    hidden: {
                        "boolean": o
                    },
                    hoverWidth: {
                        "function": "function",
                        number: n
                    },
                    label: {
                        string: i,
                        undefined: "undefined"
                    },
                    labelHighlightBold: {
                        "boolean": o
                    },
                    length: {
                        number: n,
                        undefined: "undefined"
                    },
                    physics: {
                        "boolean": o
                    },
                    scaling: {
                        min: {
                            number: n
                        },
                        max: {
                            number: n
                        },
                        label: {
                            enabled: {
                                "boolean": o
                            },
                            min: {
                                number: n
                            },
                            max: {
                                number: n
                            },
                            maxVisible: {
                                number: n
                            },
                            drawThreshold: {
                                number: n
                            },
                            __type__: {
                                object: r,
                                "boolean": o
                            }
                        },
                        customScalingFunction: {
                            "function": "function"
                        },
                        __type__: {
                            object: r
                        }
                    },
                    selectionWidth: {
                        "function": "function",
                        number: n
                    },
                    selfReferenceSize: {
                        number: n
                    },
                    shadow: {
                        enabled: {
                            "boolean": o
                        },
                        color: {
                            string: i
                        },
                        size: {
                            number: n
                        },
                        x: {
                            number: n
                        },
                        y: {
                            number: n
                        },
                        __type__: {
                            object: r,
                            "boolean": o
                        }
                    },
                    smooth: {
                        enabled: {
                            "boolean": o
                        },
                        type: {
                            string: ["dynamic", "continuous", "discrete", "diagonalCross", "straightCross", "horizontal", "vertical", "curvedCW", "curvedCCW", "cubicBezier"]
                        },
                        roundness: {
                            number: n
                        },
                        forceDirection: {
                            string: ["horizontal", "vertical", "none"],
                            "boolean": o
                        },
                        __type__: {
                            object: r,
                            "boolean": o
                        }
                    },
                    title: {
                        string: i,
                        undefined: "undefined"
                    },
                    width: {
                        number: n
                    },
                    value: {
                        number: n,
                        undefined: "undefined"
                    },
                    __type__: {
                        object: r
                    }
                },
                groups: {
                    useDefaultGroups: {
                        "boolean": o
                    },
                    __any__: "get from nodes, will be overwritten below",
                    __type__: {
                        object: r
                    }
                },
                interaction: {
                    dragNodes: {
                        "boolean": o
                    },
                    dragView: {
                        "boolean": o
                    },
                    hideEdgesOnDrag: {
                        "boolean": o
                    },
                    hideNodesOnDrag: {
                        "boolean": o
                    },
                    hover: {
                        "boolean": o
                    },
                    keyboard: {
                        enabled: {
                            "boolean": o
                        },
                        speed: {
                            x: {
                                number: n
                            },
                            y: {
                                number: n
                            },
                            zoom: {
                                number: n
                            },
                            __type__: {
                                object: r
                            }
                        },
                        bindToWindow: {
                            "boolean": o
                        },
                        __type__: {
                            object: r,
                            "boolean": o
                        }
                    },
                    multiselect: {
                        "boolean": o
                    },
                    navigationButtons: {
                        "boolean": o
                    },
                    selectable: {
                        "boolean": o
                    },
                    selectConnectedEdges: {
                        "boolean": o
                    },
                    hoverConnectedEdges: {
                        "boolean": o
                    },
                    tooltipDelay: {
                        number: n
                    },
                    zoomView: {
                        "boolean": o
                    },
                    __type__: {
                        object: r
                    }
                },
                layout: {
                    randomSeed: {
                        undefined: "undefined",
                        number: n
                    },
                    improvedLayout: {
                        "boolean": o
                    },
                    hierarchical: {
                        enabled: {
                            "boolean": o
                        },
                        levelSeparation: {
                            number: n
                        },
                        nodeSpacing: {
                            number: n
                        },
                        treeSpacing: {
                            number: n
                        },
                        blockShifting: {
                            "boolean": o
                        },
                        edgeMinimization: {
                            "boolean": o
                        },
                        parentCentralization: {
                            "boolean": o
                        },
                        direction: {
                            string: ["UD", "DU", "LR", "RL"]
                        },
                        sortMethod: {
                            string: ["hubsize", "directed"]
                        },
                        __type__: {
                            object: r,
                            "boolean": o
                        }
                    },
                    __type__: {
                        object: r
                    }
                },
                manipulation: {
                    enabled: {
                        "boolean": o
                    },
                    initiallyActive: {
                        "boolean": o
                    },
                    addNode: {
                        "boolean": o,
                        "function": "function"
                    },
                    addEdge: {
                        "boolean": o,
                        "function": "function"
                    },
                    editNode: {
                        "function": "function"
                    },
                    editEdge: {
                        "boolean": o,
                        "function": "function"
                    },
                    deleteNode: {
                        "boolean": o,
                        "function": "function"
                    },
                    deleteEdge: {
                        "boolean": o,
                        "function": "function"
                    },
                    controlNodeStyle: "get from nodes, will be overwritten below",
                    __type__: {
                        object: r,
                        "boolean": o
                    }
                },
                nodes: {
                    borderWidth: {
                        number: n
                    },
                    borderWidthSelected: {
                        number: n,
                        undefined: "undefined"
                    },
                    brokenImage: {
                        string: i,
                        undefined: "undefined"
                    },
                    color: {
                        border: {
                            string: i
                        },
                        background: {
                            string: i
                        },
                        highlight: {
                            border: {
                                string: i
                            },
                            background: {
                                string: i
                            },
                            __type__: {
                                object: r,
                                string: i
                            }
                        },
                        hover: {
                            border: {
                                string: i
                            },
                            background: {
                                string: i
                            },
                            __type__: {
                                object: r,
                                string: i
                            }
                        },
                        __type__: {
                            object: r,
                            string: i
                        }
                    },
                    fixed: {
                        x: {
                            "boolean": o
                        },
                        y: {
                            "boolean": o
                        },
                        __type__: {
                            object: r,
                            "boolean": o
                        }
                    },
                    font: {
                        align: {
                            string: i
                        },
                        color: {
                            string: i
                        },
                        size: {
                            number: n
                        },
                        face: {
                            string: i
                        },
                        background: {
                            string: i
                        },
                        strokeWidth: {
                            number: n
                        },
                        strokeColor: {
                            string: i
                        },
                        __type__: {
                            object: r,
                            string: i
                        }
                    },
                    group: {
                        string: i,
                        number: n,
                        undefined: "undefined"
                    },
                    hidden: {
                        "boolean": o
                    },
                    icon: {
                        face: {
                            string: i
                        },
                        code: {
                            string: i
                        },
                        size: {
                            number: n
                        },
                        color: {
                            string: i
                        },
                        __type__: {
                            object: r
                        }
                    },
                    id: {
                        string: i,
                        number: n
                    },
                    image: {
                        string: i,
                        undefined: "undefined"
                    },
                    label: {
                        string: i,
                        undefined: "undefined"
                    },
                    labelHighlightBold: {
                        "boolean": o
                    },
                    level: {
                        number: n,
                        undefined: "undefined"
                    },
                    mass: {
                        number: n
                    },
                    physics: {
                        "boolean": o
                    },
                    scaling: {
                        min: {
                            number: n
                        },
                        max: {
                            number: n
                        },
                        label: {
                            enabled: {
                                "boolean": o
                            },
                            min: {
                                number: n
                            },
                            max: {
                                number: n
                            },
                            maxVisible: {
                                number: n
                            },
                            drawThreshold: {
                                number: n
                            },
                            __type__: {
                                object: r,
                                "boolean": o
                            }
                        },
                        customScalingFunction: {
                            "function": "function"
                        },
                        __type__: {
                            object: r
                        }
                    },
                    shadow: {
                        enabled: {
                            "boolean": o
                        },
                        color: {
                            string: i
                        },
                        size: {
                            number: n
                        },
                        x: {
                            number: n
                        },
                        y: {
                            number: n
                        },
                        __type__: {
                            object: r,
                            "boolean": o
                        }
                    },
                    shape: {
                        string: ["ellipse", "circle", "database", "box", "text", "image", "circularImage", "diamond", "dot", "star", "triangle", "triangleDown", "square", "icon"]
                    },
                    shapeProperties: {
                        borderDashes: {
                            "boolean": o,
                            array: s
                        },
                        borderRadius: {
                            number: n
                        },
                        interpolation: {
                            "boolean": o
                        },
                        useImageSize: {
                            "boolean": o
                        },
                        useBorderWithImage: {
                            "boolean": o
                        },
                        __type__: {
                            object: r
                        }
                    },
                    size: {
                        number: n
                    },
                    title: {
                        string: i,
                        undefined: "undefined"
                    },
                    value: {
                        number: n,
                        undefined: "undefined"
                    },
                    x: {
                        number: n
                    },
                    y: {
                        number: n
                    },
                    __type__: {
                        object: r
                    }
                },
                physics: {
                    enabled: {
                        "boolean": o
                    },
                    barnesHut: {
                        gravitationalConstant: {
                            number: n
                        },
                        centralGravity: {
                            number: n
                        },
                        springLength: {
                            number: n
                        },
                        springConstant: {
                            number: n
                        },
                        damping: {
                            number: n
                        },
                        avoidOverlap: {
                            number: n
                        },
                        __type__: {
                            object: r
                        }
                    },
                    forceAtlas2Based: {
                        gravitationalConstant: {
                            number: n
                        },
                        centralGravity: {
                            number: n
                        },
                        springLength: {
                            number: n
                        },
                        springConstant: {
                            number: n
                        },
                        damping: {
                            number: n
                        },
                        avoidOverlap: {
                            number: n
                        },
                        __type__: {
                            object: r
                        }
                    },
                    repulsion: {
                        centralGravity: {
                            number: n
                        },
                        springLength: {
                            number: n
                        },
                        springConstant: {
                            number: n
                        },
                        nodeDistance: {
                            number: n
                        },
                        damping: {
                            number: n
                        },
                        __type__: {
                            object: r
                        }
                    },
                    hierarchicalRepulsion: {
                        centralGravity: {
                            number: n
                        },
                        springLength: {
                            number: n
                        },
                        springConstant: {
                            number: n
                        },
                        nodeDistance: {
                            number: n
                        },
                        damping: {
                            number: n
                        },
                        __type__: {
                            object: r
                        }
                    },
                    maxVelocity: {
                        number: n
                    },
                    minVelocity: {
                        number: n
                    },
                    solver: {
                        string: ["barnesHut", "repulsion", "hierarchicalRepulsion", "forceAtlas2Based"]
                    },
                    stabilization: {
                        enabled: {
                            "boolean": o
                        },
                        iterations: {
                            number: n
                        },
                        updateInterval: {
                            number: n
                        },
                        onlyDynamicEdges: {
                            "boolean": o
                        },
                        fit: {
                            "boolean": o
                        },
                        __type__: {
                            object: r,
                            "boolean": o
                        }
                    },
                    timestep: {
                        number: n
                    },
                    adaptiveTimestep: {
                        "boolean": o
                    },
                    __type__: {
                        object: r,
                        "boolean": o
                    }
                },
                autoResize: {
                    "boolean": o
                },
                clickToUse: {
                    "boolean": o
                },
                locale: {
                    string: i
                },
                locales: {
                    __any__: {
                        any: h
                    },
                    __type__: {
                        object: r
                    }
                },
                height: {
                    string: i
                },
                width: {
                    string: i
                },
                __type__: {
                    object: r
                }
            };
        d.groups.__any__ = d.nodes, d.manipulation.controlNodeStyle = d.nodes;
        var l = {
            nodes: {
                borderWidth: [1, 0, 10, 1],
                borderWidthSelected: [2, 0, 10, 1],
                color: {
                    border: ["color", "#2B7CE9"],
                    background: ["color", "#97C2FC"],
                    highlight: {
                        border: ["color", "#2B7CE9"],
                        background: ["color", "#D2E5FF"]
                    },
                    hover: {
                        border: ["color", "#2B7CE9"],
                        background: ["color", "#D2E5FF"]
                    }
                },
                fixed: {
                    x: !1,
                    y: !1
                },
                font: {
                    color: ["color", "#343434"],
                    size: [14, 0, 100, 1],
                    face: ["arial", "verdana", "tahoma"],
                    background: ["color", "none"],
                    strokeWidth: [0, 0, 50, 1],
                    strokeColor: ["color", "#ffffff"]
                },
                hidden: !1,
                labelHighlightBold: !0,
                physics: !0,
                scaling: {
                    min: [10, 0, 200, 1],
                    max: [30, 0, 200, 1],
                    label: {
                        enabled: !1,
                        min: [14, 0, 200, 1],
                        max: [30, 0, 200, 1],
                        maxVisible: [30, 0, 200, 1],
                        drawThreshold: [5, 0, 20, 1]
                    }
                },
                shadow: {
                    enabled: !1,
                    color: "rgba(0,0,0,0.5)",
                    size: [10, 0, 20, 1],
                    x: [5, -30, 30, 1],
                    y: [5, -30, 30, 1]
                },
                shape: ["ellipse", "box", "circle", "database", "diamond", "dot", "square", "star", "text", "triangle", "triangleDown"],
                shapeProperties: {
                    borderDashes: !1,
                    borderRadius: [6, 0, 20, 1],
                    interpolation: !0,
                    useImageSize: !1
                },
                size: [25, 0, 200, 1]
            },
            edges: {
                arrows: {
                    to: {
                        enabled: !1,
                        scaleFactor: [1, 0, 3, .05]
                    },
                    middle: {
                        enabled: !1,
                        scaleFactor: [1, 0, 3, .05]
                    },
                    from: {
                        enabled: !1,
                        scaleFactor: [1, 0, 3, .05]
                    }
                },
                arrowStrikethrough: !0,
                color: {
                    color: ["color", "#848484"],
                    highlight: ["color", "#848484"],
                    hover: ["color", "#848484"],
                    inherit: ["from", "to", "both", !0, !1],
                    opacity: [1, 0, 1, .05]
                },
                dashes: !1,
                font: {
                    color: ["color", "#343434"],
                    size: [14, 0, 100, 1],
                    face: ["arial", "verdana", "tahoma"],
                    background: ["color", "none"],
                    strokeWidth: [2, 0, 50, 1],
                    strokeColor: ["color", "#ffffff"],
                    align: ["horizontal", "top", "middle", "bottom"]
                },
                hidden: !1,
                hoverWidth: [1.5, 0, 5, .1],
                labelHighlightBold: !0,
                physics: !0,
                scaling: {
                    min: [1, 0, 100, 1],
                    max: [15, 0, 100, 1],
                    label: {
                        enabled: !0,
                        min: [14, 0, 200, 1],
                        max: [30, 0, 200, 1],
                        maxVisible: [30, 0, 200, 1],
                        drawThreshold: [5, 0, 20, 1]
                    }
                },
                selectionWidth: [1.5, 0, 5, .1],
                selfReferenceSize: [20, 0, 200, 1],
                shadow: {
                    enabled: !1,
                    color: "rgba(0,0,0,0.5)",
                    size: [10, 0, 20, 1],
                    x: [5, -30, 30, 1],
                    y: [5, -30, 30, 1]
                },
                smooth: {
                    enabled: !0,
                    type: ["dynamic", "continuous", "discrete", "diagonalCross", "straightCross", "horizontal", "vertical", "curvedCW", "curvedCCW", "cubicBezier"],
                    forceDirection: ["horizontal", "vertical", "none"],
                    roundness: [.5, 0, 1, .05]
                },
                width: [1, 0, 30, 1]
            },
            layout: {
                hierarchical: {
                    enabled: !1,
                    levelSeparation: [150, 20, 500, 5],
                    nodeSpacing: [100, 20, 500, 5],
                    treeSpacing: [200, 20, 500, 5],
                    blockShifting: !0,
                    edgeMinimization: !0,
                    parentCentralization: !0,
                    direction: ["UD", "DU", "LR", "RL"],
                    sortMethod: ["hubsize", "directed"]
                }
            },
            interaction: {
                dragNodes: !0,
                dragView: !0,
                hideEdgesOnDrag: !1,
                hideNodesOnDrag: !1,
                hover: !1,
                keyboard: {
                    enabled: !1,
                    speed: {
                        x: [10, 0, 40, 1],
                        y: [10, 0, 40, 1],
                        zoom: [.02, 0, .1, .005]
                    },
                    bindToWindow: !0
                },
                multiselect: !1,
                navigationButtons: !1,
                selectable: !0,
                selectConnectedEdges: !0,
                hoverConnectedEdges: !0,
                tooltipDelay: [300, 0, 1e3, 25],
                zoomView: !0
            },
            manipulation: {
                enabled: !1,
                initiallyActive: !1
            },
            physics: {
                enabled: !0,
                barnesHut: {
                    gravitationalConstant: [-2e3, -3e4, 0, 50],
                    centralGravity: [.3, 0, 10, .05],
                    springLength: [95, 0, 500, 5],
                    springConstant: [.04, 0, 1.2, .005],
                    damping: [.09, 0, 1, .01],
                    avoidOverlap: [0, 0, 1, .01]
                },
                forceAtlas2Based: {
                    gravitationalConstant: [-50, -500, 0, 1],
                    centralGravity: [.01, 0, 1, .005],
                    springLength: [95, 0, 500, 5],
                    springConstant: [.08, 0, 1.2, .005],
                    damping: [.4, 0, 1, .01],
                    avoidOverlap: [0, 0, 1, .01]
                },
                repulsion: {
                    centralGravity: [.2, 0, 10, .05],
                    springLength: [200, 0, 500, 5],
                    springConstant: [.05, 0, 1.2, .005],
                    nodeDistance: [100, 0, 500, 5],
                    damping: [.09, 0, 1, .01]
                },
                hierarchicalRepulsion: {
                    centralGravity: [.2, 0, 10, .05],
                    springLength: [100, 0, 500, 5],
                    springConstant: [.01, 0, 1.2, .005],
                    nodeDistance: [120, 0, 500, 5],
                    damping: [.09, 0, 1, .01]
                },
                maxVelocity: [50, 0, 150, 1],
                minVelocity: [.1, .01, .5, .01],
                solver: ["barnesHut", "forceAtlas2Based", "repulsion", "hierarchicalRepulsion"],
                timestep: [.5, .01, 1, .01]
            },
            global: {
                locale: ["en", "nl"]
            }
        };
        e.allOptions = d, e.configureOptions = l
    }, function(t, e, i) {
        function o(t) {
            return t && t.__esModule ? t : {
                "default": t
            }
        }

        function n(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var s = function() {
                function t(t, e) {
                    var i = [],
                        o = !0,
                        n = !1,
                        s = void 0;
                    try {
                        for (var r, a = t[Symbol.iterator](); !(o = (r = a.next()).done) && (i.push(r.value), !e || i.length !== e); o = !0);
                    } catch (h) {
                        n = !0, s = h
                    } finally {
                        try {
                            !o && a["return"] && a["return"]()
                        } finally {
                            if (n) throw s
                        }
                    }
                    return i
                }
                return function(e, i) {
                    if (Array.isArray(e)) return e;
                    if (Symbol.iterator in Object(e)) return t(e, i);
                    throw new TypeError("Invalid attempt to destructure non-iterable instance")
                }
            }(),
            r = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            a = i(116),
            h = o(a),
            d = function() {
                function t(e, i, o) {
                    n(this, t), this.body = e, this.springLength = i, this.springConstant = o, this.distanceSolver = new h["default"]
                }
                return r(t, [{
                    key: "setOptions",
                    value: function(t) {
                        t && (t.springLength && (this.springLength = t.springLength), t.springConstant && (this.springConstant = t.springConstant))
                    }
                }, {
                    key: "solve",
                    value: function(t, e) {
                        var i = arguments.length <= 2 || void 0 === arguments[2] ? !1 : arguments[2],
                            o = this.distanceSolver.getDistances(this.body, t, e);
                        this._createL_matrix(o), this._createK_matrix(o);
                        for (var n = .01, r = 1, a = 0, h = Math.max(1e3, Math.min(10 * this.body.nodeIndices.length, 6e3)), d = 5, l = 1e9, c = 0, u = 0, p = 0, f = 0, m = 0; l > n && h > a;) {
                            a += 1;
                            var v = this._getHighestEnergyNode(i),
                                g = s(v, 4);
                            for (c = g[0], l = g[1], u = g[2], p = g[3], f = l, m = 0; f > r && d > m;) {
                                m += 1, this._moveNode(c, u, p);
                                var y = this._getEnergy(c),
                                    b = s(y, 3);
                                f = b[0], u = b[1], p = b[2]
                            }
                        }
                    }
                }, {
                    key: "_getHighestEnergyNode",
                    value: function(t) {
                        for (var e = this.body.nodeIndices, i = this.body.nodes, o = 0, n = e[0], r = 0, a = 0, h = 0; h < e.length; h++) {
                            var d = e[h];
                            if (i[d].predefinedPosition === !1 || i[d].isCluster === !0 && t === !0 || i[d].options.fixed.x === !0 || i[d].options.fixed.y === !0) {
                                var l = this._getEnergy(d),
                                    c = s(l, 3),
                                    u = c[0],
                                    p = c[1],
                                    f = c[2];
                                u > o && (o = u, n = d, r = p, a = f)
                            }
                        }
                        return [n, o, r, a]
                    }
                }, {
                    key: "_getEnergy",
                    value: function(t) {
                        for (var e = this.body.nodeIndices, i = this.body.nodes, o = i[t].x, n = i[t].y, s = 0, r = 0, a = 0; a < e.length; a++) {
                            var h = e[a];
                            if (h !== t) {
                                var d = i[h].x,
                                    l = i[h].y,
                                    c = 1 / Math.sqrt(Math.pow(o - d, 2) + Math.pow(n - l, 2));
                                s += this.K_matrix[t][h] * (o - d - this.L_matrix[t][h] * (o - d) * c), r += this.K_matrix[t][h] * (n - l - this.L_matrix[t][h] * (n - l) * c)
                            }
                        }
                        var u = Math.sqrt(Math.pow(s, 2) + Math.pow(r, 2));
                        return [u, s, r]
                    }
                }, {
                    key: "_moveNode",
                    value: function(t, e, i) {
                        for (var o = this.body.nodeIndices, n = this.body.nodes, s = 0, r = 0, a = 0, h = n[t].x, d = n[t].y, l = 0; l < o.length; l++) {
                            var c = o[l];
                            if (c !== t) {
                                var u = n[c].x,
                                    p = n[c].y,
                                    f = 1 / Math.pow(Math.pow(h - u, 2) + Math.pow(d - p, 2), 1.5);
                                s += this.K_matrix[t][c] * (1 - this.L_matrix[t][c] * Math.pow(d - p, 2) * f), r += this.K_matrix[t][c] * (this.L_matrix[t][c] * (h - u) * (d - p) * f), a += this.K_matrix[t][c] * (1 - this.L_matrix[t][c] * Math.pow(h - u, 2) * f)
                            }
                        }
                        var m = s,
                            v = r,
                            g = e,
                            y = a,
                            b = i,
                            w = (g / m + b / v) / (v / m - y / v),
                            _ = -(v * w + g) / m;
                        n[t].x += _, n[t].y += w
                    }
                }, {
                    key: "_createL_matrix",
                    value: function(t) {
                        var e = this.body.nodeIndices,
                            i = this.springLength;
                        this.L_matrix = [];
                        for (var o = 0; o < e.length; o++) {
                            this.L_matrix[e[o]] = {};
                            for (var n = 0; n < e.length; n++) this.L_matrix[e[o]][e[n]] = i * t[e[o]][e[n]]
                        }
                    }
                }, {
                    key: "_createK_matrix",
                    value: function(t) {
                        var e = this.body.nodeIndices,
                            i = this.springConstant;
                        this.K_matrix = [];
                        for (var o = 0; o < e.length; o++) {
                            this.K_matrix[e[o]] = {};
                            for (var n = 0; n < e.length; n++) this.K_matrix[e[o]][e[n]] = i * Math.pow(t[e[o]][e[n]], -2)
                        }
                    }
                }]), t
            }();
        e["default"] = d
    }, function(t, e) {
        function i(t, e) {
            if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function")
        }
        Object.defineProperty(e, "__esModule", {
            value: !0
        });
        var o = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i];
                        o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(t, o.key, o)
                    }
                }
                return function(e, i, o) {
                    return i && t(e.prototype, i), o && t(e, o), e
                }
            }(),
            n = function() {
                function t() {
                    i(this, t)
                }
                return o(t, [{
                    key: "getDistances",
                    value: function(t, e, i) {
                        for (var o = {}, n = t.edges, s = 0; s < e.length; s++) {
                            o[e[s]] = {}, o[e[s]] = {};
                            for (var r = 0; r < e.length; r++) o[e[s]][e[r]] = s == r ? 0 : 1e9, o[e[s]][e[r]] = s == r ? 0 : 1e9
                        }
                        for (var a = 0; a < i.length; a++) {
                            var h = n[i[a]];
                            h.connected === !0 && void 0 !== o[h.fromId] && void 0 !== o[h.toId] && (o[h.fromId][h.toId] = 1, o[h.toId][h.fromId] = 1)
                        }
                        for (var d = e.length, l = 0; d > l; l++)
                            for (var c = 0; d - 1 > c; c++)
                                for (var u = c + 1; d > u; u++) o[e[c]][e[u]] = Math.min(o[e[c]][e[u]], o[e[c]][e[l]] + o[e[l]][e[u]]), o[e[u]][e[c]] = o[e[c]][e[u]];
                        return o
                    }
                }]), t
            }();
        e["default"] = n
    }, function(t, e) {
        "undefined" != typeof CanvasRenderingContext2D && (CanvasRenderingContext2D.prototype.circle = function(t, e, i) {
            this.beginPath(), this.arc(t, e, i, 0, 2 * Math.PI, !1), this.closePath()
        }, CanvasRenderingContext2D.prototype.square = function(t, e, i) {
            this.beginPath(), this.rect(t - i, e - i, 2 * i, 2 * i), this.closePath()
        }, CanvasRenderingContext2D.prototype.triangle = function(t, e, i) {
            this.beginPath(), i *= 1.15, e += .275 * i;
            var o = 2 * i,
                n = o / 2,
                s = Math.sqrt(3) / 6 * o,
                r = Math.sqrt(o * o - n * n);
            this.moveTo(t, e - (r - s)), this.lineTo(t + n, e + s), this.lineTo(t - n, e + s), this.lineTo(t, e - (r - s)), this.closePath()
        }, CanvasRenderingContext2D.prototype.triangleDown = function(t, e, i) {
            this.beginPath(), i *= 1.15, e -= .275 * i;
            var o = 2 * i,
                n = o / 2,
                s = Math.sqrt(3) / 6 * o,
                r = Math.sqrt(o * o - n * n);
            this.moveTo(t, e + (r - s)),
                this.lineTo(t + n, e - s), this.lineTo(t - n, e - s), this.lineTo(t, e + (r - s)), this.closePath()
        }, CanvasRenderingContext2D.prototype.star = function(t, e, i) {
            this.beginPath(), i *= .82, e += .1 * i;
            for (var o = 0; 10 > o; o++) {
                var n = o % 2 === 0 ? 1.3 * i : .5 * i;
                this.lineTo(t + n * Math.sin(2 * o * Math.PI / 10), e - n * Math.cos(2 * o * Math.PI / 10))
            }
            this.closePath()
        }, CanvasRenderingContext2D.prototype.diamond = function(t, e, i) {
            this.beginPath(), this.lineTo(t, e + i), this.lineTo(t + i, e), this.lineTo(t, e - i), this.lineTo(t - i, e), this.closePath()
        }, CanvasRenderingContext2D.prototype.roundRect = function(t, e, i, o, n) {
            var s = Math.PI / 180;
            0 > i - 2 * n && (n = i / 2), 0 > o - 2 * n && (n = o / 2), this.beginPath(), this.moveTo(t + n, e), this.lineTo(t + i - n, e), this.arc(t + i - n, e + n, n, 270 * s, 360 * s, !1), this.lineTo(t + i, e + o - n), this.arc(t + i - n, e + o - n, n, 0, 90 * s, !1), this.lineTo(t + n, e + o), this.arc(t + n, e + o - n, n, 90 * s, 180 * s, !1), this.lineTo(t, e + n), this.arc(t + n, e + n, n, 180 * s, 270 * s, !1), this.closePath()
        }, CanvasRenderingContext2D.prototype.ellipse = function(t, e, i, o) {
            var n = .5522848,
                s = i / 2 * n,
                r = o / 2 * n,
                a = t + i,
                h = e + o,
                d = t + i / 2,
                l = e + o / 2;
            this.beginPath(), this.moveTo(t, l), this.bezierCurveTo(t, l - r, d - s, e, d, e), this.bezierCurveTo(d + s, e, a, l - r, a, l), this.bezierCurveTo(a, l + r, d + s, h, d, h), this.bezierCurveTo(d - s, h, t, l + r, t, l), this.closePath()
        }, CanvasRenderingContext2D.prototype.database = function(t, e, i, o) {
            var n = 1 / 3,
                s = i,
                r = o * n,
                a = .5522848,
                h = s / 2 * a,
                d = r / 2 * a,
                l = t + s,
                c = e + r,
                u = t + s / 2,
                p = e + r / 2,
                f = e + (o - r / 2),
                m = e + o;
            this.beginPath(), this.moveTo(l, p), this.bezierCurveTo(l, p + d, u + h, c, u, c), this.bezierCurveTo(u - h, c, t, p + d, t, p), this.bezierCurveTo(t, p - d, u - h, e, u, e), this.bezierCurveTo(u + h, e, l, p - d, l, p), this.lineTo(l, f), this.bezierCurveTo(l, f + d, u + h, m, u, m), this.bezierCurveTo(u - h, m, t, f + d, t, f), this.lineTo(t, p)
        }, CanvasRenderingContext2D.prototype.arrow = function(t, e, i, o) {
            var n = t - o * Math.cos(i),
                s = e - o * Math.sin(i),
                r = t - .9 * o * Math.cos(i),
                a = e - .9 * o * Math.sin(i),
                h = n + o / 3 * Math.cos(i + .5 * Math.PI),
                d = s + o / 3 * Math.sin(i + .5 * Math.PI),
                l = n + o / 3 * Math.cos(i - .5 * Math.PI),
                c = s + o / 3 * Math.sin(i - .5 * Math.PI);
            this.beginPath(), this.moveTo(t, e), this.lineTo(h, d), this.lineTo(r, a), this.lineTo(l, c), this.closePath()
        }, CanvasRenderingContext2D.prototype.dashedLine = function(t, e, i, o, n) {
            this.beginPath(), this.moveTo(t, e);
            for (var s = n.length, r = i - t, a = o - e, h = a / r, d = Math.sqrt(r * r + a * a), l = 0, c = !0, u = 0, p = n[0]; d >= .1;) p = n[l++ % s], p > d && (p = d), u = Math.sqrt(p * p / (1 + h * h)), u = 0 > r ? -u : u, t += u, e += h * u, c === !0 ? this.lineTo(t, e) : this.moveTo(t, e), d -= p, c = !c
        })
    }, function(t, e) {
        function i(t) {
            return P = t, p()
        }

        function o() {
            I = 0, N = P.charAt(0)
        }

        function n() {
            I++, N = P.charAt(I)
        }

        function s() {
            return P.charAt(I + 1)
        }

        function r(t) {
            return L.test(t)
        }

        function a(t, e) {
            if (t || (t = {}), e)
                for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);
            return t
        }

        function h(t, e, i) {
            for (var o = e.split("."), n = t; o.length;) {
                var s = o.shift();
                o.length ? (n[s] || (n[s] = {}), n = n[s]) : n[s] = i
            }
        }

        function d(t, e) {
            for (var i, o, n = null, s = [t], r = t; r.parent;) s.push(r.parent), r = r.parent;
            if (r.nodes)
                for (i = 0, o = r.nodes.length; o > i; i++)
                    if (e.id === r.nodes[i].id) {
                        n = r.nodes[i];
                        break
                    }
            for (n || (n = {
                    id: e.id
                }, t.node && (n.attr = a(n.attr, t.node))), i = s.length - 1; i >= 0; i--) {
                var h = s[i];
                h.nodes || (h.nodes = []), -1 === h.nodes.indexOf(n) && h.nodes.push(n)
            }
            e.attr && (n.attr = a(n.attr, e.attr))
        }

        function l(t, e) {
            if (t.edges || (t.edges = []), t.edges.push(e), t.edge) {
                var i = a({}, t.edge);
                e.attr = a(i, e.attr)
            }
        }

        function c(t, e, i, o, n) {
            var s = {
                from: e,
                to: i,
                type: o
            };
            return t.edge && (s.attr = a({}, t.edge)), s.attr = a(s.attr || {}, n), s
        }

        function u() {
            for (z = T.NULL, R = "";
                " " === N || "	" === N || "\n" === N || "\r" === N;) n();
            do {
                var t = !1;
                if ("#" === N) {
                    for (var e = I - 1;
                        " " === P.charAt(e) || "	" === P.charAt(e);) e--;
                    if ("\n" === P.charAt(e) || "" === P.charAt(e)) {
                        for (;
                            "" != N && "\n" != N;) n();
                        t = !0
                    }
                }
                if ("/" === N && "/" === s()) {
                    for (;
                        "" != N && "\n" != N;) n();
                    t = !0
                }
                if ("/" === N && "*" === s()) {
                    for (;
                        "" != N;) {
                        if ("*" === N && "/" === s()) {
                            n(), n();
                            break
                        }
                        n()
                    }
                    t = !0
                }
                for (;
                    " " === N || "	" === N || "\n" === N || "\r" === N;) n()
            } while (t);
            if ("" === N) return void(z = T.DELIMITER);
            var i = N + s();
            if (E[i]) return z = T.DELIMITER, R = i, n(), void n();
            if (E[N]) return z = T.DELIMITER, R = N, void n();
            if (r(N) || "-" === N) {
                for (R += N, n(); r(N);) R += N, n();
                return "false" === R ? R = !1 : "true" === R ? R = !0 : isNaN(Number(R)) || (R = Number(R)), void(z = T.IDENTIFIER)
            }
            if ('"' === N) {
                for (n();
                    "" != N && ('"' != N || '"' === N && '"' === s());) R += N, '"' === N && n(), n();
                if ('"' != N) throw _('End of string " expected');
                return n(), void(z = T.IDENTIFIER)
            }
            for (z = T.UNKNOWN;
                "" != N;) R += N, n();
            throw new SyntaxError('Syntax error in part "' + x(R, 30) + '"')
        }

        function p() {
            var t = {};
            if (o(), u(), "strict" === R && (t.strict = !0, u()), "graph" !== R && "digraph" !== R || (t.type = R, u()), z === T.IDENTIFIER && (t.id = R, u()), "{" != R) throw _("Angle bracket { expected");
            if (u(), f(t), "}" != R) throw _("Angle bracket } expected");
            if (u(), "" !== R) throw _("End of file expected");
            return u(), delete t.node, delete t.edge, delete t.graph, t
        }

        function f(t) {
            for (;
                "" !== R && "}" != R;) m(t), ";" === R && u()
        }

        function m(t) {
            var e = v(t);
            if (e) return void b(t, e);
            var i = g(t);
            if (!i) {
                if (z != T.IDENTIFIER) throw _("Identifier expected");
                var o = R;
                if (u(), "=" === R) {
                    if (u(), z != T.IDENTIFIER) throw _("Identifier expected");
                    t[o] = R, u()
                } else y(t, o)
            }
        }

        function v(t) {
            var e = null;
            if ("subgraph" === R && (e = {}, e.type = "subgraph", u(), z === T.IDENTIFIER && (e.id = R, u())), "{" === R) {
                if (u(), e || (e = {}), e.parent = t, e.node = t.node, e.edge = t.edge, e.graph = t.graph, f(e), "}" != R) throw _("Angle bracket } expected");
                u(), delete e.node, delete e.edge, delete e.graph, delete e.parent, t.subgraphs || (t.subgraphs = []), t.subgraphs.push(e)
            }
            return e
        }

        function g(t) {
            return "node" === R ? (u(), t.node = w(), "node") : "edge" === R ? (u(), t.edge = w(), "edge") : "graph" === R ? (u(), t.graph = w(), "graph") : null
        }

        function y(t, e) {
            var i = {
                    id: e
                },
                o = w();
            o && (i.attr = o), d(t, i), b(t, e)
        }

        function b(t, e) {
            for (;
                "->" === R || "--" === R;) {
                var i, o = R;
                u();
                var n = v(t);
                if (n) i = n;
                else {
                    if (z != T.IDENTIFIER) throw _("Identifier or subgraph expected");
                    i = R, d(t, {
                        id: i
                    }), u()
                }
                var s = w(),
                    r = c(t, e, i, o, s);
                l(t, r), e = i
            }
        }

        function w() {
            for (var t = null;
                "[" === R;) {
                for (u(), t = {};
                    "" !== R && "]" != R;) {
                    if (z != T.IDENTIFIER) throw _("Attribute name expected");
                    var e = R;
                    if (u(), "=" != R) throw _("Equal sign = expected");
                    if (u(), z != T.IDENTIFIER) throw _("Attribute value expected");
                    var i = R;
                    h(t, e, i), u(), "," == R && u()
                }
                if ("]" != R) throw _("Bracket ] expected");
                u()
            }
            return t
        }

        function _(t) {
            return new SyntaxError(t + ', got "' + x(R, 30) + '" (char ' + I + ")")
        }

        function x(t, e) {
            return t.length <= e ? t : t.substr(0, 27) + "..."
        }

        function k(t, e, i) {
            Array.isArray(t) ? t.forEach(function(t) {
                Array.isArray(e) ? e.forEach(function(e) {
                    i(t, e)
                }) : i(t, e)
            }) : Array.isArray(e) ? e.forEach(function(e) {
                i(t, e)
            }) : i(t, e)
        }

        function O(t, e, i) {
            for (var o = e.split("."), n = o.pop(), s = t, r = 0; r < o.length; r++) {
                var a = o[r];
                a in s || (s[a] = {}), s = s[a]
            }
            return s[n] = i, t
        }

        function M(t, e) {
            var i = {};
            for (var o in t)
                if (t.hasOwnProperty(o)) {
                    var n = e[o];
                    Array.isArray(n) ? n.forEach(function(e) {
                        O(i, e, t[o])
                    }) : "string" == typeof n ? O(i, n, t[o]) : O(i, o, t[o])
                }
            return i
        }

        function D(t) {
            var e = i(t),
                o = {
                    nodes: [],
                    edges: [],
                    options: {}
                };
            if (e.nodes && e.nodes.forEach(function(t) {
                    var e = {
                        id: t.id,
                        label: String(t.label || t.id)
                    };
                    a(e, M(t.attr, S)), e.image && (e.shape = "image"), o.nodes.push(e)
                }), e.edges) {
                var n = function(t) {
                    var e = {
                        from: t.from,
                        to: t.to
                    };
                    return a(e, M(t.attr, C)), e.arrows = "->" === t.type ? "to" : void 0, e
                };
                e.edges.forEach(function(t) {
                    var e, i;
                    e = t.from instanceof Object ? t.from.nodes : {
                        id: t.from
                    }, i = t.to instanceof Object ? t.to.nodes : {
                        id: t.to
                    }, t.from instanceof Object && t.from.edges && t.from.edges.forEach(function(t) {
                        var e = n(t);
                        o.edges.push(e)
                    }), k(e, i, function(e, i) {
                        var s = c(o, e.id, i.id, t.type, t.attr),
                            r = n(s);
                        o.edges.push(r)
                    }), t.to instanceof Object && t.to.edges && t.to.edges.forEach(function(t) {
                        var e = n(t);
                        o.edges.push(e)
                    })
                })
            }
            return e.attr && (o.options = e.attr), o
        }
        var S = {
                fontsize: "font.size",
                fontcolor: "font.color",
                labelfontcolor: "font.color",
                fontname: "font.face",
                color: ["color.border", "color.background"],
                fillcolor: "color.background",
                tooltip: "title",
                labeltooltip: "title"
            },
            C = Object.create(S);
        C.color = "color.color";
        var T = {
                NULL: 0,
                DELIMITER: 1,
                IDENTIFIER: 2,
                UNKNOWN: 3
            },
            E = {
                "{": !0,
                "}": !0,
                "[": !0,
                "]": !0,
                ";": !0,
                "=": !0,
                ",": !0,
                "->": !0,
                "--": !0
            },
            P = "",
            I = 0,
            N = "",
            R = "",
            z = T.NULL,
            L = /[a-zA-Z_0-9.:#]/;
        e.parseDOT = i, e.DOTToGraph = D
    }, function(t, e) {
        function i(t, e) {
            var i = [],
                o = [],
                n = {
                    edges: {
                        inheritColor: !1
                    },
                    nodes: {
                        fixed: !1,
                        parseColor: !1
                    }
                };
            void 0 !== e && (void 0 !== e.fixed && (n.nodes.fixed = e.fixed), void 0 !== e.parseColor && (n.nodes.parseColor = e.parseColor), void 0 !== e.inheritColor && (n.edges.inheritColor = e.inheritColor));
            for (var s = t.edges, r = t.nodes, a = 0; a < s.length; a++) {
                var h = {},
                    d = s[a];
                h.id = d.id, h.from = d.source, h.to = d.target, h.attributes = d.attributes, h.label = d.label, h.title = void 0 !== d.attributes ? d.attributes.title : void 0, "Directed" === d.type && (h.arrows = "to"), d.color && n.inheritColor === !1 && (h.color = d.color), i.push(h)
            }
            for (var a = 0; a < r.length; a++) {
                var l = {},
                    c = r[a];
                l.id = c.id, l.attributes = c.attributes, l.title = c.title, l.x = c.x, l.y = c.y, l.label = c.label, l.title = void 0 !== c.attributes ? c.attributes.title : void 0, n.nodes.parseColor === !0 ? l.color = c.color : l.color = void 0 !== c.color ? {
                    background: c.color,
                    border: c.color,
                    highlight: {
                        background: c.color,
                        border: c.color
                    },
                    hover: {
                        background: c.color,
                        border: c.color
                    }
                } : void 0, l.size = c.size, l.fixed = n.nodes.fixed && void 0 !== c.x && void 0 !== c.y, o.push(l)
            }
            return {
                nodes: o,
                edges: i
            }
        }
        e.parseGephi = i
    }, function(t, e) {
        e.en = {
            edit: "Edit",
            del: "Delete selected",
            back: "Back",
            addNode: "Add Node",
            addEdge: "Add Edge",
            editNode: "Edit Node",
            editEdge: "Edit Edge",
            addDescription: "Click in an empty space to place a new node.",
            edgeDescription: "Click on a node and drag the edge to another node to connect them.",
            editEdgeDescription: "Click on the control points and drag them to a node to connect to it.",
            createEdgeError: "Cannot link edges to a cluster.",
            deleteClusterError: "Clusters cannot be deleted.",
            editClusterError: "Clusters cannot be edited."
        }, e.en_EN = e.en, e.en_US = e.en, e.de = {
            edit: "Editieren",
            del: "Lsche Auswahl",
            back: "Zurck",
            addNode: "Knoten hinzufgen",
            addEdge: "Kante hinzufgen",
            editNode: "Knoten editieren",
            editEdge: "Kante editieren",
            addDescription: "Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",
            edgeDescription: "Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",
            editEdgeDescription: "Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",
            createEdgeError: "Es ist nicht mglich, Kanten mit Clustern zu verbinden.",
            deleteClusterError: "Cluster knnen nicht gelscht werden.",
            editClusterError: "Cluster knnen nicht editiert werden."
        }, e.de_DE = e.de, e.es = {
            edit: "Editar",
            del: "Eliminar seleccin",
            back: "tras",
            addNode: "Aadir nodo",
            addEdge: "Aadir arista",
            editNode: "Editar nodo",
            editEdge: "Editar arista",
            addDescription: "Haga clic en un lugar vaco para colocar un nuevo nodo.",
            edgeDescription: "Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",
            editEdgeDescription: "Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",
            createEdgeError: "No se puede conectar una arista a un grupo.",
            deleteClusterError: "No es posible eliminar grupos.",
            editClusterError: "No es posible editar grupos."
        }, e.es_ES = e.es, e.nl = {
            edit: "Wijzigen",
            del: "Selectie verwijderen",
            back: "Terug",
            addNode: "Node toevoegen",
            addEdge: "Link toevoegen",
            editNode: "Node wijzigen",
            editEdge: "Link wijzigen",
            addDescription: "Klik op een leeg gebied om een nieuwe node te maken.",
            edgeDescription: "Klik op een node en sleep de link naar een andere node om ze te verbinden.",
            editEdgeDescription: "Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",
            createEdgeError: "Kan geen link maken naar een cluster.",
            deleteClusterError: "Clusters kunnen niet worden verwijderd.",
            editClusterError: "Clusters kunnen niet worden aangepast."
        }, e.nl_NL = e.nl, e.nl_BE = e.nl
    }])
});
//# sourceMappingURL=vis.map
;







